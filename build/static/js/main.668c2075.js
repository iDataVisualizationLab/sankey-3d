/*! For license information please see main.668c2075.js.LICENSE.txt */
!function(){var e={5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){e.exports=n(9727)},8677:function(e,t,n){"use strict";n.d(t,{Z:function(){return ie}});var r=n(6567),i=Math.abs,a=String.fromCharCode,o=Object.assign;function u(e){return e.trim()}function s(e,t,n){return e.replace(t,n)}function l(e,t){return e.indexOf(t)}function c(e,t){return 0|e.charCodeAt(t)}function f(e,t,n){return e.slice(t,n)}function h(e){return e.length}function d(e){return e.length}function p(e,t){return t.push(e),e}var v=1,m=1,g=0,y=0,b=0,x="";function _(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:v,column:m,length:o,return:""}}function w(e,t){return o(_("",null,null,"",null,null,0),e,{length:-e.length},t)}function S(){return b=y>0?c(x,--y):0,m--,10===b&&(m=1,v--),b}function k(){return b=y<g?c(x,y++):0,m++,10===b&&(m=1,v++),b}function M(){return c(x,y)}function E(){return y}function T(e,t){return f(x,e,t)}function A(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function C(e){return v=m=1,g=h(x=e),y=0,[]}function R(e){return x="",e}function P(e){return u(T(y-1,I(91===e?e+2:40===e?e+1:e)))}function L(e){for(;(b=M())&&b<33;)k();return A(e)>2||A(b)>3?"":" "}function O(e,t){for(;--t&&k()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return T(e,E()+(t<6&&32==M()&&32==k()))}function I(e){for(;k();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&I(b);break;case 40:41===e&&I(e);break;case 92:k()}return y}function D(e,t){for(;k()&&e+b!==57&&(e+b!==84||47!==M()););return"/*"+T(t,y-1)+"*"+a(47===e?e:k())}function N(e){for(;!A(M());)k();return T(e,y)}var z="-ms-",F="-moz-",B="-webkit-",U="comm",j="rule",H="decl",Z="@keyframes";function G(e,t){for(var n="",r=d(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function W(e,t,n,r){switch(e.type){case"@import":case H:return e.return=e.return||e.value;case U:return"";case Z:return e.return=e.value+"{"+G(e.children,r)+"}";case j:e.value=e.props.join(",")}return h(n=G(e.children,r))?e.return=e.value+"{"+n+"}":""}function V(e,t){switch(function(e,t){return(((t<<2^c(e,0))<<2^c(e,1))<<2^c(e,2))<<2^c(e,3)}(e,t)){case 5103:return B+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return B+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return B+e+F+e+z+e+e;case 6828:case 4268:return B+e+z+e+e;case 6165:return B+e+z+"flex-"+e+e;case 5187:return B+e+s(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return B+e+z+"flex-item-"+s(e,/flex-|-self/,"")+e;case 4675:return B+e+z+"flex-line-pack"+s(e,/align-content|flex-|-self/,"")+e;case 5548:return B+e+z+s(e,"shrink","negative")+e;case 5292:return B+e+z+s(e,"basis","preferred-size")+e;case 6060:return B+"box-"+s(e,"-grow","")+B+e+z+s(e,"grow","positive")+e;case 4554:return B+s(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return s(s(s(e,/(zoom-|grab)/,B+"$1"),/(image-set)/,B+"$1"),e,"")+e;case 5495:case 3959:return s(e,/(image-set\([^]*)/,B+"$1$`$1");case 4968:return s(s(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+B+e+e;case 4095:case 3583:case 4068:case 2532:return s(e,/(.+)-inline(.+)/,B+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(h(e)-1-t>6)switch(c(e,t+1)){case 109:if(45!==c(e,t+4))break;case 102:return s(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+F+(108==c(e,t+3)?"$3":"$2-$3"))+e;case 115:return~l(e,"stretch")?V(s(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==c(e,t+1))break;case 6444:switch(c(e,h(e)-3-(~l(e,"!important")&&10))){case 107:return s(e,":",":"+B)+e;case 101:return s(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+B+(45===c(e,14)?"inline-":"")+"box$3$1"+B+"$2$3$1"+z+"$2box$3")+e}break;case 5936:switch(c(e,t+11)){case 114:return B+e+z+s(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return B+e+z+s(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return B+e+z+s(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return B+e+z+e+e}return e}function q(e){return R(X("",null,null,null,[""],e=C(e),0,[0],e))}function X(e,t,n,r,i,o,u,c,f){for(var d=0,v=0,m=u,g=0,y=0,b=0,x=1,_=1,w=1,T=0,A="",C=i,R=o,I=r,z=A;_;)switch(b=T,T=k()){case 40:if(108!=b&&58==z.charCodeAt(m-1)){-1!=l(z+=s(P(T),"&","&\f"),"&\f")&&(w=-1);break}case 34:case 39:case 91:z+=P(T);break;case 9:case 10:case 13:case 32:z+=L(b);break;case 92:z+=O(E()-1,7);continue;case 47:switch(M()){case 42:case 47:p(Y(D(k(),E()),t,n),f);break;default:z+="/"}break;case 123*x:c[d++]=h(z)*w;case 125*x:case 59:case 0:switch(T){case 0:case 125:_=0;case 59+v:y>0&&h(z)-m&&p(y>32?K(z+";",r,n,m-1):K(s(z," ","")+";",r,n,m-2),f);break;case 59:z+=";";default:if(p(I=$(z,t,n,d,v,i,c,A,C=[],R=[],m),o),123===T)if(0===v)X(z,t,I,I,C,o,m,c,R);else switch(g){case 100:case 109:case 115:X(e,I,I,r&&p($(e,I,I,0,0,i,c,A,i,C=[],m),R),i,R,m,c,r?C:R);break;default:X(z,I,I,I,[""],R,0,c,R)}}d=v=y=0,x=w=1,A=z="",m=u;break;case 58:m=1+h(z),y=b;default:if(x<1)if(123==T)--x;else if(125==T&&0==x++&&125==S())continue;switch(z+=a(T),T*x){case 38:w=v>0?1:(z+="\f",-1);break;case 44:c[d++]=(h(z)-1)*w,w=1;break;case 64:45===M()&&(z+=P(k())),g=M(),v=m=h(A=z+=N(E())),T++;break;case 45:45===b&&2==h(z)&&(x=0)}}return o}function $(e,t,n,r,a,o,l,c,h,p,v){for(var m=a-1,g=0===a?o:[""],y=d(g),b=0,x=0,w=0;b<r;++b)for(var S=0,k=f(e,m+1,m=i(x=l[b])),M=e;S<y;++S)(M=u(x>0?g[S]+" "+k:s(k,/&\f/g,g[S])))&&(h[w++]=M);return _(e,t,n,0===a?j:c,h,p,v)}function Y(e,t,n){return _(e,t,n,U,a(b),f(e,2,-2),0)}function K(e,t,n,r){return _(e,t,n,H,f(e,0,r),f(e,r+1,-1),r)}var J=function(e,t,n){for(var r=0,i=0;r=i,i=M(),38===r&&12===i&&(t[n]=1),!A(i);)k();return T(e,y)},Q=function(e,t){return R(function(e,t){var n=-1,r=44;do{switch(A(r)){case 0:38===r&&12===M()&&(t[n]=1),e[n]+=J(y-1,t,n);break;case 2:e[n]+=P(r);break;case 4:if(44===r){e[++n]=58===M()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=a(r)}}while(r=k());return e}(C(e),t))},ee=new WeakMap,te=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ee.get(n))&&!r){ee.set(e,!0);for(var i=[],a=Q(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var l=0;l<o.length;l++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[l]):o[l]+" "+a[u]}}},ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case H:e.return=V(e.value,e.length);break;case Z:return G([w(e,{value:s(e.value,"@","@"+B)})],r);case j:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return G([w(e,{props:[s(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return G([w(e,{props:[s(t,/:(plac\w+)/,":-webkit-input-$1")]}),w(e,{props:[s(t,/:(plac\w+)/,":-moz-$1")]}),w(e,{props:[s(t,/:(plac\w+)/,z+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var a,o,u={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)u[t[n]]=!0;s.push(e)}));var l,c,f=[W,(c=function(e){l.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],h=function(e){var t=d(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([te,ne].concat(i,f));o=function(e,t,n,r){l=n,G(q(e?e+"{"+t.styles+"}":t.styles),h),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r.m({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:o};return p.sheet.hydrate(s),p}},8918:function(e,t){"use strict";t.Z=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}},3782:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},1688:function(e,t,n){"use strict";var r;n.d(t,{T:function(){return s},w:function(){return u}});var i=n(2791),a=n(8677),o=(n(125),(0,i.createContext)("undefined"!==typeof HTMLElement?(0,a.Z)({key:"css"}):null));o.Provider;var u=function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(o);return e(t,r,n)}))},s=(0,i.createContext)({});(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect},125:function(e,t,n){"use strict";n.d(t,{O:function(){return v}});var r=n(8918),i=n(3840),a=n(3782),o=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},l=function(e){return null!=e&&"boolean"!==typeof e},c=(0,a.Z)((function(e){return s(e)?e:e.replace(o,"-$&").toLowerCase()})),f=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(u,(function(e,t,n){return d={name:t,styles:n,next:d},t}))}return 1===i.Z[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function h(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return d={name:n.name,styles:n.styles,next:d},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)d={name:r.name,styles:r.styles,next:d},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=h(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":l(o)&&(r+=c(a)+":"+f(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=h(e,t,o);switch(a){case"animation":case"animationName":r+=c(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)l(o[s])&&(r+=c(a)+":"+f(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=d,a=n(e);return d=i,h(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var d,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,a="";d=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,a+=h(n,t,o)):a+=o[0];for(var u=1;u<e.length;u++)a+=h(n,t,e[u]),i&&(a+=o[u]);p.lastIndex=0;for(var s,l="";null!==(s=p.exec(a));)l+="-"+s[1];return{name:(0,r.Z)(a)+l,styles:a,next:d}}},6567:function(e,t,n){"use strict";n.d(t,{m:function(){return r}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}()},3840:function(e,t){"use strict";t.Z={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},5438:function(e,t,n){"use strict";n.d(t,{My:function(){return a},fp:function(){return r},hC:function(){return i}});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},a=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0);a=a.next}while(void 0!==a)}}},767:function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}n.d(t,{Z:function(){return r}})},7125:function(e,t){"use strict";var n=function(e){return e},r=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=r},5159:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(7125),i={active:"Mui-active",checked:"Mui-checked",completed:"Mui-completed",disabled:"Mui-disabled",error:"Mui-error",expanded:"Mui-expanded",focused:"Mui-focused",focusVisible:"Mui-focusVisible",required:"Mui-required",selected:"Mui-selected"};function a(e,t){return i[t]||"".concat(r.Z.generate(e),"-").concat(t)}},208:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(5159);function i(e,t){var n={};return t.forEach((function(t){n[t]=(0,r.Z)(e,t)})),n}},4956:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M4.59 6.89c.7-.71 1.4-1.35 1.71-1.22.5.2 0 1.03-.3 1.52-.25.42-2.86 3.89-2.86 6.31 0 1.28.48 2.34 1.34 2.98.75.56 1.74.73 2.64.46 1.07-.31 1.95-1.4 3.06-2.77 1.21-1.49 2.83-3.44 4.08-3.44 1.63 0 1.65 1.01 1.76 1.79-3.78.64-5.38 3.67-5.38 5.37 0 1.7 1.44 3.09 3.21 3.09 1.63 0 4.29-1.33 4.69-6.1H21v-2.5h-2.47c-.15-1.65-1.09-4.2-4.03-4.2-2.25 0-4.18 1.91-4.94 2.84-.58.73-2.06 2.48-2.29 2.72-.25.3-.68.84-1.11.84-.45 0-.72-.83-.36-1.92.35-1.09 1.4-2.86 1.85-3.52.78-1.14 1.3-1.92 1.3-3.28C8.95 3.69 7.31 3 6.44 3 5.12 3 3.97 4 3.72 4.25c-.36.36-.66.66-.88.93l1.75 1.71zm9.29 11.66c-.31 0-.74-.26-.74-.72 0-.6.73-2.2 2.87-2.76-.3 2.69-1.43 3.48-2.13 3.48z"}),"Gesture");t.Z=o},9953:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M23 5.5V20c0 2.2-1.8 4-4 4h-7.3c-1.08 0-2.1-.43-2.85-1.19L1 14.83s1.26-1.23 1.3-1.25c.22-.19.49-.29.79-.29.22 0 .42.06.6.16.04.01 4.31 2.46 4.31 2.46V4c0-.83.67-1.5 1.5-1.5S11 3.17 11 4v7h1V1.5c0-.83.67-1.5 1.5-1.5S15 .67 15 1.5V11h1V2.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V11h1V5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5z"}),"PanTool");t.Z=o},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(3733)},6532:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,l=60112,c=60113,f=60120,h=60115,d=60116,p=60121,v=60122,m=60117,g=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),u=b("react.provider"),s=b("react.context"),l=b("react.forward_ref"),c=b("react.suspense"),f=b("react.suspense_list"),h=b("react.memo"),d=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),g=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case c:case f:return e;default:switch(e=e&&e.$$typeof){case s:case l:case d:case h:case u:return e;default:return t}}case r:return t}}}},8457:function(e,t,n){"use strict";n(6532)},7107:function(e,t,n){"use strict";n.d(t,{Z:function(){return B}});var r=n(7462),i=n(3366),a=n(2466),o=n(5080),u=n(4942);function s(e,t,n){var i;return(0,r.Z)({toolbar:(i={minHeight:56},(0,u.Z)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,u.Z)(i,e.up("sm"),{minHeight:64}),i)},n)}var l=n(6189),c=n(2065),f={black:"#000",white:"#fff"},h={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},d={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},g={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],x={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},_={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function w(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,c.$n)(e.main,i):"dark"===t&&(e.dark=(0,c._j)(e.main,a)))}function S(e){var t=e.mode,n=void 0===t?"light":t,o=e.contrastThreshold,u=void 0===o?3:o,s=e.tonalOffset,S=void 0===s?.2:s,k=(0,i.Z)(e,b),M=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[200],light:m[50],dark:m[400]}:{main:m[700],light:m[400],dark:m[800]}}(n),E=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:d[200],light:d[50],dark:d[400]}:{main:d[500],light:d[300],dark:d[700]}}(n),T=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(n),A=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:g[700],light:g[500],dark:g[900]}}(n),C=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[800],light:y[500],dark:y[900]}}(n),R=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:"#ed6c02",light:v[500],dark:v[900]}}(n);function P(e){return(0,c.mi)(e,_.text.primary)>=u?_.text.primary:x.text.primary}var L=function(e){var t=e.color,n=e.name,i=e.mainShade,a=void 0===i?500:i,o=e.lightShade,u=void 0===o?300:o,s=e.darkShade,c=void 0===s?700:s;if(!(t=(0,r.Z)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error((0,l.Z)(11,n?" (".concat(n,")"):"",a));if("string"!==typeof t.main)throw new Error((0,l.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return w(t,"light",u,S),w(t,"dark",c,S),t.contrastText||(t.contrastText=P(t.main)),t},O={dark:_,light:x};return(0,a.Z)((0,r.Z)({common:f,mode:n,primary:L({color:M,name:"primary"}),secondary:L({color:E,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:L({color:T,name:"error"}),warning:L({color:R,name:"warning"}),info:L({color:A,name:"info"}),success:L({color:C,name:"success"}),grey:h,contrastThreshold:u,getContrastText:P,augmentColor:L,tonalOffset:S},O[n]),k)}var k=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var M={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){var n="function"===typeof t?t(e):t,o=n.fontFamily,u=void 0===o?E:o,s=n.fontSize,l=void 0===s?14:s,c=n.fontWeightLight,f=void 0===c?300:c,h=n.fontWeightRegular,d=void 0===h?400:h,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,g=void 0===m?700:m,y=n.htmlFontSize,b=void 0===y?16:y,x=n.allVariants,_=n.pxToRem,w=(0,i.Z)(n,k);var S=l/14,T=_||function(e){return"".concat(e/b*S,"rem")},A=function(e,t,n,i,a){return(0,r.Z)({fontFamily:u,fontWeight:e,fontSize:T(t),lineHeight:n},u===E?{letterSpacing:"".concat((o=i/t,Math.round(1e5*o)/1e5),"em")}:{},a,x);var o},C={h1:A(f,96,1.167,-1.5),h2:A(f,60,1.2,-.5),h3:A(d,48,1.167,0),h4:A(d,34,1.235,.25),h5:A(d,24,1.334,0),h6:A(v,20,1.6,.15),subtitle1:A(d,16,1.75,.15),subtitle2:A(v,14,1.57,.1),body1:A(d,16,1.5,.15),body2:A(d,14,1.43,.15),button:A(v,14,1.75,.4,M),caption:A(d,12,1.66,.4),overline:A(d,12,2.66,1,M)};return(0,a.Z)((0,r.Z)({htmlFontSize:b,pxToRem:T,fontFamily:u,fontSize:l,fontWeightLight:f,fontWeightRegular:d,fontWeightMedium:v,fontWeightBold:g},C),w,{clone:!1})}function A(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var C=["none",A(0,2,1,-1,0,1,1,0,0,1,3,0),A(0,3,1,-2,0,2,2,0,0,1,5,0),A(0,3,3,-2,0,3,4,0,0,1,8,0),A(0,2,4,-1,0,4,5,0,0,1,10,0),A(0,3,5,-1,0,5,8,0,0,1,14,0),A(0,3,5,-1,0,6,10,0,0,1,18,0),A(0,4,5,-2,0,7,10,1,0,2,16,1),A(0,5,5,-3,0,8,10,1,0,3,14,2),A(0,5,6,-3,0,9,12,1,0,3,16,2),A(0,6,6,-3,0,10,14,1,0,4,18,3),A(0,6,7,-4,0,11,15,1,0,4,20,3),A(0,7,8,-4,0,12,17,2,0,5,22,4),A(0,7,8,-4,0,13,19,2,0,5,24,4),A(0,7,9,-4,0,14,21,2,0,5,26,4),A(0,8,9,-5,0,15,22,2,0,6,28,5),A(0,8,10,-5,0,16,24,2,0,6,30,5),A(0,8,11,-5,0,17,26,2,0,6,32,5),A(0,9,11,-5,0,18,28,2,0,7,34,6),A(0,9,12,-6,0,19,29,2,0,7,36,6),A(0,10,13,-6,0,20,31,3,0,8,38,7),A(0,10,13,-6,0,21,33,3,0,8,40,7),A(0,10,14,-6,0,22,35,3,0,8,42,7),A(0,11,14,-7,0,23,36,3,0,9,44,8),A(0,11,15,-7,0,24,38,3,0,9,46,8)],R=["duration","easing","delay"],P={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},L={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function O(e){return"".concat(Math.round(e),"ms")}function I(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function D(e){var t=(0,r.Z)({},P,e.easing),n=(0,r.Z)({},L,e.duration);return(0,r.Z)({getAutoHeightDuration:I,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.duration,o=void 0===a?n.standard:a,u=r.easing,s=void 0===u?t.easeInOut:u,l=r.delay,c=void 0===l?0:l;(0,i.Z)(r,R);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:O(o)," ").concat(s," ").concat("string"===typeof c?c:O(c))})).join(",")}},e,{easing:t,duration:n})}var N={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},z=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,u=e.palette,l=void 0===u?{}:u,c=e.transitions,f=void 0===c?{}:c,h=e.typography,d=void 0===h?{}:h,p=(0,i.Z)(e,z),v=S(l),m=(0,o.Z)(e),g=(0,a.Z)(m,{mixins:s(m.breakpoints,m.spacing,n),palette:v,shadows:C.slice(),typography:T(v,d),transitions:D(f),zIndex:(0,r.Z)({},N)});g=(0,a.Z)(g,p);for(var y=arguments.length,b=new Array(y>1?y-1:0),x=1;x<y;x++)b[x-1]=arguments[x];return g=b.reduce((function(e,t){return(0,a.Z)(e,t)}),g)}var B=F},6482:function(e,t,n){"use strict";var r=(0,n(7107).Z)();t.Z=r},5255:function(e,t,n){"use strict";n.d(t,{ZP:function(){return K},FO:function(){return X},Dz:function(){return $}});var r=n(3433),i=n(9439),a=n(7462),o=n(3366),u=n(2791),s=n.t(u,2),l=n(3782),c=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,f=(0,l.Z)((function(e){return c.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),h=n(1688),d=n(5438),p=n(125),v=f,m=function(e){return"theme"!==e},g=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?v:m},y=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},b=s.useInsertionEffect?s.useInsertionEffect:function(e){e()};var x=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;(0,d.hC)(t,n,r);!function(e){b(e)}((function(){return(0,d.My)(t,n,r)}));return null},_=function e(t,n){var r,i,o=t.__emotion_real===t,s=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var l=y(t,n,o),c=l||g(s),f=!c("as");return function(){var v=arguments,m=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&m.push("label:"+r+";"),null==v[0]||void 0===v[0].raw)m.push.apply(m,v);else{0,m.push(v[0][0]);for(var b=v.length,_=1;_<b;_++)m.push(v[_],v[0][_])}var w=(0,h.w)((function(e,t,n){var r=f&&e.as||s,a="",o=[],v=e;if(null==e.theme){for(var y in v={},e)v[y]=e[y];v.theme=(0,u.useContext)(h.T)}"string"===typeof e.className?a=(0,d.fp)(t.registered,o,e.className):null!=e.className&&(a=e.className+" ");var b=(0,p.O)(m.concat(o),t.registered,v);a+=t.key+"-"+b.name,void 0!==i&&(a+=" "+i);var _=f&&void 0===l?g(r):c,w={};for(var S in e)f&&"as"===S||_(S)&&(w[S]=e[S]);return w.className=a,w.ref=n,(0,u.createElement)(u.Fragment,null,(0,u.createElement)(x,{cache:t,serialized:b,isStringTag:"string"===typeof r}),(0,u.createElement)(r,w))}));return w.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",w.defaultProps=t.defaultProps,w.__emotion_real=w,w.__emotion_base=s,w.__emotion_styles=m,w.__emotion_forwardProp=l,Object.defineProperty(w,"toString",{value:function(){return"."+i}}),w.withComponent=function(t,r){return e(t,(0,a.Z)({},n,r,{shouldForwardProp:y(w,r,!0)})).apply(void 0,m)},w}},w=_.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){w[e]=w(e)}));var S=w;function k(e,t){return S(e,t)}var M=n(5080),E=n(7312),T=["variant"];function A(e){return 0===e.length}function C(e){var t=e.variant,n=(0,o.Z)(e,T),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?A(r)?e[t]:(0,E.Z)(e[t]):"".concat(A(r)?t:(0,E.Z)(t)).concat((0,E.Z)(e[t].toString()))})),r}var R=n(4942),P=n(8247),L=n(6001),O=n(1184);function I(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function D(e,t){return"function"===typeof e?e(t):e}var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L.G$,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(i={},(0,R.Z)(i,e,n),(0,R.Z)(i,"theme",r),i),o=t[e];return o?o(a):(0,R.Z)({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=(0,O.W8)(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=D(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=(0,P.Z)(s,n(e,a,u));else{var o=(0,O.k9)({theme:u},a,(function(t){return(0,R.Z)({},e,t)}));I(o,a)?s[e]=r({sx:a,theme:u}):s=(0,P.Z)(s,o)}else s=(0,P.Z)(s,n(e,a,u))})),(0,O.L7)(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();N.filterProps=["sx"];var z=N,F=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],B=["theme"],U=["theme"];function j(e){return 0===Object.keys(e).length}var H=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},Z=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=C(e.props);r[t]=e.style})),r},G=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],l=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return l&&l.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[C(n.props)])})),s};function W(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var V=(0,M.Z)();var q=n(6482),X=function(e){return W(e)&&"classes"!==e},$=W,Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?V:t,u=e.rootShouldForwardProp,s=void 0===u?W:u,l=e.slotShouldForwardProp,c=void 0===l?W:l,f=e.styleFunctionSx,h=void 0===f?z:f;return function(e){var t,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=u.name,f=u.slot,d=u.skipVariantsResolver,p=u.skipSx,v=u.overridesResolver,m=(0,o.Z)(u,F),g=void 0!==d?d:f&&"Root"!==f||!1,y=p||!1;var b=W;"Root"===f?b=s:f&&(b=c);var x=k(e,(0,a.Z)({shouldForwardProp:b,label:t},m)),_=function(e){for(var t=arguments.length,u=new Array(t>1?t-1:0),s=1;s<t;s++)u[s-1]=arguments[s];var c=u?u.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=(0,o.Z)(t,B);return e((0,a.Z)({theme:j(r)?n:r},i))}:e})):[],f=e;l&&v&&c.push((function(e){var t=j(e.theme)?n:e.theme,r=H(l,t);if(r){var a={};return Object.entries(r).forEach((function(t){var n=(0,i.Z)(t,2),r=n[0],o=n[1];a[r]="function"===typeof o?o(e):o})),v(e,a)}return null})),l&&!g&&c.push((function(e){var t=j(e.theme)?n:e.theme;return G(e,Z(l,t),t,l)})),y||c.push((function(e){var t=j(e.theme)?n:e.theme;return h((0,a.Z)({},e,{theme:t}))}));var d=c.length-u.length;if(Array.isArray(e)&&d>0){var p=new Array(d).fill("");(f=[].concat((0,r.Z)(e),(0,r.Z)(p))).raw=[].concat((0,r.Z)(e.raw),(0,r.Z)(p))}else"function"===typeof e&&e.__emotion_real!==e&&(f=function(t){var r=t.theme,i=(0,o.Z)(t,U);return e((0,a.Z)({theme:j(r)?n:r},i))});var m=x.apply(void 0,[f].concat((0,r.Z)(c)));return m};return x.withConfig&&(_.withConfig=x.withConfig),_}}({defaultTheme:q.Z,rootShouldForwardProp:X}),K=Y},1046:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(5735);var i=n(418);function a(e){var t=e.props,n=e.name,a=e.defaultTheme,o=function(e){var t=e.theme,n=e.name,i=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.Z)(t.components[n].defaultProps,i):i}({theme:(0,i.Z)(a),name:n,props:t});return o}var o=n(6482);function u(e){return a({props:e.props,name:e.name,defaultTheme:o.Z})}},4036:function(e,t,n){"use strict";var r=n(7312);t.Z=r.Z},9201:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(7462),i=n(2791),a=n(3366),o=n(8182),u=n(767),s=n(4036),l=n(1046),c=n(5255),f=n(5159);function h(e){return(0,f.Z)("MuiSvgIcon",e)}(0,n(208).Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var d=n(184),p=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],v=(0,c.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,s.Z)(n.color))],t["fontSize".concat((0,s.Z)(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,l,c,f,h,d,p,v,m,g,y=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=y.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=y.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=y.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=y.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(l=y.typography)||null==(c=l.pxToRem)?void 0:c.call(l,35))||"2.1875"}[b.fontSize],color:null!=(f=null==(h=y.palette)||null==(d=h[b.color])?void 0:d.main)?f:{action:null==(p=y.palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=y.palette)||null==(g=m.action)?void 0:g.disabled,inherit:void 0}[b.color]}})),m=i.forwardRef((function(e,t){var n=(0,l.Z)({props:e,name:"MuiSvgIcon"}),i=n.children,c=n.className,f=n.color,m=void 0===f?"inherit":f,g=n.component,y=void 0===g?"svg":g,b=n.fontSize,x=void 0===b?"medium":b,_=n.htmlColor,w=n.inheritViewBox,S=void 0!==w&&w,k=n.titleAccess,M=n.viewBox,E=void 0===M?"0 0 24 24":M,T=(0,a.Z)(n,p),A=(0,r.Z)({},n,{color:m,component:y,fontSize:x,inheritViewBox:S,viewBox:E}),C={};S||(C.viewBox=E);var R=function(e){var t=e.color,n=e.fontSize,r=e.classes,i={root:["root","inherit"!==t&&"color".concat((0,s.Z)(t)),"fontSize".concat((0,s.Z)(n))]};return(0,u.Z)(i,h,r)}(A);return(0,d.jsxs)(v,(0,r.Z)({as:y,className:(0,o.Z)(R.root,c),ownerState:A,focusable:"false",color:_,"aria-hidden":!k||void 0,role:k?"img":void 0,ref:t},C,T,{children:[i,k?(0,d.jsx)("title",{children:k}):null]}))}));m.muiName="SvgIcon";var g=m;function y(e,t){var n=function(n,i){return(0,d.jsx)(g,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:i},n,{children:e}))};return n.muiName=g.muiName,i.memo(i.forwardRef(n))}},3733:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return i},createSvgIcon:function(){return a.Z},debounce:function(){return o},deprecatedPropType:function(){return u},isMuiElement:function(){return s.Z},ownerDocument:function(){return c},ownerWindow:function(){return f},requirePropFactory:function(){return h},setRef:function(){return d},unstable_ClassNameGenerator:function(){return _.Z},unstable_useEnhancedEffect:function(){return p},unstable_useId:function(){return v.Z},unsupportedProp:function(){return m},useControlled:function(){return g.Z},useEventCallback:function(){return y.Z},useForkRef:function(){return b.Z},useIsFocusVisible:function(){return x.Z}});var r=n(4036);var i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))},a=n(9201);var o=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r};var u=function(e,t){return function(){return null}},s=n(9103),l=n(9723),c=l.Z;var f=function(e){return(0,l.Z)(e).defaultView||window};n(7462);var h=function(e,t){return function(){return null}},d=n(2971).Z,p=n(5721).Z,v=n(5836);var m=function(e,t,n,r,i){return null},g=n(8278),y=n(9683),b=n(2071),x=n(8221),_=n(7125)},9103:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2791);var i=function(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},8278:function(e,t,n){"use strict";var r=n(8959);t.Z=r.Z},9683:function(e,t,n){"use strict";var r=n(8956);t.Z=r.Z},2071:function(e,t,n){"use strict";var r=n(7563);t.Z=r.Z},5836:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(9439),i=n(2791),a=0;var o=n.t(i,2).useId;var u=function(e){if(void 0!==o){var t=o();return null!=e?e:t}return function(e){var t=i.useState(e),n=(0,r.Z)(t,2),o=n[0],u=n[1],s=e||o;return i.useEffect((function(){null==o&&u("mui-".concat(a+=1))}),[o]),s}(e)}},8221:function(e,t,n){"use strict";var r=n(5372);t.Z=r.Z},8023:function(e,t,n){"use strict";var r=n(2791).createContext(null);t.Z=r},9598:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(8023);function a(){return r.useContext(i.Z)}},1184:function(e,t,n){"use strict";n.d(t,{L7:function(){return u},P$:function(){return s},VO:function(){return r},W8:function(){return o},k9:function(){return a}});var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){var a=e.theme||{};if(Array.isArray(t)){var o=a.breakpoints||i;return t.reduce((function(e,r,i){return e[o.up(o.keys[i])]=n(t[i]),e}),{})}if("object"===typeof t){var u=a.breakpoints||i;return Object.keys(t).reduce((function(e,i){if(-1!==Object.keys(u.values||r).indexOf(i)){e[u.up(i)]=n(t[i],i)}else{var a=i;e[a]=t[a]}return e}),{})}return n(t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function u(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function s(e){var t,n=e.values,r=e.breakpoints,i=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),a=Object.keys(i);return 0===a.length?n:a.reduce((function(e,r,i){return Array.isArray(n)?(e[r]=null!=n[i]?n[i]:n[t],t=i):(e[r]=null!=n[r]?n[r]:n[t]||n,t=r),e}),{})}},2065:function(e,t,n){"use strict";n.d(t,{$n:function(){return f},Fq:function(){return l},_4:function(){return h},_j:function(){return c},mi:function(){return s}});var r=n(6189);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));var i,o=e.substring(t+1,e.length-1);if("color"===n){if(i=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].substr(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else o=o.split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)})),colorSpace:i}}function o(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function u(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,u=r*Math.min(i,1-i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-u*Math.max(Math.min(t-3,9-t,1),-1)},l="rgb",c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(l+="a",c.push(t[3])),o({type:l,values:c})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function l(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,o(e)}function c(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return o(e)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return u(e)>.5?c(e,t):f(e,t)}},5080:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r=n(7462),i=n(3366),a=n(2466),o=n(4942),u=["values","unit","step"];function s(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,a=e.unit,s=void 0===a?"px":a,l=e.step,c=void 0===l?5:l,f=(0,i.Z)(e,u),h=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,r.Z)({},e,(0,o.Z)({},t.key,t.val))}),{})}(n),d=Object.keys(h);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function v(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-c/100).concat(s,")")}function m(e,t){var r=d.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[d[r]]?n[d[r]]:t)-c/100).concat(s,")")}return(0,r.Z)({keys:d,values:h,up:p,down:v,between:m,only:function(e){return d.indexOf(e)+1<d.length?m(e,d[d.indexOf(e)+1]):p(e)},not:function(e){var t=d.indexOf(e);return 0===t?p(d[1]):t===d.length-1?v(d[t]):m(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:s},f)}var l={borderRadius:4},c=n(5682);function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,c.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var h=["breakpoints","palette","spacing","shape"];var d=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,u=void 0===o?{}:o,c=e.spacing,d=e.shape,p=void 0===d?{}:d,v=(0,i.Z)(e,h),m=s(n),g=f(c),y=(0,a.Z)({breakpoints:m,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},u),spacing:g,shape:(0,r.Z)({},l,p)},v),b=arguments.length,x=new Array(b>1?b-1:0),_=1;_<b;_++)x[_-1]=arguments[_];return y=x.reduce((function(e,t){return(0,a.Z)(e,t)}),y)}},6001:function(e,t,n){"use strict";n.d(t,{Gc:function(){return $},G$:function(){return X}});var r=n(8529),i=n(8247);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),a=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?(0,i.Z)(t,r[n](e)):t}),{})};return a.propTypes={},a.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),a},o=n(5682),u=n(1184);function s(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var l=(0,r.Z)({prop:"border",themeKey:"borders",transform:s}),c=(0,r.Z)({prop:"borderTop",themeKey:"borders",transform:s}),f=(0,r.Z)({prop:"borderRight",themeKey:"borders",transform:s}),h=(0,r.Z)({prop:"borderBottom",themeKey:"borders",transform:s}),d=(0,r.Z)({prop:"borderLeft",themeKey:"borders",transform:s}),p=(0,r.Z)({prop:"borderColor",themeKey:"palette"}),v=(0,r.Z)({prop:"borderTopColor",themeKey:"palette"}),m=(0,r.Z)({prop:"borderRightColor",themeKey:"palette"}),g=(0,r.Z)({prop:"borderBottomColor",themeKey:"palette"}),y=(0,r.Z)({prop:"borderLeftColor",themeKey:"palette"}),b=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,o.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,u.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,o.NA)(t,e)}}))}return null};b.propTypes={},b.filterProps=["borderRadius"];var x=a(l,c,f,h,d,p,v,m,g,y,b),_=a((0,r.Z)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),(0,r.Z)({prop:"display"}),(0,r.Z)({prop:"overflow"}),(0,r.Z)({prop:"textOverflow"}),(0,r.Z)({prop:"visibility"}),(0,r.Z)({prop:"whiteSpace"})),w=a((0,r.Z)({prop:"flexBasis"}),(0,r.Z)({prop:"flexDirection"}),(0,r.Z)({prop:"flexWrap"}),(0,r.Z)({prop:"justifyContent"}),(0,r.Z)({prop:"alignItems"}),(0,r.Z)({prop:"alignContent"}),(0,r.Z)({prop:"order"}),(0,r.Z)({prop:"flex"}),(0,r.Z)({prop:"flexGrow"}),(0,r.Z)({prop:"flexShrink"}),(0,r.Z)({prop:"alignSelf"}),(0,r.Z)({prop:"justifyItems"}),(0,r.Z)({prop:"justifySelf"})),S=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,o.eI)(e.theme,"spacing",8,"gap");return(0,u.k9)(e,e.gap,(function(e){return{gap:(0,o.NA)(t,e)}}))}return null};S.propTypes={},S.filterProps=["gap"];var k=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,o.eI)(e.theme,"spacing",8,"columnGap");return(0,u.k9)(e,e.columnGap,(function(e){return{columnGap:(0,o.NA)(t,e)}}))}return null};k.propTypes={},k.filterProps=["columnGap"];var M=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,o.eI)(e.theme,"spacing",8,"rowGap");return(0,u.k9)(e,e.rowGap,(function(e){return{rowGap:(0,o.NA)(t,e)}}))}return null};M.propTypes={},M.filterProps=["rowGap"];var E=a(S,k,M,(0,r.Z)({prop:"gridColumn"}),(0,r.Z)({prop:"gridRow"}),(0,r.Z)({prop:"gridAutoFlow"}),(0,r.Z)({prop:"gridAutoColumns"}),(0,r.Z)({prop:"gridAutoRows"}),(0,r.Z)({prop:"gridTemplateColumns"}),(0,r.Z)({prop:"gridTemplateRows"}),(0,r.Z)({prop:"gridTemplateAreas"}),(0,r.Z)({prop:"gridArea"})),T=a((0,r.Z)({prop:"position"}),(0,r.Z)({prop:"zIndex",themeKey:"zIndex"}),(0,r.Z)({prop:"top"}),(0,r.Z)({prop:"right"}),(0,r.Z)({prop:"bottom"}),(0,r.Z)({prop:"left"})),A=a((0,r.Z)({prop:"color",themeKey:"palette"}),(0,r.Z)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),(0,r.Z)({prop:"backgroundColor",themeKey:"palette"})),C=(0,r.Z)({prop:"boxShadow",themeKey:"shadows"});function R(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var P=(0,r.Z)({prop:"width",transform:R}),L=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,u.k9)(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||u.VO[t]||R(t)}}))}return null};L.filterProps=["maxWidth"];var O=(0,r.Z)({prop:"minWidth",transform:R}),I=(0,r.Z)({prop:"height",transform:R}),D=(0,r.Z)({prop:"maxHeight",transform:R}),N=(0,r.Z)({prop:"minHeight",transform:R}),z=((0,r.Z)({prop:"size",cssProperty:"width",transform:R}),(0,r.Z)({prop:"size",cssProperty:"height",transform:R}),a(P,L,O,I,D,N,(0,r.Z)({prop:"boxSizing"}))),F=(0,r.Z)({prop:"fontFamily",themeKey:"typography"}),B=(0,r.Z)({prop:"fontSize",themeKey:"typography"}),U=(0,r.Z)({prop:"fontStyle",themeKey:"typography"}),j=(0,r.Z)({prop:"fontWeight",themeKey:"typography"}),H=(0,r.Z)({prop:"letterSpacing"}),Z=(0,r.Z)({prop:"textTransform"}),G=(0,r.Z)({prop:"lineHeight"}),W=(0,r.Z)({prop:"textAlign"}),V=a((0,r.Z)({prop:"typography",cssProperty:!1,themeKey:"typography"}),F,B,U,j,H,G,W,Z),q={borders:x.filterProps,display:_.filterProps,flexbox:w.filterProps,grid:E.filterProps,positions:T.filterProps,palette:A.filterProps,shadows:C.filterProps,sizing:z.filterProps,spacing:o.ZP.filterProps,typography:V.filterProps},X={borders:x,display:_,flexbox:w,grid:E,positions:T,palette:A,shadows:C,sizing:z,spacing:o.ZP,typography:V},$=Object.keys(q).reduce((function(e,t){return q[t].forEach((function(n){e[n]=X[t]})),e}),{})},8247:function(e,t,n){"use strict";var r=n(2466);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:function(e,t,n){"use strict";n.d(t,{hB:function(){return v},eI:function(){return p},ZP:function(){return w},NA:function(){return m}});var r=n(9439),i=n(1184),a=n(8529),o=n(8247);var u={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!l[e])return[e];e=l[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],a=n[1],o=u[i],c=s[a]||"";return Array.isArray(c)?c.map((function(e){return o+e})):[o+c]})),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],h=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],d=[].concat(f,h);function p(e,t,n,r){var i=(0,a.D)(e,t)||n;return"number"===typeof i?function(e){return"string"===typeof e?e:i*e}:Array.isArray(i)?function(e){return"string"===typeof e?e:i[e]}:"function"===typeof i?i:function(){}}function v(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,r){if(-1===t.indexOf(n))return null;var a=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=m(t,n),e}),{})}}(c(n),r),o=e[n];return(0,i.k9)(e,o,a)}function y(e,t){var n=v(e.theme);return Object.keys(e).map((function(r){return g(e,t,r,n)})).reduce(o.Z,{})}function b(e){return y(e,f)}function x(e){return y(e,h)}function _(e){return y(e,d)}b.propTypes={},b.filterProps=f,x.propTypes={},x.filterProps=h,_.propTypes={},_.filterProps=d;var w=_},8529:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(4942),i=n(7312),a=n(1184);function o(e,t){return t&&"string"===typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}function u(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r)),r}t.Z=function(e){var t=e.prop,n=e.cssProperty,s=void 0===n?e.prop:n,l=e.themeKey,c=e.transform,f=function(e){if(null==e[t])return null;var n=e[t],f=o(e.theme,l)||{};return(0,a.k9)(e,n,(function(e){var n=u(f,c,e);return e===n&&"string"===typeof e&&(n=u(f,c,"".concat(t).concat("default"===e?"":(0,i.Z)(e)),e)),!1===s?n:(0,r.Z)({},s,n)}))};return f.propTypes={},f.filterProps=[t],f}},418:function(e,t,n){"use strict";var r=n(5080),i=n(9120),a=(0,r.Z)();t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return(0,i.Z)(e)}},9120:function(e,t,n){"use strict";var r=n(9598);function i(e){return 0===Object.keys(e).length}t.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(0,r.Z)();return!t||i(t)?e:t}},7312:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(6189);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},2466:function(e,t,n){"use strict";n.d(t,{P:function(){return i},Z:function(){return a}});var r=n(7462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?o[r]=a(e[r],t[r],n):o[r]=t[r])})),o}},6189:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},9723:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return r}})},5735:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7462);function i(e,t){var n=(0,r.Z)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}},2971:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},8959:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9439),i=n(2791);function a(e){var t=e.controlled,n=e.default,a=(e.name,e.state,i.useRef(void 0!==t).current),o=i.useState(n),u=(0,r.Z)(o,2),s=u[0],l=u[1];return[a?t:s,i.useCallback((function(e){a||l(e)}),[])]}},5721:function(e,t,n){"use strict";var r=n(2791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.Z=i},8956:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(5721);function a(e){var t=r.useRef(e);return(0,i.Z)((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},7563:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(2971);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.Z)(e,n),(0,i.Z)(t,n)}}),[e,t])}},5372:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r,i=n(2791),a=!0,o=!1,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function l(){a=!1}function c(){"hidden"===this.visibilityState&&o&&(a=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function h(){var e=i.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",s,!0),t.addEventListener("mousedown",l,!0),t.addEventListener("pointerdown",l,!0),t.addEventListener("touchstart",l,!0),t.addEventListener("visibilitychange",c,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!f(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(o=!0,window.clearTimeout(r),r=window.setTimeout((function(){o=!1}),100),t.current=!1,!0)},ref:e}}},7823:function(e){"use strict";e.exports=function(e,t){if(null===e||"undefined"===typeof e)throw new TypeError("expected first argument to be an object.");if("undefined"===typeof t||"undefined"===typeof Symbol)return e;if("function"!==typeof Object.getOwnPropertySymbols)return e;for(var n=Object.prototype.propertyIsEnumerable,r=Object(e),i=arguments.length,a=0;++a<i;)for(var o=Object(arguments[a]),u=Object.getOwnPropertySymbols(o),s=0;s<u.length;s++){var l=u[s];n.call(o,l)&&(r[l]=o[l])}return r}},9998:function(e,t){"use strict";t.Z=function(e,t){if(e&&t){var n=Array.isArray(t)?t:t.split(","),r=e.name||"",i=(e.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return n.some((function(e){var t=e.trim().toLowerCase();return"."===t.charAt(0)?r.toLowerCase().endsWith(t):t.endsWith("/*")?a===t.replace(/\/.*$/,""):i===t}))}return!0}},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:function(){return i}})},7494:function(e){function t(e,t,n){var r,i,a,o,u;function s(){var l=Date.now()-o;l<t&&l>=0?r=setTimeout(s,t-l):(r=null,n||(u=e.apply(a,i),a=i=null))}null==t&&(t=100);var l=function(){a=this,i=arguments,o=Date.now();var l=n&&!r;return r||(r=setTimeout(s,t)),l&&(u=e.apply(a,i),a=i=null),u};return l.clear=function(){r&&(clearTimeout(r),r=null)},l.flush=function(){r&&(u=e.apply(a,i),a=i=null,clearTimeout(r),r=null)},l}t.debounce=t,e.exports=t},5456:function(e,t,n){"use strict";var r=n(9583);function i(e,t){for(var n in t)a(t,n)&&(e[n]=t[n])}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e){r(e)||(e={});for(var t=arguments.length,n=1;n<t;n++){var a=arguments[n];r(a)&&i(e,a)}return e}},9583:function(e){"use strict";e.exports=function(e){return"undefined"!==typeof e&&null!==e&&("object"===typeof e||"function"===typeof e)}},8845:function(e){"use strict";e.exports=function(e,t,n){for(var r in e)if(!1===t.call(n,e[r],r,e))break}},9944:function(e){function t(e){return e?Array.isArray(e)?e.join("."):e:""}e.exports=function(e,n,r,i,a){if(null===(o=e)||"object"!==typeof o&&"function"!==typeof o||!n)return e;var o;if(n=t(n),r&&(n+="."+t(r)),i&&(n+="."+t(i)),a&&(n+="."+t(a)),n in e)return e[n];for(var u=n.split("."),s=u.length,l=-1;e&&++l<s;){for(var c=u[l];"\\"===c[c.length-1];)c=c.slice(0,-1)+"."+u[++l];e=e[c]}return e}},2110:function(e,t,n){"use strict";var r=n(271),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=c(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!u||!u[g])){var y=h(n,g);try{l(t,g,y)}catch(b){}}}}return t}},9105:function(e,t,n){"use strict";var r=n(4807);e.exports=function(e){return r(e)||"function"===typeof e||Array.isArray(e)}},4807:function(e,t,n){"use strict";var r=n(8863);function i(e){return!0===r(e)&&"[object Object]"===Object.prototype.toString.call(e)}e.exports=function(e){var t,n;return!1!==i(e)&&("function"===typeof(t=e.constructor)&&(!1!==i(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf")))}},8863:function(e){"use strict";e.exports=function(e){return null!=e&&"object"===typeof e&&!1===Array.isArray(e)}},763:function(e,t,n){var r;e=n.nmd(e),function(){var i,a="Expected a function",o="__lodash_hash_undefined__",u="__lodash_placeholder__",s=16,l=32,c=64,f=128,h=256,d=1/0,p=9007199254740991,v=NaN,m=4294967295,g=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",s],["flip",512],["partial",l],["partialRight",c],["rearg",h]],y="[object Arguments]",b="[object Array]",x="[object Boolean]",_="[object Date]",w="[object Error]",S="[object Function]",k="[object GeneratorFunction]",M="[object Map]",E="[object Number]",T="[object Object]",A="[object Promise]",C="[object RegExp]",R="[object Set]",P="[object String]",L="[object Symbol]",O="[object WeakMap]",I="[object ArrayBuffer]",D="[object DataView]",N="[object Float32Array]",z="[object Float64Array]",F="[object Int8Array]",B="[object Int16Array]",U="[object Int32Array]",j="[object Uint8Array]",H="[object Uint8ClampedArray]",Z="[object Uint16Array]",G="[object Uint32Array]",W=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,Y=RegExp(X.source),K=RegExp($.source),J=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,ae=RegExp(ie.source),oe=/^\s+/,ue=/\s/,se=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,me=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,xe=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,we=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,ke="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Me="\\u2700-\\u27bf",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",Te="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\ufe0e\\ufe0f",Ce="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Re="['\u2019]",Pe="[\\ud800-\\udfff]",Le="["+Ce+"]",Oe="["+ke+"]",Ie="\\d+",De="[\\u2700-\\u27bf]",Ne="["+Ee+"]",ze="[^\\ud800-\\udfff"+Ce+Ie+Me+Ee+Te+"]",Fe="\\ud83c[\\udffb-\\udfff]",Be="[^\\ud800-\\udfff]",Ue="(?:\\ud83c[\\udde6-\\uddff]){2}",je="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Te+"]",Ze="(?:"+Ne+"|"+ze+")",Ge="(?:"+He+"|"+ze+")",We="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ve="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",qe="(?:"+Oe+"|"+Fe+")"+"?",Xe="[\\ufe0e\\ufe0f]?",$e=Xe+qe+("(?:\\u200d(?:"+[Be,Ue,je].join("|")+")"+Xe+qe+")*"),Ye="(?:"+[De,Ue,je].join("|")+")"+$e,Ke="(?:"+[Be+Oe+"?",Oe,Ue,je,Pe].join("|")+")",Je=RegExp(Re,"g"),Qe=RegExp(Oe,"g"),et=RegExp(Fe+"(?="+Fe+")|"+Ke+$e,"g"),tt=RegExp([He+"?"+Ne+"+"+We+"(?="+[Le,He,"$"].join("|")+")",Ge+"+"+Ve+"(?="+[Le,He+Ze,"$"].join("|")+")",He+"?"+Ze+"+"+We,He+"+"+Ve,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ie,Ye].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+ke+Ae+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,ot={};ot[N]=ot[z]=ot[F]=ot[B]=ot[U]=ot[j]=ot[H]=ot[Z]=ot[G]=!0,ot[y]=ot[b]=ot[I]=ot[x]=ot[D]=ot[_]=ot[w]=ot[S]=ot[M]=ot[E]=ot[T]=ot[C]=ot[R]=ot[P]=ot[O]=!1;var ut={};ut[y]=ut[b]=ut[I]=ut[D]=ut[x]=ut[_]=ut[N]=ut[z]=ut[F]=ut[B]=ut[U]=ut[M]=ut[E]=ut[T]=ut[C]=ut[R]=ut[P]=ut[L]=ut[j]=ut[H]=ut[Z]=ut[G]=!0,ut[w]=ut[S]=ut[O]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ct=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ht="object"==typeof self&&self&&self.Object===Object&&self,dt=ft||ht||Function("return this")(),pt=t&&!t.nodeType&&t,vt=pt&&e&&!e.nodeType&&e,mt=vt&&vt.exports===pt,gt=mt&&ft.process,yt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||gt&&gt.binding&&gt.binding("util")}catch(t){}}(),bt=yt&&yt.isArrayBuffer,xt=yt&&yt.isDate,_t=yt&&yt.isMap,wt=yt&&yt.isRegExp,St=yt&&yt.isSet,kt=yt&&yt.isTypedArray;function Mt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,r){for(var i=-1,a=null==e?0:e.length;++i<a;){var o=e[i];t(r,o,n(o),e)}return r}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function Pt(e,t){return!!(null==e?0:e.length)&&jt(e,t,0)>-1}function Lt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function It(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Dt(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n}function Nt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function zt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ft=Wt("length");function Bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Ut(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function jt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ut(e,Zt,n)}function Ht(e,t,n,r){for(var i=n-1,a=e.length;++i<a;)if(r(e[i],t))return i;return-1}function Zt(e){return e!==e}function Gt(e,t){var n=null==e?0:e.length;return n?Xt(e,t)/n:v}function Wt(e){return function(t){return null==t?i:t[e]}}function Vt(e){return function(t){return null==e?i:e[t]}}function qt(e,t,n,r,i){return i(e,(function(e,i,a){n=r?(r=!1,e):t(n,e,i,a)})),n}function Xt(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function $t(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Yt(e){return e?e.slice(0,vn(e)+1).replace(oe,""):e}function Kt(e){return function(t){return e(t)}}function Jt(e,t){return Ot(t,(function(t){return e[t]}))}function Qt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&jt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&jt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Vt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),an=Vt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+st[e]}function un(e){return nt.test(e)}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function cn(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==u||(e[n]=u,a[i++]=n)}return a}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function dn(e){return un(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Ft(e)}function pn(e){return un(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function vn(e){for(var t=e.length;t--&&ue.test(e.charAt(t)););return t}var mn=Vt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var gn=function e(t){var n=(t=null==t?dt:gn.defaults(dt.Object(),t,gn.pick(dt,it))).Array,r=t.Date,ue=t.Error,ke=t.Function,Me=t.Math,Ee=t.Object,Te=t.RegExp,Ae=t.String,Ce=t.TypeError,Re=n.prototype,Pe=ke.prototype,Le=Ee.prototype,Oe=t["__core-js_shared__"],Ie=Pe.toString,De=Le.hasOwnProperty,Ne=0,ze=function(){var e=/[^.]+$/.exec(Oe&&Oe.keys&&Oe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Le.toString,Be=Ie.call(Ee),Ue=dt._,je=Te("^"+Ie.call(De).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),He=mt?t.Buffer:i,Ze=t.Symbol,Ge=t.Uint8Array,We=He?He.allocUnsafe:i,Ve=ln(Ee.getPrototypeOf,Ee),qe=Ee.create,Xe=Le.propertyIsEnumerable,$e=Re.splice,Ye=Ze?Ze.isConcatSpreadable:i,Ke=Ze?Ze.iterator:i,et=Ze?Ze.toStringTag:i,nt=function(){try{var e=ha(Ee,"defineProperty");return e({},"",{}),e}catch(t){}}(),st=t.clearTimeout!==dt.clearTimeout&&t.clearTimeout,ft=r&&r.now!==dt.Date.now&&r.now,ht=t.setTimeout!==dt.setTimeout&&t.setTimeout,pt=Me.ceil,vt=Me.floor,gt=Ee.getOwnPropertySymbols,yt=He?He.isBuffer:i,Ft=t.isFinite,Vt=Re.join,yn=ln(Ee.keys,Ee),bn=Me.max,xn=Me.min,_n=r.now,wn=t.parseInt,Sn=Me.random,kn=Re.reverse,Mn=ha(t,"DataView"),En=ha(t,"Map"),Tn=ha(t,"Promise"),An=ha(t,"Set"),Cn=ha(t,"WeakMap"),Rn=ha(Ee,"create"),Pn=Cn&&new Cn,Ln={},On=Ba(Mn),In=Ba(En),Dn=Ba(Tn),Nn=Ba(An),zn=Ba(Cn),Fn=Ze?Ze.prototype:i,Bn=Fn?Fn.valueOf:i,Un=Fn?Fn.toString:i;function jn(e){if(ru(e)&&!Vo(e)&&!(e instanceof Wn)){if(e instanceof Gn)return e;if(De.call(e,"__wrapped__"))return Ua(e)}return new Gn(e)}var Hn=function(){function e(){}return function(t){if(!nu(t))return{};if(qe)return qe(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Zn(){}function Gn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=m,this.__views__=[]}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Xn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new qn(e);this.size=t.size}function Kn(e,t){var n=Vo(e),r=!n&&Wo(e),i=!n&&!r&&Yo(e),a=!n&&!r&&!i&&fu(e),o=n||r||i||a,u=o?$t(e.length,Ae):[],s=u.length;for(var l in e)!t&&!De.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||ba(l,s))||u.push(l);return u}function Jn(e){var t=e.length;return t?e[$r(0,t-1)]:i}function Qn(e,t){return Na(Ri(e),sr(t,0,e.length))}function er(e){return Na(Ri(e))}function tr(e,t,n){(n!==i&&!Ho(e[t],n)||n===i&&!(t in e))&&or(e,t,n)}function nr(e,t,n){var r=e[t];De.call(e,t)&&Ho(r,n)&&(n!==i||t in e)||or(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Ho(e[n][0],t))return n;return-1}function ir(e,t,n,r){return dr(e,(function(e,i,a){t(r,e,n(e),a)})),r}function ar(e,t){return e&&Pi(t,Ou(t),e)}function or(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ur(e,t){for(var r=-1,a=t.length,o=n(a),u=null==e;++r<a;)o[r]=u?i:Au(e,t[r]);return o}function sr(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function lr(e,t,n,r,a,o){var u,s=1&t,l=2&t,c=4&t;if(n&&(u=a?n(e,r,a,o):n(e)),u!==i)return u;if(!nu(e))return e;var f=Vo(e);if(f){if(u=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&De.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!s)return Ri(e,u)}else{var h=va(e),d=h==S||h==k;if(Yo(e))return ki(e,s);if(h==T||h==y||d&&!a){if(u=l||d?{}:ga(e),!s)return l?function(e,t){return Pi(e,pa(e),t)}(e,function(e,t){return e&&Pi(t,Iu(t),e)}(u,e)):function(e,t){return Pi(e,da(e),t)}(e,ar(u,e))}else{if(!ut[h])return a?e:{};u=function(e,t,n){var r=e.constructor;switch(t){case I:return Mi(e);case x:case _:return new r(+e);case D:return function(e,t){var n=t?Mi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case N:case z:case F:case B:case U:case j:case H:case Z:case G:return Ei(e,n);case M:return new r;case E:case P:return new r(e);case C:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case R:return new r;case L:return i=e,Bn?Ee(Bn.call(i)):{}}var i}(e,h,s)}}o||(o=new Yn);var p=o.get(e);if(p)return p;o.set(e,u),su(e)?e.forEach((function(r){u.add(lr(r,t,n,r,e,o))})):iu(e)&&e.forEach((function(r,i){u.set(i,lr(r,t,n,i,e,o))}));var v=f?i:(c?l?aa:ia:l?Iu:Ou)(e);return Tt(v||e,(function(r,i){v&&(r=e[i=r]),nr(u,i,lr(r,t,n,i,e,o))})),u}function cr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ee(e);r--;){var a=n[r],o=t[a],u=e[a];if(u===i&&!(a in e)||!o(u))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new Ce(a);return La((function(){e.apply(i,n)}),t)}function hr(e,t,n,r){var i=-1,a=Pt,o=!0,u=e.length,s=[],l=t.length;if(!u)return s;n&&(t=Ot(t,Kt(n))),r?(a=Lt,o=!1):t.length>=200&&(a=Qt,o=!1,t=new $n(t));e:for(;++i<u;){var c=e[i],f=null==n?c:n(c);if(c=r||0!==c?c:0,o&&f===f){for(var h=l;h--;)if(t[h]===f)continue e;s.push(c)}else a(t,f,r)||s.push(c)}return s}jn.templateSettings={escape:J,evaluate:Q,interpolate:ee,variable:"",imports:{_:jn}},jn.prototype=Zn.prototype,jn.prototype.constructor=jn,Gn.prototype=Hn(Zn.prototype),Gn.prototype.constructor=Gn,Wn.prototype=Hn(Zn.prototype),Wn.prototype.constructor=Wn,Vn.prototype.clear=function(){this.__data__=Rn?Rn(null):{},this.size=0},Vn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vn.prototype.get=function(e){var t=this.__data__;if(Rn){var n=t[e];return n===o?i:n}return De.call(t,e)?t[e]:i},Vn.prototype.has=function(e){var t=this.__data__;return Rn?t[e]!==i:De.call(t,e)},Vn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Rn&&t===i?o:t,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():$e.call(t,n,1),--this.size,!0)},qn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},qn.prototype.has=function(e){return rr(this.__data__,e)>-1},qn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Xn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(En||qn),string:new Vn}},Xn.prototype.delete=function(e){var t=ca(this,e).delete(e);return this.size-=t?1:0,t},Xn.prototype.get=function(e){return ca(this,e).get(e)},Xn.prototype.has=function(e){return ca(this,e).has(e)},Xn.prototype.set=function(e,t){var n=ca(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},$n.prototype.add=$n.prototype.push=function(e){return this.__data__.set(e,o),this},$n.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new qn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof qn){var r=n.__data__;if(!En||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xn(r)}return n.set(e,t),this.size=n.size,this};var dr=Ii(_r),pr=Ii(wr,!0);function vr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function mr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],u=t(o);if(null!=u&&(s===i?u===u&&!cu(u):n(u,s)))var s=u,l=o}return l}function gr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function yr(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=ya),i||(i=[]);++a<o;){var u=e[a];t>0&&n(u)?t>1?yr(u,t-1,n,r,i):It(i,u):r||(i[i.length]=u)}return i}var br=Di(),xr=Di(!0);function _r(e,t){return e&&br(e,t,Ou)}function wr(e,t){return e&&xr(e,t,Ou)}function Sr(e,t){return Rt(t,(function(t){return Qo(e[t])}))}function kr(e,t){for(var n=0,r=(t=xi(t,e)).length;null!=e&&n<r;)e=e[Fa(t[n++])];return n&&n==r?e:i}function Mr(e,t,n){var r=t(e);return Vo(e)?r:It(r,n(e))}function Er(e){return null==e?e===i?"[object Undefined]":"[object Null]":et&&et in Ee(e)?function(e){var t=De.call(e,et),n=e[et];try{e[et]=i;var r=!0}catch(o){}var a=Fe.call(e);r&&(t?e[et]=n:delete e[et]);return a}(e):function(e){return Fe.call(e)}(e)}function Tr(e,t){return e>t}function Ar(e,t){return null!=e&&De.call(e,t)}function Cr(e,t){return null!=e&&t in Ee(e)}function Rr(e,t,r){for(var a=r?Lt:Pt,o=e[0].length,u=e.length,s=u,l=n(u),c=1/0,f=[];s--;){var h=e[s];s&&t&&(h=Ot(h,Kt(t))),c=xn(h.length,c),l[s]=!r&&(t||o>=120&&h.length>=120)?new $n(s&&h):i}h=e[0];var d=-1,p=l[0];e:for(;++d<o&&f.length<c;){var v=h[d],m=t?t(v):v;if(v=r||0!==v?v:0,!(p?Qt(p,m):a(f,m,r))){for(s=u;--s;){var g=l[s];if(!(g?Qt(g,m):a(e[s],m,r)))continue e}p&&p.push(m),f.push(v)}}return f}function Pr(e,t,n){var r=null==(e=Aa(e,t=xi(t,e)))?e:e[Fa(Ka(t))];return null==r?i:Mt(r,e,n)}function Lr(e){return ru(e)&&Er(e)==y}function Or(e,t,n,r,a){return e===t||(null==e||null==t||!ru(e)&&!ru(t)?e!==e&&t!==t:function(e,t,n,r,a,o){var u=Vo(e),s=Vo(t),l=u?b:va(e),c=s?b:va(t),f=(l=l==y?T:l)==T,h=(c=c==y?T:c)==T,d=l==c;if(d&&Yo(e)){if(!Yo(t))return!1;u=!0,f=!1}if(d&&!f)return o||(o=new Yn),u||fu(e)?na(e,t,n,r,a,o):function(e,t,n,r,i,a,o){switch(n){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I:return!(e.byteLength!=t.byteLength||!a(new Ge(e),new Ge(t)));case x:case _:case E:return Ho(+e,+t);case w:return e.name==t.name&&e.message==t.message;case C:case P:return e==t+"";case M:var u=sn;case R:var s=1&r;if(u||(u=fn),e.size!=t.size&&!s)return!1;var l=o.get(e);if(l)return l==t;r|=2,o.set(e,t);var c=na(u(e),u(t),r,i,a,o);return o.delete(e),c;case L:if(Bn)return Bn.call(e)==Bn.call(t)}return!1}(e,t,l,n,r,a,o);if(!(1&n)){var p=f&&De.call(e,"__wrapped__"),v=h&&De.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,g=v?t.value():t;return o||(o=new Yn),a(m,g,n,r,o)}}if(!d)return!1;return o||(o=new Yn),function(e,t,n,r,a,o){var u=1&n,s=ia(e),l=s.length,c=ia(t).length;if(l!=c&&!u)return!1;var f=l;for(;f--;){var h=s[f];if(!(u?h in t:De.call(t,h)))return!1}var d=o.get(e),p=o.get(t);if(d&&p)return d==t&&p==e;var v=!0;o.set(e,t),o.set(t,e);var m=u;for(;++f<l;){var g=e[h=s[f]],y=t[h];if(r)var b=u?r(y,g,h,t,e,o):r(g,y,h,e,t,o);if(!(b===i?g===y||a(g,y,n,r,o):b)){v=!1;break}m||(m="constructor"==h)}if(v&&!m){var x=e.constructor,_=t.constructor;x==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof _&&_ instanceof _||(v=!1)}return o.delete(e),o.delete(t),v}(e,t,n,r,a,o)}(e,t,n,r,Or,a))}function Ir(e,t,n,r){var a=n.length,o=a,u=!r;if(null==e)return!o;for(e=Ee(e);a--;){var s=n[a];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<o;){var l=(s=n[a])[0],c=e[l],f=s[1];if(u&&s[2]){if(c===i&&!(l in e))return!1}else{var h=new Yn;if(r)var d=r(c,f,l,e,t,h);if(!(d===i?Or(f,c,3,r,h):d))return!1}}return!0}function Dr(e){return!(!nu(e)||(t=e,ze&&ze in t))&&(Qo(e)?je:ye).test(Ba(e));var t}function Nr(e){return"function"==typeof e?e:null==e?as:"object"==typeof e?Vo(e)?Hr(e[0],e[1]):jr(e):ps(e)}function zr(e){if(!ka(e))return yn(e);var t=[];for(var n in Ee(e))De.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!nu(e))return function(e){var t=[];if(null!=e)for(var n in Ee(e))t.push(n);return t}(e);var t=ka(e),n=[];for(var r in e)("constructor"!=r||!t&&De.call(e,r))&&n.push(r);return n}function Br(e,t){return e<t}function Ur(e,t){var r=-1,i=Xo(e)?n(e.length):[];return dr(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}function jr(e){var t=fa(e);return 1==t.length&&t[0][2]?Ea(t[0][0],t[0][1]):function(n){return n===e||Ir(n,e,t)}}function Hr(e,t){return _a(e)&&Ma(t)?Ea(Fa(e),t):function(n){var r=Au(n,e);return r===i&&r===t?Cu(n,e):Or(t,r,3)}}function Zr(e,t,n,r,a){e!==t&&br(t,(function(o,u){if(a||(a=new Yn),nu(o))!function(e,t,n,r,a,o,u){var s=Ra(e,n),l=Ra(t,n),c=u.get(l);if(c)return void tr(e,n,c);var f=o?o(s,l,n+"",e,t,u):i,h=f===i;if(h){var d=Vo(l),p=!d&&Yo(l),v=!d&&!p&&fu(l);f=l,d||p||v?Vo(s)?f=s:$o(s)?f=Ri(s):p?(h=!1,f=ki(l,!0)):v?(h=!1,f=Ei(l,!0)):f=[]:ou(l)||Wo(l)?(f=s,Wo(s)?f=bu(s):nu(s)&&!Qo(s)||(f=ga(l))):h=!1}h&&(u.set(l,f),a(f,l,r,o,u),u.delete(l));tr(e,n,f)}(e,t,u,n,Zr,r,a);else{var s=r?r(Ra(e,u),o,u+"",e,t,a):i;s===i&&(s=o),tr(e,u,s)}}),Iu)}function Gr(e,t){var n=e.length;if(n)return ba(t+=t<0?n:0,n)?e[t]:i}function Wr(e,t,n){t=t.length?Ot(t,(function(e){return Vo(e)?function(t){return kr(t,1===e.length?e[0]:e)}:e})):[as];var r=-1;t=Ot(t,Kt(la()));var i=Ur(e,(function(e,n,i){var a=Ot(t,(function(t){return t(e)}));return{criteria:a,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,a=t.criteria,o=i.length,u=n.length;for(;++r<o;){var s=Ti(i[r],a[r]);if(s)return r>=u?s:s*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Vr(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],u=kr(e,o);n(u,o)&&ei(a,xi(o,e),u)}return a}function qr(e,t,n,r){var i=r?Ht:jt,a=-1,o=t.length,u=e;for(e===t&&(t=Ri(t)),n&&(u=Ot(e,Kt(n)));++a<o;)for(var s=0,l=t[a],c=n?n(l):l;(s=i(u,c,s,r))>-1;)u!==e&&$e.call(u,s,1),$e.call(e,s,1);return e}function Xr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==a){var a=i;ba(i)?$e.call(e,i,1):hi(e,i)}}return e}function $r(e,t){return e+vt(Sn()*(t-e+1))}function Yr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Kr(e,t){return Oa(Ta(e,t,as),e+"")}function Jr(e){return Jn(Hu(e))}function Qr(e,t){var n=Hu(e);return Na(n,sr(t,0,n.length))}function ei(e,t,n,r){if(!nu(e))return e;for(var a=-1,o=(t=xi(t,e)).length,u=o-1,s=e;null!=s&&++a<o;){var l=Fa(t[a]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(a!=u){var f=s[l];(c=r?r(f,l,s):i)===i&&(c=nu(f)?f:ba(t[a+1])?[]:{})}nr(s,l,c),s=s[l]}return e}var ti=Pn?function(e,t){return Pn.set(e,t),e}:as,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:ns(t),writable:!0})}:as;function ri(e){return Na(Hu(e))}function ii(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var o=n(a);++i<a;)o[i]=e[i+t];return o}function ai(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var a=r+i>>>1,o=e[a];null!==o&&!cu(o)&&(n?o<=t:o<t)?r=a+1:i=a}return i}return ui(e,t,as,n)}function ui(e,t,n,r){var a=0,o=null==e?0:e.length;if(0===o)return 0;for(var u=(t=n(t))!==t,s=null===t,l=cu(t),c=t===i;a<o;){var f=vt((a+o)/2),h=n(e[f]),d=h!==i,p=null===h,v=h===h,m=cu(h);if(u)var g=r||v;else g=c?v&&(r||d):s?v&&d&&(r||!p):l?v&&d&&!p&&(r||!m):!p&&!m&&(r?h<=t:h<t);g?a=f+1:o=f}return xn(o,4294967294)}function si(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n],u=t?t(o):o;if(!n||!Ho(u,s)){var s=u;a[i++]=0===o?0:o}}return a}function li(e){return"number"==typeof e?e:cu(e)?v:+e}function ci(e){if("string"==typeof e)return e;if(Vo(e))return Ot(e,ci)+"";if(cu(e))return Un?Un.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=Pt,a=e.length,o=!0,u=[],s=u;if(n)o=!1,i=Lt;else if(a>=200){var l=t?null:Yi(e);if(l)return fn(l);o=!1,i=Qt,s=new $n}else s=t?[]:u;e:for(;++r<a;){var c=e[r],f=t?t(c):c;if(c=n||0!==c?c:0,o&&f===f){for(var h=s.length;h--;)if(s[h]===f)continue e;t&&s.push(f),u.push(c)}else i(s,f,n)||(s!==u&&s.push(f),u.push(c))}return u}function hi(e,t){return null==(e=Aa(e,t=xi(t,e)))||delete e[Fa(Ka(t))]}function di(e,t,n,r){return ei(e,t,n(kr(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,a=r?i:-1;(r?a--:++a<i)&&t(e[a],a,e););return n?ii(e,r?0:a,r?a+1:i):ii(e,r?a+1:0,r?i:a)}function vi(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Dt(t,(function(e,t){return t.func.apply(t.thisArg,It([e],t.args))}),n)}function mi(e,t,r){var i=e.length;if(i<2)return i?fi(e[0]):[];for(var a=-1,o=n(i);++a<i;)for(var u=e[a],s=-1;++s<i;)s!=a&&(o[a]=hr(o[a]||u,e[s],t,r));return fi(yr(o,1),t,r)}function gi(e,t,n){for(var r=-1,a=e.length,o=t.length,u={};++r<a;){var s=r<o?t[r]:i;n(u,e[r],s)}return u}function yi(e){return $o(e)?e:[]}function bi(e){return"function"==typeof e?e:as}function xi(e,t){return Vo(e)?e:_a(e,t)?[e]:za(xu(e))}var _i=Kr;function wi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var Si=st||function(e){return dt.clearTimeout(e)};function ki(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function Mi(e){var t=new e.constructor(e.byteLength);return new Ge(t).set(new Ge(e)),t}function Ei(e,t){var n=t?Mi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ti(e,t){if(e!==t){var n=e!==i,r=null===e,a=e===e,o=cu(e),u=t!==i,s=null===t,l=t===t,c=cu(t);if(!s&&!c&&!o&&e>t||o&&u&&l&&!s&&!c||r&&u&&l||!n&&l||!a)return 1;if(!r&&!o&&!c&&e<t||c&&n&&a&&!r&&!o||s&&n&&a||!u&&a||!l)return-1}return 0}function Ai(e,t,r,i){for(var a=-1,o=e.length,u=r.length,s=-1,l=t.length,c=bn(o-u,0),f=n(l+c),h=!i;++s<l;)f[s]=t[s];for(;++a<u;)(h||a<o)&&(f[r[a]]=e[a]);for(;c--;)f[s++]=e[a++];return f}function Ci(e,t,r,i){for(var a=-1,o=e.length,u=-1,s=r.length,l=-1,c=t.length,f=bn(o-s,0),h=n(f+c),d=!i;++a<f;)h[a]=e[a];for(var p=a;++l<c;)h[p+l]=t[l];for(;++u<s;)(d||a<o)&&(h[p+r[u]]=e[a++]);return h}function Ri(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Pi(e,t,n,r){var a=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var s=t[o],l=r?r(n[s],e[s],s,n,e):i;l===i&&(l=e[s]),a?or(n,s,l):nr(n,s,l)}return n}function Li(e,t){return function(n,r){var i=Vo(n)?Et:ir,a=t?t():{};return i(n,e,la(r,2),a)}}function Oi(e){return Kr((function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,u=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,u&&xa(n[0],n[1],u)&&(o=a<3?i:o,a=1),t=Ee(t);++r<a;){var s=n[r];s&&e(t,s,r,o)}return t}))}function Ii(e,t){return function(n,r){if(null==n)return n;if(!Xo(n))return e(n,r);for(var i=n.length,a=t?i:-1,o=Ee(n);(t?a--:++a<i)&&!1!==r(o[a],a,o););return n}}function Di(e){return function(t,n,r){for(var i=-1,a=Ee(t),o=r(t),u=o.length;u--;){var s=o[e?u:++i];if(!1===n(a[s],s,a))break}return t}}function Ni(e){return function(t){var n=un(t=xu(t))?pn(t):i,r=n?n[0]:t.charAt(0),a=n?wi(n,1).join(""):t.slice(1);return r[e]()+a}}function zi(e){return function(t){return Dt(Qu(Wu(t).replace(Je,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Hn(e.prototype),r=e.apply(n,t);return nu(r)?r:n}}function Bi(e){return function(t,n,r){var a=Ee(t);if(!Xo(t)){var o=la(n,3);t=Ou(t),n=function(e){return o(a[e],e,a)}}var u=e(t,n,r);return u>-1?a[o?t[u]:u]:i}}function Ui(e){return ra((function(t){var n=t.length,r=n,o=Gn.prototype.thru;for(e&&t.reverse();r--;){var u=t[r];if("function"!=typeof u)throw new Ce(a);if(o&&!s&&"wrapper"==ua(u))var s=new Gn([],!0)}for(r=s?r:n;++r<n;){var l=ua(u=t[r]),c="wrapper"==l?oa(u):i;s=c&&wa(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?s[ua(c[0])].apply(s,c[3]):1==u.length&&wa(u)?s[l]():s.thru(u)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&Vo(r))return s.plant(r).value();for(var i=0,a=n?t[i].apply(this,e):r;++i<n;)a=t[i].call(this,a);return a}}))}function ji(e,t,r,a,o,u,s,l,c,h){var d=t&f,p=1&t,v=2&t,m=24&t,g=512&t,y=v?i:Fi(e);return function i(){for(var f=arguments.length,b=n(f),x=f;x--;)b[x]=arguments[x];if(m)var _=sa(i),w=nn(b,_);if(a&&(b=Ai(b,a,o,m)),u&&(b=Ci(b,u,s,m)),f-=w,m&&f<h){var S=cn(b,_);return Xi(e,t,ji,i.placeholder,r,b,S,l,c,h-f)}var k=p?r:this,M=v?k[e]:e;return f=b.length,l?b=Ca(b,l):g&&f>1&&b.reverse(),d&&c<f&&(b.length=c),this&&this!==dt&&this instanceof i&&(M=y||Fi(M)),M.apply(k,b)}}function Hi(e,t){return function(n,r){return function(e,t,n,r){return _r(e,(function(e,i,a){t(r,n(e),i,a)})),r}(n,e,t(r),{})}}function Zi(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=ci(n),r=ci(r)):(n=li(n),r=li(r)),a=e(n,r)}return a}}function Gi(e){return ra((function(t){return t=Ot(t,Kt(la())),Kr((function(n){var r=this;return e(t,(function(e){return Mt(e,r,n)}))}))}))}function Wi(e,t){var n=(t=t===i?" ":ci(t)).length;if(n<2)return n?Yr(t,e):t;var r=Yr(t,pt(e/dn(t)));return un(t)?wi(pn(r),0,e).join(""):r.slice(0,e)}function Vi(e){return function(t,r,a){return a&&"number"!=typeof a&&xa(t,r,a)&&(r=a=i),t=vu(t),r===i?(r=t,t=0):r=vu(r),function(e,t,r,i){for(var a=-1,o=bn(pt((t-e)/(r||1)),0),u=n(o);o--;)u[i?o:++a]=e,e+=r;return u}(t,r,a=a===i?t<r?1:-1:vu(a),e)}}function qi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=yu(t),n=yu(n)),e(t,n)}}function Xi(e,t,n,r,a,o,u,s,f,h){var d=8&t;t|=d?l:c,4&(t&=~(d?c:l))||(t&=-4);var p=[e,t,a,d?o:i,d?u:i,d?i:o,d?i:u,s,f,h],v=n.apply(i,p);return wa(e)&&Pa(v,p),v.placeholder=r,Ia(v,e,t)}function $i(e){var t=Me[e];return function(e,n){if(e=yu(e),(n=null==n?0:xn(mu(n),292))&&Ft(e)){var r=(xu(e)+"e").split("e");return+((r=(xu(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Yi=An&&1/fn(new An([,-0]))[1]==d?function(e){return new An(e)}:cs;function Ki(e){return function(t){var n=va(t);return n==M?sn(t):n==R?hn(t):function(e,t){return Ot(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,r,o,d,p,v,m){var g=2&t;if(!g&&"function"!=typeof e)throw new Ce(a);var y=o?o.length:0;if(y||(t&=-97,o=d=i),v=v===i?v:bn(mu(v),0),m=m===i?m:mu(m),y-=d?d.length:0,t&c){var b=o,x=d;o=d=i}var _=g?i:oa(e),w=[e,t,r,o,d,b,x,p,v,m];if(_&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=r==f&&8==n||r==f&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var l=e[3];e[3]=l?Ai(l,s,t[4]):s,e[4]=l?cn(e[3],u):t[4]}(s=t[5])&&(l=e[5],e[5]=l?Ci(l,s,t[6]):s,e[6]=l?cn(e[5],u):t[6]);(s=t[7])&&(e[7]=s);r&f&&(e[8]=null==e[8]?t[8]:xn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(w,_),e=w[0],t=w[1],r=w[2],o=w[3],d=w[4],!(m=w[9]=w[9]===i?g?0:e.length:bn(w[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==s?function(e,t,r){var a=Fi(e);return function o(){for(var u=arguments.length,s=n(u),l=u,c=sa(o);l--;)s[l]=arguments[l];var f=u<3&&s[0]!==c&&s[u-1]!==c?[]:cn(s,c);return(u-=f.length)<r?Xi(e,t,ji,o.placeholder,i,s,f,i,i,r-u):Mt(this&&this!==dt&&this instanceof o?a:e,this,s)}}(e,t,m):t!=l&&33!=t||d.length?ji.apply(i,w):function(e,t,r,i){var a=1&t,o=Fi(e);return function t(){for(var u=-1,s=arguments.length,l=-1,c=i.length,f=n(c+s),h=this&&this!==dt&&this instanceof t?o:e;++l<c;)f[l]=i[l];for(;s--;)f[l++]=arguments[++u];return Mt(h,a?r:this,f)}}(e,t,r,o);else var S=function(e,t,n){var r=1&t,i=Fi(e);return function t(){return(this&&this!==dt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Ia((_?ti:Pa)(S,w),e,t)}function Qi(e,t,n,r){return e===i||Ho(e,Le[n])&&!De.call(r,n)?t:e}function ea(e,t,n,r,a,o){return nu(e)&&nu(t)&&(o.set(t,e),Zr(e,t,i,ea,o),o.delete(t)),e}function ta(e){return ou(e)?i:e}function na(e,t,n,r,a,o){var u=1&n,s=e.length,l=t.length;if(s!=l&&!(u&&l>s))return!1;var c=o.get(e),f=o.get(t);if(c&&f)return c==t&&f==e;var h=-1,d=!0,p=2&n?new $n:i;for(o.set(e,t),o.set(t,e);++h<s;){var v=e[h],m=t[h];if(r)var g=u?r(m,v,h,t,e,o):r(v,m,h,e,t,o);if(g!==i){if(g)continue;d=!1;break}if(p){if(!zt(t,(function(e,t){if(!Qt(p,t)&&(v===e||a(v,e,n,r,o)))return p.push(t)}))){d=!1;break}}else if(v!==m&&!a(v,m,n,r,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function ra(e){return Oa(Ta(e,i,Va),e+"")}function ia(e){return Mr(e,Ou,da)}function aa(e){return Mr(e,Iu,pa)}var oa=Pn?function(e){return Pn.get(e)}:cs;function ua(e){for(var t=e.name+"",n=Ln[t],r=De.call(Ln,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t}function sa(e){return(De.call(jn,"placeholder")?jn:e).placeholder}function la(){var e=jn.iteratee||os;return e=e===os?Nr:e,arguments.length?e(arguments[0],arguments[1]):e}function ca(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function fa(e){for(var t=Ou(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ma(i)]}return t}function ha(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Dr(n)?n:i}var da=gt?function(e){return null==e?[]:(e=Ee(e),Rt(gt(e),(function(t){return Xe.call(e,t)})))}:gs,pa=gt?function(e){for(var t=[];e;)It(t,da(e)),e=Ve(e);return t}:gs,va=Er;function ma(e,t,n){for(var r=-1,i=(t=xi(t,e)).length,a=!1;++r<i;){var o=Fa(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&tu(i)&&ba(o,i)&&(Vo(e)||Wo(e))}function ga(e){return"function"!=typeof e.constructor||ka(e)?{}:Hn(Ve(e))}function ya(e){return Vo(e)||Wo(e)||!!(Ye&&e&&e[Ye])}function ba(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&xe.test(e))&&e>-1&&e%1==0&&e<t}function xa(e,t,n){if(!nu(n))return!1;var r=typeof t;return!!("number"==r?Xo(n)&&ba(t,n.length):"string"==r&&t in n)&&Ho(n[t],e)}function _a(e,t){if(Vo(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cu(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ee(t))}function wa(e){var t=ua(e),n=jn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=oa(n);return!!r&&e===r[0]}(Mn&&va(new Mn(new ArrayBuffer(1)))!=D||En&&va(new En)!=M||Tn&&va(Tn.resolve())!=A||An&&va(new An)!=R||Cn&&va(new Cn)!=O)&&(va=function(e){var t=Er(e),n=t==T?e.constructor:i,r=n?Ba(n):"";if(r)switch(r){case On:return D;case In:return M;case Dn:return A;case Nn:return R;case zn:return O}return t});var Sa=Oe?Qo:ys;function ka(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Le)}function Ma(e){return e===e&&!nu(e)}function Ea(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ee(n)))}}function Ta(e,t,r){return t=bn(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,o=bn(i.length-t,0),u=n(o);++a<o;)u[a]=i[t+a];a=-1;for(var s=n(t+1);++a<t;)s[a]=i[a];return s[t]=r(u),Mt(e,this,s)}}function Aa(e,t){return t.length<2?e:kr(e,ii(t,0,-1))}function Ca(e,t){for(var n=e.length,r=xn(t.length,n),a=Ri(e);r--;){var o=t[r];e[r]=ba(o,n)?a[o]:i}return e}function Ra(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Pa=Da(ti),La=ht||function(e,t){return dt.setTimeout(e,t)},Oa=Da(ni);function Ia(e,t,n){var r=t+"";return Oa(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(se,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Tt(g,(function(n){var r="_."+n[0];t&n[1]&&!Pt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function Da(e){var t=0,n=0;return function(){var r=_n(),a=16-(r-n);if(n=r,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Na(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=$r(n,a),u=e[o];e[o]=e[n],e[n]=u}return e.length=t,e}var za=function(e){var t=No(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(de,"$1"):n||e)})),t}));function Fa(e){if("string"==typeof e||cu(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ba(e){if(null!=e){try{return Ie.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ua(e){if(e instanceof Wn)return e.clone();var t=new Gn(e.__wrapped__,e.__chain__);return t.__actions__=Ri(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var ja=Kr((function(e,t){return $o(e)?hr(e,yr(t,1,$o,!0)):[]})),Ha=Kr((function(e,t){var n=Ka(t);return $o(n)&&(n=i),$o(e)?hr(e,yr(t,1,$o,!0),la(n,2)):[]})),Za=Kr((function(e,t){var n=Ka(t);return $o(n)&&(n=i),$o(e)?hr(e,yr(t,1,$o,!0),i,n):[]}));function Ga(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:mu(n);return i<0&&(i=bn(r+i,0)),Ut(e,la(t,3),i)}function Wa(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=mu(n),a=n<0?bn(r+a,0):xn(a,r-1)),Ut(e,la(t,3),a,!0)}function Va(e){return(null==e?0:e.length)?yr(e,1):[]}function qa(e){return e&&e.length?e[0]:i}var Xa=Kr((function(e){var t=Ot(e,yi);return t.length&&t[0]===e[0]?Rr(t):[]})),$a=Kr((function(e){var t=Ka(e),n=Ot(e,yi);return t===Ka(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Rr(n,la(t,2)):[]})),Ya=Kr((function(e){var t=Ka(e),n=Ot(e,yi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Rr(n,i,t):[]}));function Ka(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Ja=Kr(Qa);function Qa(e,t){return e&&e.length&&t&&t.length?qr(e,t):e}var eo=ra((function(e,t){var n=null==e?0:e.length,r=ur(e,t);return Xr(e,Ot(t,(function(e){return ba(e,n)?+e:e})).sort(Ti)),r}));function to(e){return null==e?e:kn.call(e)}var no=Kr((function(e){return fi(yr(e,1,$o,!0))})),ro=Kr((function(e){var t=Ka(e);return $o(t)&&(t=i),fi(yr(e,1,$o,!0),la(t,2))})),io=Kr((function(e){var t=Ka(e);return t="function"==typeof t?t:i,fi(yr(e,1,$o,!0),i,t)}));function ao(e){if(!e||!e.length)return[];var t=0;return e=Rt(e,(function(e){if($o(e))return t=bn(e.length,t),!0})),$t(t,(function(t){return Ot(e,Wt(t))}))}function oo(e,t){if(!e||!e.length)return[];var n=ao(e);return null==t?n:Ot(n,(function(e){return Mt(t,i,e)}))}var uo=Kr((function(e,t){return $o(e)?hr(e,t):[]})),so=Kr((function(e){return mi(Rt(e,$o))})),lo=Kr((function(e){var t=Ka(e);return $o(t)&&(t=i),mi(Rt(e,$o),la(t,2))})),co=Kr((function(e){var t=Ka(e);return t="function"==typeof t?t:i,mi(Rt(e,$o),i,t)})),fo=Kr(ao);var ho=Kr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,oo(e,n)}));function po(e){var t=jn(e);return t.__chain__=!0,t}function vo(e,t){return t(e)}var mo=ra((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return ur(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Wn&&ba(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:vo,args:[a],thisArg:i}),new Gn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)}));var go=Li((function(e,t,n){De.call(e,n)?++e[n]:or(e,n,1)}));var yo=Bi(Ga),bo=Bi(Wa);function xo(e,t){return(Vo(e)?Tt:dr)(e,la(t,3))}function _o(e,t){return(Vo(e)?At:pr)(e,la(t,3))}var wo=Li((function(e,t,n){De.call(e,n)?e[n].push(t):or(e,n,[t])}));var So=Kr((function(e,t,r){var i=-1,a="function"==typeof t,o=Xo(e)?n(e.length):[];return dr(e,(function(e){o[++i]=a?Mt(t,e,r):Pr(e,t,r)})),o})),ko=Li((function(e,t,n){or(e,n,t)}));function Mo(e,t){return(Vo(e)?Ot:Ur)(e,la(t,3))}var Eo=Li((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var To=Kr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&xa(e,t[0],t[1])?t=[]:n>2&&xa(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,yr(t,1),[])})),Ao=ft||function(){return dt.Date.now()};function Co(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ji(e,f,i,i,i,i,t)}function Ro(e,t){var n;if("function"!=typeof t)throw new Ce(a);return e=mu(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Po=Kr((function(e,t,n){var r=1;if(n.length){var i=cn(n,sa(Po));r|=l}return Ji(e,r,t,n,i)})),Lo=Kr((function(e,t,n){var r=3;if(n.length){var i=cn(n,sa(Lo));r|=l}return Ji(t,r,e,n,i)}));function Oo(e,t,n){var r,o,u,s,l,c,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new Ce(a);function v(t){var n=r,a=o;return r=o=i,f=t,s=e.apply(a,n)}function m(e){return f=e,l=La(y,t),h?v(e):s}function g(e){var n=e-c;return c===i||n>=t||n<0||d&&e-f>=u}function y(){var e=Ao();if(g(e))return b(e);l=La(y,function(e){var n=t-(e-c);return d?xn(n,u-(e-f)):n}(e))}function b(e){return l=i,p&&r?v(e):(r=o=i,s)}function x(){var e=Ao(),n=g(e);if(r=arguments,o=this,c=e,n){if(l===i)return m(c);if(d)return Si(l),l=La(y,t),v(c)}return l===i&&(l=La(y,t)),s}return t=yu(t)||0,nu(n)&&(h=!!n.leading,u=(d="maxWait"in n)?bn(yu(n.maxWait)||0,t):u,p="trailing"in n?!!n.trailing:p),x.cancel=function(){l!==i&&Si(l),f=0,r=c=o=l=i},x.flush=function(){return l===i?s:b(Ao())},x}var Io=Kr((function(e,t){return fr(e,1,t)})),Do=Kr((function(e,t,n){return fr(e,yu(t)||0,n)}));function No(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ce(a);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(No.Cache||Xn),n}function zo(e){if("function"!=typeof e)throw new Ce(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}No.Cache=Xn;var Fo=_i((function(e,t){var n=(t=1==t.length&&Vo(t[0])?Ot(t[0],Kt(la())):Ot(yr(t,1),Kt(la()))).length;return Kr((function(r){for(var i=-1,a=xn(r.length,n);++i<a;)r[i]=t[i].call(this,r[i]);return Mt(e,this,r)}))})),Bo=Kr((function(e,t){var n=cn(t,sa(Bo));return Ji(e,l,i,t,n)})),Uo=Kr((function(e,t){var n=cn(t,sa(Uo));return Ji(e,c,i,t,n)})),jo=ra((function(e,t){return Ji(e,h,i,i,i,t)}));function Ho(e,t){return e===t||e!==e&&t!==t}var Zo=qi(Tr),Go=qi((function(e,t){return e>=t})),Wo=Lr(function(){return arguments}())?Lr:function(e){return ru(e)&&De.call(e,"callee")&&!Xe.call(e,"callee")},Vo=n.isArray,qo=bt?Kt(bt):function(e){return ru(e)&&Er(e)==I};function Xo(e){return null!=e&&tu(e.length)&&!Qo(e)}function $o(e){return ru(e)&&Xo(e)}var Yo=yt||ys,Ko=xt?Kt(xt):function(e){return ru(e)&&Er(e)==_};function Jo(e){if(!ru(e))return!1;var t=Er(e);return t==w||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ou(e)}function Qo(e){if(!nu(e))return!1;var t=Er(e);return t==S||t==k||"[object AsyncFunction]"==t||"[object Proxy]"==t}function eu(e){return"number"==typeof e&&e==mu(e)}function tu(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function nu(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ru(e){return null!=e&&"object"==typeof e}var iu=_t?Kt(_t):function(e){return ru(e)&&va(e)==M};function au(e){return"number"==typeof e||ru(e)&&Er(e)==E}function ou(e){if(!ru(e)||Er(e)!=T)return!1;var t=Ve(e);if(null===t)return!0;var n=De.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ie.call(n)==Be}var uu=wt?Kt(wt):function(e){return ru(e)&&Er(e)==C};var su=St?Kt(St):function(e){return ru(e)&&va(e)==R};function lu(e){return"string"==typeof e||!Vo(e)&&ru(e)&&Er(e)==P}function cu(e){return"symbol"==typeof e||ru(e)&&Er(e)==L}var fu=kt?Kt(kt):function(e){return ru(e)&&tu(e.length)&&!!ot[Er(e)]};var hu=qi(Br),du=qi((function(e,t){return e<=t}));function pu(e){if(!e)return[];if(Xo(e))return lu(e)?pn(e):Ri(e);if(Ke&&e[Ke])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ke]());var t=va(e);return(t==M?sn:t==R?fn:Hu)(e)}function vu(e){return e?(e=yu(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function mu(e){var t=vu(e),n=t%1;return t===t?n?t-n:t:0}function gu(e){return e?sr(mu(e),0,m):0}function yu(e){if("number"==typeof e)return e;if(cu(e))return v;if(nu(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=nu(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var n=ge.test(e);return n||be.test(e)?ct(e.slice(2),n?2:8):me.test(e)?v:+e}function bu(e){return Pi(e,Iu(e))}function xu(e){return null==e?"":ci(e)}var _u=Oi((function(e,t){if(ka(t)||Xo(t))Pi(t,Ou(t),e);else for(var n in t)De.call(t,n)&&nr(e,n,t[n])})),wu=Oi((function(e,t){Pi(t,Iu(t),e)})),Su=Oi((function(e,t,n,r){Pi(t,Iu(t),e,r)})),ku=Oi((function(e,t,n,r){Pi(t,Ou(t),e,r)})),Mu=ra(ur);var Eu=Kr((function(e,t){e=Ee(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&xa(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],u=Iu(o),s=-1,l=u.length;++s<l;){var c=u[s],f=e[c];(f===i||Ho(f,Le[c])&&!De.call(e,c))&&(e[c]=o[c])}return e})),Tu=Kr((function(e){return e.push(i,ea),Mt(Nu,i,e)}));function Au(e,t,n){var r=null==e?i:kr(e,t);return r===i?n:r}function Cu(e,t){return null!=e&&ma(e,t,Cr)}var Ru=Hi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),ns(as)),Pu=Hi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),De.call(e,t)?e[t].push(n):e[t]=[n]}),la),Lu=Kr(Pr);function Ou(e){return Xo(e)?Kn(e):zr(e)}function Iu(e){return Xo(e)?Kn(e,!0):Fr(e)}var Du=Oi((function(e,t,n){Zr(e,t,n)})),Nu=Oi((function(e,t,n,r){Zr(e,t,n,r)})),zu=ra((function(e,t){var n={};if(null==e)return n;var r=!1;t=Ot(t,(function(t){return t=xi(t,e),r||(r=t.length>1),t})),Pi(e,aa(e),n),r&&(n=lr(n,7,ta));for(var i=t.length;i--;)hi(n,t[i]);return n}));var Fu=ra((function(e,t){return null==e?{}:function(e,t){return Vr(e,t,(function(t,n){return Cu(e,n)}))}(e,t)}));function Bu(e,t){if(null==e)return{};var n=Ot(aa(e),(function(e){return[e]}));return t=la(t),Vr(e,n,(function(e,n){return t(e,n[0])}))}var Uu=Ki(Ou),ju=Ki(Iu);function Hu(e){return null==e?[]:Jt(e,Ou(e))}var Zu=zi((function(e,t,n){return t=t.toLowerCase(),e+(n?Gu(t):t)}));function Gu(e){return Ju(xu(e).toLowerCase())}function Wu(e){return(e=xu(e))&&e.replace(_e,rn).replace(Qe,"")}var Vu=zi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),qu=zi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Xu=Ni("toLowerCase");var $u=zi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Yu=zi((function(e,t,n){return e+(n?" ":"")+Ju(t)}));var Ku=zi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ju=Ni("toUpperCase");function Qu(e,t,n){return e=xu(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var es=Kr((function(e,t){try{return Mt(e,i,t)}catch(n){return Jo(n)?n:new ue(n)}})),ts=ra((function(e,t){return Tt(t,(function(t){t=Fa(t),or(e,t,Po(e[t],e))})),e}));function ns(e){return function(){return e}}var rs=Ui(),is=Ui(!0);function as(e){return e}function os(e){return Nr("function"==typeof e?e:lr(e,1))}var us=Kr((function(e,t){return function(n){return Pr(n,e,t)}})),ss=Kr((function(e,t){return function(n){return Pr(e,n,t)}}));function ls(e,t,n){var r=Ou(t),i=Sr(t,r);null!=n||nu(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Sr(t,Ou(t)));var a=!(nu(n)&&"chain"in n)||!!n.chain,o=Qo(e);return Tt(i,(function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(a||t){var n=e(this.__wrapped__),i=n.__actions__=Ri(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,It([this.value()],arguments))})})),e}function cs(){}var fs=Gi(Ot),hs=Gi(Ct),ds=Gi(zt);function ps(e){return _a(e)?Wt(Fa(e)):function(e){return function(t){return kr(t,e)}}(e)}var vs=Vi(),ms=Vi(!0);function gs(){return[]}function ys(){return!1}var bs=Zi((function(e,t){return e+t}),0),xs=$i("ceil"),_s=Zi((function(e,t){return e/t}),1),ws=$i("floor");var Ss=Zi((function(e,t){return e*t}),1),ks=$i("round"),Ms=Zi((function(e,t){return e-t}),0);return jn.after=function(e,t){if("function"!=typeof t)throw new Ce(a);return e=mu(e),function(){if(--e<1)return t.apply(this,arguments)}},jn.ary=Co,jn.assign=_u,jn.assignIn=wu,jn.assignInWith=Su,jn.assignWith=ku,jn.at=Mu,jn.before=Ro,jn.bind=Po,jn.bindAll=ts,jn.bindKey=Lo,jn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Vo(e)?e:[e]},jn.chain=po,jn.chunk=function(e,t,r){t=(r?xa(e,t,r):t===i)?1:bn(mu(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,u=0,s=n(pt(a/t));o<a;)s[u++]=ii(e,o,o+=t);return s},jn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i},jn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return It(Vo(r)?Ri(r):[r],yr(t,1))},jn.cond=function(e){var t=null==e?0:e.length,n=la();return e=t?Ot(e,(function(e){if("function"!=typeof e[1])throw new Ce(a);return[n(e[0]),e[1]]})):[],Kr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Mt(i[0],this,n))return Mt(i[1],this,n)}}))},jn.conforms=function(e){return function(e){var t=Ou(e);return function(n){return cr(n,e,t)}}(lr(e,1))},jn.constant=ns,jn.countBy=go,jn.create=function(e,t){var n=Hn(e);return null==t?n:ar(n,t)},jn.curry=function e(t,n,r){var a=Ji(t,8,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},jn.curryRight=function e(t,n,r){var a=Ji(t,s,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},jn.debounce=Oo,jn.defaults=Eu,jn.defaultsDeep=Tu,jn.defer=Io,jn.delay=Do,jn.difference=ja,jn.differenceBy=Ha,jn.differenceWith=Za,jn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:mu(t))<0?0:t,r):[]},jn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:mu(t)))<0?0:t):[]},jn.dropRightWhile=function(e,t){return e&&e.length?pi(e,la(t,3),!0,!0):[]},jn.dropWhile=function(e,t){return e&&e.length?pi(e,la(t,3),!0):[]},jn.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&xa(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=mu(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:mu(r))<0&&(r+=a),r=n>r?0:gu(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},jn.filter=function(e,t){return(Vo(e)?Rt:gr)(e,la(t,3))},jn.flatMap=function(e,t){return yr(Mo(e,t),1)},jn.flatMapDeep=function(e,t){return yr(Mo(e,t),d)},jn.flatMapDepth=function(e,t,n){return n=n===i?1:mu(n),yr(Mo(e,t),n)},jn.flatten=Va,jn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,d):[]},jn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===i?1:mu(t)):[]},jn.flip=function(e){return Ji(e,512)},jn.flow=rs,jn.flowRight=is,jn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},jn.functions=function(e){return null==e?[]:Sr(e,Ou(e))},jn.functionsIn=function(e){return null==e?[]:Sr(e,Iu(e))},jn.groupBy=wo,jn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},jn.intersection=Xa,jn.intersectionBy=$a,jn.intersectionWith=Ya,jn.invert=Ru,jn.invertBy=Pu,jn.invokeMap=So,jn.iteratee=os,jn.keyBy=ko,jn.keys=Ou,jn.keysIn=Iu,jn.map=Mo,jn.mapKeys=function(e,t){var n={};return t=la(t,3),_r(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},jn.mapValues=function(e,t){var n={};return t=la(t,3),_r(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},jn.matches=function(e){return jr(lr(e,1))},jn.matchesProperty=function(e,t){return Hr(e,lr(t,1))},jn.memoize=No,jn.merge=Du,jn.mergeWith=Nu,jn.method=us,jn.methodOf=ss,jn.mixin=ls,jn.negate=zo,jn.nthArg=function(e){return e=mu(e),Kr((function(t){return Gr(t,e)}))},jn.omit=zu,jn.omitBy=function(e,t){return Bu(e,zo(la(t)))},jn.once=function(e){return Ro(2,e)},jn.orderBy=function(e,t,n,r){return null==e?[]:(Vo(t)||(t=null==t?[]:[t]),Vo(n=r?i:n)||(n=null==n?[]:[n]),Wr(e,t,n))},jn.over=fs,jn.overArgs=Fo,jn.overEvery=hs,jn.overSome=ds,jn.partial=Bo,jn.partialRight=Uo,jn.partition=Eo,jn.pick=Fu,jn.pickBy=Bu,jn.property=ps,jn.propertyOf=function(e){return function(t){return null==e?i:kr(e,t)}},jn.pull=Ja,jn.pullAll=Qa,jn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,la(n,2)):e},jn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,i,n):e},jn.pullAt=eo,jn.range=vs,jn.rangeRight=ms,jn.rearg=jo,jn.reject=function(e,t){return(Vo(e)?Rt:gr)(e,zo(la(t,3)))},jn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],a=e.length;for(t=la(t,3);++r<a;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return Xr(e,i),n},jn.rest=function(e,t){if("function"!=typeof e)throw new Ce(a);return Kr(e,t=t===i?t:mu(t))},jn.reverse=to,jn.sampleSize=function(e,t,n){return t=(n?xa(e,t,n):t===i)?1:mu(t),(Vo(e)?Qn:Qr)(e,t)},jn.set=function(e,t,n){return null==e?e:ei(e,t,n)},jn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},jn.shuffle=function(e){return(Vo(e)?er:ri)(e)},jn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&xa(e,t,n)?(t=0,n=r):(t=null==t?0:mu(t),n=n===i?r:mu(n)),ii(e,t,n)):[]},jn.sortBy=To,jn.sortedUniq=function(e){return e&&e.length?si(e):[]},jn.sortedUniqBy=function(e,t){return e&&e.length?si(e,la(t,2)):[]},jn.split=function(e,t,n){return n&&"number"!=typeof n&&xa(e,t,n)&&(t=n=i),(n=n===i?m:n>>>0)?(e=xu(e))&&("string"==typeof t||null!=t&&!uu(t))&&!(t=ci(t))&&un(e)?wi(pn(e),0,n):e.split(t,n):[]},jn.spread=function(e,t){if("function"!=typeof e)throw new Ce(a);return t=null==t?0:bn(mu(t),0),Kr((function(n){var r=n[t],i=wi(n,0,t);return r&&It(i,r),Mt(e,this,i)}))},jn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},jn.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:mu(t))<0?0:t):[]},jn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:mu(t)))<0?0:t,r):[]},jn.takeRightWhile=function(e,t){return e&&e.length?pi(e,la(t,3),!1,!0):[]},jn.takeWhile=function(e,t){return e&&e.length?pi(e,la(t,3)):[]},jn.tap=function(e,t){return t(e),e},jn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ce(a);return nu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Oo(e,t,{leading:r,maxWait:t,trailing:i})},jn.thru=vo,jn.toArray=pu,jn.toPairs=Uu,jn.toPairsIn=ju,jn.toPath=function(e){return Vo(e)?Ot(e,Fa):cu(e)?[e]:Ri(za(xu(e)))},jn.toPlainObject=bu,jn.transform=function(e,t,n){var r=Vo(e),i=r||Yo(e)||fu(e);if(t=la(t,4),null==n){var a=e&&e.constructor;n=i?r?new a:[]:nu(e)&&Qo(a)?Hn(Ve(e)):{}}return(i?Tt:_r)(e,(function(e,r,i){return t(n,e,r,i)})),n},jn.unary=function(e){return Co(e,1)},jn.union=no,jn.unionBy=ro,jn.unionWith=io,jn.uniq=function(e){return e&&e.length?fi(e):[]},jn.uniqBy=function(e,t){return e&&e.length?fi(e,la(t,2)):[]},jn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?fi(e,i,t):[]},jn.unset=function(e,t){return null==e||hi(e,t)},jn.unzip=ao,jn.unzipWith=oo,jn.update=function(e,t,n){return null==e?e:di(e,t,bi(n))},jn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:di(e,t,bi(n),r)},jn.values=Hu,jn.valuesIn=function(e){return null==e?[]:Jt(e,Iu(e))},jn.without=uo,jn.words=Qu,jn.wrap=function(e,t){return Bo(bi(t),e)},jn.xor=so,jn.xorBy=lo,jn.xorWith=co,jn.zip=fo,jn.zipObject=function(e,t){return gi(e||[],t||[],nr)},jn.zipObjectDeep=function(e,t){return gi(e||[],t||[],ei)},jn.zipWith=ho,jn.entries=Uu,jn.entriesIn=ju,jn.extend=wu,jn.extendWith=Su,ls(jn,jn),jn.add=bs,jn.attempt=es,jn.camelCase=Zu,jn.capitalize=Gu,jn.ceil=xs,jn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=yu(n))===n?n:0),t!==i&&(t=(t=yu(t))===t?t:0),sr(yu(e),t,n)},jn.clone=function(e){return lr(e,4)},jn.cloneDeep=function(e){return lr(e,5)},jn.cloneDeepWith=function(e,t){return lr(e,5,t="function"==typeof t?t:i)},jn.cloneWith=function(e,t){return lr(e,4,t="function"==typeof t?t:i)},jn.conformsTo=function(e,t){return null==t||cr(e,t,Ou(t))},jn.deburr=Wu,jn.defaultTo=function(e,t){return null==e||e!==e?t:e},jn.divide=_s,jn.endsWith=function(e,t,n){e=xu(e),t=ci(t);var r=e.length,a=n=n===i?r:sr(mu(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},jn.eq=Ho,jn.escape=function(e){return(e=xu(e))&&K.test(e)?e.replace($,an):e},jn.escapeRegExp=function(e){return(e=xu(e))&&ae.test(e)?e.replace(ie,"\\$&"):e},jn.every=function(e,t,n){var r=Vo(e)?Ct:vr;return n&&xa(e,t,n)&&(t=i),r(e,la(t,3))},jn.find=yo,jn.findIndex=Ga,jn.findKey=function(e,t){return Bt(e,la(t,3),_r)},jn.findLast=bo,jn.findLastIndex=Wa,jn.findLastKey=function(e,t){return Bt(e,la(t,3),wr)},jn.floor=ws,jn.forEach=xo,jn.forEachRight=_o,jn.forIn=function(e,t){return null==e?e:br(e,la(t,3),Iu)},jn.forInRight=function(e,t){return null==e?e:xr(e,la(t,3),Iu)},jn.forOwn=function(e,t){return e&&_r(e,la(t,3))},jn.forOwnRight=function(e,t){return e&&wr(e,la(t,3))},jn.get=Au,jn.gt=Zo,jn.gte=Go,jn.has=function(e,t){return null!=e&&ma(e,t,Ar)},jn.hasIn=Cu,jn.head=qa,jn.identity=as,jn.includes=function(e,t,n,r){e=Xo(e)?e:Hu(e),n=n&&!r?mu(n):0;var i=e.length;return n<0&&(n=bn(i+n,0)),lu(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&jt(e,t,n)>-1},jn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:mu(n);return i<0&&(i=bn(r+i,0)),jt(e,t,i)},jn.inRange=function(e,t,n){return t=vu(t),n===i?(n=t,t=0):n=vu(n),function(e,t,n){return e>=xn(t,n)&&e<bn(t,n)}(e=yu(e),t,n)},jn.invoke=Lu,jn.isArguments=Wo,jn.isArray=Vo,jn.isArrayBuffer=qo,jn.isArrayLike=Xo,jn.isArrayLikeObject=$o,jn.isBoolean=function(e){return!0===e||!1===e||ru(e)&&Er(e)==x},jn.isBuffer=Yo,jn.isDate=Ko,jn.isElement=function(e){return ru(e)&&1===e.nodeType&&!ou(e)},jn.isEmpty=function(e){if(null==e)return!0;if(Xo(e)&&(Vo(e)||"string"==typeof e||"function"==typeof e.splice||Yo(e)||fu(e)||Wo(e)))return!e.length;var t=va(e);if(t==M||t==R)return!e.size;if(ka(e))return!zr(e).length;for(var n in e)if(De.call(e,n))return!1;return!0},jn.isEqual=function(e,t){return Or(e,t)},jn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Or(e,t,i,n):!!r},jn.isError=Jo,jn.isFinite=function(e){return"number"==typeof e&&Ft(e)},jn.isFunction=Qo,jn.isInteger=eu,jn.isLength=tu,jn.isMap=iu,jn.isMatch=function(e,t){return e===t||Ir(e,t,fa(t))},jn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Ir(e,t,fa(t),n)},jn.isNaN=function(e){return au(e)&&e!=+e},jn.isNative=function(e){if(Sa(e))throw new ue("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Dr(e)},jn.isNil=function(e){return null==e},jn.isNull=function(e){return null===e},jn.isNumber=au,jn.isObject=nu,jn.isObjectLike=ru,jn.isPlainObject=ou,jn.isRegExp=uu,jn.isSafeInteger=function(e){return eu(e)&&e>=-9007199254740991&&e<=p},jn.isSet=su,jn.isString=lu,jn.isSymbol=cu,jn.isTypedArray=fu,jn.isUndefined=function(e){return e===i},jn.isWeakMap=function(e){return ru(e)&&va(e)==O},jn.isWeakSet=function(e){return ru(e)&&"[object WeakSet]"==Er(e)},jn.join=function(e,t){return null==e?"":Vt.call(e,t)},jn.kebabCase=Vu,jn.last=Ka,jn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=mu(n))<0?bn(r+a,0):xn(a,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):Ut(e,Zt,a,!0)},jn.lowerCase=qu,jn.lowerFirst=Xu,jn.lt=hu,jn.lte=du,jn.max=function(e){return e&&e.length?mr(e,as,Tr):i},jn.maxBy=function(e,t){return e&&e.length?mr(e,la(t,2),Tr):i},jn.mean=function(e){return Gt(e,as)},jn.meanBy=function(e,t){return Gt(e,la(t,2))},jn.min=function(e){return e&&e.length?mr(e,as,Br):i},jn.minBy=function(e,t){return e&&e.length?mr(e,la(t,2),Br):i},jn.stubArray=gs,jn.stubFalse=ys,jn.stubObject=function(){return{}},jn.stubString=function(){return""},jn.stubTrue=function(){return!0},jn.multiply=Ss,jn.nth=function(e,t){return e&&e.length?Gr(e,mu(t)):i},jn.noConflict=function(){return dt._===this&&(dt._=Ue),this},jn.noop=cs,jn.now=Ao,jn.pad=function(e,t,n){e=xu(e);var r=(t=mu(t))?dn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Wi(vt(i),n)+e+Wi(pt(i),n)},jn.padEnd=function(e,t,n){e=xu(e);var r=(t=mu(t))?dn(e):0;return t&&r<t?e+Wi(t-r,n):e},jn.padStart=function(e,t,n){e=xu(e);var r=(t=mu(t))?dn(e):0;return t&&r<t?Wi(t-r,n)+e:e},jn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),wn(xu(e).replace(oe,""),t||0)},jn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&xa(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=vu(e),t===i?(t=e,e=0):t=vu(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=Sn();return xn(e+a*(t-e+lt("1e-"+((a+"").length-1))),t)}return $r(e,t)},jn.reduce=function(e,t,n){var r=Vo(e)?Dt:qt,i=arguments.length<3;return r(e,la(t,4),n,i,dr)},jn.reduceRight=function(e,t,n){var r=Vo(e)?Nt:qt,i=arguments.length<3;return r(e,la(t,4),n,i,pr)},jn.repeat=function(e,t,n){return t=(n?xa(e,t,n):t===i)?1:mu(t),Yr(xu(e),t)},jn.replace=function(){var e=arguments,t=xu(e[0]);return e.length<3?t:t.replace(e[1],e[2])},jn.result=function(e,t,n){var r=-1,a=(t=xi(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[Fa(t[r])];o===i&&(r=a,o=n),e=Qo(o)?o.call(e):o}return e},jn.round=ks,jn.runInContext=e,jn.sample=function(e){return(Vo(e)?Jn:Jr)(e)},jn.size=function(e){if(null==e)return 0;if(Xo(e))return lu(e)?dn(e):e.length;var t=va(e);return t==M||t==R?e.size:zr(e).length},jn.snakeCase=$u,jn.some=function(e,t,n){var r=Vo(e)?zt:ai;return n&&xa(e,t,n)&&(t=i),r(e,la(t,3))},jn.sortedIndex=function(e,t){return oi(e,t)},jn.sortedIndexBy=function(e,t,n){return ui(e,t,la(n,2))},jn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&Ho(e[r],t))return r}return-1},jn.sortedLastIndex=function(e,t){return oi(e,t,!0)},jn.sortedLastIndexBy=function(e,t,n){return ui(e,t,la(n,2),!0)},jn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=oi(e,t,!0)-1;if(Ho(e[n],t))return n}return-1},jn.startCase=Yu,jn.startsWith=function(e,t,n){return e=xu(e),n=null==n?0:sr(mu(n),0,e.length),t=ci(t),e.slice(n,n+t.length)==t},jn.subtract=Ms,jn.sum=function(e){return e&&e.length?Xt(e,as):0},jn.sumBy=function(e,t){return e&&e.length?Xt(e,la(t,2)):0},jn.template=function(e,t,n){var r=jn.templateSettings;n&&xa(e,t,n)&&(t=i),e=xu(e),t=Su({},t,r,Qi);var a,o,u=Su({},t.imports,r.imports,Qi),s=Ou(u),l=Jt(u,s),c=0,f=t.interpolate||we,h="__p += '",d=Te((t.escape||we).source+"|"+f.source+"|"+(f===ee?pe:we).source+"|"+(t.evaluate||we).source+"|$","g"),p="//# sourceURL="+(De.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(d,(function(t,n,r,i,u,s){return r||(r=i),h+=e.slice(c,s).replace(Se,on),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),u&&(o=!0,h+="';\n"+u+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=s+t.length,t})),h+="';\n";var v=De.call(t,"variable")&&t.variable;if(v){if(he.test(v))throw new ue("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(o?h.replace(W,""):h).replace(V,"$1").replace(q,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=es((function(){return ke(s,p+"return "+h).apply(i,l)}));if(m.source=h,Jo(m))throw m;return m},jn.times=function(e,t){if((e=mu(e))<1||e>p)return[];var n=m,r=xn(e,m);t=la(t),e-=m;for(var i=$t(r,t);++n<e;)t(n);return i},jn.toFinite=vu,jn.toInteger=mu,jn.toLength=gu,jn.toLower=function(e){return xu(e).toLowerCase()},jn.toNumber=yu,jn.toSafeInteger=function(e){return e?sr(mu(e),-9007199254740991,p):0===e?e:0},jn.toString=xu,jn.toUpper=function(e){return xu(e).toUpperCase()},jn.trim=function(e,t,n){if((e=xu(e))&&(n||t===i))return Yt(e);if(!e||!(t=ci(t)))return e;var r=pn(e),a=pn(t);return wi(r,en(r,a),tn(r,a)+1).join("")},jn.trimEnd=function(e,t,n){if((e=xu(e))&&(n||t===i))return e.slice(0,vn(e)+1);if(!e||!(t=ci(t)))return e;var r=pn(e);return wi(r,0,tn(r,pn(t))+1).join("")},jn.trimStart=function(e,t,n){if((e=xu(e))&&(n||t===i))return e.replace(oe,"");if(!e||!(t=ci(t)))return e;var r=pn(e);return wi(r,en(r,pn(t))).join("")},jn.truncate=function(e,t){var n=30,r="...";if(nu(t)){var a="separator"in t?t.separator:a;n="length"in t?mu(t.length):n,r="omission"in t?ci(t.omission):r}var o=(e=xu(e)).length;if(un(e)){var u=pn(e);o=u.length}if(n>=o)return e;var s=n-dn(r);if(s<1)return r;var l=u?wi(u,0,s).join(""):e.slice(0,s);if(a===i)return l+r;if(u&&(s+=l.length-s),uu(a)){if(e.slice(s).search(a)){var c,f=l;for(a.global||(a=Te(a.source,xu(ve.exec(a))+"g")),a.lastIndex=0;c=a.exec(f);)var h=c.index;l=l.slice(0,h===i?s:h)}}else if(e.indexOf(ci(a),s)!=s){var d=l.lastIndexOf(a);d>-1&&(l=l.slice(0,d))}return l+r},jn.unescape=function(e){return(e=xu(e))&&Y.test(e)?e.replace(X,mn):e},jn.uniqueId=function(e){var t=++Ne;return xu(e)+t},jn.upperCase=Ku,jn.upperFirst=Ju,jn.each=xo,jn.eachRight=_o,jn.first=qa,ls(jn,function(){var e={};return _r(jn,(function(t,n){De.call(jn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),jn.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){jn[e].placeholder=jn})),Tt(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===i?1:bn(mu(n),0);var r=this.__filtered__&&!t?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=xn(n,r.__takeCount__):r.__views__.push({size:xn(n,m),type:e+(r.__dir__<0?"Right":"")}),r},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:la(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(as)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Kr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Pr(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(zo(la(e)))},Wn.prototype.slice=function(e,t){e=mu(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=mu(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(m)},_r(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=jn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(jn.prototype[t]=function(){var t=this.__wrapped__,u=r?[1]:arguments,s=t instanceof Wn,l=u[0],c=s||Vo(t),f=function(e){var t=a.apply(jn,It([e],u));return r&&h?t[0]:t};c&&n&&"function"==typeof l&&1!=l.length&&(s=c=!1);var h=this.__chain__,d=!!this.__actions__.length,p=o&&!h,v=s&&!d;if(!o&&c){t=v?t:new Wn(this);var m=e.apply(t,u);return m.__actions__.push({func:vo,args:[f],thisArg:i}),new Gn(m,h)}return p&&v?e.apply(this,u):(m=this.thru(f),p?r?m.value()[0]:m.value():m)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Re[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);jn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Vo(i)?i:[],e)}return this[n]((function(n){return t.apply(Vo(n)?n:[],e)}))}})),_r(Wn.prototype,(function(e,t){var n=jn[t];if(n){var r=n.name+"";De.call(Ln,r)||(Ln[r]=[]),Ln[r].push({name:t,func:n})}})),Ln[ji(i,2).name]=[{name:"wrapper",func:i}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Ri(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ri(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ri(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Vo(e),r=t<0,i=n?e.length:0,a=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var a=n[r],o=a.size;switch(a.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=xn(t,e+o);break;case"takeRight":e=bn(e,t-o)}}return{start:e,end:t}}(0,i,this.__views__),o=a.start,u=a.end,s=u-o,l=r?u:o-1,c=this.__iteratees__,f=c.length,h=0,d=xn(s,this.__takeCount__);if(!n||!r&&i==s&&d==s)return vi(e,this.__actions__);var p=[];e:for(;s--&&h<d;){for(var v=-1,m=e[l+=t];++v<f;){var g=c[v],y=g.iteratee,b=g.type,x=y(m);if(2==b)m=x;else if(!x){if(1==b)continue e;break e}}p[h++]=m}return p},jn.prototype.at=mo,jn.prototype.chain=function(){return po(this)},jn.prototype.commit=function(){return new Gn(this.value(),this.__chain__)},jn.prototype.next=function(){this.__values__===i&&(this.__values__=pu(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},jn.prototype.plant=function(e){for(var t,n=this;n instanceof Zn;){var r=Ua(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},jn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:vo,args:[to],thisArg:i}),new Gn(t,this.__chain__)}return this.thru(to)},jn.prototype.toJSON=jn.prototype.valueOf=jn.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},jn.prototype.first=jn.prototype.head,Ke&&(jn.prototype[Ke]=function(){return this}),jn}();dt._=gn,(r=function(){return gn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},8089:function(e,t,n){"use strict";var r=n(9105),i=n(7046),a=n(9944),o=n(7809);e.exports=function(e,t,n){if(!r(e))throw new TypeError("expected an object");if("string"!==typeof t||null==n)return i.apply(null,arguments);if("string"===typeof n)return o(e,t,n),e;var u=a(e,t);return r(n)&&r(u)&&(n=i({},u,n)),o(e,t,n),e}},7046:function(e,t,n){"use strict";var r=n(9105),i=n(8845);function a(e,t){for(var n=arguments.length,r=0;++r<n;){var a=arguments[r];u(a)&&i(a,o,e)}return e}function o(e,t){if(function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e}(t)){var n=this[t];u(e)&&u(n)?a(n,e):this[t]=e}}function u(e){return r(e)&&!Array.isArray(e)}e.exports=a},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5585);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope");var O=Symbol.for("react.debug_trace_mode"),I=Symbol.for("react.offscreen"),D=Symbol.for("react.legacy_hidden"),N=Symbol.for("react.cache"),z=Symbol.for("react.tracing_marker"),F=Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var U,j=Object.assign;function H(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var Z=!1;function G(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?H(e):""}function W(e){switch(e.tag){case 5:return H(e.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return e=G(e.type,!1);case 11:return e=G(e.type.render,!1);case 1:return e=G(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case w:return"Portal";case M:return"Profiler";case k:return"StrictMode";case C:return"Suspense";case R:return"SuspenseList";case N:return"Cache";case z:return"TracingMarker"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 23:return"LegacyHidden";case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function X(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=X(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=X(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,X(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ae=Array.isArray;function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+X(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(ae(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:X(n)}}function le(e,t){var n=X(t.value),r=X(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var de,pe=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((de=de||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=de.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ve(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function ye(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function be(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ye(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(me).forEach((function(e){ge.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]}))}));var xe=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _e(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Se=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Me=null,Ee=null,Te=null;function Ae(e){if(e=yi(e)){if("function"!==typeof Me)throw Error(a(280));var t=e.stateNode;t&&(t=xi(t),Me(e.stateNode,e.type,t))}}function Ce(e){Ee?Te?Te.push(e):Te=[e]:Ee=e}function Re(){if(Ee){var e=Ee,t=Te;if(Te=Ee=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Pe(e,t){return e(t)}function Le(){}var Oe=!1;function Ie(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Pe(e,t,n)}finally{Oe=!1,(null!==Ee||null!==Te)&&(Le(),Re())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ne=!1;if(c)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ql){Ne=!1}function Fe(e,t,n,r,i,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Be=!1,Ue=null,je=!1,He=null,Ze={onError:function(e){Be=!0,Ue=e}};function Ge(e,t,n,r,i,a,o,u,s){Be=!1,Ue=null,Fe.apply(Ze,arguments)}function We(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(We(e)!==e)throw Error(a(188))}function Xe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=We(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Qe=i.unstable_requestPaint,et=i.unstable_now,tt=i.unstable_getCurrentPriorityLevel,nt=i.unstable_ImmediatePriority,rt=i.unstable_UserBlockingPriority,it=i.unstable_NormalPriority,at=i.unstable_LowPriority,ot=i.unstable_IdlePriority,ut=null,st=null;var lt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ct(e)/ft|0)|0},ct=Math.log,ft=Math.LN2;var ht=64,dt=4194304;function pt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function vt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=pt(u):0!==(a&=o)&&(r=pt(a))}else 0!==(o=n&~i)?r=pt(o):0!==a&&(r=pt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-lt(t)),r|=e[n],t&=~i;return r}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-lt(t)]=n}function xt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-lt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,kt,Mt,Et,Tt,At=!1,Ct=[],Rt=null,Pt=null,Lt=null,Ot=new Map,It=new Map,Dt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zt(e,t){switch(e){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Pt=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Ft(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Bt(e){var t=gi(e.target);if(null!==t){var n=We(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void Tt(e.priority,(function(){Mt(n)}))}else if(3===t&&n.stateNode.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Se=r,n.target.dispatchEvent(r),Se=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Ht(){At=!1,null!==Rt&&Ut(Rt)&&(Rt=null),null!==Pt&&Ut(Pt)&&(Pt=null),null!==Lt&&Ut(Lt)&&(Lt=null),Ot.forEach(jt),It.forEach(jt)}function Zt(e,t){e.blockedOn===t&&(e.blockedOn=null,At||(At=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ht)))}function Gt(e){function t(t){return Zt(t,e)}if(0<Ct.length){Zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Rt&&Zt(Rt,e),null!==Pt&&Zt(Pt,e),null!==Lt&&Zt(Lt,e),Ot.forEach(t),It.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Bt(n),null===n.blockedOn&&Dt.shift()}var Wt=x.ReactCurrentBatchConfig,Vt=!0;function qt(e,t,n,r){var i=_t,a=Wt.transition;Wt.transition=null;try{_t=1,$t(e,t,n,r)}finally{_t=i,Wt.transition=a}}function Xt(e,t,n,r){var i=_t,a=Wt.transition;Wt.transition=null;try{_t=4,$t(e,t,n,r)}finally{_t=i,Wt.transition=a}}function $t(e,t,n,r){if(Vt){var i=Kt(e,t,n,r);if(null===i)Zr(e,t,r,Yt,n),zt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Rt=Ft(Rt,e,t,n,r,i),!0;case"dragenter":return Pt=Ft(Pt,e,t,n,r,i),!0;case"mouseover":return Lt=Ft(Lt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Ot.set(a,Ft(Ot.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,It.set(a,Ft(It.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(zt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var a=yi(i);if(null!==a&&St(a),null===(a=Kt(e,t,n,r))&&Zr(e,t,r,Yt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Zr(e,t,r,null,n)}}var Yt=null;function Kt(e,t,n,r){if(Yt=null,null!==(e=gi(e=ke(r))))if(null===(t=We(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tt()){case nt:return 1;case rt:return 4;case it:case at:return 16;case ot:return 536870912;default:return 16}default:return 16}}var Qt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function on(){return!1}function un(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:on,this.isPropagationStopped=on,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var sn,ln,cn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=un(fn),dn=j({},fn,{view:0,detail:0}),pn=un(dn),vn=j({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(sn=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=sn=0,cn=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=un(vn),gn=un(j({},vn,{dataTransfer:0})),yn=un(j({},dn,{relatedTarget:0})),bn=un(j({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=un(j({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),_n=un(j({},fn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function En(){return Mn}var Tn=un(j({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),An=un(j({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Cn=un(j({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Rn=un(j({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=un(j({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Ln=[9,13,27,32],On=c&&"CompositionEvent"in window,In=null;c&&"documentMode"in document&&(In=document.documentMode);var Dn=c&&"TextEvent"in window&&!In,Nn=c&&(!On||In&&8<In&&11>=In),zn=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Gn(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Vn=null;function qn(e){zr(e,0)}function Xn(e){if(K(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Yn=!1;if(c){var Kn;if(c){var Jn="oninput"in document;if(!Jn){var Qn=document.createElement("div");Qn.setAttribute("oninput","return;"),Jn="function"===typeof Qn.oninput}Kn=Jn}else Kn=!1;Yn=Kn&&(!document.documentMode||9<document.documentMode)}function er(){Wn&&(Wn.detachEvent("onpropertychange",tr),Vn=Wn=null)}function tr(e){if("value"===e.propertyName&&Xn(Vn)){var t=[];Gn(t,Vn,e,ke(e)),Ie(qn,t)}}function nr(e,t,n){"focusin"===e?(er(),Vn=n,(Wn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Vn)}function ir(e,t){if("click"===e)return Xn(t)}function ar(e,t){if("input"===e||"change"===e)return Xn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!or(e[i],t[i]))return!1}return!0}function sr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=sr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sr(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function dr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=c&&"documentMode"in document&&11>=document.documentMode,vr=null,mr=null,gr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==vr||vr!==J(r)||("selectionStart"in(r=vr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&ur(gr,r)||(gr=r,0<(r=Wr(mr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},wr={},Sr={};function kr(e){if(wr[e])return wr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return wr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Mr=kr("animationend"),Er=kr("animationiteration"),Tr=kr("animationstart"),Ar=kr("transitionend"),Cr=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Cr.set(e,t),s(t,[e])}for(var Lr=0;Lr<Rr.length;Lr++){var Or=Rr[Lr];Pr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Pr(Mr,"onAnimationEnd"),Pr(Er,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ar,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,l){if(Ge.apply(this,arguments),Be){if(!Be)throw Error(a(198));var c=Ue;Be=!1,Ue=null,je||(je=!0,He=c)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Nr(i,u,l),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,l=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Nr(i,u,l),a=s}}}if(je)throw e=He,je=!1,He=null,e}function Fr(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Dr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Jt(t)){case 1:var i=qt;break;case 4:i=Xt;break;default:i=$t}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ie((function(){var r=a,i=ke(n),o=[];e:{var u=Cr.get(e);if(void 0!==u){var s=hn,l=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":l="focus",s=yn;break;case"focusout":l="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Cn;break;case Mr:case Er:case Tr:s=bn;break;case Ar:s=Rn;break;case"scroll":s=pn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=An}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==u?u+"Capture":null:u;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=De(p,h))&&c.push(Gr(p,v,d)))),f)break;p=p.return}0<c.length&&(u=new s(u,l,null,n,i),o.push({event:u,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===Se||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[di])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(f=We(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==l?u:bi(l),(u=new c(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,s&&l)e:{for(h=l,p=0,d=c=s;d;d=Vr(d))p++;for(d=0,v=h;v;v=Vr(v))d++;for(;0<p-d;)c=Vr(c),p--;for(;0<d-p;)h=Vr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Vr(c),h=Vr(h)}c=null}else c=null;null!==s&&qr(o,u,s,c,!1),null!==l&&null!==f&&qr(o,f,l,c,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(Zn(u))if(Yn)m=ar;else{m=rr;var g=nr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ir);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&ie(u,"number",u.value)),g=r?bi(r):window,e){case"focusin":(Zn(g)||"true"===g.contentEditable)&&(vr=g,mr=r,gr=null);break;case"focusout":gr=mr=vr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(o,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else jn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Nn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==b?"onCompositionEnd"===b&&jn&&(y=nn()):(en="value"in(Qt=i)?Qt.value:Qt.textContent,jn=!0)),0<(g=Wr(r,b)).length&&(b=new _n(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Un(n))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,zn);case"textInput":return(e=t.data)===zn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!On&&Bn(e,t)?(e=nn(),tn=en=Qt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}zr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=De(e,n))&&r.unshift(Gr(e,a,i)),null!=(a=De(e,t))&&r.push(Gr(e,a,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,i?null!=(s=De(n,a))&&o.unshift(Gr(n,s,u)):i||null!=(s=De(n,a))&&o.push(Gr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Xr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Xr,"\n").replace($r,"")}function Kr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(424))}function Jr(){}var Qr=null,ei=null;function ti(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ni="function"===typeof setTimeout?setTimeout:void 0,ri="function"===typeof clearTimeout?clearTimeout:void 0,ii="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ii?function(e){return ii.resolve(null).then(e).catch(oi)}:ni;function oi(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Gt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Gt(t)}function si(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ci=Math.random().toString(36).slice(2),fi="__reactFiber$"+ci,hi="__reactProps$"+ci,di="__reactContainer$"+ci,pi="__reactEvents$"+ci,vi="__reactListeners$"+ci,mi="__reactHandles$"+ci;function gi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[di]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[fi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[fi]||e[di])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function xi(e){return e[hi]||null}var _i=[],wi=-1;function Si(e){return{current:e}}function ki(e){0>wi||(e.current=_i[wi],_i[wi]=null,wi--)}function Mi(e,t){wi++,_i[wi]=e.current,e.current=t}var Ei={},Ti=Si(Ei),Ai=Si(!1),Ci=Ei;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Li(){ki(Ai),ki(Ti)}function Oi(e,t,n){if(Ti.current!==Ei)throw Error(a(168));Mi(Ti,t),Mi(Ai,n)}function Ii(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return j({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Ci=Ti.current,Mi(Ti,e),Mi(Ai,Ai.current),!0}function Ni(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ii(e,t,Ci),r.__reactInternalMemoizedMergedChildContext=e,ki(Ai),ki(Ti),Mi(Ti,e)):ki(Ai),Mi(Ai,n)}var zi=null,Fi=!1,Bi=!1;function Ui(e){null===zi?zi=[e]:zi.push(e)}function ji(){if(!Bi&&null!==zi){Bi=!0;var e=0,t=_t;try{var n=zi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}zi=null,Fi=!1}catch(i){throw null!==zi&&(zi=zi.slice(e+1)),Ye(nt,ji),i}finally{_t=t,Bi=!1}}return null}var Hi=x.ReactCurrentBatchConfig;function Zi(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Gi=Si(null),Wi=null,Vi=null,qi=null;function Xi(){qi=Vi=Wi=null}function $i(e){var t=Gi.current;ki(Gi),e._currentValue=t}function Yi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ki(e,t){Wi=e,qi=Vi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(yu=!0),e.firstContext=null)}function Ji(e){var t=e._currentValue;if(qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Vi){if(null===Wi)throw Error(a(308));Vi=e,Wi.dependencies={lanes:0,firstContext:e}}else Vi=Vi.next=e;return t}var Qi=null,ea=!1;function ta(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function na(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ra(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ia(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==ys&&0!==(1&e.mode)&&0===(2&gs)?(null===(e=n.interleaved)?(t.next=t,null===Qi?Qi=[n]:Qi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function aa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}function oa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ua(e,t,n,r){var i=e.updateQueue;ea=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,l=s.next;s.next=null,null===o?a=l:o.next=l,o=s;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===u?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,c=l=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=j({},f,h);break e;case 2:ea=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(l=c=d,s=f):c=c.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(s=f),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function sa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var la=(new r.Component).refs;function ca(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fa={isMounted:function(e){return!!(e=e._reactInternals)&&We(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Hs(),i=Zs(e),a=ra(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ia(e,a),null!==(t=Gs(e,i,r))&&aa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Hs(),i=Zs(e),a=ra(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),ia(e,a),null!==(t=Gs(e,i,r))&&aa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Hs(),r=Zs(e),i=ra(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),ia(e,i),null!==(t=Gs(e,r,n))&&aa(t,e,r)}};function ha(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,a))}function da(e,t,n){var r=!1,i=Ei,a=t.contextType;return"object"===typeof a&&null!==a?a=Ji(a):(i=Pi(t)?Ci:Ti.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ei),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function pa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function va(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=la,ta(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ji(a):(a=Pi(t)?Ci:Ti.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ca(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&fa.enqueueReplaceState(i,i.state,null),ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ma=[],ga=0,ya=null,ba=0,xa=[],_a=0,wa=null,Sa=1,ka="";function Ma(e,t){ma[ga++]=ba,ma[ga++]=ya,ya=e,ba=t}function Ea(e,t,n){xa[_a++]=Sa,xa[_a++]=ka,xa[_a++]=wa,wa=e;var r=Sa;e=ka;var i=32-lt(r)-1;r&=~(1<<i),n+=1;var a=32-lt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Sa=1<<32-lt(t)+i|n<<i|r,ka=a+e}else Sa=1<<a|n<<i|r,ka=e}function Ta(e){null!==e.return&&(Ma(e,1),Ea(e,1,0))}function Aa(e){for(;e===ya;)ya=ma[--ga],ma[ga]=null,ba=ma[--ga],ma[ga]=null;for(;e===wa;)wa=xa[--_a],xa[_a]=null,ka=xa[--_a],xa[_a]=null,Sa=xa[--_a],xa[_a]=null}var Ca=null,Ra=null,Pa=!1,La=null;function Oa(e,t){var n=xl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Ia(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ca=e,Ra=si(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ca=e,Ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==wa?{id:Sa,overflow:ka}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=xl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ca=e,Ra=null,!0);default:return!1}}function Da(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Na(e){if(Pa){var t=Ra;if(t){var n=t;if(!Ia(e,t)){if(Da(e))throw Error(a(418));t=si(n.nextSibling);var r=Ca;t&&Ia(e,t)?Oa(r,n):(e.flags=-4097&e.flags|2,Pa=!1,Ca=e)}}else{if(Da(e))throw Error(a(418));e.flags=-4097&e.flags|2,Pa=!1,Ca=e}}}function za(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ca=e}function Fa(e){if(e!==Ca)return!1;if(!Pa)return za(e),Pa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ti(e.type,e.memoizedProps)),t&&(t=Ra)){if(Da(e)){for(e=Ra;e;)e=si(e.nextSibling);throw Error(a(418))}for(;t;)Oa(e,t),t=si(t.nextSibling)}if(za(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ra=si(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ra=null}}else Ra=Ca?si(e.stateNode.nextSibling):null;return!0}function Ba(){Ra=Ca=null,Pa=!1}function Ua(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===la&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ja(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ha(e){return(0,e._init)(e._payload)}function Za(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=wl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=El(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===L&&Ha(a)===t.type)?((r=i(t,n.props)).ref=Ua(e,t,n),r.return=e,r):((r=Sl(n.type,n.key,n.props,null,e.mode,r)).ref=Ua(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Tl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=kl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=El(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Sl(t.type,t.key,t.props,null,e.mode,n)).ref=Ua(e,null,t),n.return=e,n;case w:return(t=Tl(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(ae(t)||B(t))return(t=kl(t,e.mode,n,null)).return=e,t;ja(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case L:return d(e,t,(i=n._init)(n._payload),r)}if(ae(n)||B(n))return null!==i?null:f(e,t,n,r,null);ja(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return p(e,t,n,(0,r._init)(r._payload),i)}if(ae(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);ja(t,r)}return null}function v(i,a,u,s){for(var l=null,c=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=d(i,f,u[v],s);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g,f=m}if(v===u.length)return n(i,f),Pa&&Ma(i,v),l;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return Pa&&Ma(i,v),l}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m);return e&&f.forEach((function(e){return t(i,e)})),Pa&&Ma(i,v),l}function m(i,u,s,l){var c=B(s);if("function"!==typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var f=c=null,v=u,m=u=0,g=null,y=s.next();null!==v&&!y.done;m++,y=s.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=d(i,v,y.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?c=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),Pa&&Ma(i,m),c;if(null===v){for(;!y.done;m++,y=s.next())null!==(y=h(i,y.value,l))&&(u=o(y,u,m),null===f?c=y:f.sibling=y,f=y);return Pa&&Ma(i,m),c}for(v=r(i,v);!y.done;m++,y=s.next())null!==(y=p(v,i,m,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),u=o(y,u,m),null===f?c=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),Pa&&Ma(i,m),c}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===S){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===L&&Ha(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ua(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===S?((a=kl(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Sl(o.type,o.key,o.props,null,r.mode,s)).ref=Ua(r,a,o),s.return=r,r=s)}return u(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Tl(o,r.mode,s)).return=r,r=a}return u(r);case L:return e(r,a,(c=o._init)(o._payload),s)}if(ae(o))return v(r,a,o,s);if(B(o))return m(r,a,o,s);ja(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=El(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ga=Za(!0),Wa=Za(!1),Va={},qa=Si(Va),Xa=Si(Va),$a=Si(Va);function Ya(e){if(e===Va)throw Error(a(174));return e}function Ka(e,t){switch(Mi($a,t),Mi(Xa,e),Mi(qa,Va),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(qa),Mi(qa,t)}function Ja(){ki(qa),ki(Xa),ki($a)}function Qa(e){Ya($a.current);var t=Ya(qa.current),n=he(t,e.type);t!==n&&(Mi(Xa,e),Mi(qa,n))}function eo(e){Xa.current===e&&(ki(qa),ki(Xa))}var to=Si(0);function no(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ro=[];function io(){for(var e=0;e<ro.length;e++)ro[e]._workInProgressVersionPrimary=null;ro.length=0}var ao=x.ReactCurrentDispatcher,oo=x.ReactCurrentBatchConfig,uo=0,so=null,lo=null,co=null,fo=!1,ho=!1,po=0,vo=0;function mo(){throw Error(a(321))}function go(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function yo(e,t,n,r,i,o){if(uo=o,so=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ao.current=null===e||null===e.memoizedState?eu:tu,e=n(r,i),ho){o=0;do{if(ho=!1,po=0,25<=o)throw Error(a(301));o+=1,co=lo=null,t.updateQueue=null,ao.current=nu,e=n(r,i)}while(ho)}if(ao.current=Qo,t=null!==lo&&null!==lo.next,uo=0,co=lo=so=null,fo=!1,t)throw Error(a(300));return e}function bo(){var e=0!==po;return po=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?so.memoizedState=co=e:co=co.next=e,co}function _o(){if(null===lo){var e=so.alternate;e=null!==e?e.memoizedState:null}else e=lo.next;var t=null===co?so.memoizedState:co.next;if(null!==t)co=t,lo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(lo=e).memoizedState,baseState:lo.baseState,baseQueue:lo.baseQueue,queue:lo.queue,next:null},null===co?so.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function So(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=lo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,l=null,c=o;do{var f=c.lane;if((uo&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=h,u=r):l=l.next=h,so.lanes|=f,Ms|=f}c=c.next}while(null!==c&&c!==o);null===l?u=r:l.next=s,or(r,t.memoizedState)||(yu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,so.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ko(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);or(o,t.memoizedState)||(yu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Mo(){}function Eo(e,t){var n=so,r=_o(),i=t(),o=!or(r.memoizedState,i);if(o&&(r.memoizedState=i,yu=!0),r=r.queue,zo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Lo(9,Ao.bind(null,n,r,i,t),void 0,null),null===ys)throw Error(a(349));0!==(30&uo)||To(n,t,i)}return i}function To(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=so.updateQueue)?(t={lastEffect:null,stores:null},so.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,Ro(t)&&Gs(e,1,-1)}function Co(e,t,n){return n((function(){Ro(t)&&Gs(e,1,-1)}))}function Ro(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Po(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Xo.bind(null,so,e),[t.memoizedState,e]}function Lo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=so.updateQueue)?(t={lastEffect:null,stores:null},so.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oo(){return _o().memoizedState}function Io(e,t,n,r){var i=xo();so.flags|=e,i.memoizedState=Lo(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==lo){var o=lo.memoizedState;if(a=o.destroy,null!==r&&go(r,o.deps))return void(i.memoizedState=Lo(t,n,a,r))}so.flags|=e,i.memoizedState=Lo(1|t,n,a,r)}function No(e,t){return Io(8390656,8,e,t)}function zo(e,t){return Do(2048,8,e,t)}function Fo(e,t){return Do(4,2,e,t)}function Bo(e,t){return Do(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function jo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Uo.bind(null,t,e),n)}function Ho(){}function Zo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&go(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=oo.transition;oo.transition={};try{e(!1),t()}finally{_t=n,oo.transition=r}}function Vo(){return _o().memoizedState}function qo(e,t,n){var r=Zs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$o(e)?Yo(t,n):(Ko(e,t,n),null!==(e=Gs(e,r,n=Hs()))&&Jo(e,t,r))}function Xo(e,t,n){var r=Zs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($o(e))Yo(t,i);else{Ko(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,or(u,o))return}catch(s){}null!==(e=Gs(e,r,n=Hs()))&&Jo(e,t,r)}}function $o(e){var t=e.alternate;return e===so||null!==t&&t===so}function Yo(e,t){ho=fo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ko(e,t,n){null!==ys&&0!==(1&e.mode)&&0===(2&gs)?(null===(e=t.interleaved)?(n.next=n,null===Qi?Qi=[t]:Qi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}var Qo={readContext:Ji,useCallback:mo,useContext:mo,useEffect:mo,useImperativeHandle:mo,useInsertionEffect:mo,useLayoutEffect:mo,useMemo:mo,useReducer:mo,useRef:mo,useState:mo,useDebugValue:mo,useDeferredValue:mo,useTransition:mo,useMutableSource:mo,useSyncExternalStore:mo,useId:mo,unstable_isNewReconciler:!1},eu={readContext:Ji,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Ji,useEffect:No,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Io(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Io(4194308,4,e,t)},useInsertionEffect:function(e,t){return Io(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qo.bind(null,so,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Po,useDebugValue:Ho,useDeferredValue:function(e){var t=Po(e),n=t[0],r=t[1];return No((function(){var t=oo.transition;oo.transition={};try{r(e)}finally{oo.transition=t}}),[e]),n},useTransition:function(){var e=Po(!1),t=e[0];return e=Wo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=so,i=xo();if(Pa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===ys)throw Error(a(349));0!==(30&uo)||To(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,No(Co.bind(null,r,o,e),[e]),r.flags|=2048,Lo(9,Ao.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=ys.identifierPrefix;if(Pa){var n=ka;t=":"+t+"R"+(n=(Sa&~(1<<32-lt(Sa)-1)).toString(32)+n),0<(n=po++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=vo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},tu={readContext:Ji,useCallback:Zo,useContext:Ji,useEffect:zo,useImperativeHandle:jo,useInsertionEffect:Fo,useLayoutEffect:Bo,useMemo:Go,useReducer:So,useRef:Oo,useState:function(){return So(wo)},useDebugValue:Ho,useDeferredValue:function(e){var t=So(wo),n=t[0],r=t[1];return zo((function(){var t=oo.transition;oo.transition={};try{r(e)}finally{oo.transition=t}}),[e]),n},useTransition:function(){return[So(wo)[0],_o().memoizedState]},useMutableSource:Mo,useSyncExternalStore:Eo,useId:Vo,unstable_isNewReconciler:!1},nu={readContext:Ji,useCallback:Zo,useContext:Ji,useEffect:zo,useImperativeHandle:jo,useInsertionEffect:Fo,useLayoutEffect:Bo,useMemo:Go,useReducer:ko,useRef:Oo,useState:function(){return ko(wo)},useDebugValue:Ho,useDeferredValue:function(e){var t=ko(wo),n=t[0],r=t[1];return zo((function(){var t=oo.transition;oo.transition={};try{r(e)}finally{oo.transition=t}}),[e]),n},useTransition:function(){return[ko(wo)[0],_o().memoizedState]},useMutableSource:Mo,useSyncExternalStore:Eo,useId:Vo,unstable_isNewReconciler:!1};function ru(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function iu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var au,ou,uu,su="function"===typeof WeakMap?WeakMap:Map;function lu(e,t,n){(n=ra(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ls||(Ls=!0,Os=r),iu(0,t)},n}function cu(e,t,n){(n=ra(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){iu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){iu(0,t),"function"!==typeof r&&(null===Is?Is=new Set([this]):Is.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new su;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pl.bind(null,e,t,n),t.then(e,e))}function hu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function du(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ra(-1,1)).tag=2,ia(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function pu(e,t){if(!Pa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function vu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mu(e,t,n){var r=t.pendingProps;switch(Aa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vu(t),null;case 1:case 17:return Pi(t.type)&&Li(),vu(t),null;case 3:return r=t.stateNode,Ja(),ki(Ai),ki(Ti),io(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Fa(t)?t.flags|=4:r.isDehydrated||(t.flags|=1024)),vu(t),null;case 5:eo(t);var i=Ya($a.current);if(n=t.type,null!==e&&null!=t.stateNode)ou(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return vu(t),null}if(e=Ya(qa.current),Fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[fi]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Ir.length;i++)Fr(Ir[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":ee(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":se(r,o),Fr("invalid",r)}for(var s in _e(n,o),i=null,o)if(o.hasOwnProperty(s)){var l=o[s];"children"===s?"string"===typeof l?r.textContent!==l&&(Kr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(Kr(r.textContent,l,e),i=["children",""+l]):u.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&Fr("scroll",r)}switch(n){case"input":Y(r),re(r,o,!0);break;case"textarea":Y(r),ce(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=fe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[fi]=t,e[hi]=r,au(e,t),t.stateNode=e;e:{switch(s=we(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ir.length;i++)Fr(Ir[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":ee(e,r),i=Q(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":se(e,r),i=ue(e,r),Fr("invalid",e)}for(o in _e(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?be(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&pe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&ve(e,c):"number"===typeof c&&ve(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Fr("scroll",e):null!=c&&b(e,o,c,s))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),ce(e);break;case"option":null!=r.value&&e.setAttribute("value",""+X(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?oe(e,!!r.multiple,o,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return vu(t),null;case 6:if(e&&null!=t.stateNode)uu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ya($a.current),Ya(qa.current),Fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(o=r.nodeValue!==n)&&null!==(e=Ca))switch(s=0!==(1&e.mode),e.tag){case 3:Kr(r.nodeValue,n,s);break;case 5:!0!==e.memoizedProps[void 0]&&Kr(r.nodeValue,n,s)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return vu(t),null;case 13:if(ki(to),r=t.memoizedState,Pa&&null!==Ra&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ra;r;)r=si(r.nextSibling);return Ba(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Fa(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[fi]=t}else Ba(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return vu(t),null}return null!==La&&(o=La,null===Cs?Cs=o:Cs.push.apply(Cs,o),La=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Fa(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&to.current)?0===Ss&&(Ss=3):rl())),null!==t.updateQueue&&(t.flags|=4),vu(t),null);case 4:return Ja(),null===e&&jr(t.stateNode.containerInfo),vu(t),null;case 10:return $i(t.type._context),vu(t),null;case 19:if(ki(to),null===(o=t.memoizedState))return vu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)pu(o,!1);else{if(0!==Ss||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=no(e))){for(t.flags|=128,pu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Mi(to,1&to.current|2),t.child}e=e.sibling}null!==o.tail&&et()>Ps&&(t.flags|=128,r=!0,pu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=no(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),pu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Pa)return vu(t),null}else 2*et()-o.renderingStartTime>Ps&&1073741824!==n&&(t.flags|=128,r=!0,pu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=et(),t.sibling=null,n=to.current,Mi(to,r?1&n|2:1&n),t):(vu(t),null);case 22:case 23:return Qs(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&"unstable-defer-without-hiding"!==r.mode&&23!==t.tag&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&_s)&&(vu(t),23!==t.tag&&6&t.subtreeFlags&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=8192)):vu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}au=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ou=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ya(qa.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=ue(e,i),r=ue(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in _e(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(u.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(u.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Fr("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},uu=function(e,t,n,r){n!==r&&(t.flags|=4)};var gu=x.ReactCurrentOwner,yu=!1;function bu(e,t,n,r){t.child=null===e?Wa(t,null,n,r):Ga(t,e.child,n,r)}function xu(e,t,n,r,i){n=n.render;var a=t.ref;return Ki(t,i),r=yo(e,t,n,r,a,i),n=bo(),null===e||yu?(Pa&&n&&Ta(t),t.flags|=1,bu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uu(e,t,i))}function _u(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||_l(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Sl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(o,r)&&e.ref===t.ref)return Uu(e,t,i)}return t.flags|=1,(e=wl(a,r)).ref=t.ref,e.return=t,t.child=e}function wu(e,t,n,r,i){if(null!==e&&ur(e.memoizedProps,r)&&e.ref===t.ref){if(yu=!1,0===(e.lanes&i))return t.lanes=e.lanes,Uu(e,t,i);0!==(131072&e.flags)&&(yu=!0)}return Mu(e,t,n,r,i)}function Su(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},Mi(ws,_s),_s|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Mi(ws,_s),_s|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,Mi(ws,_s),_s|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Mi(ws,_s),_s|=r;return bu(e,t,i,n),t.child}function ku(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Mu(e,t,n,r,i){var a=Pi(n)?Ci:Ti.current;return a=Ri(t,a),Ki(t,i),n=yo(e,t,n,r,a,i),r=bo(),null===e||yu?(Pa&&r&&Ta(t),t.flags|=1,bu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uu(e,t,i))}function Eu(e,t,n,r,i){if(Pi(n)){var a=!0;Di(t)}else a=!1;if(Ki(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),da(t,n,r),va(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ji(l):l=Ri(t,l=Pi(n)?Ci:Ti.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==l)&&pa(t,o,r,l),ea=!1;var h=t.memoizedState;o.state=h,ua(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ai.current||ea?("function"===typeof c&&(ca(t,n,c,r),s=t.memoizedState),(u=ea||ha(t,n,u,r,h,s,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,na(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:Zi(t.type,u),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ji(s):s=Ri(t,s=Pi(n)?Ci:Ti.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&pa(t,o,r,s),ea=!1,h=t.memoizedState,o.state=h,ua(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ai.current||ea?("function"===typeof d&&(ca(t,n,d,r),p=t.memoizedState),(l=ea||ha(t,n,l,r,h,p,s)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Tu(e,t,n,r,a,i)}function Tu(e,t,n,r,i,a){ku(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ni(t,n,!1),Uu(e,t,a);r=t.stateNode,gu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ga(t,e.child,null,a),t.child=Ga(t,null,u,a)):bu(e,t,u,a),t.memoizedState=r.state,i&&Ni(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),Ka(e,t.containerInfo)}var Cu={dehydrated:null,treeContext:null,retryLane:0};function Ru(e){return{baseLanes:e,cachePool:null}}function Pu(e,t,n){var r,i=t.pendingProps,o=to.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Mi(to,1&o),null===e)return Na(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(e=i.children,o=i.fallback,u?(e=Ou(t,e,o,n),t.child.memoizedState=Ru(n),t.memoizedState=Cu,e):"number"===typeof i.unstable_expectedLoadTime?(e=Ou(t,e,o,n),t.child.memoizedState=Ru(n),t.memoizedState=Cu,t.lanes=4194304,e):Lu(t,e));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Nu(e,t,n,Error(a(421)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Ml({mode:"visible",children:i.children},o,0,null),(u=kl(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&Ga(t,e.child,null,n),t.child.memoizedState=Ru(n),t.memoizedState=Cu,u);if(0===(1&t.mode))t=Nu(e,t,n,null);else if("$!"===r.data)t=Nu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),yu||i){if(null!==(i=ys)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Gs(e,i,-1))}rl(),t=Nu(e,t,n,Error(a(420)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=ml.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ra=si(r.nextSibling),Ca=t,Pa=!0,La=null,null!==n&&(xa[_a++]=Sa,xa[_a++]=ka,xa[_a++]=wa,Sa=n.id,ka=n.overflow,wa=t),(t=Lu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Du(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ru(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Cu,i):(n=Iu(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Du(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Ru(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Cu,i):(n=Iu(e,t,i.children,n),t.memoizedState=null,n)}function Lu(e,t){return(t=Ml({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ou(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=Ml(t,i,0,null),n=kl(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function Iu(e,t,n,r){var i=e.child;return e=i.sibling,n=wl(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Du(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=wl(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=wl(o,r):(r=kl(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Nu(e,t,n,r){return null!==r&&(null===La?La=[r]:La.push(r)),Ga(t,e.child,null,n),(e=Lu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Yi(e.return,t,n)}function Fu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(bu(e,t,r.children,n),0!==(2&(r=to.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Mi(to,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===no(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===no(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fu(t,!0,n,null,a);break;case"together":Fu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=wl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=wl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ju(e,t){switch(Aa(t),t.tag){case 1:return Pi(t.type)&&Li(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),ki(Ai),ki(Ti),io(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return eo(t),null;case 13:if(ki(to),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Ba()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(to),null;case 4:return Ja(),null;case 10:return $i(t.type._context),null;case 22:case 23:return Qs(),null;default:return null}}var Hu=!1,Zu=!1,Gu="function"===typeof WeakSet?WeakSet:Set,Wu=null;function Vu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){dl(e,t,r)}else n.current=null}function qu(e,t,n){try{n()}catch(r){dl(e,t,r)}}var Xu=!1;function $u(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&qu(t,n,a)}i=i.next}while(i!==r)}}function Yu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ku(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Ju(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(ut,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&qu(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Vu(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){dl(t,n,o)}break;case 5:Vu(t,n);break;case 4:is(e,t,n)}}function Qu(e){var t=e.alternate;null!==t&&(e.alternate=null,Qu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[hi],delete t[pi],delete t[vi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function es(e){return 5===e.tag||3===e.tag||4===e.tag}function ts(e){e:{for(var t=e.return;null!==t;){if(es(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}32&n.flags&&(ve(t,""),n.flags&=-33);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||es(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ns(e,n,t):rs(e,n,t)}function ns(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ns(e,t,n),e=e.sibling;null!==e;)ns(e,t,n),e=e.sibling}function rs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rs(e,t,n),e=e.sibling;null!==e;)rs(e,t,n),e=e.sibling}function is(e,t,n){for(var r,i,o=t,u=!1;;){if(!u){u=o.return;e:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===o.tag||6===o.tag){e:for(var s=e,l=o,c=n,f=l;;)if(Ju(s,f,c),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===l)break e;for(;null===f.sibling;){if(null===f.return||f.return===l)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,l=o.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(s=r,l=o.stateNode,8===s.nodeType?ui(s.parentNode,l):1===s.nodeType&&ui(s,l),Gt(s)):ui(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Ju(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function as(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return $u(3,t,t.return),Yu(3,t),void $u(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),we(e,i),t=we(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?be(n,s):"dangerouslySetInnerHTML"===u?pe(n,s):"children"===u?ve(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":le(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?oe(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}n[hi]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).isDehydrated&&(n.isDehydrated=!1,Gt(n.containerInfo)));case 13:case 19:return void os(t)}throw Error(a(163))}function os(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Gu),t.forEach((function(t){var r=gl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function us(e,t,n){Wu=e,ss(e,t,n)}function ss(e,t,n){for(var r=0!==(1&e.mode);null!==Wu;){var i=Wu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Hu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Zu;u=Hu;var l=Zu;if(Hu=o,(Zu=s)&&!l)for(Wu=i;null!==Wu;)s=(o=Wu).child,22===o.tag&&null!==o.memoizedState?fs(i):null!==s?(s.return=o,Wu=s):fs(i);for(;null!==a;)Wu=a,ss(a,t,n),a=a.sibling;Wu=i,Hu=u,Zu=l}ls(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Wu=a):ls(e)}}function ls(e){for(;null!==Wu;){var t=Wu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Zu||Yu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Zu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Zi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&sa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}sa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=n.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Gt(h)}}}break;default:throw Error(a(163))}Zu||512&t.flags&&Ku(t)}catch(d){dl(t,t.return,d)}}if(t===e){Wu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}function cs(e){for(;null!==Wu;){var t=Wu;if(t===e){Wu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Wu=n;break}Wu=t.return}}function fs(e){for(;null!==Wu;){var t=Wu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Yu(4,t)}catch(s){dl(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){dl(t,i,s)}}var a=t.return;try{Ku(t)}catch(s){dl(t,a,s)}break;case 5:var o=t.return;try{Ku(t)}catch(s){dl(t,o,s)}}}catch(s){dl(t,t.return,s)}if(t===e){Wu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Wu=u;break}Wu=t.return}}var hs,ds=Math.ceil,ps=x.ReactCurrentDispatcher,vs=x.ReactCurrentOwner,ms=x.ReactCurrentBatchConfig,gs=0,ys=null,bs=null,xs=0,_s=0,ws=Si(0),Ss=0,ks=null,Ms=0,Es=0,Ts=0,As=null,Cs=null,Rs=0,Ps=1/0,Ls=!1,Os=null,Is=null,Ds=!1,Ns=null,zs=0,Fs=0,Bs=null,Us=-1,js=0;function Hs(){return 0!==(6&gs)?et():-1!==Us?Us:Us=et()}function Zs(e){return 0===(1&e.mode)?1:0!==(2&gs)&&0!==xs?xs&-xs:null!==Hi.transition?(0===js&&(e=ht,0===(4194240&(ht<<=1))&&(ht=64),js=e),js):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function Gs(e,t,n){if(50<Fs)throw Fs=0,Bs=null,Error(a(185));var r=Ws(e,t);if(null===r)return null;if(bt(r,t,n),0===(2&gs)||r!==ys){if(r.isDehydrated&&0!==r.tag){ys===r&&el(r,0),r.isDehydrated=!1;var i=Error(a(423));(0,r.onRecoverableError)(i)}else r===ys&&(0===(2&gs)&&(Es|=t),4===Ss&&$s(r,xs));Vs(r,n),1===t&&0===gs&&0===(1&e.mode)&&(Ps=et()+500,Fi&&ji())}return r}function Ws(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Vs(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-lt(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=mt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=vt(e,e===ys?xs:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fi=!0,Ui(e)}(Ys.bind(null,e)):Ui(Ys.bind(null,e)),ai((function(){0===gs&&ji()})),n=null;else{switch(wt(r)){case 1:n=nt;break;case 4:n=rt;break;case 16:default:n=it;break;case 536870912:n=ot}n=yl(n,qs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qs(e,t){if(Us=-1,js=0,0!==(6&gs))throw Error(a(327));var n=e.callbackNode;if(fl()&&e.callbackNode!==n)return null;var r=vt(e,e===ys?xs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=al(e,r);else{t=r;var i=gs;gs|=2;var o=nl();for(ys===e&&xs===t||(Ps=et()+500,el(e,t));;)try{ul();break}catch(s){tl(e,s)}Xi(),ps.current=o,gs=i,null!==bs?t=0:(ys=null,xs=0,t=Ss)}if(0!==t){if(2===t&&(0!==(i=gt(e))&&(r=i,t=Xs(e,i))),1===t)throw n=ks,el(e,0),$s(e,r),Vs(e,et()),n;if(6===t)$s(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!or(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=al(e,r))&&(0!==(o=gt(e))&&(r=o,t=Xs(e,o))),1===t))throw n=ks,el(e,0),$s(e,r),Vs(e,et()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:cl(e,Cs);break;case 3:if($s(e,r),(130023424&r)===r&&10<(t=Rs+500-et())){if(0!==vt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ni(cl.bind(null,e,Cs),t);break}cl(e,Cs);break;case 4:if($s(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-lt(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=et()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ds(r/1960))-r)){e.timeoutHandle=ni(cl.bind(null,e,Cs),r);break}cl(e,Cs);break;default:throw Error(a(329))}}}return Vs(e,et()),e.callbackNode===n?qs.bind(null,e):null}function Xs(e,t){if(e.isDehydrated){e.isDehydrated=!1;var n=Error(a(422));il(n)}return n=As,2!==(e=al(e,t))&&null!==n&&(null===Cs?Cs=n:Cs.push.apply(Cs,n)),e}function $s(e,t){for(t&=~Ts,t&=~Es,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-lt(t),r=1<<n;e[n]=-1,t&=~r}}function Ys(e){if(0!==(6&gs))throw Error(a(327));fl();var t=vt(e,0);if(0===(1&t))return Vs(e,et()),null;var n=al(e,t);if(0!==e.tag&&2===n){var r=gt(e);0!==r&&(t=r,n=Xs(e,r))}if(1===n)throw n=ks,el(e,0),$s(e,t),Vs(e,et()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cl(e,Cs),Vs(e,et()),null}function Ks(e,t){var n=gs;gs|=1;try{return e(t)}finally{0===(gs=n)&&(Ps=et()+500,Fi&&ji())}}function Js(e){null!==Ns&&0===Ns.tag&&0===(6&gs)&&fl();var t=gs;gs|=1;var n=ms.transition,r=_t;try{if(ms.transition=null,_t=1,e)return e()}finally{_t=r,ms.transition=n,0===(6&(gs=t))&&ji()}}function Qs(){_s=ws.current,ki(ws)}function el(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ri(n)),null!==bs)for(n=bs.return;null!==n;){var r=n;switch(Aa(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Li();break;case 3:Ja(),ki(Ai),ki(Ti),io();break;case 5:eo(r);break;case 4:Ja();break;case 13:case 19:ki(to);break;case 10:$i(r.type._context);break;case 22:case 23:Qs()}n=n.return}if(ys=e,bs=wl(e.current,null),xs=_s=t,Ss=0,ks=null,Ts=Es=Ms=0,Cs=As=null,null!==Qi){for(e=0;e<Qi.length;e++)if(null!==(n=(t=Qi[e]).interleaved)){t.interleaved=null,r=n.next;var i=t.pending;if(null!==i){var a=i.next;i.next=r,n.next=a}t.pending=n}Qi=null}}function tl(e,t){for(;;){var n=bs;try{if(Xi(),ao.current=Qo,fo){for(var r=so.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}fo=!1}if(uo=0,co=lo=so=null,ho=!1,po=0,vs.current=null,null===n||null===n.return){Ss=1,ks=t,bs=null;break}e:{var o=e,u=n.return,s=n,l=t;if(t=xs,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=hu(u);if(null!==p){p.flags&=-257,du(p,u,s,0,t),1&p.mode&&fu(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){fu(o,c,t),rl();break e}l=Error(a(425))}else if(Pa&&1&s.mode){var g=hu(u);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),du(g,u,s,0,t),t=l,null===La?La=[t]:La.push(t);break e}}il(l),l=ru(l,s),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,oa(o,lu(0,l,t));break e;case 1:s=l;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Is||!Is.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,oa(o,cu(o,s,t));break e}}o=o.return}while(null!==o)}ll(n)}catch(x){t=x,bs===n&&null!==n&&(bs=n=n.return);continue}break}}function nl(){var e=ps.current;return ps.current=Qo,null===e?Qo:e}function rl(){0!==Ss&&3!==Ss&&2!==Ss||(Ss=4),null===ys||0===(268435455&Ms)&&0===(268435455&Es)||$s(ys,xs)}function il(e){4!==Ss&&(Ss=2),null===As?As=[e]:As.push(e)}function al(e,t){var n=gs;gs|=2;var r=nl();for(ys===e&&xs===t||el(e,t);;)try{ol();break}catch(i){tl(e,i)}if(Xi(),gs=n,ps.current=r,null!==bs)throw Error(a(261));return ys=null,xs=0,Ss}function ol(){for(;null!==bs;)sl(bs)}function ul(){for(;null!==bs&&!Je();)sl(bs)}function sl(e){var t=hs(e.alternate,e,_s);e.memoizedProps=e.pendingProps,null===t?ll(e):bs=t,vs.current=null}function ll(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=mu(n,t,_s)))return void(bs=n)}else{if(null!==(n=ju(n,t)))return n.flags&=32767,void(bs=n);if(null===e)return Ss=6,void(bs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(bs=t);bs=t=e}while(null!==t);0===Ss&&(Ss=5)}function cl(e,t){var n=_t,r=ms.transition;try{ms.transition=null,_t=1,function(e,t,n){do{fl()}while(null!==Ns);if(0!==(6&gs))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-lt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===ys&&(bs=ys=null,xs=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ds||(Ds=!0,yl(it,(function(){return fl(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=ms.transition,ms.transition=null;var u=_t;_t=1;var s=gs;gs|=4,vs.current=null,function(e,t){if(Qr=Vt,hr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(l=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(s=u),d===o&&++f===r&&(l=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:e,selectionRange:n},Vt=!1,Wu=t;null!==Wu;)if(e=(t=Wu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Wu=e;else for(;null!==Wu;){t=Wu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Zi(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;if(1===x.nodeType)x.textContent="";else if(9===x.nodeType){var _=x.body;null!=_&&(_.textContent="")}break;default:throw Error(a(163))}}catch(w){dl(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Wu=e;break}Wu=t.return}v=Xu,Xu=!1}(e,r),function(e,t){for(Wu=t;null!==Wu;){var n=(t=Wu).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{is(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(k){dl(i,t,k)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Wu=n;else for(;null!==Wu;){t=Wu;try{var o=t.flags;if(32&o&&ve(t.stateNode,""),512&o){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"===typeof s?s(null):s.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var l=t.alternate;null!==l&&null!==l.memoizedState||(Rs=et())}break;case 22:var c=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;e:{i=c;for(var d=null,p=r=n=t;;){if(5===p.tag){if(null===d){d=p;var v=p.stateNode;if(i){var m=v.style;"function"===typeof m.setProperty?m.setProperty("display","none","important"):m.display="none"}else{var g=p.stateNode,y=p.memoizedProps.style,b=void 0!==y&&null!==y&&y.hasOwnProperty("display")?y.display:null;g.style.display=ye("display",b)}}}else if(6===p.tag)null===d&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}if(c&&!h&&0!==(1&n.mode)){Wu=n;for(var x=n.child;null!==x;){for(n=Wu=x;null!==Wu;){var _=(r=Wu).child;switch(r.tag){case 0:case 11:case 14:case 15:$u(4,r,r.return);break;case 1:Vu(r,r.return);var w=r.stateNode;if("function"===typeof w.componentWillUnmount){var S=r.return;try{w.props=r.memoizedProps,w.state=r.memoizedState,w.componentWillUnmount()}catch(k){dl(r,S,k)}}break;case 5:Vu(r,r.return);break;case 22:if(null!==r.memoizedState){cs(n);continue}}null!==_?(_.return=r,Wu=_):cs(n)}x=x.sibling}}}switch(4102&o){case 2:ts(t),t.flags&=-3;break;case 6:ts(t),t.flags&=-3,as(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,as(t.alternate,t);break;case 4:as(t.alternate,t)}}catch(k){dl(t,t.return,k)}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}}(e,r),dr(ei),Vt=!!Qr,ei=Qr=null,e.current=r,us(r,e,i),Qe(),gs=s,_t=u,ms.transition=o}else e.current=r;if(Ds&&(Ds=!1,Ns=e,zs=i),0===(o=e.pendingLanes)&&(Is=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(ut,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Vs(e,et()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Ls)throw Ls=!1,e=Os,Os=null,e;0!==(1&zs)&&0!==e.tag&&fl(),0!==(1&(o=e.pendingLanes))?e===Bs?Fs++:(Fs=0,Bs=e):Fs=0,ji()}(e,t,n)}finally{ms.transition=r,_t=n}return null}function fl(){if(null!==Ns){var e=wt(zs),t=ms.transition,n=_t;try{if(ms.transition=null,_t=16>e?16:e,null===Ns)var r=!1;else{if(e=Ns,Ns=null,zs=0,0!==(6&gs))throw Error(a(331));var i=gs;for(gs|=4,Wu=e.current;null!==Wu;){var o=Wu,u=o.child;if(0!==(16&Wu.flags)){var s=o.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(Wu=c;null!==Wu;){var f=Wu;switch(f.tag){case 0:case 11:case 15:$u(8,f,o)}var h=f.child;if(null!==h)h.return=f,Wu=h;else for(;null!==Wu;){var d=(f=Wu).sibling,p=f.return;if(Qu(f),f===c){Wu=null;break}if(null!==d){d.return=p,Wu=d;break}Wu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Wu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Wu=u;else e:for(;null!==Wu;){if(0!==(2048&(o=Wu).flags))switch(o.tag){case 0:case 11:case 15:$u(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Wu=y;break e}Wu=o.return}}var b=e.current;for(Wu=b;null!==Wu;){var x=(u=Wu).child;if(0!==(2064&u.subtreeFlags)&&null!==x)x.return=u,Wu=x;else e:for(u=b;null!==Wu;){if(0!==(2048&(s=Wu).flags))try{switch(s.tag){case 0:case 11:case 15:Yu(9,s)}}catch(w){dl(s,s.return,w)}if(s===u){Wu=null;break e}var _=s.sibling;if(null!==_){_.return=s.return,Wu=_;break e}Wu=s.return}}if(gs=i,ji(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(ut,e)}catch(w){}r=!0}return r}finally{_t=n,ms.transition=t}}return!1}function hl(e,t,n){ia(e,t=lu(0,t=ru(n,t),1)),t=Hs(),null!==(e=Ws(e,1))&&(bt(e,1,t),Vs(e,t))}function dl(e,t,n){if(3===e.tag)hl(e,e,n);else for(;null!==t;){if(3===t.tag){hl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Is||!Is.has(r))){ia(t,e=cu(t,e=ru(n,e),1)),e=Hs(),null!==(t=Ws(t,1))&&(bt(t,1,e),Vs(t,e));break}}t=t.return}}function pl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Hs(),e.pingedLanes|=e.suspendedLanes&n,ys===e&&(xs&n)===n&&(4===Ss||3===Ss&&(130023424&xs)===xs&&500>et()-Rs?el(e,0):Ts|=n),Vs(e,t)}function vl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=Hs();null!==(e=Ws(e,t))&&(bt(e,t,n),Vs(e,n))}function ml(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vl(e,n)}function gl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),vl(e,n)}function yl(e,t){return Ye(e,t)}function bl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xl(e,t,n,r){return new bl(e,t,n,r)}function _l(e){return!(!(e=e.prototype)||!e.isReactComponent)}function wl(e,t){var n=e.alternate;return null===n?((n=xl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Sl(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)_l(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case S:return kl(n.children,i,o,t);case O:u=8,i|=4;break;case k:u=8,i|=8;break;case M:return(e=xl(12,n,t,2|i)).elementType=M,e.lanes=o,e;case C:return(e=xl(13,n,t,i)).elementType=C,e.lanes=o,e;case R:return(e=xl(19,n,t,i)).elementType=R,e.lanes=o,e;case I:return Ml(n,i,o,t);case D:return(e=xl(23,n,t,i)).elementType=D,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case A:u=11;break e;case P:u=14;break e;case L:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=xl(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function kl(e,t,n,r){return(e=xl(7,e,r,t)).lanes=n,e}function Ml(e,t,n,r){return(e=xl(22,e,r,t)).elementType=I,e.lanes=n,e}function El(e,t,n){return(e=xl(6,e,null,t)).lanes=n,e}function Tl(e,t,n){return(t=xl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Al(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.isDehydrated=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cl(e,t,n,r,i,a,o,u){return e=new Al(e,t,n,o,u),1===t?(t=1,!0===i&&(t|=8)):t=0,i=xl(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:null,cache:null,transitions:null},ta(i),e}function Rl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Pl(e){if(!e)return Ei;e:{if(We(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Ii(e,n,t)}return t}function Ll(e,t,n,r){var i=t.current,a=Hs(),o=Zs(i);return n=Pl(n),null===t.context?t.context=n:t.pendingContext=n,(t=ra(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ia(i,t),null!==(e=Gs(i,o,a))&&aa(e,i,o),o}function Ol(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Il(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Dl(e,t){Il(e,t),(e=e.alternate)&&Il(e,t)}hs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)yu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return yu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),Ba();break;case 5:Qa(t);break;case 1:Pi(t.type)&&Di(t);break;case 4:Ka(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Mi(Gi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Mi(to,1&to.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Pu(e,t,n):(Mi(to,1&to.current),null!==(e=Uu(e,t,n))?e.sibling:null);Mi(to,1&to.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mi(to,to.current),r)break;return null;case 22:case 23:return t.lanes=0,Su(e,t,n)}return Uu(e,t,n)}(e,t,n);yu=0!==(131072&e.flags)}else yu=!1,Pa&&0!==(1048576&t.flags)&&Ea(t,ba,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ri(t,Ti.current);Ki(t,n),i=yo(null,t,r,e,i,n);var o=bo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ta(t),i.updater=fa,t.stateNode=i,i._reactInternals=t,va(t,r,e,n),t=Tu(null,t,r,!0,o,n)):(t.tag=0,Pa&&o&&Ta(t),bu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return _l(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(r),e=Zi(r,e),i){case 0:t=Mu(null,t,r,e,n);break e;case 1:t=Eu(null,t,r,e,n);break e;case 11:t=xu(null,t,r,e,n);break e;case 14:t=_u(null,t,r,Zi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Mu(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Eu(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 3:if(Au(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=t.memoizedState.element,na(e,t),ua(t,r,null,n),o=t.stateNode,(r=t.memoizedState.element)===i)Ba(),t=Uu(e,t,n);else{if((i=o.isDehydrated)&&(Ra=si(t.stateNode.containerInfo.firstChild),Ca=t,Pa=!0,La=null,i=!0),i){if(null!=(e=o.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],ro.push(o);for(n=Wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else bu(e,t,r,n),Ba();t=t.child}return t;case 5:Qa(t),null===e&&Na(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null;var u=i.children;return ti(r,i)?u=null:null!==o&&ti(r,o)&&(t.flags|=32),ku(e,t),bu(e,t,u,n),t.child;case 6:return null===e&&Na(t),null;case 13:return Pu(e,t,n);case 4:return Ka(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ga(t,null,r,n):bu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xu(e,t,r,i=t.elementType===r?i:Zi(r,i),n);case 7:return bu(e,t,t.pendingProps,n),t.child;case 8:case 12:return bu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Mi(Gi,r._currentValue),r._currentValue=u,null!==o)if(or(o.value,u)){if(o.children===i.children&&!Ai.current){t=Uu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=ra(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Yi(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Yi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}bu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ki(t,n),r=r(i=Ji(i)),t.flags|=1,bu(e,t,r,n),t.child;case 14:return i=Zi(r=t.type,t.pendingProps),_u(e,t,r,i=Zi(r.type,i),n);case 15:return wu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Zi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Pi(r)?(e=!0,Di(t)):e=!1,Ki(t,n),da(t,r,i),va(t,r,i,n),Tu(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:case 23:return Su(e,t,n)}throw Error(a(156,t.tag))};var Nl="function"===typeof reportError?reportError:function(e){console.error(e)};function zl(e){this._internalRoot=e}function Fl(e){this._internalRoot=e}function Bl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Ul(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function jl(){}function Hl(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Ol(o);u.call(e)}}Ll(t,o,e,i)}else{if(o=a=n._reactRootContainer=function(e,t){if(!t)for(var n;n=e.lastChild;)e.removeChild(n);return t=Cl(e,0,t,0,!1,0,"",jl),e[di]=t.current,jr(8===e.nodeType?e.parentNode:e),t}(n,r),"function"===typeof i){var s=i;i=function(){var e=Ol(o);s.call(e)}}Js((function(){Ll(t,o,e,i)}))}return Ol(o)}Fl.prototype.render=zl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Ll(e,t,null,null)},Fl.prototype.unmount=zl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Js((function(){Ll(null,e,null,null)})),t[di]=null}},Fl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Bt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.isDehydrated){var n=pt(t.pendingLanes);0!==n&&(xt(t,1|n),Vs(t,et()),0===(6&gs)&&(Ps=et()+500,ji()))}break;case 13:var r=Hs();Js((function(){return Gs(e,1,r)})),Dl(e,1)}},kt=function(e){13===e.tag&&(Gs(e,134217728,Hs()),Dl(e,134217728))},Mt=function(e){if(13===e.tag){var t=Hs(),n=Zs(e);Gs(e,n,t),Dl(e,n)}},Et=function(){return _t},Tt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},Me=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(a(90));K(r),ne(r,i)}}}break;case"textarea":le(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=Ks,Le=Js;var Zl={usingClientEntryPoint:!1,Events:[yi,bi,xi,Ce,Re,Ks]},Gl={findFiberByHostInstance:gi,bundleType:0,version:"18.0.0-rc.1-17806594c-20220301",rendererPackageName:"react-dom"},Wl={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-rc.1-17806594c-20220301"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vl.isDisabled&&Vl.supportsFiber)try{ut=Vl.inject(Wl),st=Vl}catch(ql){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Bl(t))throw Error(a(200));return Rl(e,t,null,n)},t.createRoot=function(e,t){if(!Bl(e))throw Error(a(299));var n=!1,r="",i=Nl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Cl(e,1,!1,0,n,0,r,i),e[di]=t.current,jr(8===e.nodeType?e.parentNode:e),new zl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e){return Js(e)},t.hydrate=function(e,t,n){if(!Ul(t))throw Error(a(200));return Hl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Bl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Nl;null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),(n=Cl(e,1,!0,0,i,0,o,u)).context=Pl(null),i=n.current;var s=ra(o=Hs(),u=Zs(i));if(s.payload={element:t},ia(i,s),n.current.lanes=u,bt(n,u,o),Vs(n,o),e[di]=n.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(t=r[e])._getVersion)(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i);return new Fl(n)},t.render=function(e,t,n){if(!Ul(t))throw Error(a(200));return Hl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Ul(e))throw Error(a(40));return!!e._reactRootContainer&&(Js((function(){Hl(null,null,e,!1,(function(){e._reactRootContainer=null,e[di]=null}))})),!0)},t.unstable_batchedUpdates=Ks,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Ul(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Hl(e,t,n,!1,r)},t.version="18.0.0-rc.1-17806594c-20220301"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},67:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],l=u+1,c=e[l];if(0>a(s,n))l<i&&0>a(c,s)?(e[r]=c,e[l]=n,r=l):(e[r]=s,e[u]=n,r=u);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function _(e){if(m=!1,x(e),!v)if(null!==r(l))v=!0,O(w);else{var t=r(c);null!==t&&I(_,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,y(E),E=-1),p=!0;var a=d;try{for(x(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(l)&&i(l),x(n)}else i(l);h=r(l)}if(null!==h)var s=!0;else{var f=r(c);null!==f&&I(_,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,M=null,E=-1,T=5,A=-1;function C(){return!(t.unstable_now()-A<T)}function R(){if(null!==M){var e=t.unstable_now();A=e;var n=!0;try{n=M(!0,e)}finally{n?S():(k=!1,M=null)}}else k=!1}if("function"===typeof b)S=function(){b(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,L=P.port2;P.port1.onmessage=R,S=function(){L.postMessage(null)}}else S=function(){g(R,0)};function O(e){M=e,k||(k=!0,S())}function I(e,n){E=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(E),E=-1):m=!0,I(_,a-o))):(e.sortIndex=u,n(l,e),v||p||(v=!0,O(w))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5585:function(e,t,n){"use strict";e.exports=n(67)},1372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,x=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case c:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case l:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function w(e){return _(e)===f}t.AsyncMode=c,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return w(e)||_(e)===c},t.isConcurrentMode=w,t.isContextConsumer=function(e){return _(e)===l},t.isContextProvider=function(e){return _(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===h},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===v},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===u},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===l||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===g)},t.typeOf=_},271:function(e,t,n){"use strict";e.exports=n(1372)},4976:function(e,t){"use strict";t.ConcurrentRoot=1,t.ContinuousEventPriority=4,t.DefaultEventPriority=16,t.DiscreteEventPriority=1},3721:function(e,t,n){e.exports=function(e){var t={},r=n(2791),i=n(5296),a=Object.assign;function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,s=Symbol.for("react.element"),l=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),p=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var x=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var _=Symbol.iterator;function w(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=_&&e[_]||e["@@iterator"])?e:null}function S(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case c:return"Fragment";case l:return"Portal";case h:return"Profiler";case f:return"StrictMode";case m:return"Suspense";case g:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case p:return(e.displayName||"Context")+".Consumer";case d:return(e._context.displayName||"Context")+".Provider";case v:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case y:return null!==(t=e.displayName||null)?t:S(e.type)||"Memo";case b:t=e._payload,e=e._init;try{return S(e(t))}catch(n){}}return null}function k(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S(t);case 8:return t===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function M(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function E(e){if(M(e)!==e)throw Error(o(188))}function T(e){var t=e.alternate;if(!t){if(null===(t=M(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return E(i),e;if(a===r)return E(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}function A(e){return null!==(e=T(e))?C(e):null}function C(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=C(e);if(null!==t)return t;e=e.sibling}return null}function R(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){if(4!==e.tag){var t=R(e);if(null!==t)return t}e=e.sibling}return null}var P,L=Array.isArray,O=e.getPublicInstance,I=e.getRootHostContext,D=e.getChildHostContext,N=e.prepareForCommit,z=e.resetAfterCommit,F=e.createInstance,B=e.appendInitialChild,U=e.finalizeInitialChildren,j=e.prepareUpdate,H=e.shouldSetTextContent,Z=e.createTextInstance,G=e.scheduleTimeout,W=e.cancelTimeout,V=e.noTimeout,q=e.isPrimaryRenderer,X=e.supportsMutation,$=e.supportsPersistence,Y=e.supportsHydration,K=e.getInstanceFromNode,J=e.preparePortalMount,Q=e.getCurrentEventPriority,ee=e.detachDeletedInstance,te=e.supportsMicrotasks,ne=e.scheduleMicrotask,re=e.supportsTestSelectors,ie=e.findFiberRoot,ae=e.getBoundingRect,oe=e.getTextContent,ue=e.isHiddenSubtree,se=e.matchAccessibilityRole,le=e.setFocusIfFocusable,ce=e.setupIntersectionObserver,fe=e.appendChild,he=e.appendChildToContainer,de=e.commitTextUpdate,pe=e.commitMount,ve=e.commitUpdate,me=e.insertBefore,ge=e.insertInContainerBefore,ye=e.removeChild,be=e.removeChildFromContainer,xe=e.resetTextContent,_e=e.hideInstance,we=e.hideTextInstance,Se=e.unhideInstance,ke=e.unhideTextInstance,Me=e.clearContainer,Ee=e.cloneInstance,Te=e.createContainerChildSet,Ae=e.appendChildToContainerChildSet,Ce=e.finalizeContainerChildren,Re=e.replaceContainerChildren,Pe=e.cloneHiddenInstance,Le=e.cloneHiddenTextInstance,Oe=e.canHydrateInstance,Ie=e.canHydrateTextInstance,De=e.canHydrateSuspenseInstance,Ne=e.isSuspenseInstancePending,ze=e.isSuspenseInstanceFallback,Fe=e.registerSuspenseInstanceRetry,Be=e.getNextHydratableSibling,Ue=e.getFirstHydratableChild,je=e.getFirstHydratableChildWithinContainer,He=e.getFirstHydratableChildWithinSuspenseInstance,Ze=e.hydrateInstance,Ge=e.hydrateTextInstance,We=e.hydrateSuspenseInstance,Ve=e.getNextHydratableInstanceAfterSuspenseInstance,qe=e.commitHydratedContainer,Xe=e.commitHydratedSuspenseInstance,$e=e.clearSuspenseBoundary,Ye=e.clearSuspenseBoundaryFromContainer,Ke=e.shouldDeleteUnhydratedTailInstances,Je=e.didNotMatchHydratedContainerTextInstance,Qe=e.didNotMatchHydratedTextInstance;function et(e){if(void 0===P)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var tt=!1;function nt(e,t){if(!e||tt)return"";tt=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{tt=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?et(e):""}var rt=Object.prototype.hasOwnProperty,it=[],at=-1;function ot(e){return{current:e}}function ut(e){0>at||(e.current=it[at],it[at]=null,at--)}function st(e,t){at++,it[at]=e.current,e.current=t}var lt={},ct=ot(lt),ft=ot(!1),ht=lt;function dt(e,t){var n=e.type.contextTypes;if(!n)return lt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function pt(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vt(){ut(ft),ut(ct)}function mt(e,t,n){if(ct.current!==lt)throw Error(o(168));st(ct,t),st(ft,n)}function gt(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,k(e)||"Unknown",i));return a({},n,r)}function yt(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lt,ht=ct.current,st(ct,e),st(ft,ft.current),!0}function bt(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=gt(e,t,ht),r.__reactInternalMemoizedMergedChildContext=e,ut(ft),ut(ct),st(ct,e)):ut(ft),st(ft,n)}var xt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(_t(e)/wt|0)|0},_t=Math.log,wt=Math.LN2;var St=64,kt=4194304;function Mt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Et(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=Mt(u):0!==(a&=o)&&(r=Mt(a))}else 0!==(o=n&~i)?r=Mt(o):0!==a&&(r=Mt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-xt(t)),r|=e[n],t&=~i;return r}function Tt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function At(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ct(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Rt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-xt(t)]=n}function Pt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-xt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Lt=0;function Ot(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var It=i.unstable_scheduleCallback,Dt=i.unstable_cancelCallback,Nt=i.unstable_shouldYield,zt=i.unstable_requestPaint,Ft=i.unstable_now,Bt=i.unstable_ImmediatePriority,Ut=i.unstable_UserBlockingPriority,jt=i.unstable_NormalPriority,Ht=i.unstable_IdlePriority,Zt=null,Gt=null;var Wt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Vt=null,qt=!1,Xt=!1;function $t(e){null===Vt?Vt=[e]:Vt.push(e)}function Yt(){if(!Xt&&null!==Vt){Xt=!0;var e=0,t=Lt;try{var n=Vt;for(Lt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vt=null,qt=!1}catch(i){throw null!==Vt&&(Vt=Vt.slice(e+1)),It(Bt,Yt),i}finally{Lt=t,Xt=!1}}return null}var Kt=u.ReactCurrentBatchConfig;function Jt(e,t){if(Wt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!rt.call(t,i)||!Wt(e[i],t[i]))return!1}return!0}function Qt(e){switch(e.tag){case 5:return et(e.type);case 16:return et("Lazy");case 13:return et("Suspense");case 19:return et("SuspenseList");case 0:case 2:case 15:return e=nt(e.type,!1);case 11:return e=nt(e.type.render,!1);case 1:return e=nt(e.type,!0);default:return""}}function en(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var tn=ot(null),nn=null,rn=null,an=null;function on(){an=rn=nn=null}function un(e,t,n){q?(st(tn,t._currentValue),t._currentValue=n):(st(tn,t._currentValue2),t._currentValue2=n)}function sn(e){var t=tn.current;ut(tn),q?e._currentValue=t:e._currentValue2=t}function ln(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cn(e,t){nn=e,an=rn=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ni=!0),e.firstContext=null)}function fn(e){var t=q?e._currentValue:e._currentValue2;if(an!==e)if(e={context:e,memoizedValue:t,next:null},null===rn){if(null===nn)throw Error(o(308));rn=e,nn.dependencies={lanes:0,firstContext:e}}else rn=rn.next=e;return t}var hn=null,dn=!1;function pn(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vn(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function gn(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==Xa&&0!==(1&e.mode)&&0===(2&qa)?(null===(e=n.interleaved)?(t.next=t,null===hn?hn=[n]:hn.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function yn(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pt(e,n)}}function bn(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xn(e,t,n,r){var i=e.updateQueue;dn=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===u?o=c:u.next=c,u=l;var f=e.alternate;null!==f&&((s=(f=f.updateQueue).lastBaseUpdate)!==u&&(null===s?f.firstBaseUpdate=c:s.next=c,f.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(u=0,f=c=l=null,s=o;;){var d=s.lane,p=s.eventTime;if((r&d)===d){null!==f&&(f=f.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=e,m=s;switch(d=t,p=n,m.tag){case 1:if("function"===typeof(v=m.payload)){h=v.call(p,h,d);break e}h=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null===(d="function"===typeof(v=m.payload)?v.call(p,h,d):v)||void 0===d)break e;h=a({},h,d);break e;case 2:dn=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else p={eventTime:p,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===f?(c=f=p,l=h):f=f.next=p,u|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===f&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,null!==(t=i.shared.interleaved)){i=t;do{u|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);to|=u,e.lanes=u,e.memoizedState=h}}function _n(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var wn=(new r.Component).refs;function Sn(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var kn={isMounted:function(e){return!!(e=e._reactInternals)&&M(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=_o(),i=wo(e),a=mn(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),gn(e,a),null!==(t=So(e,i,r))&&yn(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=_o(),i=wo(e),a=mn(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),gn(e,a),null!==(t=So(e,i,r))&&yn(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=_o(),r=wo(e),i=mn(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),gn(e,i),null!==(t=So(e,r,n))&&yn(t,e,r)}};function Mn(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Jt(n,r)||!Jt(i,a))}function En(e,t,n){var r=!1,i=lt,a=t.contextType;return"object"===typeof a&&null!==a?a=fn(a):(i=pt(t)?ht:ct.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?dt(e,i):lt),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=kn,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Tn(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&kn.enqueueReplaceState(t,t.state,null)}function An(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=wn,pn(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=fn(a):(a=pt(t)?ht:ct.current,i.context=dt(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Sn(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&kn.enqueueReplaceState(i,i.state,null),xn(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var Cn=[],Rn=0,Pn=null,Ln=0,On=[],In=0,Dn=null,Nn=1,zn="";function Fn(e,t){Cn[Rn++]=Ln,Cn[Rn++]=Pn,Pn=e,Ln=t}function Bn(e,t,n){On[In++]=Nn,On[In++]=zn,On[In++]=Dn,Dn=e;var r=Nn;e=zn;var i=32-xt(r)-1;r&=~(1<<i),n+=1;var a=32-xt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Nn=1<<32-xt(t)+i|n<<i|r,zn=a+e}else Nn=1<<a|n<<i|r,zn=e}function Un(e){null!==e.return&&(Fn(e,1),Bn(e,1,0))}function jn(e){for(;e===Pn;)Pn=Cn[--Rn],Cn[Rn]=null,Ln=Cn[--Rn],Cn[Rn]=null;for(;e===Dn;)Dn=On[--In],On[In]=null,zn=On[--In],On[In]=null,Nn=On[--In],On[In]=null}var Hn=null,Zn=null,Gn=!1,Wn=!1,Vn=null;function qn(e,t){var n=Jo(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Xn(e,t){switch(e.tag){case 5:return null!==(t=Oe(t,e.type,e.pendingProps))&&(e.stateNode=t,Hn=e,Zn=Ue(t),!0);case 6:return null!==(t=Ie(t,e.pendingProps))&&(e.stateNode=t,Hn=e,Zn=null,!0);case 13:if(null!==(t=De(t))){var n=null!==Dn?{id:Nn,overflow:zn}:null;return e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Jo(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Hn=e,Zn=null,!0}return!1;default:return!1}}function $n(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Yn(e){if(Gn){var t=Zn;if(t){var n=t;if(!Xn(e,t)){if($n(e))throw Error(o(418));t=Be(n);var r=Hn;t&&Xn(e,t)?qn(r,n):(e.flags=-4097&e.flags|2,Gn=!1,Hn=e)}}else{if($n(e))throw Error(o(418));e.flags=-4097&e.flags|2,Gn=!1,Hn=e}}}function Kn(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Hn=e}function Jn(e){if(!Y||e!==Hn)return!1;if(!Gn)return Kn(e),Gn=!0,!1;if(3!==e.tag&&(5!==e.tag||Ke(e.type)&&!H(e.type,e.memoizedProps))){var t=Zn;if(t){if($n(e)){for(e=Zn;e;)e=Be(e);throw Error(o(418))}for(;t;)qn(e,t),t=Be(t)}}if(Kn(e),13===e.tag){if(!Y)throw Error(o(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));Zn=Ve(e)}else Zn=Hn?Be(e.stateNode):null;return!0}function Qn(){Y&&(Zn=Hn=null,Wn=Gn=!1)}function er(e){null===Vn?Vn=[e]:Vn.push(e)}function tr(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===wn&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function nr(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function rr(e){return(0,e._init)(e._payload)}function ir(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=eu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function f(e,t,n,r){return null===t||6!==t.tag?((t=iu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n,r){var a=n.type;return a===c?p(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===b&&rr(a)===t.type)?((r=i(t,n.props)).ref=tr(e,t,n),r.return=e,r):((r=tu(n.type,n.key,n.props,null,e.mode,r)).ref=tr(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=au(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function p(e,t,n,r,a){return null===t||7!==t.tag?((t=nu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function v(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=iu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case s:return(n=tu(t.type,t.key,t.props,null,e.mode,n)).ref=tr(e,null,t),n.return=e,n;case l:return(t=au(t,e.mode,n)).return=e,t;case b:return v(e,(0,t._init)(t._payload),n)}if(L(t)||w(t))return(t=nu(t,e.mode,n,null)).return=e,t;nr(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:f(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case s:return n.key===i?h(e,t,n,r):null;case l:return n.key===i?d(e,t,n,r):null;case b:return m(e,t,(i=n._init)(n._payload),r)}if(L(n)||w(n))return null!==i?null:p(e,t,n,r,null);nr(e,n)}return null}function g(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return f(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case s:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i);case l:return d(t,e=e.get(null===r.key?n:r.key)||null,r,i);case b:return g(e,t,n,(0,r._init)(r._payload),i)}if(L(r)||w(r))return p(t,e=e.get(n)||null,r,i,null);nr(t,r)}return null}function y(i,o,u,s){for(var l=null,c=null,f=o,h=o=0,d=null;null!==f&&h<u.length;h++){f.index>h?(d=f,f=null):d=f.sibling;var p=m(i,f,u[h],s);if(null===p){null===f&&(f=d);break}e&&f&&null===p.alternate&&t(i,f),o=a(p,o,h),null===c?l=p:c.sibling=p,c=p,f=d}if(h===u.length)return n(i,f),Gn&&Fn(i,h),l;if(null===f){for(;h<u.length;h++)null!==(f=v(i,u[h],s))&&(o=a(f,o,h),null===c?l=f:c.sibling=f,c=f);return Gn&&Fn(i,h),l}for(f=r(i,f);h<u.length;h++)null!==(d=g(f,i,h,u[h],s))&&(e&&null!==d.alternate&&f.delete(null===d.key?h:d.key),o=a(d,o,h),null===c?l=d:c.sibling=d,c=d);return e&&f.forEach((function(e){return t(i,e)})),Gn&&Fn(i,h),l}function x(i,u,s,l){var c=w(s);if("function"!==typeof c)throw Error(o(150));if(null==(s=c.call(s)))throw Error(o(151));for(var f=c=null,h=u,d=u=0,p=null,y=s.next();null!==h&&!y.done;d++,y=s.next()){h.index>d?(p=h,h=null):p=h.sibling;var b=m(i,h,y.value,l);if(null===b){null===h&&(h=p);break}e&&h&&null===b.alternate&&t(i,h),u=a(b,u,d),null===f?c=b:f.sibling=b,f=b,h=p}if(y.done)return n(i,h),Gn&&Fn(i,d),c;if(null===h){for(;!y.done;d++,y=s.next())null!==(y=v(i,y.value,l))&&(u=a(y,u,d),null===f?c=y:f.sibling=y,f=y);return Gn&&Fn(i,d),c}for(h=r(i,h);!y.done;d++,y=s.next())null!==(y=g(h,i,d,y.value,l))&&(e&&null!==y.alternate&&h.delete(null===y.key?d:y.key),u=a(y,u,d),null===f?c=y:f.sibling=y,f=y);return e&&h.forEach((function(e){return t(i,e)})),Gn&&Fn(i,d),c}return function e(r,a,o,f){if("object"===typeof o&&null!==o&&o.type===c&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case s:e:{for(var h=o.key,d=a;null!==d;){if(d.key===h){if((h=o.type)===c){if(7===d.tag){n(r,d.sibling),(a=i(d,o.props.children)).return=r,r=a;break e}}else if(d.elementType===h||"object"===typeof h&&null!==h&&h.$$typeof===b&&rr(h)===d.type){n(r,d.sibling),(a=i(d,o.props)).ref=tr(r,d,o),a.return=r,r=a;break e}n(r,d);break}t(r,d),d=d.sibling}o.type===c?((a=nu(o.props.children,r.mode,f,o.key)).return=r,r=a):((f=tu(o.type,o.key,o.props,null,r.mode,f)).ref=tr(r,a,o),f.return=r,r=f)}return u(r);case l:e:{for(d=o.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=au(o,r.mode,f)).return=r,r=a}return u(r);case b:return e(r,a,(d=o._init)(o._payload),f)}if(L(o))return y(r,a,o,f);if(w(o))return x(r,a,o,f);nr(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=iu(o,r.mode,f)).return=r,r=a),u(r)):n(r,a)}}var ar=ir(!0),or=ir(!1),ur={},sr=ot(ur),lr=ot(ur),cr=ot(ur);function fr(e){if(e===ur)throw Error(o(174));return e}function hr(e,t){st(cr,t),st(lr,e),st(sr,ur),e=I(t),ut(sr),st(sr,e)}function dr(){ut(sr),ut(lr),ut(cr)}function pr(e){var t=fr(cr.current),n=fr(sr.current);n!==(t=D(n,e.type,t))&&(st(lr,e),st(sr,t))}function vr(e){lr.current===e&&(ut(sr),ut(lr))}var mr=ot(0);function gr(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Ne(n)||ze(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yr=[];function br(){for(var e=0;e<yr.length;e++){var t=yr[e];q?t._workInProgressVersionPrimary=null:t._workInProgressVersionSecondary=null}yr.length=0}var xr=u.ReactCurrentDispatcher,_r=u.ReactCurrentBatchConfig,wr=0,Sr=null,kr=null,Mr=null,Er=!1,Tr=!1,Ar=0,Cr=0;function Rr(){throw Error(o(321))}function Pr(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wt(e[n],t[n]))return!1;return!0}function Lr(e,t,n,r,i,a){if(wr=a,Sr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xr.current=null===e||null===e.memoizedState?pi:vi,e=n(r,i),Tr){a=0;do{if(Tr=!1,Ar=0,25<=a)throw Error(o(301));a+=1,Mr=kr=null,t.updateQueue=null,xr.current=mi,e=n(r,i)}while(Tr)}if(xr.current=di,t=null!==kr&&null!==kr.next,wr=0,Mr=kr=Sr=null,Er=!1,t)throw Error(o(300));return e}function Or(){var e=0!==Ar;return Ar=0,e}function Ir(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Mr?Sr.memoizedState=Mr=e:Mr=Mr.next=e,Mr}function Dr(){if(null===kr){var e=Sr.alternate;e=null!==e?e.memoizedState:null}else e=kr.next;var t=null===Mr?Sr.memoizedState:Mr.next;if(null!==t)Mr=t,kr=e;else{if(null===e)throw Error(o(310));e={memoizedState:(kr=e).memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},null===Mr?Sr.memoizedState=Mr=e:Mr=Mr.next=e}return Mr}function Nr(e,t){return"function"===typeof t?t(e):t}function zr(e){var t=Dr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=kr,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var s=u=null,l=null,c=a;do{var f=c.lane;if((wr&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=h,u=r):l=l.next=h,Sr.lanes|=f,to|=f}c=c.next}while(null!==c&&c!==a);null===l?u=r:l.next=s,Wt(r,t.memoizedState)||(Ni=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,Sr.lanes|=a,to|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fr(e){var t=Dr(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);Wt(a,t.memoizedState)||(Ni=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Br(){}function Ur(e,t){var n=Sr,r=Dr(),i=t(),a=!Wt(r.memoizedState,i);if(a&&(r.memoizedState=i,Ni=!0),r=r.queue,Kr(Zr.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==Mr&&1&Mr.memoizedState.tag){if(n.flags|=2048,Vr(9,Hr.bind(null,n,r,i,t),void 0,null),null===Xa)throw Error(o(349));0!==(30&wr)||jr(n,t,i)}return i}function jr(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Sr.updateQueue)?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Hr(e,t,n,r){t.value=n,t.getSnapshot=r,Gr(t)&&So(e,1,-1)}function Zr(e,t,n){return n((function(){Gr(t)&&So(e,1,-1)}))}function Gr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Wt(e,n)}catch(r){return!0}}function Wr(e){var t=Ir();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nr,lastRenderedState:e},t.queue=e,e=e.dispatch=si.bind(null,Sr,e),[t.memoizedState,e]}function Vr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Sr.updateQueue)?(t={lastEffect:null,stores:null},Sr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function qr(){return Dr().memoizedState}function Xr(e,t,n,r){var i=Ir();Sr.flags|=e,i.memoizedState=Vr(1|t,n,void 0,void 0===r?null:r)}function $r(e,t,n,r){var i=Dr();r=void 0===r?null:r;var a=void 0;if(null!==kr){var o=kr.memoizedState;if(a=o.destroy,null!==r&&Pr(r,o.deps))return void(i.memoizedState=Vr(t,n,a,r))}Sr.flags|=e,i.memoizedState=Vr(1|t,n,a,r)}function Yr(e,t){return Xr(8390656,8,e,t)}function Kr(e,t){return $r(2048,8,e,t)}function Jr(e,t){return $r(4,2,e,t)}function Qr(e,t){return $r(4,4,e,t)}function ei(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ti(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,$r(4,4,ei.bind(null,t,e),n)}function ni(){}function ri(e,t){var n=Dr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Pr(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ii(e,t){var n=Dr();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Pr(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ai(e,t){var n=Lt;Lt=0!==n&&4>n?n:4,e(!0);var r=_r.transition;_r.transition={};try{e(!1),t()}finally{Lt=n,_r.transition=r}}function oi(){return Dr().memoizedState}function ui(e,t,n){var r=wo(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},li(e)?ci(t,n):(fi(e,t,n),null!==(e=So(e,r,n=_o()))&&hi(e,t,r))}function si(e,t,n){var r=wo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(li(e))ci(t,i);else{fi(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,Wt(u,o))return}catch(s){}null!==(e=So(e,r,n=_o()))&&hi(e,t,r)}}function li(e){var t=e.alternate;return e===Sr||null!==t&&t===Sr}function ci(e,t){Tr=Er=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function fi(e,t,n){null!==Xa&&0!==(1&e.mode)&&0===(2&qa)?(null===(e=t.interleaved)?(n.next=n,null===hn?hn=[t]:hn.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function hi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pt(e,n)}}var di={readContext:fn,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},pi={readContext:fn,useCallback:function(e,t){return Ir().memoizedState=[e,void 0===t?null:t],e},useContext:fn,useEffect:Yr,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Xr(4194308,4,ei.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xr(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xr(4,2,e,t)},useMemo:function(e,t){var n=Ir();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ir();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ui.bind(null,Sr,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ir().memoizedState=e},useState:Wr,useDebugValue:ni,useDeferredValue:function(e){var t=Wr(e),n=t[0],r=t[1];return Yr((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){var e=Wr(!1),t=e[0];return e=ai.bind(null,e[1]),Ir().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Sr,i=Ir();if(Gn){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Xa)throw Error(o(349));0!==(30&wr)||jr(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Yr(Zr.bind(null,r,a,e),[e]),r.flags|=2048,Vr(9,Hr.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ir(),t=Xa.identifierPrefix;if(Gn){var n=zn;t=":"+t+"R"+(n=(Nn&~(1<<32-xt(Nn)-1)).toString(32)+n),0<(n=Ar++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Cr++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},vi={readContext:fn,useCallback:ri,useContext:fn,useEffect:Kr,useImperativeHandle:ti,useInsertionEffect:Jr,useLayoutEffect:Qr,useMemo:ii,useReducer:zr,useRef:qr,useState:function(){return zr(Nr)},useDebugValue:ni,useDeferredValue:function(e){var t=zr(Nr),n=t[0],r=t[1];return Kr((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){return[zr(Nr)[0],Dr().memoizedState]},useMutableSource:Br,useSyncExternalStore:Ur,useId:oi,unstable_isNewReconciler:!1},mi={readContext:fn,useCallback:ri,useContext:fn,useEffect:Kr,useImperativeHandle:ti,useInsertionEffect:Jr,useLayoutEffect:Qr,useMemo:ii,useReducer:Fr,useRef:qr,useState:function(){return Fr(Nr)},useDebugValue:ni,useDeferredValue:function(e){var t=Fr(Nr),n=t[0],r=t[1];return Kr((function(){var t=_r.transition;_r.transition={};try{r(e)}finally{_r.transition=t}}),[e]),n},useTransition:function(){return[Fr(Nr)[0],Dr().memoizedState]},useMutableSource:Br,useSyncExternalStore:Ur,useId:oi,unstable_isNewReconciler:!1};function gi(e,t){try{var n="",r=t;do{n+=Qt(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function yi(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var bi,xi,_i,wi,Si="function"===typeof WeakMap?WeakMap:Map;function ki(e,t,n){(n=mn(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){co||(co=!0,fo=r),yi(0,t)},n}function Mi(e,t,n){(n=mn(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){yi(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){yi(0,t),"function"!==typeof r&&(null===ho?ho=new Set([this]):ho.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function Ei(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new Si;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Vo.bind(null,e,t,n),t.then(e,e))}function Ti(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ai(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=mn(-1,1)).tag=2,gn(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function Ci(e){e.flags|=4}function Ri(e,t){if(null!==e&&e.child===t.child)return!0;if(0!==(16&t.flags))return!1;for(e=t.child;null!==e;){if(0!==(12854&e.flags)||0!==(12854&e.subtreeFlags))return!1;e=e.sibling}return!0}if(X)bi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)B(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},xi=function(){},_i=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var a=t.stateNode,o=fr(sr.current);n=j(a,n,e,r,i,o),(t.updateQueue=n)&&Ci(t)}},wi=function(e,t,n,r){n!==r&&Ci(t)};else if($){bi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var a=i.stateNode;n&&r&&(a=Pe(a,i.type,i.memoizedProps,i)),B(e,a)}else if(6===i.tag)a=i.stateNode,n&&r&&(a=Le(a,i.memoizedProps,i)),B(e,a);else if(4!==i.tag)if(22===i.tag&&null!==i.memoizedState)null!==(a=i.child)&&(a.return=i),bi(e,i,!0,!0);else if(null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Pi=function e(t,n,r,i){for(var a=n.child;null!==a;){if(5===a.tag){var o=a.stateNode;r&&i&&(o=Pe(o,a.type,a.memoizedProps,a)),Ae(t,o)}else if(6===a.tag)o=a.stateNode,r&&i&&(o=Le(o,a.memoizedProps,a)),Ae(t,o);else if(4!==a.tag)if(22===a.tag&&null!==a.memoizedState)null!==(o=a.child)&&(o.return=a),e(t,a,!0,!0);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===n)break;for(;null===a.sibling;){if(null===a.return||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};xi=function(e,t){var n=t.stateNode;if(!Ri(e,t)){e=n.containerInfo;var r=Te(e);Pi(r,t,!1,!1),n.pendingChildren=r,Ci(t),Ce(e,r)}},_i=function(e,t,n,r,i){var a=e.stateNode,o=e.memoizedProps;if((e=Ri(e,t))&&o===r)t.stateNode=a;else{var u=t.stateNode,s=fr(sr.current),l=null;o!==r&&(l=j(u,n,o,r,i,s)),e&&null===l?t.stateNode=a:(a=Ee(a,l,n,o,r,t,e,u),U(a,n,r,i,s)&&Ci(t),t.stateNode=a,e?Ci(t):bi(a,t,!1,!1))}},wi=function(e,t,n,r){n!==r?(e=fr(cr.current),n=fr(sr.current),t.stateNode=Z(r,e,n,t),Ci(t)):t.stateNode=e.stateNode}}else xi=function(){},_i=function(){},wi=function(){};function Li(e,t){if(!Gn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Oi(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ii(e,t,n){var r=t.pendingProps;switch(jn(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oi(t),null;case 1:case 17:return pt(t.type)&&vt(),Oi(t),null;case 3:return r=t.stateNode,dr(),ut(ft),ut(ct),br(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Jn(t)?Ci(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Vn&&(Ao(Vn),Vn=null))),xi(e,t),Oi(t),null;case 5:vr(t),n=fr(cr.current);var i=t.type;if(null!==e&&null!=t.stateNode)_i(e,t,i,r,n),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Oi(t),null}if(e=fr(sr.current),Jn(t)){if(!Y)throw Error(o(175));e=Ze(t.stateNode,t.type,t.memoizedProps,n,e,t,!Wn),t.updateQueue=e,null!==e&&Ci(t)}else{var a=F(i,r,n,e,t);bi(a,t,!1,!1),t.stateNode=a,U(a,i,r,n,e)&&Ci(t)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Oi(t),null;case 6:if(e&&null!=t.stateNode)wi(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=fr(cr.current),n=fr(sr.current),Jn(t)){if(!Y)throw Error(o(176));if(e=t.stateNode,r=t.memoizedProps,(n=Ge(e,r,t,!Wn))&&null!==(i=Hn))switch(a=0!==(1&i.mode),i.tag){case 3:Je(i.stateNode.containerInfo,e,r,a);break;case 5:Qe(i.type,i.memoizedProps,i.stateNode,e,r,a)}n&&Ci(t)}else t.stateNode=Z(r,e,n,t)}return Oi(t),null;case 13:if(ut(mr),r=t.memoizedState,Gn&&null!==Zn&&0!==(1&t.mode)&&0===(128&t.flags)){for(e=Zn;e;)e=Be(e);return Qn(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Jn(t),null===e){if(!r)throw Error(o(318));if(!Y)throw Error(o(344));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(o(317));We(e,t)}else Qn(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return Oi(t),null}return null!==Vn&&(Ao(Vn),Vn=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Jn(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&mr.current)?0===Qa&&(Qa=3):No())),null!==t.updateQueue&&(t.flags|=4),Oi(t),null);case 4:return dr(),xi(e,t),null===e&&J(t.stateNode.containerInfo),Oi(t),null;case 10:return sn(t.type._context),Oi(t),null;case 19:if(ut(mr),null===(i=t.memoizedState))return Oi(t),null;if(r=0!==(128&t.flags),null===(a=i.rendering))if(r)Li(i,!1);else{if(0!==Qa||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=gr(e))){for(t.flags|=128,Li(i,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.flags|=4),t.subtreeFlags=0,e=n,r=t.child;null!==r;)i=e,(n=r).flags&=14680066,null===(a=n.alternate)?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=null===i?null:{lanes:i.lanes,firstContext:i.firstContext}),r=r.sibling;return st(mr,1&mr.current|2),t.child}e=e.sibling}null!==i.tail&&Ft()>uo&&(t.flags|=128,r=!0,Li(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=gr(a))){if(t.flags|=128,r=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.flags|=4),Li(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!Gn)return Oi(t),null}else 2*Ft()-i.renderingStartTime>uo&&1073741824!==n&&(t.flags|=128,r=!0,Li(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ft(),t.sibling=null,e=mr.current,st(mr,r?1&e|2:1&e),t):(Oi(t),null);case 22:case 23:return Lo(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ka)&&(Oi(t),X&&6&t.subtreeFlags&&(t.flags|=8192)):Oi(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}var Di=u.ReactCurrentOwner,Ni=!1;function zi(e,t,n,r){t.child=null===e?or(t,null,n,r):ar(t,e.child,n,r)}function Fi(e,t,n,r,i){n=n.render;var a=t.ref;return cn(t,i),r=Lr(e,t,n,r,a,i),n=Or(),null===e||Ni?(Gn&&n&&Un(t),t.flags|=1,zi(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function Bi(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Qo(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=tu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ui(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:Jt)(o,r)&&e.ref===t.ref)return ia(e,t,i)}return t.flags|=1,(e=eu(a,r)).ref=t.ref,e.return=t,t.child=e}function Ui(e,t,n,r,i){if(null!==e&&Jt(e.memoizedProps,r)&&e.ref===t.ref){if(Ni=!1,0===(e.lanes&i))return t.lanes=e.lanes,ia(e,t,i);0!==(131072&e.flags)&&(Ni=!0)}return Zi(e,t,n,r,i)}function ji(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},st(Ja,Ka),Ka|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,st(Ja,Ka),Ka|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,st(Ja,Ka),Ka|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,st(Ja,Ka),Ka|=r;return zi(e,t,i,n),t.child}function Hi(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Zi(e,t,n,r,i){var a=pt(n)?ht:ct.current;return a=dt(t,a),cn(t,i),n=Lr(e,t,n,r,a,i),r=Or(),null===e||Ni?(Gn&&r&&Un(t),t.flags|=1,zi(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,ia(e,t,i))}function Gi(e,t,n,r,i){if(pt(n)){var a=!0;yt(t)}else a=!1;if(cn(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),En(t,n,r),An(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=fn(l):l=dt(t,l=pt(n)?ht:ct.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==l)&&Tn(t,o,r,l),dn=!1;var h=t.memoizedState;o.state=h,xn(t,r,o,i),s=t.memoizedState,u!==r||h!==s||ft.current||dn?("function"===typeof c&&(Sn(t,n,c,r),s=t.memoizedState),(u=dn||Mn(t,n,u,r,h,s,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,vn(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:en(t.type,u),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=fn(s):s=dt(t,s=pt(n)?ht:ct.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Tn(t,o,r,s),dn=!1,h=t.memoizedState,o.state=h,xn(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||ft.current||dn?("function"===typeof d&&(Sn(t,n,d,r),p=t.memoizedState),(l=dn||Mn(t,n,l,r,h,p,s)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Wi(e,t,n,r,a,i)}function Wi(e,t,n,r,i,a){Hi(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&bt(t,n,!1),ia(e,t,a);r=t.stateNode,Di.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ar(t,e.child,null,a),t.child=ar(t,null,u,a)):zi(e,t,u,a),t.memoizedState=r.state,i&&bt(t,n,!0),t.child}function Vi(e){var t=e.stateNode;t.pendingContext?mt(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mt(0,t.context,!1),hr(e,t.containerInfo)}function qi(e,t,n,r,i){return Qn(),er(i),t.flags|=256,zi(e,t,n,r),t.child}var Xi={dehydrated:null,treeContext:null,retryLane:0};function $i(e){return{baseLanes:e,cachePool:null}}function Yi(e,t,n){var r,i=t.pendingProps,a=mr.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),st(mr,1&a),null===e)return Yn(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:ze(e)?t.lanes=8:t.lanes=1073741824,null):(a=i.children,e=i.fallback,u?(i=t.mode,u=t.child,a={mode:"hidden",children:a},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=a):u=ru(a,i,0,null),e=nu(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=$i(n),t.memoizedState=Xi,e):Ki(t,a));if(null!==(a=e.memoizedState)){if(null!==(r=a.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,ea(e,t,n,Error(o(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,a=t.mode,i=ru({mode:"visible",children:i.children},a,0,null),(u=nu(u,a,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&ar(t,e.child,null,n),t.child.memoizedState=$i(n),t.memoizedState=Xi,u);if(0===(1&t.mode))t=ea(e,t,n,null);else if(ze(r))t=ea(e,t,n,Error(o(419)));else if(i=0!==(n&e.childLanes),Ni||i){if(null!==(i=Xa)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==a.retryLane&&(a.retryLane=i,So(e,i,-1))}No(),t=ea(e,t,n,Error(o(421)))}else Ne(r)?(t.flags|=128,t.child=e.child,t=Xo.bind(null,e),Fe(r,t),t=null):(n=a.treeContext,Y&&(Zn=He(r),Hn=t,Gn=!0,Vn=null,Wn=!1,null!==n&&(On[In++]=Nn,On[In++]=zn,On[In++]=Dn,Nn=n.id,zn=n.overflow,Dn=t)),(t=Ki(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Qi(e,t,i.children,i.fallback,n),u=t.child,a=e.child.memoizedState,u.memoizedState=null===a?$i(n):{baseLanes:a.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Xi,i):(n=Ji(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Qi(e,t,i.children,i.fallback,n),u=t.child,a=e.child.memoizedState,u.memoizedState=null===a?$i(n):{baseLanes:a.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Xi,i):(n=Ji(e,t,i.children,n),t.memoizedState=null,n)}function Ki(e,t){return(t=ru({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ji(e,t,n,r){var i=e.child;return e=i.sibling,n=eu(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Qi(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=eu(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=eu(o,r):(r=nu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ea(e,t,n,r){return null!==r&&er(r),ar(t,e.child,null,n),(e=Ki(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function ta(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ln(e.return,t,n)}function na(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function ra(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(zi(e,t,r.children,n),0!==(2&(r=mr.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ta(e,n,t);else if(19===e.tag)ta(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(st(mr,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===gr(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),na(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===gr(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}na(t,!0,n,null,a);break;case"together":na(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ia(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),to|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=eu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=eu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function aa(e,t){switch(jn(t),t.tag){case 1:return pt(t.type)&&vt(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return dr(),ut(ft),ut(ct),br(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return vr(t),null;case 13:if(ut(mr),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));Qn()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ut(mr),null;case 4:return dr(),null;case 10:return sn(t.type._context),null;case 22:case 23:return Lo(),null;default:return null}}var oa=!1,ua=!1,sa="function"===typeof WeakSet?WeakSet:Set,la=null;function ca(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Wo(e,t,r)}else n.current=null}function fa(e,t,n){try{n()}catch(r){Wo(e,t,r)}}var ha=!1;function da(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&fa(t,n,a)}i=i.next}while(i!==r)}}function pa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function va(e){var t=e.ref;if(null!==t){var n=e.stateNode;if(5===e.tag)e=O(n);else e=n;"function"===typeof t?t(e):t.current=e}}function ma(e,t,n){if(Gt&&"function"===typeof Gt.onCommitFiberUnmount)try{Gt.onCommitFiberUnmount(Zt,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&fa(t,n,a),r=r.next}while(r!==e)}break;case 1:if(ca(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Wo(t,n,o)}break;case 5:ca(t,n);break;case 4:X?ka(e,t,n):$&&$&&(t=t.stateNode.containerInfo,n=Te(t),Re(t,n))}}function ga(e,t,n){for(var r=t;;)if(ma(e,r,n),null===r.child||X&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function ya(e){var t=e.alternate;null!==t&&(e.alternate=null,ya(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&ee(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ba(e){return 5===e.tag||3===e.tag||4===e.tag}function xa(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ba(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function _a(e){if(X){e:{for(var t=e.return;null!==t;){if(ba(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(xe(t),n.flags&=-33),Sa(e,n=xa(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,wa(e,n=xa(e),t);break;default:throw Error(o(161))}}}function wa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?ge(n,e,t):he(n,e);else if(4!==r&&null!==(e=e.child))for(wa(e,t,n),e=e.sibling;null!==e;)wa(e,t,n),e=e.sibling}function Sa(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?me(n,e,t):fe(n,e);else if(4!==r&&null!==(e=e.child))for(Sa(e,t,n),e=e.sibling;null!==e;)Sa(e,t,n),e=e.sibling}function ka(e,t,n){for(var r,i,a=t,u=!1;;){if(!u){u=a.return;e:for(;;){if(null===u)throw Error(o(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===a.tag||6===a.tag)ga(e,a,n),i?be(r,a.stateNode):ye(r,a.stateNode);else if(18===a.tag)i?Ye(r,a.stateNode):$e(r,a.stateNode);else if(4===a.tag){if(null!==a.child){r=a.stateNode.containerInfo,i=!0,a.child.return=a,a=a.child;continue}}else if(ma(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(u=!1)}a.sibling.return=a.return,a=a.sibling}}function Ma(e,t){if(X){switch(t.tag){case 0:case 11:case 14:case 15:return da(3,t,t.return),pa(3,t),void da(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&ve(n,a,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(o(162));return n=t.memoizedProps,void de(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(Y&&null!==e&&e.memoizedState.isDehydrated&&qe(t.stateNode.containerInfo));case 13:case 19:return void Ea(t)}throw Error(o(163))}switch(t.tag){case 0:case 11:case 14:case 15:return da(3,t,t.return),pa(3,t),void da(5,t,t.return);case 12:case 22:case 23:return;case 13:case 19:return void Ea(t);case 3:Y&&null!==e&&e.memoizedState.isDehydrated&&qe(t.stateNode.containerInfo)}e:if($){switch(t.tag){case 1:case 5:case 6:break e;case 3:case 4:t=t.stateNode,Re(t.containerInfo,t.pendingChildren);break e}throw Error(o(163))}}function Ea(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new sa),t.forEach((function(t){var r=$o.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Ta(e,t,n){la=e,Aa(e,t,n)}function Aa(e,t,n){for(var r=0!==(1&e.mode);null!==la;){var i=la,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||oa;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||ua;u=oa;var l=ua;if(oa=o,(ua=s)&&!l)for(la=i;null!==la;)s=(o=la).child,22===o.tag&&null!==o.memoizedState?Pa(i):null!==s?(s.return=o,la=s):Pa(i);for(;null!==a;)la=a,Aa(a,t,n),a=a.sibling;la=i,oa=u,ua=l}Ca(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,la=a):Ca(e)}}function Ca(e){for(;null!==la;){var t=la;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:ua||pa(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!ua)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:en(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&_n(t,a,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=O(t.child.stateNode);break;case 1:n=t.child.stateNode}_n(t,u,n)}break;case 5:var s=t.stateNode;null===n&&4&t.flags&&pe(s,t.type,t.memoizedProps,t);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(Y&&null===t.memoizedState){var l=t.alternate;if(null!==l){var c=l.memoizedState;if(null!==c){var f=c.dehydrated;null!==f&&Xe(f)}}}break;default:throw Error(o(163))}ua||512&t.flags&&va(t)}catch(h){Wo(t,t.return,h)}}if(t===e){la=null;break}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}function Ra(e){for(;null!==la;){var t=la;if(t===e){la=null;break}var n=t.sibling;if(null!==n){n.return=t.return,la=n;break}la=t.return}}function Pa(e){for(;null!==la;){var t=la;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pa(4,t)}catch(s){Wo(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Wo(t,i,s)}}var a=t.return;try{va(t)}catch(s){Wo(t,a,s)}break;case 5:var o=t.return;try{va(t)}catch(s){Wo(t,o,s)}}}catch(s){Wo(t,t.return,s)}if(t===e){la=null;break}var u=t.sibling;if(null!==u){u.return=t.return,la=u;break}la=t.return}}var La=0,Oa=1,Ia=2,Da=3,Na=4;if("function"===typeof Symbol&&Symbol.for){var za=Symbol.for;La=za("selector.component"),Oa=za("selector.has_pseudo_class"),Ia=za("selector.role"),Da=za("selector.test_id"),Na=za("selector.text")}function Fa(e){var t=K(e);if(null!=t){if("string"!==typeof t.memoizedProps["data-testname"])throw Error(o(364));return t}if(null===(e=ie(e)))throw Error(o(362));return e.stateNode.current}function Ba(e,t){switch(t.$$typeof){case La:if(e.type===t.value)return!0;break;case Oa:e:{t=t.value,e=[e,0];for(var n=0;n<e.length;){var r=e[n++],i=e[n++],a=t[i];if(5!==r.tag||!ue(r)){for(;null!=a&&Ba(r,a);)a=t[++i];if(i===t.length){t=!0;break e}for(r=r.child;null!==r;)e.push(r,i),r=r.sibling}}t=!1}return t;case Ia:if(5===e.tag&&se(e.stateNode,t.value))return!0;break;case Na:if((5===e.tag||6===e.tag)&&(null!==(e=oe(e))&&0<=e.indexOf(t.value)))return!0;break;case Da:if(5===e.tag&&("string"===typeof(e=e.memoizedProps["data-testname"])&&e.toLowerCase()===t.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Ua(e){switch(e.$$typeof){case La:return"<"+(S(e.value)||"Unknown")+">";case Oa:return":has("+(Ua(e)||"")+")";case Ia:return'[role="'+e.value+'"]';case Na:return'"'+e.value+'"';case Da:return'[data-testname="'+e.value+'"]';default:throw Error(o(365))}}function ja(e,t){var n=[];e=[e,0];for(var r=0;r<e.length;){var i=e[r++],a=e[r++],o=t[a];if(5!==i.tag||!ue(i)){for(;null!=o&&Ba(i,o);)o=t[++a];if(a===t.length)n.push(i);else for(i=i.child;null!==i;)e.push(i,a),i=i.sibling}}return n}function Ha(e,t){if(!re)throw Error(o(363));e=ja(e=Fa(e),t),t=[],e=Array.from(e);for(var n=0;n<e.length;){var r=e[n++];if(5===r.tag)ue(r)||t.push(r.stateNode);else for(r=r.child;null!==r;)e.push(r),r=r.sibling}return t}var Za=Math.ceil,Ga=u.ReactCurrentDispatcher,Wa=u.ReactCurrentOwner,Va=u.ReactCurrentBatchConfig,qa=0,Xa=null,$a=null,Ya=0,Ka=0,Ja=ot(0),Qa=0,eo=null,to=0,no=0,ro=0,io=null,ao=null,oo=0,uo=1/0;function so(){uo=Ft()+500}var lo,co=!1,fo=null,ho=null,po=!1,vo=null,mo=0,go=0,yo=null,bo=-1,xo=0;function _o(){return 0!==(6&qa)?Ft():-1!==bo?bo:bo=Ft()}function wo(e){return 0===(1&e.mode)?1:0!==(2&qa)&&0!==Ya?Ya&-Ya:null!==Kt.transition?(0===xo&&(e=St,0===(4194240&(St<<=1))&&(St=64),xo=e),xo):0!==(e=Lt)?e:Q()}function So(e,t,n){if(50<go)throw go=0,yo=null,Error(o(185));var r=ko(e,t);return null===r?null:(Rt(r,t,n),0!==(2&qa)&&r===Xa||(r===Xa&&(0===(2&qa)&&(no|=t),4===Qa&&Co(r,Ya)),Mo(r,n),1===t&&0===qa&&0===(1&e.mode)&&(so(),qt&&Yt())),r)}function ko(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Mo(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-xt(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=Tt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=Et(e,e===Xa?Ya:0);if(0===r)null!==n&&Dt(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Dt(n),1===t)0===e.tag?function(e){qt=!0,$t(e)}(Ro.bind(null,e)):$t(Ro.bind(null,e)),te?ne((function(){0===qa&&Yt()})):It(Bt,Yt),n=null;else{switch(Ot(r)){case 1:n=Bt;break;case 4:n=Ut;break;case 16:default:n=jt;break;case 536870912:n=Ht}n=Yo(n,Eo.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Eo(e,t){if(bo=-1,xo=0,0!==(6&qa))throw Error(o(327));var n=e.callbackNode;if(Zo()&&e.callbackNode!==n)return null;var r=Et(e,e===Xa?Ya:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=zo(e,r);else{t=r;var i=qa;qa|=2;var a=Do();for(Xa===e&&Ya===t||(so(),Oo(e,t));;)try{Bo();break}catch(s){Io(e,s)}on(),Ga.current=a,qa=i,null!==$a?t=0:(Xa=null,Ya=0,t=Qa)}if(0!==t){if(2===t&&(0!==(i=At(e))&&(r=i,t=To(e,i))),1===t)throw n=eo,Oo(e,0),Co(e,r),Mo(e,Ft()),n;if(6===t)Co(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Wt(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=zo(e,r))&&(0!==(a=At(e))&&(r=a,t=To(e,a))),1===t))throw n=eo,Oo(e,0),Co(e,r),Mo(e,Ft()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:Ho(e,ao);break;case 3:if(Co(e,r),(130023424&r)===r&&10<(t=oo+500-Ft())){if(0!==Et(e,0))break;if(((i=e.suspendedLanes)&r)!==r){_o(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=G(Ho.bind(null,e,ao),t);break}Ho(e,ao);break;case 4:if(Co(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-xt(r);a=1<<u,(u=t[u])>i&&(i=u),r&=~a}if(r=i,10<(r=(120>(r=Ft()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Za(r/1960))-r)){e.timeoutHandle=G(Ho.bind(null,e,ao),r);break}Ho(e,ao);break;default:throw Error(o(329))}}}return Mo(e,Ft()),e.callbackNode===n?Eo.bind(null,e):null}function To(e,t){var n=io;return e.current.memoizedState.isDehydrated&&(Oo(e,t).flags|=256),2!==(e=zo(e,t))&&(t=ao,ao=n,null!==t&&Ao(t)),e}function Ao(e){null===ao?ao=e:ao.push.apply(ao,e)}function Co(e,t){for(t&=~ro,t&=~no,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-xt(t),r=1<<n;e[n]=-1,t&=~r}}function Ro(e){if(0!==(6&qa))throw Error(o(327));Zo();var t=Et(e,0);if(0===(1&t))return Mo(e,Ft()),null;var n=zo(e,t);if(0!==e.tag&&2===n){var r=At(e);0!==r&&(t=r,n=To(e,r))}if(1===n)throw n=eo,Oo(e,0),Co(e,t),Mo(e,Ft()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ho(e,ao),Mo(e,Ft()),null}function Po(e){null!==vo&&0===vo.tag&&0===(6&qa)&&Zo();var t=qa;qa|=1;var n=Va.transition,r=Lt;try{if(Va.transition=null,Lt=1,e)return e()}finally{Lt=r,Va.transition=n,0===(6&(qa=t))&&Yt()}}function Lo(){Ka=Ja.current,ut(Ja)}function Oo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==V&&(e.timeoutHandle=V,W(n)),null!==$a)for(n=$a.return;null!==n;){var r=n;switch(jn(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vt();break;case 3:dr(),ut(ft),ut(ct),br();break;case 5:vr(r);break;case 4:dr();break;case 13:case 19:ut(mr);break;case 10:sn(r.type._context);break;case 22:case 23:Lo()}n=n.return}if(Xa=e,$a=e=eu(e.current,null),Ya=Ka=t,Qa=0,eo=null,ro=no=to=0,ao=io=null,null!==hn){for(t=0;t<hn.length;t++)if(null!==(r=(n=hn[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}hn=null}return e}function Io(e,t){for(;;){var n=$a;try{if(on(),xr.current=di,Er){for(var r=Sr.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}Er=!1}if(wr=0,Mr=kr=Sr=null,Tr=!1,Ar=0,Wa.current=null,null===n||null===n.return){Qa=1,eo=t,$a=null;break}e:{var a=e,u=n.return,s=n,l=t;if(t=Ya,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=Ti(u);if(null!==p){p.flags&=-257,Ai(p,u,s,0,t),1&p.mode&&Ei(a,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(l),t.updateQueue=m}else v.add(l);break e}if(0===(1&t)){Ei(a,c,t),No();break e}l=Error(o(426))}else if(Gn&&1&s.mode){var g=Ti(u);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),Ai(g,u,s,0,t),er(l);break e}}a=l,4!==Qa&&(Qa=2),null===io?io=[a]:io.push(a),l=gi(l,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,bn(s,ki(0,l,t));break e;case 1:a=l;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===ho||!ho.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,bn(s,Mi(s,a,t));break e}}s=s.return}while(null!==s)}jo(n)}catch(x){t=x,$a===n&&null!==n&&($a=n=n.return);continue}break}}function Do(){var e=Ga.current;return Ga.current=di,null===e?di:e}function No(){0!==Qa&&3!==Qa&&2!==Qa||(Qa=4),null===Xa||0===(268435455&to)&&0===(268435455&no)||Co(Xa,Ya)}function zo(e,t){var n=qa;qa|=2;var r=Do();for(Xa===e&&Ya===t||Oo(e,t);;)try{Fo();break}catch(i){Io(e,i)}if(on(),qa=n,Ga.current=r,null!==$a)throw Error(o(261));return Xa=null,Ya=0,Qa}function Fo(){for(;null!==$a;)Uo($a)}function Bo(){for(;null!==$a&&!Nt();)Uo($a)}function Uo(e){var t=lo(e.alternate,e,Ka);e.memoizedProps=e.pendingProps,null===t?jo(e):$a=t,Wa.current=null}function jo(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ii(n,t,Ka)))return void($a=n)}else{if(null!==(n=aa(n,t)))return n.flags&=32767,void($a=n);if(null===e)return Qa=6,void($a=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void($a=t);$a=t=e}while(null!==t);0===Qa&&(Qa=5)}function Ho(e,t){var n=Lt,r=Va.transition;try{Va.transition=null,Lt=1,function(e,t,n){do{Zo()}while(null!==vo);if(0!==(6&qa))throw Error(o(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-xt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,a),e===Xa&&($a=Xa=null,Ya=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||po||(po=!0,Yo(jt,(function(){return Zo(),null}))),a=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||a){a=Va.transition,Va.transition=null;var u=Lt;Lt=1;var s=qa;qa|=4,Wa.current=null,function(e,t){for(N(e.containerInfo),la=t;null!==la;)if(t=(e=la).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,la=t;else for(;null!==la;){e=la;try{var n=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==n){var r=n.memoizedProps,i=n.memoizedState,a=e.stateNode,u=a.getSnapshotBeforeUpdate(e.elementType===e.type?r:en(e.type,r),i);a.__reactInternalSnapshotBeforeUpdate=u}break;case 3:X&&Me(e.stateNode.containerInfo);break;default:throw Error(o(163))}}catch(s){Wo(e,e.return,s)}if(null!==(t=e.sibling)){t.return=e.return,la=t;break}la=e.return}n=ha,ha=!1}(e,r),function(e,t){for(la=t;null!==la;){var n=(t=la).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e;X?ka(a,i,t):ga(a,i,t);var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(_){Wo(i,t,_)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,la=n;else for(;null!==la;){t=la;try{var u=t.flags;if(32&u&&X&&xe(t.stateNode),512&u){var s=t.alternate;if(null!==s){var l=s.ref;null!==l&&("function"===typeof l?l(null):l.current=null)}}if(8192&u)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(oo=Ft())}break;case 22:var f=null!==t.memoizedState,h=t.alternate,d=null!==h&&null!==h.memoizedState;if(n=t,X)e:if(r=n,i=f,a=null,X)for(var p=r;;){if(5===p.tag){if(null===a){a=p;var v=p.stateNode;i?_e(v):Se(p.stateNode,p.memoizedProps)}}else if(6===p.tag){if(null===a){var m=p.stateNode;i?we(m):ke(m,p.memoizedProps)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;a===p&&(a=null),p=p.return}a===p&&(a=null),p.sibling.return=p.return,p=p.sibling}if(f&&!d&&0!==(1&n.mode)){la=n;for(var g=n.child;null!==g;){for(n=la=g;null!==la;){var y=(r=la).child;switch(r.tag){case 0:case 11:case 14:case 15:da(4,r,r.return);break;case 1:ca(r,r.return);var b=r.stateNode;if("function"===typeof b.componentWillUnmount){var x=r.return;try{b.props=r.memoizedProps,b.state=r.memoizedState,b.componentWillUnmount()}catch(_){Wo(r,x,_)}}break;case 5:ca(r,r.return);break;case 22:if(null!==r.memoizedState){Ra(n);continue}}null!==y?(y.return=r,la=y):Ra(n)}g=g.sibling}}}switch(4102&u){case 2:_a(t),t.flags&=-3;break;case 6:_a(t),t.flags&=-3,Ma(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,Ma(t.alternate,t);break;case 4:Ma(t.alternate,t)}}catch(_){Wo(t,t.return,_)}if(null!==(n=t.sibling)){n.return=t.return,la=n;break}la=t.return}}}(e,r),z(e.containerInfo),e.current=r,Ta(r,e,i),zt(),qa=s,Lt=u,Va.transition=a}else e.current=r;if(po&&(po=!1,vo=e,mo=i),0===(a=e.pendingLanes)&&(ho=null),function(e){if(Gt&&"function"===typeof Gt.onCommitFiberRoot)try{Gt.onCommitFiberRoot(Zt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Mo(e,Ft()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(co)throw co=!1,e=fo,fo=null,e;0!==(1&mo)&&0!==e.tag&&Zo(),0!==(1&(a=e.pendingLanes))?e===yo?go++:(go=0,yo=e):go=0,Yt()}(e,t,n)}finally{Va.transition=r,Lt=n}return null}function Zo(){if(null!==vo){var e=Ot(mo),t=Va.transition,n=Lt;try{if(Va.transition=null,Lt=16>e?16:e,null===vo)var r=!1;else{if(e=vo,vo=null,mo=0,0!==(6&qa))throw Error(o(331));var i=qa;for(qa|=4,la=e.current;null!==la;){var a=la,u=a.child;if(0!==(16&la.flags)){var s=a.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(la=c;null!==la;){var f=la;switch(f.tag){case 0:case 11:case 15:da(8,f,a)}var h=f.child;if(null!==h)h.return=f,la=h;else for(;null!==la;){var d=(f=la).sibling,p=f.return;if(ya(f),f===c){la=null;break}if(null!==d){d.return=p,la=d;break}la=p}}}var v=a.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}la=a}}if(0!==(2064&a.subtreeFlags)&&null!==u)u.return=a,la=u;else e:for(;null!==la;){if(0!==(2048&(a=la).flags))switch(a.tag){case 0:case 11:case 15:da(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,la=y;break e}la=a.return}}var b=e.current;for(la=b;null!==la;){var x=(u=la).child;if(0!==(2064&u.subtreeFlags)&&null!==x)x.return=u,la=x;else e:for(u=b;null!==la;){if(0!==(2048&(s=la).flags))try{switch(s.tag){case 0:case 11:case 15:pa(9,s)}}catch(w){Wo(s,s.return,w)}if(s===u){la=null;break e}var _=s.sibling;if(null!==_){_.return=s.return,la=_;break e}la=s.return}}if(qa=i,Yt(),Gt&&"function"===typeof Gt.onPostCommitFiberRoot)try{Gt.onPostCommitFiberRoot(Zt,e)}catch(w){}r=!0}return r}finally{Lt=n,Va.transition=t}}return!1}function Go(e,t,n){gn(e,t=ki(0,t=gi(n,t),1)),t=_o(),null!==(e=ko(e,1))&&(Rt(e,1,t),Mo(e,t))}function Wo(e,t,n){if(3===e.tag)Go(e,e,n);else for(;null!==t;){if(3===t.tag){Go(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===ho||!ho.has(r))){gn(t,e=Mi(t,e=gi(n,e),1)),e=_o(),null!==(t=ko(t,1))&&(Rt(t,1,e),Mo(t,e));break}}t=t.return}}function Vo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=_o(),e.pingedLanes|=e.suspendedLanes&n,Xa===e&&(Ya&n)===n&&(4===Qa||3===Qa&&(130023424&Ya)===Ya&&500>Ft()-oo?Oo(e,0):ro|=n),Mo(e,t)}function qo(e,t){0===t&&(0===(1&e.mode)?t=1:(t=kt,0===(130023424&(kt<<=1))&&(kt=4194304)));var n=_o();null!==(e=ko(e,t))&&(Rt(e,t,n),Mo(e,n))}function Xo(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),qo(e,n)}function $o(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),qo(e,n)}function Yo(e,t){return It(e,t)}function Ko(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jo(e,t,n,r){return new Ko(e,t,n,r)}function Qo(e){return!(!(e=e.prototype)||!e.isReactComponent)}function eu(e,t){var n=e.alternate;return null===n?((n=Jo(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function tu(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Qo(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case c:return nu(n.children,i,a,t);case f:u=8,i|=8;break;case h:return(e=Jo(12,n,t,2|i)).elementType=h,e.lanes=a,e;case m:return(e=Jo(13,n,t,i)).elementType=m,e.lanes=a,e;case g:return(e=Jo(19,n,t,i)).elementType=g,e.lanes=a,e;case x:return ru(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case d:u=10;break e;case p:u=9;break e;case v:u=11;break e;case y:u=14;break e;case b:u=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Jo(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function nu(e,t,n,r){return(e=Jo(7,e,r,t)).lanes=n,e}function ru(e,t,n,r){return(e=Jo(22,e,r,t)).elementType=x,e.lanes=n,e.stateNode={},e}function iu(e,t,n){return(e=Jo(6,e,null,t)).lanes=n,e}function au(e,t,n){return(t=Jo(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ou(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=V,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ct(0),this.expirationTimes=Ct(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ct(0),this.identifierPrefix=r,this.onRecoverableError=i,Y&&(this.mutableSourceEagerHydrationData=null)}function uu(e,t,n,r,i,a,o,u,s){return e=new ou(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Jo(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},pn(a),e}function su(e){if(!e)return lt;e:{if(M(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(pt(n))return gt(e,n,t)}return t}function lu(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=A(t))?null:e.stateNode}function cu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function fu(e,t){cu(e,t),(e=e.alternate)&&cu(e,t)}function hu(e){return null===(e=A(e))?null:e.stateNode}function du(){return null}return lo=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||ft.current)Ni=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Ni=!1,function(e,t,n){switch(t.tag){case 3:Vi(t),Qn();break;case 5:pr(t);break;case 1:pt(t.type)&&yt(t);break;case 4:hr(t,t.stateNode.containerInfo);break;case 10:un(0,t.type._context,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(st(mr,1&mr.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Yi(e,t,n):(st(mr,1&mr.current),null!==(e=ia(e,t,n))?e.sibling:null);st(mr,1&mr.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ra(e,t,n);t.flags|=128}var i=t.memoizedState;if(null!==i&&(i.rendering=null,i.tail=null,i.lastEffect=null),st(mr,mr.current),r)break;return null;case 22:case 23:return t.lanes=0,ji(e,t,n)}return ia(e,t,n)}(e,t,n);Ni=0!==(131072&e.flags)}else Ni=!1,Gn&&0!==(1048576&t.flags)&&Bn(t,Ln,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=dt(t,ct.current);cn(t,n),i=Lr(null,t,r,e,i,n);var a=Or();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pt(r)?(a=!0,yt(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,pn(t),i.updater=kn,t.stateNode=i,i._reactInternals=t,An(t,r,e,n),t=Wi(null,t,r,!0,a,n)):(t.tag=0,Gn&&a&&Un(t),zi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Qo(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===v)return 11;if(e===y)return 14}return 2}(r),e=en(r,e),i){case 0:t=Zi(null,t,r,e,n);break e;case 1:t=Gi(null,t,r,e,n);break e;case 11:t=Fi(null,t,r,e,n);break e;case 14:t=Bi(null,t,r,en(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Zi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 1:return r=t.type,i=t.pendingProps,Gi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 3:e:{if(Vi(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,vn(e,t),xn(t,r,null,n);var u=t.memoizedState;if(r=u.element,Y&&a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:u.cache,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=qi(e,t,r,n,i=Error(o(423)));break e}if(r!==i){t=qi(e,t,r,n,i=Error(o(424)));break e}for(Y&&(Zn=je(t.stateNode.containerInfo),Hn=t,Gn=!0,Vn=null,Wn=!1),n=or(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Qn(),r===i){t=ia(e,t,n);break e}zi(e,t,r,n)}t=t.child}return t;case 5:return pr(t),null===e&&Yn(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,H(r,i)?u=null:null!==a&&H(r,a)&&(t.flags|=32),Hi(e,t),zi(e,t,u,n),t.child;case 6:return null===e&&Yn(t),null;case 13:return Yi(e,t,n);case 4:return hr(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ar(t,null,r,n):zi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fi(e,t,r,i=t.elementType===r?i:en(r,i),n);case 7:return zi(e,t,t.pendingProps,n),t.child;case 8:case 12:return zi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,un(0,r,u=i.value),null!==a)if(Wt(a.value,u)){if(a.children===i.children&&!ft.current){t=ia(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var s=a.dependencies;if(null!==s){u=a.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=mn(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),ln(a.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===a.tag)u=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(u=a.return))throw Error(o(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),ln(u,n,t),u=a.sibling}else u=a.child;if(null!==u)u.return=a;else for(u=a;null!==u;){if(u===t){u=null;break}if(null!==(a=u.sibling)){a.return=u.return,u=a;break}u=u.return}a=u}zi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,cn(t,n),r=r(i=fn(i)),t.flags|=1,zi(e,t,r,n),t.child;case 14:return i=en(r=t.type,t.pendingProps),Bi(e,t,r,i=en(r.type,i),n);case 15:return Ui(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:en(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pt(r)?(e=!0,yt(t)):e=!1,cn(t,n),En(t,r,i),An(t,r,i,n),Wi(null,t,r,!0,e,n);case 19:return ra(e,t,n);case 22:return ji(e,t,n)}throw Error(o(156,t.tag))},t.attemptContinuousHydration=function(e){13===e.tag&&(So(e,134217728,_o()),fu(e,134217728))},t.attemptHydrationAtCurrentPriority=function(e){if(13===e.tag){var t=_o(),n=wo(e);So(e,n,t),fu(e,n)}},t.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mt(t.pendingLanes);0!==n&&(Pt(t,1|n),Mo(t,Ft()),0===(6&qa)&&(so(),Yt()))}break;case 13:var r=_o();Po((function(){return So(e,1,r)})),fu(e,1)}},t.batchedUpdates=function(e,t){var n=qa;qa|=1;try{return e(t)}finally{0===(qa=n)&&(so(),qt&&Yt())}},t.createComponentSelector=function(e){return{$$typeof:La,value:e}},t.createContainer=function(e,t,n,r,i,a,o){return uu(e,t,!1,null,0,r,0,a,o)},t.createHasPseudoClassSelector=function(e){return{$$typeof:Oa,value:e}},t.createHydrationContainer=function(e,t,n,r,i,a,o,u,s){return(e=uu(n,r,!0,e,0,a,0,u,s)).context=su(null),n=e.current,(a=mn(r=_o(),i=wo(n))).callback=void 0!==t&&null!==t?t:null,gn(n,a),e.current.lanes=i,Rt(e,i,r),Mo(e,r),e},t.createPortal=function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:l,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}},t.createRoleSelector=function(e){return{$$typeof:Ia,value:e}},t.createTestNameSelector=function(e){return{$$typeof:Da,value:e}},t.createTextSelector=function(e){return{$$typeof:Na,value:e}},t.deferredUpdates=function(e){var t=Lt,n=Va.transition;try{return Va.transition=null,Lt=16,e()}finally{Lt=t,Va.transition=n}},t.discreteUpdates=function(e,t,n,r,i){var a=Lt,o=Va.transition;try{return Va.transition=null,Lt=1,e(t,n,r,i)}finally{Lt=a,Va.transition=o,0===qa&&so()}},t.findAllNodes=Ha,t.findBoundingRects=function(e,t){if(!re)throw Error(o(363));t=Ha(e,t),e=[];for(var n=0;n<t.length;n++)e.push(ae(t[n]));for(t=e.length-1;0<t;t--)for(var r=(n=e[t]).x,i=r+n.width,a=n.y,u=a+n.height,s=t-1;0<=s;s--)if(t!==s){var l=e[s],c=l.x,f=c+l.width,h=l.y,d=h+l.height;if(r>=c&&a>=h&&i<=f&&u<=d){e.splice(t,1);break}if(!(r!==c||n.width!==l.width||d<a||h>u)){h>a&&(l.height+=h-a,l.y=a),d<u&&(l.height=u-h),e.splice(t,1);break}if(!(a!==h||n.height!==l.height||f<r||c>i)){c>r&&(l.width+=c-r,l.x=r),f<i&&(l.width=i-c),e.splice(t,1);break}}return e},t.findHostInstance=lu,t.findHostInstanceWithNoPortals=function(e){return null===(e=null!==(e=T(e))?R(e):null)?null:e.stateNode},t.findHostInstanceWithWarning=function(e){return lu(e)},t.flushControlled=function(e){var t=qa;qa|=1;var n=Va.transition,r=Lt;try{Va.transition=null,Lt=1,e()}finally{Lt=r,Va.transition=n,0===(qa=t)&&(so(),Yt())}},t.flushPassiveEffects=Zo,t.flushSync=Po,t.focusWithin=function(e,t){if(!re)throw Error(o(363));for(t=ja(e=Fa(e),t),t=Array.from(t),e=0;e<t.length;){var n=t[e++];if(!ue(n)){if(5===n.tag&&le(n.stateNode))return!0;for(n=n.child;null!==n;)t.push(n),n=n.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Lt},t.getFindAllNodesFailureDescription=function(e,t){if(!re)throw Error(o(363));var n=0,r=[];e=[Fa(e),0];for(var i=0;i<e.length;){var a=e[i++],u=e[i++],s=t[u];if((5!==a.tag||!ue(a))&&(Ba(a,s)&&(r.push(Ua(s)),++u>n&&(n=u)),u<t.length))for(a=a.child;null!==a;)e.push(a,u),a=a.sibling}if(n<t.length){for(e=[];n<t.length;n++)e.push(Ua(t[n]));return"findAllNodes was able to match part of the selector:\n  "+r.join(" > ")+"\n\nNo matching component was found for:\n  "+e.join(" > ")}return null},t.getPublicRootInstance=function(e){return(e=e.current).child?5===e.child.tag?O(e.child.stateNode):e.child.stateNode:null},t.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:hu,findFiberByHostInstance:e.findFiberByHostInstance||du,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},"undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)e=!1;else{var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)e=!0;else{try{Zt=t.inject(e),Gt=t}catch(n){}e=!!t.checkDCE}}return e},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(e,t,n,r){if(!re)throw Error(o(363));e=Ha(e,t);var i=ce(e,n,r).disconnect;return{disconnect:function(){i()}}},t.registerMutableSourceForHydration=function(e,t){var n=t._getVersion;n=n(t._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)},t.runWithPriority=function(e,t){var n=Lt;try{return Lt=e,t()}finally{Lt=n}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(e,t,n,r){var i=t.current,a=_o(),o=wo(i);return n=su(n),null===t.context?t.context=n:t.pendingContext=n,(t=mn(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),gn(i,t),null!==(e=So(i,o,a))&&yn(e,i,o),o},t}},4585:function(e,t,n){"use strict";e.exports=n(4976)},258:function(e,t,n){"use strict";e.exports=n(3721)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:u.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var x=b.prototype=new y;x.constructor=b,v(x,g.prototype),x.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!k.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:S.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+A(s,0):a,_(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),C(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",_(e))for(var l=0;l<e.length;l++){var c=a+A(u=e[l],l);s+=C(u,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=C(u=u.value,t,i,c=a+A(u,l++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function R(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},O={transition:null},I={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:O,ReactCurrentOwner:S};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)w.call(t,l)&&!k.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.0.0-rc.1-17806594c-20220301"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new A(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return R()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=M(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=c(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=l;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function g(){}function y(){}var b={};s(b,a,(function(){return this}));var x=Object.getPrototypeOf,_=x&&x(x(C([])));_&&_!==n&&r.call(_,a)&&(b=_);var w=y.prototype=m.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function M(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,M(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=c(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:R}}function R(){return{value:t,done:!0}}return g.prototype=y,s(w,"constructor",y),s(y,"constructor",g),g.displayName=s(y,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,u,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},S(k.prototype),s(k.prototype,o,(function(){return this})),e.AsyncIterator=k,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new k(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(w),s(w,u,"Generator"),s(w,a,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=C,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:C(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],l=u+1,c=e[l];if(0>a(s,n))l<i&&0>a(c,s)?(e[r]=c,e[l]=n,r=l):(e[r]=s,e[u]=n,r=u);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function _(e){if(m=!1,x(e),!v)if(null!==r(l))v=!0,O(w);else{var t=r(c);null!==t&&I(_,t.startTime-e)}}function w(e,n){v=!1,m&&(m=!1,y(E),E=-1),p=!0;var a=d;try{for(x(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!C());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(l)&&i(l),x(n)}else i(l);h=r(l)}if(null!==h)var s=!0;else{var f=r(c);null!==f&&I(_,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,M=null,E=-1,T=5,A=-1;function C(){return!(t.unstable_now()-A<T)}function R(){if(null!==M){var e=t.unstable_now();A=e;var n=!0;try{n=M(!0,e)}finally{n?S():(k=!1,M=null)}}else k=!1}if("function"===typeof b)S=function(){b(R)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,L=P.port2;P.port1.onmessage=R,S=function(){L.postMessage(null)}}else S=function(){g(R,0)};function O(e){M=e,k||(k=!0,S())}function I(e,n){E=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(m?(y(E),E=-1):m=!0,I(_,a-o))):(e.sortIndex=u,n(l,e),v||p||(v=!0,O(w))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},7809:function(e,t,n){"use strict";var r=n(8018),i=n(5456),a=n(4807),o=n(7240);function u(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e}e.exports=function(e,t,n){if(!o(e))return e;if(Array.isArray(t)&&(t=[].concat.apply([],t).join(".")),"string"!==typeof t)return e;for(var s=r(t,{sep:".",brackets:!0}).filter(u),l=s.length,c=-1,f=e;++c<l;){var h=s[c];c===l-1?a(f[h])&&a(n)?f[h]=i({},f[h],n):f[h]=n:(o(f[h])||(f[h]={}),f=f[h])}return e}},7240:function(e){"use strict";e.exports=function(e){return"undefined"!==typeof e&&null!==e&&("object"===typeof e||"function"===typeof e)}},8018:function(e,t,n){"use strict";var r=n(9955);function i(e,t,n,r){var a=e.indexOf(t,n);return"\\"===e.charAt(a-1)?i(e,t,a+1):a}function a(e,t){return!0===t.keepDoubleQuotes&&'"'===e||(!0===t.keepSingleQuotes&&"'"===e||t.keepQuotes)}function o(e,t,n){return"function"===typeof e.keepEscaping?e.keepEscaping(t,n):!0===e.keepEscaping||"\\"===t[n+1]}e.exports=function(e,t,n){if("string"!==typeof e)throw new TypeError("expected a string");"function"===typeof t&&(n=t,t=null),"string"===typeof t&&(t={sep:t});var u,s=r({sep:"."},t),l=s.quotes||['"',"'","`"];!0===s.brackets?u={"<":">","(":")","[":"]","{":"}"}:s.brackets&&(u=s.brackets);var c,f=[],h=[],d=[""],p=s.sep,v=e.length,m=-1;function g(){if(u&&h.length)return u[h[h.length-1]]}for(;++m<v;){var y=e[m],b=e[m+1],x={val:y,idx:m,arr:d,str:e};if(f.push(x),"\\"!==y){if(u&&u[y]){h.push(y);var _=g(),w=m+1;if(-1!==e.indexOf(_,w+1))for(;h.length&&w<v;){var S=e[++w];if("\\"!==S)if(-1===l.indexOf(S)){if(_=g(),h.length&&-1===e.indexOf(_,w+1))break;u[S]?h.push(S):_===S&&h.pop()}else w=i(e,S,w+1);else S++}if(-1===(c=w)){d[d.length-1]+=y;continue}y=e.slice(m,c+1),x.val=y,x.idx=m=c}if(-1!==l.indexOf(y)){if(-1===(c=i(e,y,m+1))){d[d.length-1]+=y;continue}y=!0===a(y,s)?e.slice(m,c+1):e.slice(m+1,c),x.val=y,x.idx=m=c}"function"===typeof n&&(n(x,f),y=x.val,m=x.idx),x.val!==p||!1===x.split?d[d.length-1]+=x.val:d.push("")}else x.val=!0===o(s,e,m)?y+b:b,x.escaped=!0,"function"===typeof n&&n(x),d[d.length-1]+=x.val,m++}return d}},9955:function(e,t,n){"use strict";var r=n(9105),i=n(7823);function a(e,t){for(var n in t)l(t,n)&&(e[n]=t[n])}function o(e){return e&&"string"===typeof e}function u(e){var t={};for(var n in e)t[n]=e[n];return t}function s(e){return e&&"object"===typeof e||r(e)}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=Object.assign||function(e){if(null===e||"undefined"===typeof e)throw new TypeError("Cannot convert undefined or null to object");s(e)||(e={});for(var t=1;t<arguments.length;t++){var n=arguments[t];o(n)&&(n=u(n)),s(n)&&(a(e,n),i(e,n))}return e}},4443:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(8743)),r(n(3256)),r(n(3339)),r(n(9491)),r(n(6683)),r(n(6546)),r(n(7137)),r(n(664)),r(n(2054)),r(n(9746)),r(n(8093)),r(n(1596)),r(n(107)),r(n(7993)),r(n(3090)),r(n(286))},8743:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(7137),a=function(e){function t(t){var n=e.call(this)||this,r=t;return r.trigger&&(n.trigger=r.trigger),r.kick&&(n.kick=r.kick),r.drag&&(n.drag=r.drag),r.on&&(n.on=r.on),n.dragstart=n.dragStart=i.Layout.dragStart,n.dragend=n.dragEnd=i.Layout.dragEnd,n}return r(t,e),t.prototype.trigger=function(e){},t.prototype.kick=function(){},t.prototype.drag=function(){},t.prototype.on=function(e,t){return this},t}(i.Layout);t.LayoutAdaptor=a,t.adaptor=function(e){return new a(e)}},286:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7137),i=n(6683);t.gridify=function(e,t,n,r){e.cola.start(0,0,0,10,!1);var a=function(e,t,n,r){e.forEach((function(e){e.routerNode={name:e.name,bounds:e.bounds.inflate(-n)}})),t.forEach((function(t){t.routerNode={bounds:t.bounds.inflate(-r),children:("undefined"!==typeof t.groups?t.groups.map((function(t){return e.length+t.id})):[]).concat("undefined"!==typeof t.leaves?t.leaves.map((function(e){return e.index})):[])}}));var a=e.concat(t).map((function(e,t){return e.routerNode.id=t,e.routerNode}));return new i.GridRouter(a,{getChildren:function(e){return e.children},getBounds:function(e){return e.bounds}},n-r)}(e.cola.nodes(),e.cola.groups(),n,r);return a.routeEdges(e.powerGraph.powerEdges,t,(function(e){return e.source.routerNode.id}),(function(e){return e.target.routerNode.id}))},t.powerGraphGridLayout=function(e,t,n){var i;e.nodes.forEach((function(e,t){return e.index=t})),(new r.Layout).avoidOverlaps(!1).nodes(e.nodes).links(e.links).powerGraphGroups((function(e){(i=e).groups.forEach((function(e){return e.padding=n}))}));var a=e.nodes.length,o=[],u=e.nodes.slice(0);return u.forEach((function(e,t){return e.index=t})),i.groups.forEach((function(e){var t=e.index=e.id+a;u.push(e),"undefined"!==typeof e.leaves&&e.leaves.forEach((function(e){return o.push({source:t,target:e.index})})),"undefined"!==typeof e.groups&&e.groups.forEach((function(e){return o.push({source:t,target:e.id+a})}))})),i.powerEdges.forEach((function(e){o.push({source:e.source.index,target:e.target.index})})),(new r.Layout).size(t).nodes(u).links(o).avoidOverlaps(!1).linkDistance(30).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(100,0,0,0,!1),{cola:(new r.Layout).convergenceThreshold(.001).size(t).avoidOverlaps(!0).nodes(e.nodes).links(e.links).groupCompactness(1e-4).linkDistance(30).symmetricDiffLinkLengths(5).powerGraphGroups((function(e){(i=e).groups.forEach((function(e){e.padding=n}))})).start(50,0,100,0,!1),powerGraph:i}}},3256:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7441),i=n(9554);t.d3adaptor=function(e){return!e||function(e){var t=/^3\./;return e.version&&null!==e.version.match(t)}(e)?new r.D3StyleLayoutAdaptor:new i.D3StyleLayoutAdaptor(e)}},7441:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(7137),a=function(e){function t(){var t=e.call(this)||this;t.event=d3.dispatch(i.EventType[i.EventType.start],i.EventType[i.EventType.tick],i.EventType[i.EventType.end]);var n=t;return t.drag=function(){if(!e)var e=d3.behavior.drag().origin(i.Layout.dragOrigin).on("dragstart.d3adaptor",i.Layout.dragStart).on("drag.d3adaptor",(function(e){i.Layout.drag(e,d3.event),n.resume()})).on("dragend.d3adaptor",i.Layout.dragEnd);if(!arguments.length)return e;this.call(e)},t}return r(t,e),t.prototype.trigger=function(e){var t={type:i.EventType[e.type],alpha:e.alpha,stress:e.stress};this.event[t.type](t)},t.prototype.kick=function(){var t=this;d3.timer((function(){return e.prototype.tick.call(t)}))},t.prototype.on=function(e,t){return"string"===typeof e?this.event.on(e,t):this.event.on(i.EventType[e],t),this},t}(i.Layout);t.D3StyleLayoutAdaptor=a,t.d3adaptor=function(){return new a}},9554:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(7137),a=function(e){function t(t){var n=e.call(this)||this;n.d3Context=t,n.event=t.dispatch(i.EventType[i.EventType.start],i.EventType[i.EventType.tick],i.EventType[i.EventType.end]);var r=n;return n.drag=function(){if(!e)var e=t.drag().subject(i.Layout.dragOrigin).on("start.d3adaptor",i.Layout.dragStart).on("drag.d3adaptor",(function(e){i.Layout.drag(e,t.event),r.resume()})).on("end.d3adaptor",i.Layout.dragEnd);if(!arguments.length)return e;arguments[0].call(e)},n}return r(t,e),t.prototype.trigger=function(e){var t={type:i.EventType[e.type],alpha:e.alpha,stress:e.stress};this.event.call(t.type,t)},t.prototype.kick=function(){var t=this,n=this.d3Context.timer((function(){return e.prototype.tick.call(t)&&n.stop()}))},t.prototype.on=function(e,t){return"string"===typeof e?this.event.on(e,t):this.event.on(i.EventType[e],t),this},t}(i.Layout);t.D3StyleLayoutAdaptor=a},3339:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.locks={}}return e.prototype.add=function(e,t){this.locks[e]=t},e.prototype.clear=function(){this.locks={}},e.prototype.isEmpty=function(){for(var e in this.locks)return!1;return!0},e.prototype.apply=function(e){for(var t in this.locks)e(Number(t),this.locks[t])},e}();t.Locks=n;var r=function(){function e(e,t,r){void 0===r&&(r=null),this.D=t,this.G=r,this.threshold=1e-4,this.numGridSnapNodes=0,this.snapGridSize=100,this.snapStrength=1e3,this.scaleSnapByMaxH=!1,this.random=new i,this.project=null,this.x=e,this.k=e.length;var a=this.n=e[0].length;this.H=new Array(this.k),this.g=new Array(this.k),this.Hd=new Array(this.k),this.a=new Array(this.k),this.b=new Array(this.k),this.c=new Array(this.k),this.d=new Array(this.k),this.e=new Array(this.k),this.ia=new Array(this.k),this.ib=new Array(this.k),this.xtmp=new Array(this.k),this.locks=new n,this.minD=Number.MAX_VALUE;for(var o,u=a;u--;)for(o=a;--o>u;){var s=t[u][o];s>0&&s<this.minD&&(this.minD=s)}for(this.minD===Number.MAX_VALUE&&(this.minD=1),u=this.k;u--;){for(this.g[u]=new Array(a),this.H[u]=new Array(a),o=a;o--;)this.H[u][o]=new Array(a);this.Hd[u]=new Array(a),this.a[u]=new Array(a),this.b[u]=new Array(a),this.c[u]=new Array(a),this.d[u]=new Array(a),this.e[u]=new Array(a),this.ia[u]=new Array(a),this.ib[u]=new Array(a),this.xtmp[u]=new Array(a)}}return e.createSquareMatrix=function(e,t){for(var n=new Array(e),r=0;r<e;++r){n[r]=new Array(e);for(var i=0;i<e;++i)n[r][i]=t(r,i)}return n},e.prototype.offsetDir=function(){for(var e=this,t=new Array(this.k),n=0,r=0;r<this.k;++r){var i=t[r]=this.random.getNextBetween(.01,1)-.5;n+=i*i}return n=Math.sqrt(n),t.map((function(t){return t*(e.minD/n)}))},e.prototype.computeDerivatives=function(e){var t=this,n=this.n;if(!(n<1)){for(var r,i=new Array(this.k),a=new Array(this.k),o=new Array(this.k),u=0,s=0;s<n;++s){for(r=0;r<this.k;++r)o[r]=this.g[r][s]=0;for(var l=0;l<n;++l)if(s!==l){for(var c=n;c--;){var f=0;for(r=0;r<this.k;++r){var h=i[r]=e[r][s]-e[r][l];f+=a[r]=h*h}if(f>1e-9)break;var d=this.offsetDir();for(r=0;r<this.k;++r)e[r][l]+=d[r]}var p=Math.sqrt(f),v=this.D[s][l],m=null!=this.G?this.G[s][l]:1;if(m>1&&p>v||!isFinite(v))for(r=0;r<this.k;++r)this.H[r][s][l]=0;else{m>1&&(m=1);var g=v*v,y=2*m*(p-v)/(g*p),b=p*p*p,x=2*-m/(g*b);for(isFinite(y)||console.log(y),r=0;r<this.k;++r)this.g[r][s]+=i[r]*y,o[r]-=this.H[r][s][l]=x*(b+v*(a[r]-f)+p*f)}}for(r=0;r<this.k;++r)u=Math.max(u,this.H[r][s][s]=o[r])}var _=this.snapGridSize/2,w=this.snapGridSize,S=this.snapStrength/(_*_),k=this.numGridSnapNodes;for(s=0;s<k;++s)for(r=0;r<this.k;++r){var M=this.x[r][s],E=M/w,T=E%1,A=E-T;-_<(h=Math.abs(T)<=.5?M-A*w:M>0?M-(A+1)*w:M-(A-1)*w)&&h<=_&&(this.scaleSnapByMaxH?(this.g[r][s]+=u*S*h,this.H[r][s][s]+=u*S):(this.g[r][s]+=S*h,this.H[r][s][s]+=S))}this.locks.isEmpty()||this.locks.apply((function(n,i){for(r=0;r<t.k;++r)t.H[r][n][n]+=u,t.g[r][n]-=u*(i[r]-e[r][n])}))}},e.dotProd=function(e,t){for(var n=0,r=e.length;r--;)n+=e[r]*t[r];return n},e.rightMultiply=function(t,n,r){for(var i=t.length;i--;)r[i]=e.dotProd(t[i],n)},e.prototype.computeStepSize=function(t){for(var n=0,r=0,i=0;i<this.k;++i)n+=e.dotProd(this.g[i],t[i]),e.rightMultiply(this.H[i],t[i],this.Hd[i]),r+=e.dotProd(t[i],this.Hd[i]);return 0!==r&&isFinite(r)?1*n/r:0},e.prototype.reduceStress=function(){this.computeDerivatives(this.x);for(var e=this.computeStepSize(this.g),t=0;t<this.k;++t)this.takeDescentStep(this.x[t],this.g[t],e);return this.computeStress()},e.copy=function(e,t){for(var n=e.length,r=t[0].length,i=0;i<n;++i)for(var a=0;a<r;++a)t[i][a]=e[i][a]},e.prototype.stepAndProject=function(t,n,r,i){e.copy(t,n),this.takeDescentStep(n[0],r[0],i),this.project&&this.project[0](t[0],t[1],n[0]),this.takeDescentStep(n[1],r[1],i),this.project&&this.project[1](n[0],t[1],n[1]);for(var a=2;a<this.k;a++)this.takeDescentStep(n[a],r[a],i)},e.mApply=function(e,t,n){for(var r=e;r-- >0;)for(var i=t;i-- >0;)n(r,i)},e.prototype.matrixApply=function(t){e.mApply(this.k,this.n,t)},e.prototype.computeNextPosition=function(e,t){var n=this;this.computeDerivatives(e);var r=this.computeStepSize(this.g);if(this.stepAndProject(e,t,this.g,r),this.project){this.matrixApply((function(r,i){return n.e[r][i]=e[r][i]-t[r][i]}));var i=this.computeStepSize(this.e);i=Math.max(.2,Math.min(i,1)),this.stepAndProject(e,t,this.e,i)}},e.prototype.run=function(e){for(var t=Number.MAX_VALUE,n=!1;!n&&e-- >0;){var r=this.rungeKutta();n=Math.abs(t/r-1)<this.threshold,t=r}return t},e.prototype.rungeKutta=function(){var t=this;this.computeNextPosition(this.x,this.a),e.mid(this.x,this.a,this.ia),this.computeNextPosition(this.ia,this.b),e.mid(this.x,this.b,this.ib),this.computeNextPosition(this.ib,this.c),this.computeNextPosition(this.c,this.d);var n=0;return this.matrixApply((function(e,r){var i=(t.a[e][r]+2*t.b[e][r]+2*t.c[e][r]+t.d[e][r])/6,a=t.x[e][r]-i;n+=a*a,t.x[e][r]=i})),n},e.mid=function(t,n,r){e.mApply(t.length,t[0].length,(function(e,i){return r[e][i]=t[e][i]+(n[e][i]-t[e][i])/2}))},e.prototype.takeDescentStep=function(e,t,n){for(var r=0;r<this.n;++r)e[r]=e[r]-n*t[r]},e.prototype.computeStress=function(){for(var e=0,t=0,n=this.n-1;t<n;++t)for(var r=t+1,i=this.n;r<i;++r){for(var a=0,o=0;o<this.k;++o){var u=this.x[o][t]-this.x[o][r];a+=u*u}a=Math.sqrt(a);var s=this.D[t][r];if(isFinite(s)){var l=s-a;e+=l*l/(s*s)}}return e},e.zeroDistance=1e-10,e}();t.Descent=r;var i=function(){function e(e){void 0===e&&(e=1),this.seed=e,this.a=214013,this.c=2531011,this.m=2147483648,this.range=32767}return e.prototype.getNext=function(){return this.seed=(this.seed*this.a+this.c)%this.m,(this.seed>>16)/this.range},e.prototype.getNextBetween=function(e,t){return e+this.getNext()*(t-e)},e}();t.PseudoRandom=i},9491:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(107),a=function(){};t.Point=a;var o=function(e,t,n,r){this.x1=e,this.y1=t,this.x2=n,this.y2=r};t.LineSegment=o;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(a);function s(e,t,n){return(t.x-e.x)*(n.y-e.y)-(n.x-e.x)*(t.y-e.y)}function l(e,t,n){return s(e,t,n)>0}function c(e,t,n){return s(e,t,n)<0}function f(e,t){var n=t.slice(0);return n.push(t[0]),{rtan:h(e,n),ltan:d(e,n)}}function h(e,t){var n,r,i,a,o=t.length-1;if(c(e,t[1],t[0])&&!l(e,t[o-1],t[0]))return 0;for(n=0,r=o;;){if(r-n===1)return l(e,t[n],t[r])?n:r;if((a=c(e,t[(i=Math.floor((n+r)/2))+1],t[i]))&&!l(e,t[i-1],t[i]))return i;l(e,t[n+1],t[n])?a||l(e,t[n],t[i])?r=i:n=i:a&&c(e,t[n],t[i])?r=i:n=i}}function d(e,t){var n,r,i,a,o=t.length-1;if(l(e,t[o-1],t[0])&&!c(e,t[1],t[0]))return 0;for(n=0,r=o;;){if(r-n===1)return c(e,t[n],t[r])?n:r;if(a=c(e,t[(i=Math.floor((n+r)/2))+1],t[i]),l(e,t[i-1],t[i])&&!a)return i;c(e,t[n+1],t[n])?a?c(e,t[n],t[i])?r=i:n=i:r=i:a?n=i:l(e,t[n],t[i])?r=i:n=i}}function p(e,t,n,r,i,a){var o,u;u=r(e[o=n(t[0],e)],t);for(var s=!1;!s;){for(s=!0;o===e.length-1&&(o=0),!i(t[u],e[o],e[o+1]);)++o;for(;0===u&&(u=t.length-1),!a(e[o],t[u],t[u-1]);)--u,s=!1}return{t1:o,t2:u}}function v(e,t){return p(e,t,h,d,l,c)}t.PolyPoint=u,t.isLeft=s,t.ConvexHull=function(e){var t,n=e.slice(0).sort((function(e,t){return e.x!==t.x?t.x-e.x:t.y-e.y})),r=e.length,i=n[0].x;for(t=1;t<r&&n[t].x===i;++t);var a=t-1,o=[];if(o.push(n[0]),a===r-1)n[a].y!==n[0].y&&o.push(n[a]);else{var u,l=r-1,c=n[r-1].x;for(t=r-2;t>=0&&n[t].x===c;t--);for(u=t+1,t=a;++t<=u;)if(!(s(n[0],n[u],n[t])>=0&&t<u)){for(;o.length>1&&!(s(o[o.length-2],o[o.length-1],n[t])>0);)o.length-=1;0!=t&&o.push(n[t])}l!=u&&o.push(n[l]);var f=o.length;for(t=u;--t>=a;)if(!(s(n[l],n[a],n[t])>=0&&t>a)){for(;o.length>f&&!(s(o[o.length-2],o[o.length-1],n[t])>0);)o.length-=1;0!=t&&o.push(n[t])}}return o},t.clockwiseRadialSweep=function(e,t,n){t.slice(0).sort((function(t,n){return Math.atan2(t.y-e.y,t.x-e.x)-Math.atan2(n.y-e.y,n.x-e.x)})).forEach(n)},t.tangent_PolyPolyC=p,t.LRtangent_PolyPolyC=function(e,t){var n=v(t,e);return{t1:n.t2,t2:n.t1}},t.RLtangent_PolyPolyC=v,t.LLtangent_PolyPolyC=function(e,t){return p(e,t,d,d,c,c)},t.RRtangent_PolyPolyC=function(e,t){return p(e,t,h,h,l,l)};var m=function(e,t){this.t1=e,this.t2=t};t.BiTangent=m;var g=function(){};t.BiTangents=g;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(a);t.TVGPoint=y;var b=function(e,t,n,r){this.id=e,this.polyid=t,this.polyvertid=n,this.p=r,r.vv=this};t.VisibilityVertex=b;var x=function(){function e(e,t){this.source=e,this.target=t}return e.prototype.length=function(){var e=this.source.p.x-this.target.p.x,t=this.source.p.y-this.target.p.y;return Math.sqrt(e*e+t*t)},e}();t.VisibilityEdge=x;var _=function(){function e(e,t){if(this.P=e,this.V=[],this.E=[],t)this.V=t.V.slice(0),this.E=t.E.slice(0);else{for(var n=e.length,r=0;r<n;r++){for(var i=e[r],a=0;a<i.length;++a){var o=i[a],u=new b(this.V.length,r,a,o);this.V.push(u),a>0&&this.E.push(new x(i[a-1].vv,u))}i.length>1&&this.E.push(new x(i[0].vv,i[i.length-1].vv))}for(r=0;r<n-1;r++){var s=e[r];for(a=r+1;a<n;a++){var l=e[a],c=S(s,l);for(var f in c){var h=c[f],d=s[h.t1],p=l[h.t2];this.addEdgeIfVisible(d,p,r,a)}}}}}return e.prototype.addEdgeIfVisible=function(e,t,n,r){this.intersectsPolys(new o(e.x,e.y,t.x,t.y),n,r)||this.E.push(new x(e.vv,t.vv))},e.prototype.addPoint=function(e,t){var n=this.P.length;this.V.push(new b(this.V.length,n,0,e));for(var r=0;r<n;++r)if(r!==t){var i=this.P[r],a=f(e,i);this.addEdgeIfVisible(e,i[a.ltan],t,r),this.addEdgeIfVisible(e,i[a.rtan],t,r)}return e.vv},e.prototype.intersectsPolys=function(e,t,n){for(var r=0,i=this.P.length;r<i;++r)if(r!=t&&r!=n&&w(e,this.P[r]).length>0)return!0;return!1},e}();function w(e,t){for(var n=[],r=1,a=t.length;r<a;++r){var o=i.Rectangle.lineIntersection(e.x1,e.y1,e.x2,e.y2,t[r-1].x,t[r-1].y,t[r].x,t[r].y);o&&n.push(o)}return n}function S(e,t){for(var n=e.length-1,r=t.length-1,i=new g,a=0;a<n;++a)for(var o=0;o<r;++o){var u=e[0==a?n-1:a-1],l=e[a],c=e[a+1],f=t[0==o?r-1:o-1],h=t[o],d=t[o+1],p=s(u,l,h),v=s(l,f,h),y=s(l,h,d),b=s(f,h,l),x=s(h,u,l),_=s(h,l,c);p>=0&&v>=0&&y<0&&b>=0&&x>=0&&_<0?i.ll=new m(a,o):p<=0&&v<=0&&y>0&&b<=0&&x<=0&&_>0?i.rr=new m(a,o):p<=0&&v>0&&y<=0&&b>=0&&x<0&&_>=0?i.rl=new m(a,o):p>=0&&v<0&&y>=0&&b<=0&&x>0&&_<=0&&(i.lr=new m(a,o))}return i}function k(e,t){return!e.every((function(e){return!function(e,t){for(var n=1,r=t.length;n<r;++n)if(c(t[n-1],t[n],e))return!1;return!0}(e,t)}))}t.TangentVisibilityGraph=_,t.tangents=S,t.polysOverlap=function(e,t){if(k(e,t))return!0;if(k(t,e))return!0;for(var n=1,r=e.length;n<r;++n){var i=e[n],a=e[n-1];if(w(new o(a.x,a.y,i.x,i.y),t).length>0)return!0}return!1}},6683:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(107),i=n(3090),a=n(7993),o=function(e,t,n){this.id=e,this.rect=t,this.children=n,this.leaf="undefined"===typeof n||0===n.length};t.NodeWrapper=o;var u=function(e,t,n,r,i){void 0===r&&(r=null),void 0===i&&(i=null),this.id=e,this.x=t,this.y=n,this.node=r,this.line=i};t.Vert=u;var s=function(){function e(t,n){this.s=t,this.t=n;var r=e.findMatch(t,n),i=n.slice(0).reverse(),a=e.findMatch(t,i);r.length>=a.length?(this.length=r.length,this.si=r.si,this.ti=r.ti,this.reversed=!1):(this.length=a.length,this.si=a.si,this.ti=n.length-a.ti-a.length,this.reversed=!0)}return e.findMatch=function(e,t){for(var n=e.length,r=t.length,i={length:0,si:-1,ti:-1},a=new Array(n),o=0;o<n;o++){a[o]=new Array(r);for(var u=0;u<r;u++)if(e[o]===t[u]){var s=a[o][u]=0===o||0===u?1:a[o-1][u-1]+1;s>i.length&&(i.length=s,i.si=o-s+1,i.ti=u-s+1)}else a[o][u]=0}return i},e.prototype.getSequence=function(){return this.length>=0?this.s.slice(this.si,this.si+this.length):[]},e}();t.LongestCommonSubsequence=s;var l=function(){function e(e,t,n){var i=this;void 0===n&&(n=12),this.originalnodes=e,this.groupPadding=n,this.leaves=null,this.nodes=e.map((function(e,n){return new o(n,t.getBounds(e),t.getChildren(e))})),this.leaves=this.nodes.filter((function(e){return e.leaf})),this.groups=this.nodes.filter((function(e){return!e.leaf})),this.cols=this.getGridLines("x"),this.rows=this.getGridLines("y"),this.groups.forEach((function(e){return e.children.forEach((function(t){return i.nodes[t].parent=e}))})),this.root={children:[]},this.nodes.forEach((function(e){"undefined"===typeof e.parent&&(e.parent=i.root,i.root.children.push(e.id)),e.ports=[]})),this.backToFront=this.nodes.slice(0),this.backToFront.sort((function(e,t){return i.getDepth(e)-i.getDepth(t)})),this.backToFront.slice(0).reverse().filter((function(e){return!e.leaf})).forEach((function(e){var t=r.Rectangle.empty();e.children.forEach((function(e){return t=t.union(i.nodes[e].rect)})),e.rect=t.inflate(i.groupPadding)}));var a=this.midPoints(this.cols.map((function(e){return e.pos}))),s=this.midPoints(this.rows.map((function(e){return e.pos}))),l=a[0],c=a[a.length-1],f=s[0],h=s[s.length-1],d=this.rows.map((function(e){return{x1:l,x2:c,y1:e.pos,y2:e.pos}})).concat(s.map((function(e){return{x1:l,x2:c,y1:e,y2:e}}))),p=this.cols.map((function(e){return{x1:e.pos,x2:e.pos,y1:f,y2:h}})).concat(a.map((function(e){return{x1:e,x2:e,y1:f,y2:h}}))),v=d.concat(p);v.forEach((function(e){return e.verts=[]})),this.verts=[],this.edges=[],d.forEach((function(e){return p.forEach((function(t){var n=new u(i.verts.length,t.x1,e.y1);e.verts.push(n),t.verts.push(n),i.verts.push(n);for(var r=i.backToFront.length;r-- >0;){var a=i.backToFront[r],o=a.rect,s=Math.abs(n.x-o.cx()),l=Math.abs(n.y-o.cy());if(s<o.width()/2&&l<o.height()/2){n.node=a;break}}}))})),v.forEach((function(e,t){i.nodes.forEach((function(t,n){t.rect.lineIntersections(e.x1,e.y1,e.x2,e.y2).forEach((function(n,r){var a=new u(i.verts.length,n.x,n.y,t,e);i.verts.push(a),e.verts.push(a),t.ports.push(a)}))}));var n=Math.abs(e.y1-e.y2)<.1,r=function(e,t){return n?t.x-e.x:t.y-e.y};e.verts.sort(r);for(var a=1;a<e.verts.length;a++){var o=e.verts[a-1],s=e.verts[a];o.node&&o.node===s.node&&o.node.leaf||i.edges.push({source:o.id,target:s.id,length:Math.abs(r(o,s))})}}))}return e.prototype.avg=function(e){return e.reduce((function(e,t){return e+t}))/e.length},e.prototype.getGridLines=function(e){for(var t=[],n=this.leaves.slice(0,this.leaves.length);n.length>0;){var r=n.filter((function(t){return t.rect["overlap"+e.toUpperCase()](n[0].rect)})),i={nodes:r,pos:this.avg(r.map((function(t){return t.rect["c"+e]()})))};t.push(i),i.nodes.forEach((function(e){return n.splice(n.indexOf(e),1)}))}return t.sort((function(e,t){return e.pos-t.pos})),t},e.prototype.getDepth=function(e){for(var t=0;e.parent!==this.root;)t++,e=e.parent;return t},e.prototype.midPoints=function(e){for(var t=e[1]-e[0],n=[e[0]-t/2],r=1;r<e.length;r++)n.push((e[r]+e[r-1])/2);return n.push(e[e.length-1]+t/2),n},e.prototype.findLineage=function(e){var t=[e];do{e=e.parent,t.push(e)}while(e!==this.root);return t.reverse()},e.prototype.findAncestorPathBetween=function(e,t){for(var n=this.findLineage(e),r=this.findLineage(t),i=0;n[i]===r[i];)i++;return{commonAncestor:n[i-1],lineages:n.slice(i).concat(r.slice(i))}},e.prototype.siblingObstacles=function(e,t){var n=this,r=this.findAncestorPathBetween(e,t),i={};r.lineages.forEach((function(e){return i[e.id]={}}));var a=r.commonAncestor.children.filter((function(e){return!(e in i)}));return r.lineages.filter((function(e){return e.parent!==r.commonAncestor})).forEach((function(e){return a=a.concat(e.parent.children.filter((function(t){return t!==e.id})))})),a.map((function(e){return n.nodes[e]}))},e.getSegmentSets=function(e,t,n){for(var r=[],i=0;i<e.length;i++)for(var a=e[i],o=0;o<a.length;o++){(f=a[o]).edgeid=i,f.i=o;var u=f[1][t]-f[0][t];Math.abs(u)<.1&&r.push(f)}r.sort((function(e,n){return e[0][t]-n[0][t]}));for(var s=[],l=null,c=0;c<r.length;c++){var f=r[c];(!l||Math.abs(f[0][t]-l.pos)>.1)&&(l={pos:f[0][t],segments:[]},s.push(l)),l.segments.push(f)}return s},e.nudgeSegs=function(e,t,n,r,a,o){var u=r.length;if(!(u<=1)){for(var s=r.map((function(t){return new i.Variable(t[0][e])})),l=[],c=0;c<u;c++)for(var f=0;f<u;f++)if(c!==f){var h=r[c],d=r[f],p=h.edgeid,v=d.edgeid,m=-1,g=-1;"x"==e?a(p,v)&&(h[0][t]<h[1][t]?(m=f,g=c):(m=c,g=f)):a(p,v)&&(h[0][t]<h[1][t]?(m=c,g=f):(m=f,g=c)),m>=0&&l.push(new i.Constraint(s[m],s[g],o))}new i.Solver(s,l).solve(),s.forEach((function(t,i){var a=r[i],o=t.position();a[0][e]=a[1][e]=o;var u=n[a.edgeid];a.i>0&&(u[a.i-1][1][e]=o),a.i<u.length-1&&(u[a.i+1][0][e]=o)}))}},e.nudgeSegments=function(t,n,r,i,a){for(var o=e.getSegmentSets(t,n,r),u=0;u<o.length;u++){for(var s=o[u],l=[],c=0;c<s.segments.length;c++){var f=s.segments[c];l.push({type:0,s:f,pos:Math.min(f[0][r],f[1][r])}),l.push({type:1,s:f,pos:Math.max(f[0][r],f[1][r])})}l.sort((function(e,t){return e.pos-t.pos+e.type-t.type}));var h=[],d=0;l.forEach((function(o){0===o.type?(h.push(o.s),d++):d--,0==d&&(e.nudgeSegs(n,r,t,h,i,a),h=[])}))}},e.prototype.routeEdges=function(t,n,r,i){var a=this,o=t.map((function(e){return a.route(r(e),i(e))})),u=e.orderEdges(o),s=o.map((function(t){return e.makeSegments(t)}));return e.nudgeSegments(s,"x","y",u,n),e.nudgeSegments(s,"y","x",u,n),e.unreverseEdges(s,o),s},e.unreverseEdges=function(e,t){e.forEach((function(e,n){t[n].reversed&&(e.reverse(),e.forEach((function(e){e.reverse()})))}))},e.angleBetween2Lines=function(e,t){var n=Math.atan2(e[0].y-e[1].y,e[0].x-e[1].x),r=Math.atan2(t[0].y-t[1].y,t[0].x-t[1].x),i=n-r;return(i>Math.PI||i<-Math.PI)&&(i=r-n),i},e.isLeft=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)<=0},e.getOrder=function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];"undefined"===typeof t[r.l]&&(t[r.l]={}),t[r.l][r.r]=!0}return function(e,n){return"undefined"!==typeof t[e]&&t[e][n]}},e.orderEdges=function(t){for(var n=[],r=0;r<t.length-1;r++)for(var i=r+1;i<t.length;i++){var a,o,u,l=t[r],c=t[i],f=new s(l,c);0!==f.length&&(f.reversed&&(c.reverse(),c.reversed=!0,f=new s(l,c)),(f.si<=0||f.ti<=0)&&(f.si+f.length>=l.length||f.ti+f.length>=c.length)?n.push({l:r,r:i}):(f.si+f.length>=l.length||f.ti+f.length>=c.length?(a=l[f.si+1],u=l[f.si-1],o=c[f.ti-1]):(a=l[f.si+f.length-2],o=l[f.si+f.length],u=c[f.ti+f.length]),e.isLeft(a,o,u)?n.push({l:i,r:r}):n.push({l:r,r:i})))}return e.getOrder(n)},e.makeSegments=function(e){function t(e){return{x:e.x,y:e.y}}for(var n=function(e,t,n){return Math.abs((t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x))<.001},r=[],i=t(e[0]),a=1;a<e.length;a++){var o=t(e[a]),u=a<e.length-1?e[a+1]:null;u&&n(i,o,u)||(r.push([i,o]),i=o)}return r},e.prototype.route=function(e,t){var n=this,r=this.nodes[e],i=this.nodes[t];this.obstacles=this.siblingObstacles(r,i);var o={};this.obstacles.forEach((function(e){return o[e.id]=e})),this.passableEdges=this.edges.filter((function(e){var t=n.verts[e.source],r=n.verts[e.target];return!(t.node&&t.node.id in o||r.node&&r.node.id in o)}));for(var u=1;u<r.ports.length;u++){var s=r.ports[0].id,l=r.ports[u].id;this.passableEdges.push({source:s,target:l,length:0})}for(u=1;u<i.ports.length;u++){s=i.ports[0].id,l=i.ports[u].id;this.passableEdges.push({source:s,target:l,length:0})}var c=new a.Calculator(this.verts.length,this.passableEdges,(function(e){return e.source}),(function(e){return e.target}),(function(e){return e.length})).PathFromNodeToNodeWithPrevCost(r.ports[0].id,i.ports[0].id,(function(e,t,a){var o=n.verts[e],u=n.verts[t],s=n.verts[a],l=Math.abs(s.x-o.x),c=Math.abs(s.y-o.y);return o.node===r&&o.node===u.node||u.node===i&&u.node===s.node?0:l>1&&c>1?1e3:0})),f=c.reverse().map((function(e){return n.verts[e]}));return f.push(this.nodes[i.id].ports[0]),f.filter((function(e,t){return!(t<f.length-1&&f[t+1].node===r&&e.node===r||t>0&&e.node===i&&f[t-1].node===i)}))},e.getRoutePath=function(t,n,r,i){var a={routepath:"M "+t[0][0].x+" "+t[0][0].y+" ",arrowpath:""};if(t.length>1)for(var o=0;o<t.length;o++){var u=(x=t[o])[1].x,s=x[1].y,l=u-x[0].x,c=s-x[0].y;if(o<t.length-1){Math.abs(l)>0?u-=l/Math.abs(l)*n:s-=c/Math.abs(c)*n,a.routepath+="L "+u+" "+s+" ";var f=t[o+1],h=f[0].x,d=f[0].y;l=f[1].x-h,c=f[1].y-d;var p,v,m=e.angleBetween2Lines(x,f)<0?1:0;Math.abs(l)>0?(p=h+l/Math.abs(l)*n,v=d):(p=h,v=d+c/Math.abs(c)*n);var g=Math.abs(p-u),y=Math.abs(v-s);a.routepath+="A "+g+" "+y+" 0 0 "+m+" "+p+" "+v+" "}else{var b=[u,s];Math.abs(l)>0?(_=[u-=l/Math.abs(l)*i,s+r],w=[u,s-r]):(_=[u+r,s-=c/Math.abs(c)*i],w=[u-r,s]),a.routepath+="L "+u+" "+s+" ",i>0&&(a.arrowpath="M "+b[0]+" "+b[1]+" L "+_[0]+" "+_[1]+" L "+w[0]+" "+w[1])}}else{var x,_,w;u=(x=t[0])[1].x,s=x[1].y,l=u-x[0].x,c=s-x[0].y,b=[u,s];Math.abs(l)>0?(_=[u-=l/Math.abs(l)*i,s+r],w=[u,s-r]):(_=[u+r,s-=c/Math.abs(c)*i],w=[u-r,s]),a.routepath+="L "+u+" "+s+" ",i>0&&(a.arrowpath="M "+b[0]+" "+b[1]+" L "+_[0]+" "+_[1]+" L "+w[0]+" "+w[1])}return a},e}();t.GridRouter=l},6546:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=10,r=(1+Math.sqrt(5))/2,i=1e-4;t.applyPacking=function(e,t,a,o,u,s){void 0===u&&(u=1),void 0===s&&(s=!0);var l=t,c=a,f=(u="undefined"!==typeof u?u:1,o="undefined"!==typeof o?o:0,0),h=0,d=0,p=0,v=[];function m(e,t){v=[],f=0,h=0,p=0;for(var n=0;n<e.length;n++){g(e[n],t)}return Math.abs(f/h-u)}function g(e,t){for(var r=void 0,a=0;a<v.length;a++)if(v[a].space_left>=e.height&&v[a].x+v[a].width+e.width+n-t<=i){r=v[a];break}v.push(e),void 0!==r?(e.x=r.x+r.width+n,e.y=r.bottom,e.space_left=e.height,e.bottom=e.y,r.space_left-=e.height+n,r.bottom+=e.height+n):(e.y=p,p+=e.height+n,e.x=0,e.bottom=e.y,e.space_left=e.height),e.y+e.height-h>-i&&(h=e.y+e.height-0),e.x+e.width-f>-i&&(f=e.x+e.width-0)}0!=e.length&&(function(e){e.forEach((function(e){!function(e){var t=Number.MAX_VALUE,n=Number.MAX_VALUE,r=0,i=0;e.array.forEach((function(e){var a="undefined"!==typeof e.width?e.width:o,u="undefined"!==typeof e.height?e.height:o;a/=2,u/=2,r=Math.max(e.x+a,r),t=Math.min(e.x-a,t),i=Math.max(e.y+u,i),n=Math.min(e.y-u,n)})),e.width=r-t,e.height=i-n}(e)}))}(e),function(e,t){var a=Number.POSITIVE_INFINITY,o=0;e.sort((function(e,t){return t.height-e.height})),d=e.reduce((function(e,t){return e.width<t.width?e.width:t.width}));var u=g=d,s=y=function(e){var t=0;return e.forEach((function(e){return t+=e.width+n})),t}(e),l=0,c=Number.MAX_VALUE,f=Number.MAX_VALUE,h=-1,p=Number.MAX_VALUE,v=Number.MAX_VALUE;for(;p>d||v>i;){if(1!=h){var g=s-(s-u)/r;c=m(e,g)}if(0!=h){var y=u+(s-u)/r;f=m(e,y)}if(p=Math.abs(g-y),v=Math.abs(c-f),c<a&&(a=c,o=g),f<a&&(a=f,o=y),c>f?(u=g,g=y,c=f,h=1):(s=y,y=g,f=c,h=0),l++>100)break}m(e,o)}(e),s&&function(e){e.forEach((function(e){var t={x:0,y:0};e.array.forEach((function(e){t.x+=e.x,t.y+=e.y})),t.x/=e.array.length,t.y/=e.array.length;var n={x:t.x-e.width/2,y:t.y-e.height/2},r={x:e.x-n.x+l/2-f/2,y:e.y-n.y+c/2-h/2};e.array.forEach((function(e){e.x+=r.x,e.y+=r.y}))}))}(e))},t.separateGraphs=function(e,t){for(var n={},r={},i=[],a=0,o=0;o<t.length;o++){var u=t[o],s=u.source,l=u.target;r[s.index]?r[s.index].push(l):r[s.index]=[l],r[l.index]?r[l.index].push(s):r[l.index]=[s]}for(o=0;o<e.length;o++){var c=e[o];n[c.index]||f(c,!0)}function f(e,t){if(void 0===n[e.index]){t&&(a++,i.push({array:[]})),n[e.index]=a,i[a-1].array.push(e);var o=r[e.index];if(o)for(var u=0;u<o.length;u++)f(o[u],!1)}}return i}},7137:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(9746),a=n(2054),o=n(3339),u=n(107),s=n(7993),l=n(9491),c=n(6546);function f(e){return"undefined"!==typeof e.leaves||"undefined"!==typeof e.groups}!function(e){e[e.start=0]="start",e[e.tick=1]="tick",e[e.end=2]="end"}(r=t.EventType||(t.EventType={}));var h=function(){function e(){var t=this;this._canvasSize=[1,1],this._linkDistance=20,this._defaultNodeSize=10,this._linkLengthCalculator=null,this._linkType=null,this._avoidOverlaps=!1,this._handleDisconnected=!0,this._running=!1,this._nodes=[],this._groups=[],this._rootGroup=null,this._links=[],this._constraints=[],this._distanceMatrix=null,this._descent=null,this._directedLinkConstraints=null,this._threshold=.01,this._visibilityGraph=null,this._groupCompactness=1e-6,this.event=null,this.linkAccessor={getSourceIndex:e.getSourceIndex,getTargetIndex:e.getTargetIndex,setLength:e.setLinkLength,getType:function(e){return"function"===typeof t._linkType?t._linkType(e):0}}}return e.prototype.on=function(e,t){return this.event||(this.event={}),"string"===typeof e?this.event[r[e]]=t:this.event[e]=t,this},e.prototype.trigger=function(e){this.event&&"undefined"!==typeof this.event[e.type]&&this.event[e.type](e)},e.prototype.kick=function(){for(;!this.tick(););},e.prototype.tick=function(){if(this._alpha<this._threshold)return this._running=!1,this.trigger({type:r.end,alpha:this._alpha=0,stress:this._lastStress}),!0;var e,t,n=this._nodes.length;this._links.length;for(this._descent.locks.clear(),t=0;t<n;++t)if((e=this._nodes[t]).fixed){"undefined"!==typeof e.px&&"undefined"!==typeof e.py||(e.px=e.x,e.py=e.y);var i=[e.px,e.py];this._descent.locks.add(t,i)}var a=this._descent.rungeKutta();return 0===a?this._alpha=0:"undefined"!==typeof this._lastStress&&(this._alpha=a),this._lastStress=a,this.updateNodePositions(),this.trigger({type:r.tick,alpha:this._alpha,stress:this._lastStress}),!1},e.prototype.updateNodePositions=function(){for(var e,t=this._descent.x[0],n=this._descent.x[1],r=this._nodes.length;r--;)(e=this._nodes[r]).x=t[r],e.y=n[r]},e.prototype.nodes=function(e){if(!e){if(0===this._nodes.length&&this._links.length>0){var t=0;this._links.forEach((function(e){t=Math.max(t,e.source,e.target)})),this._nodes=new Array(++t);for(var n=0;n<t;++n)this._nodes[n]={}}return this._nodes}return this._nodes=e,this},e.prototype.groups=function(e){var t=this;return e?(this._groups=e,this._rootGroup={},this._groups.forEach((function(e){"undefined"===typeof e.padding&&(e.padding=1),"undefined"!==typeof e.leaves&&e.leaves.forEach((function(n,r){"number"===typeof n&&((e.leaves[r]=t._nodes[n]).parent=e)})),"undefined"!==typeof e.groups&&e.groups.forEach((function(n,r){"number"===typeof n&&((e.groups[r]=t._groups[n]).parent=e)}))})),this._rootGroup.leaves=this._nodes.filter((function(e){return"undefined"===typeof e.parent})),this._rootGroup.groups=this._groups.filter((function(e){return"undefined"===typeof e.parent})),this):this._groups},e.prototype.powerGraphGroups=function(e){var t=i.getGroups(this._nodes,this._links,this.linkAccessor,this._rootGroup);return this.groups(t.groups),e(t),this},e.prototype.avoidOverlaps=function(e){return arguments.length?(this._avoidOverlaps=e,this):this._avoidOverlaps},e.prototype.handleDisconnected=function(e){return arguments.length?(this._handleDisconnected=e,this):this._handleDisconnected},e.prototype.flowLayout=function(e,t){return arguments.length||(e="y"),this._directedLinkConstraints={axis:e,getMinSeparation:"number"===typeof t?function(){return t}:t},this},e.prototype.links=function(e){return arguments.length?(this._links=e,this):this._links},e.prototype.constraints=function(e){return arguments.length?(this._constraints=e,this):this._constraints},e.prototype.distanceMatrix=function(e){return arguments.length?(this._distanceMatrix=e,this):this._distanceMatrix},e.prototype.size=function(e){return e?(this._canvasSize=e,this):this._canvasSize},e.prototype.defaultNodeSize=function(e){return e?(this._defaultNodeSize=e,this):this._defaultNodeSize},e.prototype.groupCompactness=function(e){return e?(this._groupCompactness=e,this):this._groupCompactness},e.prototype.linkDistance=function(e){return e?(this._linkDistance="function"===typeof e?e:+e,this._linkLengthCalculator=null,this):this._linkDistance},e.prototype.linkType=function(e){return this._linkType=e,this},e.prototype.convergenceThreshold=function(e){return e?(this._threshold="function"===typeof e?e:+e,this):this._threshold},e.prototype.alpha=function(e){return arguments.length?(e=+e,this._alpha?this._alpha=e>0?e:0:e>0&&(this._running||(this._running=!0,this.trigger({type:r.start,alpha:this._alpha=e}),this.kick())),this):this._alpha},e.prototype.getLinkLength=function(e){return"function"===typeof this._linkDistance?+this._linkDistance(e):this._linkDistance},e.setLinkLength=function(e,t){e.length=t},e.prototype.getLinkType=function(e){return"function"===typeof this._linkType?this._linkType(e):0},e.prototype.symmetricDiffLinkLengths=function(e,t){var n=this;return void 0===t&&(t=1),this.linkDistance((function(t){return e*t.length})),this._linkLengthCalculator=function(){return a.symmetricDiffLinkLengths(n._links,n.linkAccessor,t)},this},e.prototype.jaccardLinkLengths=function(e,t){var n=this;return void 0===t&&(t=1),this.linkDistance((function(t){return e*t.length})),this._linkLengthCalculator=function(){return a.jaccardLinkLengths(n._links,n.linkAccessor,t)},this},e.prototype.start=function(t,n,r,i,l,c){var f=this;void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===l&&(l=!0),void 0===c&&(c=!0);var h,d=this.nodes().length,p=d+2*this._groups.length,v=(this._links.length,this._canvasSize[0]),m=this._canvasSize[1],g=new Array(p),y=new Array(p),b=null,x=this._avoidOverlaps;this._nodes.forEach((function(e,t){e.index=t,"undefined"===typeof e.x&&(e.x=v/2,e.y=m/2),g[t]=e.x,y[t]=e.y})),this._linkLengthCalculator&&this._linkLengthCalculator(),this._distanceMatrix?h=this._distanceMatrix:(h=new s.Calculator(p,this._links,e.getSourceIndex,e.getTargetIndex,(function(e){return f.getLinkLength(e)})).DistanceMatrix(),b=o.Descent.createSquareMatrix(p,(function(){return 2})),this._links.forEach((function(e){"number"==typeof e.source&&(e.source=f._nodes[e.source]),"number"==typeof e.target&&(e.target=f._nodes[e.target])})),this._links.forEach((function(t){var n=e.getSourceIndex(t),r=e.getTargetIndex(t);b[n][r]=b[r][n]=t.weight||1})));var _=o.Descent.createSquareMatrix(p,(function(e,t){return h[e][t]}));if(this._rootGroup&&"undefined"!==typeof this._rootGroup.groups){var w=d;this._groups.forEach((function(e){!function(e,t,n,r){b[e][t]=b[t][e]=n,_[e][t]=_[t][e]=r}(w,w+1,f._groupCompactness,.1),g[w]=0,y[w++]=0,g[w]=0,y[w++]=0}))}else this._rootGroup={leaves:this._nodes,groups:[]};var S=this._constraints||[];this._directedLinkConstraints&&(this.linkAccessor.getMinSeparation=this._directedLinkConstraints.getMinSeparation,S=S.concat(a.generateDirectedEdgeConstraints(d,this._links,this._directedLinkConstraints.axis,this.linkAccessor))),this.avoidOverlaps(!1),this._descent=new o.Descent([g,y],_),this._descent.locks.clear();for(w=0;w<d;++w){var k=this._nodes[w];if(k.fixed){k.px=k.x,k.py=k.y;var M=[k.x,k.y];this._descent.locks.add(w,M)}}if(this._descent.threshold=this._threshold,this.initialLayout(t,g,y),S.length>0&&(this._descent.project=new u.Projection(this._nodes,this._groups,this._rootGroup,S).projectFunctions()),this._descent.run(n),this.separateOverlappingComponents(v,m,c),this.avoidOverlaps(x),x&&(this._nodes.forEach((function(e,t){e.x=g[t],e.y=y[t]})),this._descent.project=new u.Projection(this._nodes,this._groups,this._rootGroup,S,!0).projectFunctions(),this._nodes.forEach((function(e,t){g[t]=e.x,y[t]=e.y}))),this._descent.G=b,this._descent.run(r),i){this._descent.snapStrength=1e3,this._descent.snapGridSize=this._nodes[0].width,this._descent.numGridSnapNodes=d,this._descent.scaleSnapByMaxH=d!=p;var E=o.Descent.createSquareMatrix(p,(function(e,t){return e>=d||t>=d?b[e][t]:0}));this._descent.G=E,this._descent.run(i)}return this.updateNodePositions(),this.separateOverlappingComponents(v,m,c),l?this.resume():this},e.prototype.initialLayout=function(t,n,r){if(this._groups.length>0&&t>0){var i=this._nodes.length,a=this._links.map((function(e){return{source:e.source.index,target:e.target.index}})),o=this._nodes.map((function(e){return{index:e.index}}));this._groups.forEach((function(e,t){o.push({index:e.index=i+t})})),this._groups.forEach((function(e,t){"undefined"!==typeof e.leaves&&e.leaves.forEach((function(t){return a.push({source:e.index,target:t.index})})),"undefined"!==typeof e.groups&&e.groups.forEach((function(t){return a.push({source:e.index,target:t.index})}))})),(new e).size(this.size()).nodes(o).links(a).avoidOverlaps(!1).linkDistance(this.linkDistance()).symmetricDiffLinkLengths(5).convergenceThreshold(1e-4).start(t,0,0,0,!1),this._nodes.forEach((function(e){n[e.index]=o[e.index].x,r[e.index]=o[e.index].y}))}else this._descent.run(t)},e.prototype.separateOverlappingComponents=function(e,t,n){var r=this;if(void 0===n&&(n=!0),!this._distanceMatrix&&this._handleDisconnected){var i=this._descent.x[0],a=this._descent.x[1];this._nodes.forEach((function(e,t){e.x=i[t],e.y=a[t]}));var o=c.separateGraphs(this._nodes,this._links);c.applyPacking(o,e,t,this._defaultNodeSize,1,n),this._nodes.forEach((function(e,t){r._descent.x[0][t]=e.x,r._descent.x[1][t]=e.y,e.bounds&&(e.bounds.setXCentre(e.x),e.bounds.setYCentre(e.y))}))}},e.prototype.resume=function(){return this.alpha(.1)},e.prototype.stop=function(){return this.alpha(0)},e.prototype.prepareEdgeRouting=function(e){void 0===e&&(e=0),this._visibilityGraph=new l.TangentVisibilityGraph(this._nodes.map((function(t){return t.bounds.inflate(-e).vertices()})))},e.prototype.routeEdge=function(e,t,n){void 0===t&&(t=5);var r=[],i=new l.TangentVisibilityGraph(this._visibilityGraph.P,{V:this._visibilityGraph.V,E:this._visibilityGraph.E}),a={x:e.source.x,y:e.source.y},o={x:e.target.x,y:e.target.y},c=i.addPoint(a,e.source.index),f=i.addPoint(o,e.target.index);i.addEdgeIfVisible(a,o,e.source.index,e.target.index),"undefined"!==typeof n&&n(i);var h=new s.Calculator(i.V.length,i.E,(function(e){return e.source.id}),(function(e){return e.target.id}),(function(e){return e.length()})).PathFromNodeToNode(c.id,f.id);if(1===h.length||h.length===i.V.length){var d=u.makeEdgeBetween(e.source.innerBounds,e.target.innerBounds,t);r=[d.sourceIntersection,d.arrowStart]}else{for(var p=h.length-2,v=i.V[h[p]].p,m=i.V[h[0]].p,g=(r=[e.source.innerBounds.rayIntersection(v.x,v.y)],p);g>=0;--g)r.push(i.V[h[g]].p);r.push(u.makeEdgeTo(m,e.target.innerBounds,t))}return r},e.getSourceIndex=function(e){return"number"===typeof e.source?e.source:e.source.index},e.getTargetIndex=function(e){return"number"===typeof e.target?e.target:e.target.index},e.linkId=function(t){return e.getSourceIndex(t)+"-"+e.getTargetIndex(t)},e.dragStart=function(t){f(t)?e.storeOffset(t,e.dragOrigin(t)):(e.stopNode(t),t.fixed|=2)},e.stopNode=function(e){e.px=e.x,e.py=e.y},e.storeOffset=function(t,n){"undefined"!==typeof t.leaves&&t.leaves.forEach((function(t){t.fixed|=2,e.stopNode(t),t._dragGroupOffsetX=t.x-n.x,t._dragGroupOffsetY=t.y-n.y})),"undefined"!==typeof t.groups&&t.groups.forEach((function(t){return e.storeOffset(t,n)}))},e.dragOrigin=function(e){return f(e)?{x:e.bounds.cx(),y:e.bounds.cy()}:e},e.drag=function(t,n){f(t)?("undefined"!==typeof t.leaves&&t.leaves.forEach((function(e){t.bounds.setXCentre(n.x),t.bounds.setYCentre(n.y),e.px=e._dragGroupOffsetX+n.x,e.py=e._dragGroupOffsetY+n.y})),"undefined"!==typeof t.groups&&t.groups.forEach((function(t){return e.drag(t,n)}))):(t.px=n.x,t.py=n.y)},e.dragEnd=function(t){f(t)?("undefined"!==typeof t.leaves&&t.leaves.forEach((function(t){e.dragEnd(t),delete t._dragGroupOffsetX,delete t._dragGroupOffsetY})),"undefined"!==typeof t.groups&&t.groups.forEach(e.dragEnd)):t.fixed&=-7},e.mouseOver=function(e){e.fixed|=4,e.px=e.x,e.py=e.y},e.mouseOut=function(e){e.fixed&=-5},e}();t.Layout=h},664:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7993),i=n(3339),a=n(107),o=n(2054),u=function(){function e(e,t){this.source=e,this.target=t}return e.prototype.actualLength=function(e){var t=this;return Math.sqrt(e.reduce((function(e,n){var r=n[t.target]-n[t.source];return e+r*r}),0))},e}();t.Link3D=u;var s=function(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=0),this.x=e,this.y=t,this.z=n};t.Node3D=s;var l=function(){function e(t,n,r){var i=this;void 0===r&&(r=1),this.nodes=t,this.links=n,this.idealLinkLength=r,this.constraints=null,this.useJaccardLinkLengths=!0,this.result=new Array(e.k);for(var a=0;a<e.k;++a)this.result[a]=new Array(t.length);t.forEach((function(t,n){for(var r=0,a=e.dims;r<a.length;r++){var o=a[r];"undefined"==typeof t[o]&&(t[o]=Math.random())}i.result[0][n]=t.x,i.result[1][n]=t.y,i.result[2][n]=t.z}))}return e.prototype.linkLength=function(e){return e.actualLength(this.result)},e.prototype.start=function(e){var t=this;void 0===e&&(e=100);var n=this.nodes.length,u=new c;this.useJaccardLinkLengths&&o.jaccardLinkLengths(this.links,u,1.5),this.links.forEach((function(e){return e.length*=t.idealLinkLength}));var s=new r.Calculator(n,this.links,(function(e){return e.source}),(function(e){return e.target}),(function(e){return e.length})).DistanceMatrix(),l=i.Descent.createSquareMatrix(n,(function(e,t){return s[e][t]})),f=i.Descent.createSquareMatrix(n,(function(){return 2}));this.links.forEach((function(e){var t=e.source,n=e.target;return f[t][n]=f[n][t]=1})),this.descent=new i.Descent(this.result,l),this.descent.threshold=.001,this.descent.G=f,this.constraints&&(this.descent.project=new a.Projection(this.nodes,null,null,this.constraints).projectFunctions());for(var h=0;h<this.nodes.length;h++){var d=this.nodes[h];d.fixed&&this.descent.locks.add(h,[d.x,d.y,d.z])}return this.descent.run(e),this},e.prototype.tick=function(){this.descent.locks.clear();for(var e=0;e<this.nodes.length;e++){var t=this.nodes[e];t.fixed&&this.descent.locks.add(e,[t.x,t.y,t.z])}return this.descent.rungeKutta()},e.dims=["x","y","z"],e.k=e.dims.length,e}();t.Layout3D=l;var c=function(){function e(){}return e.prototype.getSourceIndex=function(e){return e.source},e.prototype.getTargetIndex=function(e){return e.target},e.prototype.getLength=function(e){return e.length},e.prototype.setLength=function(e,t){e.length=t},e}()},2054:function(e,t){"use strict";function n(e,t){var n={};for(var r in e)n[r]={};for(var r in t)n[r]={};return Object.keys(n).length}function r(e,t){var n=0;for(var r in e)"undefined"!==typeof t[r]&&++n;return n}function i(e,t,n,r){var i=function(e,t){var n={},r=function(e,t){"undefined"===typeof n[e]&&(n[e]={}),n[e][t]={}};return e.forEach((function(e){var n=t.getSourceIndex(e),i=t.getTargetIndex(e);r(n,i),r(i,n)})),n}(e,r);e.forEach((function(e){var a=i[r.getSourceIndex(e)],o=i[r.getTargetIndex(e)];r.setLength(e,1+t*n(a,o))}))}function a(e,t,n){var r=[],i=0,a=[],o=[];function u(e){e.index=e.lowlink=i++,a.push(e),e.onStack=!0;for(var t=0,n=e.out;t<n.length;t++){var r=n[t];"undefined"===typeof r.index?(u(r),e.lowlink=Math.min(e.lowlink,r.lowlink)):r.onStack&&(e.lowlink=Math.min(e.lowlink,r.index))}if(e.lowlink===e.index){for(var s=[];a.length&&((r=a.pop()).onStack=!1,s.push(r),r!==e););o.push(s.map((function(e){return e.id})))}}for(var s=0;s<e;s++)r.push({id:s,out:[]});for(var l=0,c=t;l<c.length;l++){var f=c[l],h=r[n.getSourceIndex(f)],d=r[n.getTargetIndex(f)];h.out.push(d)}for(var p=0,v=r;p<v.length;p++){var m=v[p];"undefined"===typeof m.index&&u(m)}return o}Object.defineProperty(t,"__esModule",{value:!0}),t.symmetricDiffLinkLengths=function(e,t,a){void 0===a&&(a=1),i(e,a,(function(e,t){return Math.sqrt(n(e,t)-r(e,t))}),t)},t.jaccardLinkLengths=function(e,t,a){void 0===a&&(a=1),i(e,a,(function(e,t){return Math.min(Object.keys(e).length,Object.keys(t).length)<1.1?0:r(e,t)/n(e,t)}),t)},t.generateDirectedEdgeConstraints=function(e,t,n,r){var i=a(e,t,r),o={};i.forEach((function(e,t){return e.forEach((function(e){return o[e]=t}))}));var u=[];return t.forEach((function(e){var t=r.getSourceIndex(e),i=r.getTargetIndex(e);o[t]!==o[i]&&u.push({axis:n,left:t,right:i,gap:r.getMinSeparation(e)})})),u},t.stronglyConnectedComponents=a},9746:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,n){this.source=e,this.target=t,this.type=n};t.PowerEdge=n;var r=function(){function e(e,t,n,r){var i=this;if(this.linkAccessor=n,this.modules=new Array(e),this.roots=[],r)this.initModulesFromGroup(r);else{this.roots.push(new u);for(var o=0;o<e;++o)this.roots[0].add(this.modules[o]=new a(o))}this.R=t.length,t.forEach((function(e){var t=i.modules[n.getSourceIndex(e)],r=i.modules[n.getTargetIndex(e)],a=n.getType(e);t.outgoing.add(a,r),r.incoming.add(a,t)}))}return e.prototype.initModulesFromGroup=function(e){var t=new u;this.roots.push(t);for(var n=0;n<e.leaves.length;++n){var r=e.leaves[n],i=new a(r.id);this.modules[r.id]=i,t.add(i)}if(e.groups)for(var o=0;o<e.groups.length;++o){var l=e.groups[o],c={};for(var f in l)"leaves"!==f&&"groups"!==f&&l.hasOwnProperty(f)&&(c[f]=l[f]);t.add(new a(-1-o,new s,new s,this.initModulesFromGroup(l),c))}return t},e.prototype.merge=function(e,t,n){void 0===n&&(n=0);var r=e.incoming.intersection(t.incoming),i=e.outgoing.intersection(t.outgoing),o=new u;o.add(e),o.add(t);var s=new a(this.modules.length,i,r,o);this.modules.push(s);var l=function(n,r,i){n.forAll((function(n,a){n.forAll((function(n){var o=n[r];o.add(a,s),o.remove(a,e),o.remove(a,t),e[i].remove(a,n),t[i].remove(a,n)}))}))};return l(i,"incoming","outgoing"),l(r,"outgoing","incoming"),this.R-=r.count()+i.count(),this.roots[n].remove(e),this.roots[n].remove(t),this.roots[n].add(s),s},e.prototype.rootMerges=function(e){void 0===e&&(e=0);for(var t=this.roots[e].modules(),n=t.length,r=new Array(n*(n-1)),i=0,a=0,o=n-1;a<o;++a)for(var u=a+1;u<n;++u){var s=t[a],l=t[u];r[i]={id:i,nEdges:this.nEdges(s,l),a:s,b:l},i++}return r},e.prototype.greedyMerge=function(){for(var e=0;e<this.roots.length;++e)if(!(this.roots[e].modules().length<2)){var t=this.rootMerges(e).sort((function(e,t){return e.nEdges==t.nEdges?e.id-t.id:e.nEdges-t.nEdges}))[0];if(!(t.nEdges>=this.R))return this.merge(t.a,t.b,e),!0}},e.prototype.nEdges=function(e,t){var n=e.incoming.intersection(t.incoming),r=e.outgoing.intersection(t.outgoing);return this.R-n.count()-r.count()},e.prototype.getGroupHierarchy=function(e){var t=this,r=[];return i(this.roots[0],{},r),this.allEdges().forEach((function(i){var a=t.modules[i.source],o=t.modules[i.target];e.push(new n("undefined"===typeof a.gid?i.source:r[a.gid],"undefined"===typeof o.gid?i.target:r[o.gid],i.type))})),r},e.prototype.allEdges=function(){var t=[];return e.getEdges(this.roots[0],t),t},e.getEdges=function(t,n){t.forAll((function(t){t.getEdges(n),e.getEdges(t.children,n)}))},e}();function i(e,t,n){e.forAll((function(e){if(e.isLeaf())t.leaves||(t.leaves=[]),t.leaves.push(e.id);else{var r=t;if(e.gid=n.length,!e.isIsland()||e.isPredefined()){if(r={id:e.gid},e.isPredefined())for(var a in e.definition)r[a]=e.definition[a];t.groups||(t.groups=[]),t.groups.push(e.gid),n.push(r)}i(e.children,r,n)}}))}t.Configuration=r;var a=function(){function e(e,t,n,r,i){void 0===t&&(t=new s),void 0===n&&(n=new s),void 0===r&&(r=new u),this.id=e,this.outgoing=t,this.incoming=n,this.children=r,this.definition=i}return e.prototype.getEdges=function(e){var t=this;this.outgoing.forAll((function(r,i){r.forAll((function(r){e.push(new n(t.id,r.id,i))}))}))},e.prototype.isLeaf=function(){return 0===this.children.count()},e.prototype.isIsland=function(){return 0===this.outgoing.count()&&0===this.incoming.count()},e.prototype.isPredefined=function(){return"undefined"!==typeof this.definition},e}();function o(e,t){var n={};for(var r in e)r in t&&(n[r]=e[r]);return n}t.Module=a;var u=function(){function e(){this.table={}}return e.prototype.count=function(){return Object.keys(this.table).length},e.prototype.intersection=function(t){var n=new e;return n.table=o(this.table,t.table),n},e.prototype.intersectionCount=function(e){return this.intersection(e).count()},e.prototype.contains=function(e){return e in this.table},e.prototype.add=function(e){this.table[e.id]=e},e.prototype.remove=function(e){delete this.table[e.id]},e.prototype.forAll=function(e){for(var t in this.table)e(this.table[t])},e.prototype.modules=function(){var e=[];return this.forAll((function(t){t.isPredefined()||e.push(t)})),e},e}();t.ModuleSet=u;var s=function(){function e(){this.sets={},this.n=0}return e.prototype.count=function(){return this.n},e.prototype.contains=function(e){var t=!1;return this.forAllModules((function(n){t||n.id!=e||(t=!0)})),t},e.prototype.add=function(e,t){(e in this.sets?this.sets[e]:this.sets[e]=new u).add(t),++this.n},e.prototype.remove=function(e,t){var n=this.sets[e];n.remove(t),0===n.count()&&delete this.sets[e],--this.n},e.prototype.forAll=function(e){for(var t in this.sets)e(this.sets[t],Number(t))},e.prototype.forAllModules=function(e){this.forAll((function(t,n){return t.forAll(e)}))},e.prototype.intersection=function(t){var n=new e;return this.forAll((function(e,r){if(r in t.sets){var i=e.intersection(t.sets[r]),a=i.count();a>0&&(n.sets[r]=i,n.n+=a)}})),n},e}();t.LinkSets=s,t.getGroups=function(e,t,n,i){for(var a=e.length,o=new r(a,t,n,i);o.greedyMerge(););var u=[],s=o.getGroupHierarchy(u);return u.forEach((function(t){var n=function(n){var r=t[n];"number"==typeof r&&(t[n]=e[r])};n("source"),n("target")})),{groups:s,powerEdges:u}}},8093:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.elem=e,this.subheaps=[]}return e.prototype.toString=function(e){for(var t="",n=!1,r=0;r<this.subheaps.length;++r){var i=this.subheaps[r];i.elem?(n&&(t+=","),t+=i.toString(e),n=!0):n=!1}return""!==t&&(t="("+t+")"),(this.elem?e(this.elem):"")+t},e.prototype.forEach=function(e){this.empty()||(e(this.elem,this),this.subheaps.forEach((function(t){return t.forEach(e)})))},e.prototype.count=function(){return this.empty()?0:1+this.subheaps.reduce((function(e,t){return e+t.count()}),0)},e.prototype.min=function(){return this.elem},e.prototype.empty=function(){return null==this.elem},e.prototype.contains=function(e){if(this===e)return!0;for(var t=0;t<this.subheaps.length;t++)if(this.subheaps[t].contains(e))return!0;return!1},e.prototype.isHeap=function(e){var t=this;return this.subheaps.every((function(n){return e(t.elem,n.elem)&&n.isHeap(e)}))},e.prototype.insert=function(t,n){return this.merge(new e(t),n)},e.prototype.merge=function(e,t){return this.empty()?e:e.empty()?this:t(this.elem,e.elem)?(this.subheaps.push(e),this):(e.subheaps.push(this),e)},e.prototype.removeMin=function(e){return this.empty()?null:this.mergePairs(e)},e.prototype.mergePairs=function(t){if(0==this.subheaps.length)return new e(null);if(1==this.subheaps.length)return this.subheaps[0];var n=this.subheaps.pop().merge(this.subheaps.pop(),t),r=this.mergePairs(t);return n.merge(r,t)},e.prototype.decreaseKey=function(t,n,r,i){var a=t.removeMin(i);t.elem=a.elem,t.subheaps=a.subheaps,null!==r&&null!==a.elem&&r(t.elem,t);var o=new e(n);return null!==r&&r(n,o),this.merge(o,i)},e}();t.PairingHeap=n;var r=function(){function e(e){this.lessThan=e}return e.prototype.top=function(){return this.empty()?null:this.root.elem},e.prototype.push=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];for(var i,a=0;i=t[a];++a)e=new n(i),this.root=this.empty()?e:this.root.merge(e,this.lessThan);return e},e.prototype.empty=function(){return!this.root||!this.root.elem},e.prototype.isHeap=function(){return this.root.isHeap(this.lessThan)},e.prototype.forEach=function(e){this.root.forEach(e)},e.prototype.pop=function(){if(this.empty())return null;var e=this.root.min();return this.root=this.root.removeMin(this.lessThan),e},e.prototype.reduceKey=function(e,t,n){void 0===n&&(n=null),this.root=this.root.decreaseKey(e,t,n,this.lessThan)},e.prototype.toString=function(e){return this.root.toString(e)},e.prototype.count=function(){return this.root.count()},e}();t.PriorityQueue=r},1596:function(e,t){"use strict";var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){this.findIter=function(e){for(var t=this._root,n=this.iterator();null!==t;){var r=this._comparator(e,t.data);if(0===r)return n._cursor=t,n;n._ancestors.push(t),t=t.get_child(r>0)}return null}}return e.prototype.clear=function(){this._root=null,this.size=0},e.prototype.find=function(e){for(var t=this._root;null!==t;){var n=this._comparator(e,t.data);if(0===n)return t.data;t=t.get_child(n>0)}return null},e.prototype.lowerBound=function(e){return this._bound(e,this._comparator)},e.prototype.upperBound=function(e){var t=this._comparator;return this._bound(e,(function(e,n){return t(n,e)}))},e.prototype.min=function(){var e=this._root;if(null===e)return null;for(;null!==e.left;)e=e.left;return e.data},e.prototype.max=function(){var e=this._root;if(null===e)return null;for(;null!==e.right;)e=e.right;return e.data},e.prototype.iterator=function(){return new i(this)},e.prototype.each=function(e){for(var t,n=this.iterator();null!==(t=n.next());)e(t)},e.prototype.reach=function(e){for(var t,n=this.iterator();null!==(t=n.prev());)e(t)},e.prototype._bound=function(e,t){for(var n=this._root,r=this.iterator();null!==n;){var i=this._comparator(e,n.data);if(0===i)return r._cursor=n,r;r._ancestors.push(n),n=n.get_child(i>0)}for(var a=r._ancestors.length-1;a>=0;--a)if(t(e,(n=r._ancestors[a]).data)>0)return r._cursor=n,r._ancestors.length=a,r;return r._ancestors.length=0,r},e}();t.TreeBase=r;var i=function(){function e(e){this._tree=e,this._ancestors=[],this._cursor=null}return e.prototype.data=function(){return null!==this._cursor?this._cursor.data:null},e.prototype.next=function(){if(null===this._cursor){var e=this._tree._root;null!==e&&this._minNode(e)}else{var t;if(null===this._cursor.right)do{if(t=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.right===t);else this._ancestors.push(this._cursor),this._minNode(this._cursor.right)}return null!==this._cursor?this._cursor.data:null},e.prototype.prev=function(){if(null===this._cursor){var e=this._tree._root;null!==e&&this._maxNode(e)}else{var t;if(null===this._cursor.left)do{if(t=this._cursor,!this._ancestors.length){this._cursor=null;break}this._cursor=this._ancestors.pop()}while(this._cursor.left===t);else this._ancestors.push(this._cursor),this._maxNode(this._cursor.left)}return null!==this._cursor?this._cursor.data:null},e.prototype._minNode=function(e){for(;null!==e.left;)this._ancestors.push(e),e=e.left;this._cursor=e},e.prototype._maxNode=function(e){for(;null!==e.right;)this._ancestors.push(e),e=e.right;this._cursor=e},e}();t.Iterator=i;var a=function(){function e(e){this.data=e,this.left=null,this.right=null,this.red=!0}return e.prototype.get_child=function(e){return e?this.right:this.left},e.prototype.set_child=function(e,t){e?this.right=t:this.left=t},e}(),o=function(e){function t(t){var n=e.call(this)||this;return n._root=null,n._comparator=t,n.size=0,n}return n(t,e),t.prototype.insert=function(e){var n=!1;if(null===this._root)this._root=new a(e),n=!0,this.size++;else{var r=new a(void 0),i=!1,o=!1,u=null,s=r,l=null,c=this._root;for(s.right=this._root;;){if(null===c?(c=new a(e),l.set_child(i,c),n=!0,this.size++):t.is_red(c.left)&&t.is_red(c.right)&&(c.red=!0,c.left.red=!1,c.right.red=!1),t.is_red(c)&&t.is_red(l)){var f=s.right===u;c===l.get_child(o)?s.set_child(f,t.single_rotate(u,!o)):s.set_child(f,t.double_rotate(u,!o))}var h=this._comparator(c.data,e);if(0===h)break;o=i,i=h<0,null!==u&&(s=u),u=l,l=c,c=c.get_child(i)}this._root=r.right}return this._root.red=!1,n},t.prototype.remove=function(e){if(null===this._root)return!1;var n=new a(void 0),r=n;r.right=this._root;for(var i=null,o=null,u=null,s=!0;null!==r.get_child(s);){var l=s;o=i,i=r,r=r.get_child(s);var c=this._comparator(e,r.data);if(s=c>0,0===c&&(u=r),!t.is_red(r)&&!t.is_red(r.get_child(s)))if(t.is_red(r.get_child(!s))){var f=t.single_rotate(r,s);i.set_child(l,f),i=f}else if(!t.is_red(r.get_child(!s))){var h=i.get_child(!l);if(null!==h)if(t.is_red(h.get_child(!l))||t.is_red(h.get_child(l))){var d=o.right===i;t.is_red(h.get_child(l))?o.set_child(d,t.double_rotate(i,l)):t.is_red(h.get_child(!l))&&o.set_child(d,t.single_rotate(i,l));var p=o.get_child(d);p.red=!0,r.red=!0,p.left.red=!1,p.right.red=!1}else i.red=!1,h.red=!0,r.red=!0}}return null!==u&&(u.data=r.data,i.set_child(i.right===r,r.get_child(null===r.left)),this.size--),this._root=n.right,null!==this._root&&(this._root.red=!1),null!==u},t.is_red=function(e){return null!==e&&e.red},t.single_rotate=function(e,t){var n=e.get_child(!t);return e.set_child(!t,n.get_child(t)),n.set_child(t,e),e.red=!0,n.red=!1,n},t.double_rotate=function(e,n){return e.set_child(!n,t.single_rotate(e.get_child(!n),!n)),t.single_rotate(e,n)},t}(r);t.RBTree=o},107:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=n(3090),a=n(1596);function o(e){return e.bounds="undefined"!==typeof e.leaves?e.leaves.reduce((function(e,t){return t.bounds.union(e)}),u.empty()):u.empty(),"undefined"!==typeof e.groups&&(e.bounds=e.groups.reduce((function(e,t){return o(t).union(e)}),e.bounds)),e.bounds=e.bounds.inflate(e.padding),e.bounds}t.computeGroupBounds=o;var u=function(){function e(e,t,n,r){this.x=e,this.X=t,this.y=n,this.Y=r}return e.empty=function(){return new e(Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY)},e.prototype.cx=function(){return(this.x+this.X)/2},e.prototype.cy=function(){return(this.y+this.Y)/2},e.prototype.overlapX=function(e){var t=this.cx(),n=e.cx();return t<=n&&e.x<this.X?this.X-e.x:n<=t&&this.x<e.X?e.X-this.x:0},e.prototype.overlapY=function(e){var t=this.cy(),n=e.cy();return t<=n&&e.y<this.Y?this.Y-e.y:n<=t&&this.y<e.Y?e.Y-this.y:0},e.prototype.setXCentre=function(e){var t=e-this.cx();this.x+=t,this.X+=t},e.prototype.setYCentre=function(e){var t=e-this.cy();this.y+=t,this.Y+=t},e.prototype.width=function(){return this.X-this.x},e.prototype.height=function(){return this.Y-this.y},e.prototype.union=function(t){return new e(Math.min(this.x,t.x),Math.max(this.X,t.X),Math.min(this.y,t.y),Math.max(this.Y,t.Y))},e.prototype.lineIntersections=function(t,n,r,i){for(var a=[[this.x,this.y,this.X,this.y],[this.X,this.y,this.X,this.Y],[this.X,this.Y,this.x,this.Y],[this.x,this.Y,this.x,this.y]],o=[],u=0;u<4;++u){var s=e.lineIntersection(t,n,r,i,a[u][0],a[u][1],a[u][2],a[u][3]);null!==s&&o.push({x:s.x,y:s.y})}return o},e.prototype.rayIntersection=function(e,t){var n=this.lineIntersections(this.cx(),this.cy(),e,t);return n.length>0?n[0]:null},e.prototype.vertices=function(){return[{x:this.x,y:this.y},{x:this.X,y:this.y},{x:this.X,y:this.Y},{x:this.x,y:this.Y}]},e.lineIntersection=function(e,t,n,r,i,a,o,u){var s=n-e,l=o-i,c=r-t,f=u-a,h=f*s-l*c;if(0==h)return null;var d=e-i,p=t-a,v=(l*p-f*d)/h,m=(s*p-c*d)/h;return v>=0&&v<=1&&m>=0&&m<=1?{x:e+v*s,y:t+v*c}:null},e.prototype.inflate=function(t){return new e(this.x-t,this.X+t,this.y-t,this.Y+t)},e}();t.Rectangle=u,t.makeEdgeBetween=function(e,t,n){var r=e.rayIntersection(t.cx(),t.cy())||{x:e.cx(),y:e.cy()},i=t.rayIntersection(e.cx(),e.cy())||{x:t.cx(),y:t.cy()},a=i.x-r.x,o=i.y-r.y,u=Math.sqrt(a*a+o*o),s=u-n;return{sourceIntersection:r,targetIntersection:i,arrowStart:{x:r.x+s*a/u,y:r.y+s*o/u}}},t.makeEdgeTo=function(e,t,n){var r=t.rayIntersection(e.x,e.y);r||(r={x:t.cx(),y:t.cy()});var i=r.x-e.x,a=r.y-e.y,o=Math.sqrt(i*i+a*a);return{x:r.x-n*i/o,y:r.y-n*a/o}};var s=function(e,t,n){this.v=e,this.r=t,this.pos=n,this.prev=f(),this.next=f()},l=function(e,t,n){this.isOpen=e,this.v=t,this.pos=n};function c(e,t){return e.pos>t.pos?1:e.pos<t.pos||e.isOpen?-1:t.isOpen?1:0}function f(){return new a.RBTree((function(e,t){return e.pos-t.pos}))}var h={getCentre:function(e){return e.cx()},getOpen:function(e){return e.y},getClose:function(e){return e.Y},getSize:function(e){return e.width()},makeRect:function(e,t,n,r){return new u(n-r/2,n+r/2,e,t)},findNeighbours:function(e,t){var n=function(n,r){for(var i,a=t.findIter(e);null!==(i=a[n]());){var o=i.r.overlapX(e.r);if((o<=0||o<=i.r.overlapY(e.r))&&(e[n].insert(i),i[r].insert(e)),o<=0)break}};n("next","prev"),n("prev","next")}},d={getCentre:function(e){return e.cy()},getOpen:function(e){return e.x},getClose:function(e){return e.X},getSize:function(e){return e.height()},makeRect:function(e,t,n,r){return new u(e,t,n-r/2,n+r/2)},findNeighbours:function(e,t){var n=function(n,r){var i=t.findIter(e)[n]();null!==i&&i.r.overlapX(e.r)>0&&(e[n].insert(i),i[r].insert(e))};n("next","prev"),n("prev","next")}};function p(e,t,n,r){void 0===r&&(r=!1);var i=e.padding,a="undefined"!==typeof e.groups?e.groups.length:0,o="undefined"!==typeof e.leaves?e.leaves.length:0,u=a?e.groups.reduce((function(e,r){return e.concat(p(r,t,n,!0))}),[]):[],s=(r?2:0)+o+a,l=new Array(s),c=new Array(s),f=0,h=function(e,t){c[f]=e,l[f++]=t};if(r){var d=e.bounds,m=t.getCentre(d),g=t.getSize(d)/2,y=t.getOpen(d),b=t.getClose(d),x=m-g+i/2,_=m+g-i/2;e.minVar.desiredPosition=x,h(t.makeRect(y,b,x,i),e.minVar),e.maxVar.desiredPosition=_,h(t.makeRect(y,b,_,i),e.maxVar)}o&&e.leaves.forEach((function(e){return h(e.bounds,e.variable)})),a&&e.groups.forEach((function(e){var n=e.bounds;h(t.makeRect(t.getOpen(n),t.getClose(n),t.getCentre(n),t.getSize(n)),e.minVar)}));var w=v(c,l,t,n);return a&&(l.forEach((function(e){e.cOut=[],e.cIn=[]})),w.forEach((function(e){e.left.cOut.push(e),e.right.cIn.push(e)})),e.groups.forEach((function(e){var n=(e.padding-t.getSize(e.bounds))/2;e.minVar.cIn.forEach((function(e){return e.gap+=n})),e.minVar.cOut.forEach((function(t){t.left=e.maxVar,t.gap+=n}))}))),u.concat(w)}function v(e,t,n,r){var a,o=e.length,u=2*o;console.assert(t.length>=o);var h=new Array(u);for(a=0;a<o;++a){var d=e[a],p=new s(t[a],d,n.getCentre(d));h[a]=new l(!0,p,n.getOpen(d)),h[a+o]=new l(!1,p,n.getClose(d))}h.sort(c);var v=new Array,m=f();for(a=0;a<u;++a){var g=h[a];p=g.v;if(g.isOpen)m.insert(p),n.findNeighbours(p,m);else{m.remove(p);var y=function(e,t){var a=(n.getSize(e.r)+n.getSize(t.r))/2+r;v.push(new i.Constraint(e.v,t.v,a))},b=function(e,t,n){for(var r,i=p[e].iterator();null!==(r=i[e]());)n(r,p),r[t].remove(p)};b("prev","next",(function(e,t){return y(e,t)})),b("next","prev",(function(e,t){return y(t,e)}))}}return console.assert(0===m.size),v}function m(e,t){return v(e,t,h,1e-6)}function g(e,t){return v(e,t,d,1e-6)}function y(e){return p(e,h,1e-6)}function b(e){return p(e,d,1e-6)}t.generateXConstraints=m,t.generateYConstraints=g,t.generateXGroupConstraints=y,t.generateYGroupConstraints=b,t.removeOverlaps=function(e){var t=e.map((function(e){return new i.Variable(e.cx())})),n=m(e,t),r=new i.Solver(t,n);r.solve(),t.forEach((function(t,n){return e[n].setXCentre(t.position())})),t=e.map((function(e){return new i.Variable(e.cy())})),n=g(e,t),(r=new i.Solver(t,n)).solve(),t.forEach((function(t,n){return e[n].setYCentre(t.position())}))};var x=function(e){function t(t,n){var r=e.call(this,0,n)||this;return r.index=t,r}return r(t,e),t}(i.Variable);t.IndexedVariable=x;var _=function(){function e(e,t,n,r,i){var a=this;if(void 0===n&&(n=null),void 0===r&&(r=null),void 0===i&&(i=!1),this.nodes=e,this.groups=t,this.rootGroup=n,this.avoidOverlaps=i,this.variables=e.map((function(e,t){return e.variable=new x(t,1)})),r&&this.createConstraints(r),i&&n&&"undefined"!==typeof n.groups){e.forEach((function(e){if(e.width&&e.height){var t=e.width/2,n=e.height/2;e.bounds=new u(e.x-t,e.x+t,e.y-n,e.y+n)}else e.bounds=new u(e.x,e.x,e.y,e.y)})),o(n);var s=e.length;t.forEach((function(e){a.variables[s]=e.minVar=new x(s++,"undefined"!==typeof e.stiffness?e.stiffness:.01),a.variables[s]=e.maxVar=new x(s++,"undefined"!==typeof e.stiffness?e.stiffness:.01)}))}}return e.prototype.createSeparation=function(e){return new i.Constraint(this.nodes[e.left].variable,this.nodes[e.right].variable,e.gap,"undefined"!==typeof e.equality&&e.equality)},e.prototype.makeFeasible=function(e){var t=this;if(this.avoidOverlaps){var n="x",r="width";"x"===e.axis&&(n="y",r="height");var i=e.offsets.map((function(e){return t.nodes[e.node]})).sort((function(e,t){return e[n]-t[n]})),a=null;i.forEach((function(e){if(a){var t=a[n]+a[r];t>e[n]&&(e[n]=t)}a=e}))}},e.prototype.createAlignment=function(e){var t=this,n=this.nodes[e.offsets[0].node].variable;this.makeFeasible(e);var r="x"===e.axis?this.xConstraints:this.yConstraints;e.offsets.slice(1).forEach((function(e){var a=t.nodes[e.node].variable;r.push(new i.Constraint(n,a,e.offset,!0))}))},e.prototype.createConstraints=function(e){var t=this,n=function(e){return"undefined"===typeof e.type||"separation"===e.type};this.xConstraints=e.filter((function(e){return"x"===e.axis&&n(e)})).map((function(e){return t.createSeparation(e)})),this.yConstraints=e.filter((function(e){return"y"===e.axis&&n(e)})).map((function(e){return t.createSeparation(e)})),e.filter((function(e){return"alignment"===e.type})).forEach((function(e){return t.createAlignment(e)}))},e.prototype.setupVariablesAndBounds=function(e,t,n,r){this.nodes.forEach((function(i,a){i.fixed?(i.variable.weight=i.fixedWeight?i.fixedWeight:1e3,n[a]=r(i)):i.variable.weight=1;var o=(i.width||0)/2,s=(i.height||0)/2,l=e[a],c=t[a];i.bounds=new u(l-o,l+o,c-s,c+s)}))},e.prototype.xProject=function(e,t,n){(this.rootGroup||this.avoidOverlaps||this.xConstraints)&&this.project(e,t,e,n,(function(e){return e.px}),this.xConstraints,y,(function(e){return e.bounds.setXCentre(n[e.variable.index]=e.variable.position())}),(function(e){var t=n[e.minVar.index]=e.minVar.position(),r=n[e.maxVar.index]=e.maxVar.position(),i=e.padding/2;e.bounds.x=t-i,e.bounds.X=r+i}))},e.prototype.yProject=function(e,t,n){(this.rootGroup||this.yConstraints)&&this.project(e,t,t,n,(function(e){return e.py}),this.yConstraints,b,(function(e){return e.bounds.setYCentre(n[e.variable.index]=e.variable.position())}),(function(e){var t=n[e.minVar.index]=e.minVar.position(),r=n[e.maxVar.index]=e.maxVar.position(),i=e.padding/2;e.bounds.y=t-i,e.bounds.Y=r+i}))},e.prototype.projectFunctions=function(){var e=this;return[function(t,n,r){return e.xProject(t,n,r)},function(t,n,r){return e.yProject(t,n,r)}]},e.prototype.project=function(e,t,n,r,i,a,u,s,l){this.setupVariablesAndBounds(e,t,r,i),this.rootGroup&&this.avoidOverlaps&&(o(this.rootGroup),a=a.concat(u(this.rootGroup))),this.solve(this.variables,a,n,r),this.nodes.forEach(s),this.rootGroup&&this.avoidOverlaps&&(this.groups.forEach(l),o(this.rootGroup))},e.prototype.solve=function(e,t,n,r){var a=new i.Solver(e,t);a.setStartingPositions(n),a.setDesiredPositions(r),a.solve()},e}();t.Projection=_},7993:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8093),i=function(e,t){this.id=e,this.distance=t},a=function(e){this.id=e,this.neighbours=[]},o=function(e,t,n){this.node=e,this.prev=t,this.d=n},u=function(){function e(e,t,n,r,o){this.n=e,this.es=t,this.neighbours=new Array(this.n);for(var u=this.n;u--;)this.neighbours[u]=new a(u);for(u=this.es.length;u--;){var s=this.es[u],l=n(s),c=r(s),f=o(s);this.neighbours[l].neighbours.push(new i(c,f)),this.neighbours[c].neighbours.push(new i(l,f))}}return e.prototype.DistanceMatrix=function(){for(var e=new Array(this.n),t=0;t<this.n;++t)e[t]=this.dijkstraNeighbours(t);return e},e.prototype.DistancesFromNode=function(e){return this.dijkstraNeighbours(e)},e.prototype.PathFromNodeToNode=function(e,t){return this.dijkstraNeighbours(e,t)},e.prototype.PathFromNodeToNodeWithPrevCost=function(e,t,n){var i=new r.PriorityQueue((function(e,t){return e.d<=t.d})),a=this.neighbours[e],u=new o(a,null,0),s={};for(i.push(u);!i.empty()&&(a=(u=i.pop()).node).id!==t;)for(var l=a.neighbours.length;l--;){var c=a.neighbours[l],f=this.neighbours[c.id];if(!u.prev||f.id!==u.prev.node.id){var h=f.id+","+a.id;if(!(h in s&&s[h]<=u.d)){var d=u.prev?n(u.prev.node.id,a.id,f.id):0,p=u.d+c.distance+d;s[h]=p,i.push(new o(f,u,p))}}}for(var v=[];u.prev;)u=u.prev,v.push(u.node.id);return v},e.prototype.dijkstraNeighbours=function(e,t){void 0===t&&(t=-1);for(var n=new r.PriorityQueue((function(e,t){return e.d<=t.d})),i=this.neighbours.length,a=new Array(i);i--;){var o=this.neighbours[i];o.d=i===e?0:Number.POSITIVE_INFINITY,o.q=n.push(o)}for(;!n.empty();){var u=n.pop();if(a[u.id]=u.d,u.id===t){for(var s=[],l=u;"undefined"!==typeof l.prev;)s.push(l.prev.id),l=l.prev;return s}for(i=u.neighbours.length;i--;){var c=u.neighbours[i],f=(l=this.neighbours[c.id],u.d+c.distance);u.d!==Number.MAX_VALUE&&l.d>f&&(l.d=f,l.prev=u,n.reduceKey(l.q,l,(function(e,t){return e.q=t})))}}return a},e}();t.Calculator=u},3090:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.scale=e,this.AB=0,this.AD=0,this.A2=0}return e.prototype.addVariable=function(e){var t=this.scale/e.scale,n=e.offset/e.scale,r=e.weight;this.AB+=r*t*n,this.AD+=r*t*e.desiredPosition,this.A2+=r*t*t},e.prototype.getPosn=function(){return(this.AD-this.AB)/this.A2},e}();t.PositionStats=n;var r=function(){function e(e,t,n,r){void 0===r&&(r=!1),this.left=e,this.right=t,this.gap=n,this.equality=r,this.active=!1,this.unsatisfiable=!1,this.left=e,this.right=t,this.gap=n,this.equality=r}return e.prototype.slack=function(){return this.unsatisfiable?Number.MAX_VALUE:this.right.scale*this.right.position()-this.gap-this.left.scale*this.left.position()},e}();t.Constraint=r;var i=function(){function e(e,t,n){void 0===t&&(t=1),void 0===n&&(n=1),this.desiredPosition=e,this.weight=t,this.scale=n,this.offset=0}return e.prototype.dfdv=function(){return 2*this.weight*(this.position()-this.desiredPosition)},e.prototype.position=function(){return(this.block.ps.scale*this.block.posn+this.offset)/this.scale},e.prototype.visitNeighbours=function(e,t){var n=function(n,r){return n.active&&e!==r&&t(n,r)};this.cOut.forEach((function(e){return n(e,e.right)})),this.cIn.forEach((function(e){return n(e,e.left)}))},e}();t.Variable=i;var a=function(){function e(e){this.vars=[],e.offset=0,this.ps=new n(e.scale),this.addVariable(e)}return e.prototype.addVariable=function(e){e.block=this,this.vars.push(e),this.ps.addVariable(e),this.posn=this.ps.getPosn()},e.prototype.updateWeightedPosition=function(){this.ps.AB=this.ps.AD=this.ps.A2=0;for(var e=0,t=this.vars.length;e<t;++e)this.ps.addVariable(this.vars[e]);this.posn=this.ps.getPosn()},e.prototype.compute_lm=function(e,t,n){var r=this,i=e.dfdv();return e.visitNeighbours(t,(function(t,a){var o=r.compute_lm(a,e,n);a===t.right?(i+=o*t.left.scale,t.lm=o):(i+=o*t.right.scale,t.lm=-o),n(t)})),i/e.scale},e.prototype.populateSplitBlock=function(e,t){var n=this;e.visitNeighbours(t,(function(t,r){r.offset=e.offset+(r===t.right?t.gap:-t.gap),n.addVariable(r),n.populateSplitBlock(r,e)}))},e.prototype.traverse=function(e,t,n,r){var i=this;void 0===n&&(n=this.vars[0]),void 0===r&&(r=null),n.visitNeighbours(r,(function(r,a){t.push(e(r)),i.traverse(e,t,a,n)}))},e.prototype.findMinLM=function(){var e=null;return this.compute_lm(this.vars[0],null,(function(t){!t.equality&&(null===e||t.lm<e.lm)&&(e=t)})),e},e.prototype.findMinLMBetween=function(e,t){this.compute_lm(e,null,(function(){}));var n=null;return this.findPath(e,null,t,(function(e,t){!e.equality&&e.right===t&&(null===n||e.lm<n.lm)&&(n=e)})),n},e.prototype.findPath=function(e,t,n,r){var i=this,a=!1;return e.visitNeighbours(t,(function(t,o){a||o!==n&&!i.findPath(o,e,n,r)||(a=!0,r(t,o))})),a},e.prototype.isActiveDirectedPathBetween=function(e,t){if(e===t)return!0;for(var n=e.cOut.length;n--;){var r=e.cOut[n];if(r.active&&this.isActiveDirectedPathBetween(r.right,t))return!0}return!1},e.split=function(t){return t.active=!1,[e.createSplitBlock(t.left),e.createSplitBlock(t.right)]},e.createSplitBlock=function(t){var n=new e(t);return n.populateSplitBlock(t,null),n},e.prototype.splitBetween=function(t,n){var r=this.findMinLMBetween(t,n);if(null!==r){var i=e.split(r);return{constraint:r,lb:i[0],rb:i[1]}}return null},e.prototype.mergeAcross=function(e,t,n){t.active=!0;for(var r=0,i=e.vars.length;r<i;++r){var a=e.vars[r];a.offset+=n,this.addVariable(a)}this.posn=this.ps.getPosn()},e.prototype.cost=function(){for(var e=0,t=this.vars.length;t--;){var n=this.vars[t],r=n.position()-n.desiredPosition;e+=r*r*n.weight}return e},e}();t.Block=a;var o=function(){function e(e){this.vs=e;var t=e.length;for(this.list=new Array(t);t--;){var n=new a(e[t]);this.list[t]=n,n.blockInd=t}}return e.prototype.cost=function(){for(var e=0,t=this.list.length;t--;)e+=this.list[t].cost();return e},e.prototype.insert=function(e){e.blockInd=this.list.length,this.list.push(e)},e.prototype.remove=function(e){var t=this.list.length-1,n=this.list[t];this.list.length=t,e!==n&&(this.list[e.blockInd]=n,n.blockInd=e.blockInd)},e.prototype.merge=function(e){var t=e.left.block,n=e.right.block,r=e.right.offset-e.left.offset-e.gap;t.vars.length<n.vars.length?(n.mergeAcross(t,e,r),this.remove(t)):(t.mergeAcross(n,e,-r),this.remove(n))},e.prototype.forEach=function(e){this.list.forEach(e)},e.prototype.updateBlockPositions=function(){this.list.forEach((function(e){return e.updateWeightedPosition()}))},e.prototype.split=function(e){var t=this;this.updateBlockPositions(),this.list.forEach((function(n){var r=n.findMinLM();null!==r&&r.lm<u.LAGRANGIAN_TOLERANCE&&(n=r.left.block,a.split(r).forEach((function(e){return t.insert(e)})),t.remove(n),e.push(r))}))},e}();t.Blocks=o;var u=function(){function e(e,t){this.vs=e,this.cs=t,this.vs=e,e.forEach((function(e){e.cIn=[],e.cOut=[]})),this.cs=t,t.forEach((function(e){e.left.cOut.push(e),e.right.cIn.push(e)})),this.inactive=t.map((function(e){return e.active=!1,e})),this.bs=null}return e.prototype.cost=function(){return this.bs.cost()},e.prototype.setStartingPositions=function(e){this.inactive=this.cs.map((function(e){return e.active=!1,e})),this.bs=new o(this.vs),this.bs.forEach((function(t,n){return t.posn=e[n]}))},e.prototype.setDesiredPositions=function(e){this.vs.forEach((function(t,n){return t.desiredPosition=e[n]}))},e.prototype.mostViolated=function(){for(var t=Number.MAX_VALUE,n=null,r=this.inactive,i=r.length,a=i,o=0;o<i;++o){var u=r[o];if(!u.unsatisfiable){var s=u.slack();if((u.equality||s<t)&&(t=s,n=u,a=o,u.equality))break}}return a!==i&&(t<e.ZERO_UPPERBOUND&&!n.active||n.equality)&&(r[a]=r[i-1],r.length=i-1),n},e.prototype.satisfy=function(){null==this.bs&&(this.bs=new o(this.vs)),this.bs.split(this.inactive);for(var t=null;(t=this.mostViolated())&&(t.equality||t.slack()<e.ZERO_UPPERBOUND&&!t.active);){var n=t.left.block;if(n!==t.right.block)this.bs.merge(t);else{if(n.isActiveDirectedPathBetween(t.right,t.left)){t.unsatisfiable=!0;continue}var r=n.splitBetween(t.left,t.right);if(null===r){t.unsatisfiable=!0;continue}this.bs.insert(r.lb),this.bs.insert(r.rb),this.bs.remove(n),this.inactive.push(r.constraint),t.slack()>=0?this.inactive.push(t):this.bs.merge(t)}}},e.prototype.solve=function(){this.satisfy();for(var e=Number.MAX_VALUE,t=this.bs.cost();Math.abs(e-t)>1e-4;)this.satisfy(),e=t,t=this.bs.cost();return t},e.LAGRANGIAN_TOLERANCE=-1e-4,e.ZERO_UPPERBOUND=-1e-10,e}();t.Solver=u,t.removeOverlapInOneDimension=function(e,t,n){for(var a=e.map((function(e){return new i(e.desiredCenter)})),o=[],s=e.length,l=0;l<s-1;l++){var c=e[l],f=e[l+1];o.push(new r(a[l],a[l+1],(c.size+f.size)/2))}var h=a[0],d=a[s-1],p=e[0].size/2,v=e[s-1].size/2,m=null,g=null;return t&&(m=new i(t,1e3*h.weight),a.push(m),o.push(new r(m,h,p))),n&&(g=new i(n,1e3*d.weight),a.push(g),o.push(new r(d,g,v))),new u(a,o).solve(),{newCenters:a.slice(0,e.length).map((function(e){return e.position()})),lowerBound:m?m.position():h.position()-p,upperBound:g?g.position():d.position()+v}}},7119:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAACxIAAAsSAdLdfvwAAA1sSURBVHhe7d2LsdRGFoDhyyaw3giwIwAisDcC7AgMGRCCnQGOwDiChQgMEQARABGsHQHuf6S+M3PvPKQZPbr7/F9V1wjW5VpLOkenX9KDr1+/3qgp3/bth9S+Se1xauD3393hWX+n9qE73Pz+ldrb1D73TY0wAdSPQM9tTJBfKicHEkJuqpQJoD483X/s2/f8RQHepfa6b1YIFTEB1CEH/bPUHvEXBfuY2qvUTAYVMAGULQf9082f6vMmtZwMVCATQHkYuCPoX6T2kL9owJfUSAQvU2NAUYUwAZSDwCfoaXMP5K2FAUSSgImgECaA9UUI/LtMBIUwAayLPj5B0EqpPxZdAxKfYwQrMQGsg1F9+sSlTOOtjWlExj2cNVjYv/pfLeeX1D6lZvBvcS44J5wbLcgKYDk89Sl1S5/HXxvrCOgaWQ0swApgGZS3LJ81+M/jHHGuOGeamQlgfgzy/Z5alBH+KXCuOGecO83ILsB8mN5jo4xP/evQJWCjk9OFM7ACmAe78iz5p5G7BHlbsyZkBTA9blSe/Jb802LxEJUAyUATsQKYFjeowT8Pzinn1kpgQiaA6TBq/WdqBv98OLfvU3OGYCJ2AabBU4kbU8t5kprdgStZAVwv9/m1LLsDEzABXMcBv/U4JjABuwCXY56fEjTqTr5SsKOQJOA6gQtYAVyOp4/Bvz6ugV2wC5kALsMSVRf5lINr4bLhC9gFGI8pKNapqzzPU+M9CxrIBDAOW3rp9zvoVyZWCzIe4FbigewCjMN+foO/XFwbXy82gglgON5WY7+/fFwj3yw0kF2AYSj9P3WHqsR3qdkVOMMKYBgHlurjNRvABHBeSR/h1HBcM66dTrALcJqr/ermKsEzrABO46MVBn+9uHZcQx1hBXAcT38GkZz2qxtrAxjEtQo4wArguEjf6msZ19Aq4AgrgMN8+rfFKuAIK4DDfPq3hWvpa8QOsAI4jKe/g39tYUaAKkA7rADuY+7Y4G8P19R1AXeYAO6zVGyX1/YOuwD7XPPfPvcI7LAC2GeJ2D6v8Q4TwD5LxPZ5jXfYBdiy/I/DbkDPCmDL0jAOr3XPBLDlTRGH17pnF2DLExHLg/43NCuADp/1Vixe88QE0PFmiMdrnpgAOt4M8XjNE8cAOmwTdfdfLGwRZtt3aFYA3fy/wR8P1zz87kATgDdBZCaA/jcy+4Jxhb/2JgD7gZE5BtD/RsZ74xVT+GtvApACcxrQKcDIwk8FmgDcAxBd6D0BdgGkwEwAUmAmACkwE4AUmAlACswEIAVmApACMwFIgZkApMBMAN1yUMUU/tqbAG5uPvS/iif8tTcBSIGZAHwKRGYF0P9GxnZgxRT+2psAbm7e9r+KJ/y1NwH4mejIwl97XwjS8a1A8fhhkMQKoONAYDxe88QE0HEcIB6veWIC6HgzxOM1TxwD2PJExBL6ZaCZFcDWu/5X7fNa90wAW6/7X7XPa92zC7DFl2I/dYdq3Hepuf4jsQLY4ob42B2qYVxjg79nAtj3qv9Vu7zGO+wC7LMb0D7L/x1WAPu4Md50h2oQ19bg32ECuM8SsV1e2zvsAhzGU+Jhd6hGfEmNLp52WAEc9rL/VTu8pgdYARzGNlGqALcIt4Gtvzz9ffvTHVYAh3Gj+MRoB9fS4D/ACuA4q4A2+PQ/wQrgOKuANvj0P8EK4DSqAN4c44xAnRj5f5yaCeAIK4DTuHFedIeqENfO4D/BCmAY3h7zfXeoSrDn/4fuUMeYAIZxj0B9XPM/gF2AYbiRfu0OVQGulcE/gBXAOAwIPuoOVShL/xFMAOPQFSAJuDagTMz5M+rv038guwDjcGM5K1Auro3BP4IJYDy2lP7WHaogXBO3+45kF+ByjgeUg/f8UfprJCuAyzHQxEozrYtr4KDfhUwAl2OF2Y+pMfCkdXDuuQau9ruQCeA6dAN4+pgElsc559xzDXQhxwCmQf/zfXeohTxJzeC/khXANLgRn3eHmhlPfs61wT8BK4BpUQmwcciFQvOw7J+YFcC0uDEdE5iHwT8DE8D0chJwinA6earP4J+YXYD58DYhugMuFroOi3wIfqf6ZmAFMB9uWMYEXDZ8Oc4d59Dgn4kJYH5sUGHU2nGB4fJIvxuvZmYXYDlsJX6dml2C0yj5Wd3nrr4FWAEshxuactY3Cx3GU59zwzky+BdiBbAOqgG2rvqi0Q5v8XmWmoG/MCuAdXCjM7L9U2qRpwv5b+cccC4M/hVYAayP6UIGu2hRVhBS7vPFHr/aszITQDkiJAIDvzAmgPKQCOgPkwha+SQZpT5Bz7iHgV8QE0DZmA4jGTzd/Kk+b1Ij6Jn+VIFMAHVg1iAng9LXETCPn4Pegb3CmQDqk5MBrZRpRKbxCHiDvjImgPoxhZYbi2jmHkBkII9deWx0yk2VMgG0hwqBRkJgQJGkgDHJIQc5+GXgjkDn6e4TviEmACkwVwJKgZkApMBMAFJgJgApMBOAFJgJQArMBCAFZgKQAjMBSIGZAKTATABSYCYAKTATgBSYCUAKzAQgBWYCkAIzAUiBmQCkwEwAUmAmACkwXwpap/zm34w3/vIG4F13/5lrHHobMG8Kzm8Ohm8MrpAJoCw5aHdf583rvcHf1/KtQL4FmJNB/m5AThAmioKYAJaXg3z3vf01BfdUcpLwuwMrMgHMK3+tJwd5KZ/yKh2fGsvJgebXh2ZiApjObrDTSv+IZ2346GhOCCaFiZgALkfA5+aTfR1UCiSC3DSSCWA4nup8kdeAL1dOCHylmCpBZ5gAjmOALgc8v3N/dVfT4gOnJIKcEBho1B0mgH0M1OWgf8pfqBlvUssJwZmGnglg+6R/lpqlfQx0FV6lFr4yiJwActD7pI+NyiAng3CiJQBK/BepEfj26bWLMQMSwcvUwnQRoiQAnvYEviW+hqCLQCJovipoOQHQt+dJT+BHW2arabBcmURAZdDkWEGLCYAyPwe+Zb6mQPcgJ4KmugctJQAC/5fUft78SZrHH6lxnzWRCFp4IQiBT2b+lJrBr7lxj3Gvcc9x71Wt5gqAPj5lvqW+1pK7BrQqxwhqTQAEPWWYga8SkAi4H0kEVaktAbBEl9LLUX2ViFkDBqCr2ZlYyxgAfS3mZP9MzeBXqbg3uUe5V6sYH6ghAVDus7XTJbuqBfcq9yz3btFK7gLk0X1X76lmrCqkW1DktGGpFUB+6hv8qh33cLHVQGkVAFN79J8MfLWIaoB9KcVMGZZUAXBiKJMMfrWKe5t7nNmsIpSSAJhD/V9qzuurddzjzBRwz69u7S6AJb8iW71LsGYFwFt2HehTZNz7xACxsIq1EkBeLeWiHkVHDBALxMTi1ugC8B/6e3coacfz1Fj7spilEwD/cW7ZlY7jfQOLVQNLdgEMfuk8YmSxKmCpBGDwS8MtlgTmTgBM8xn80ng5CRBDs5l7DIA5fnfxSZebdUxgzgqA7GXwS9eZtTswVwKw7JemM1sSmCMBGPzS9GZJAlMnAPoqBr80D2Jr0vGAKQcB2dTAjj5J8/opNQbYrzZVAmAzA+uZ3c4rzY/XkPNOATYSXWWKBMA8Jf9H3NgjLYdXkPPgvWor8RRjAJQiBr+0LGLu6kHBaxMAbzVxP7+0DtbZXPVmoWu6APRBeLWRpHX9N7WLvkZ0aQKw3y+V4+LxgEu7APQ9DH6pDBePB1ySAJjvd42/VBZiktgcZWwXgNKf95o73y+Vh/UBfFJvcFdgbAXAiKPBL5WJ2Bw1KzCmAnDUX6rD4FmBMQmAUf9H3aGkgn1MbdC3BoZ2AdiBZPBLdSBWB+0aHFIBOPAn1WfQgOCQCoDvmhv8Ul2IWWL3pHMVgE9/qV5nq4BzFYBPf6leZ6uAUxWAT3+pfiergFMVgE9/qX4nq4BjFYBPf6kdR6uAYxUAmwoMfqkNxPLBjULHKgCe/m73ldrBOwOoAvYcqgBY82/wS20hpontPYcSwGwfIpS0qnuxfbcLwODf/7tDSQ36T2q3g4F3K4DRbxSRVJW9GDcBSLHsxfhuF8DyX4rhthuwWwH49JdiuI11E4AUz22s73YBKAlc/Se1j6XBdPlvKwAWCBj8UgzE+mZR0G4CkBSHCUAKbBPzeQzA/r8Uy2YcgAqA94cb/FIsxPxjEsC9LYKSQvg2VwCS4tlUACYAKaZNAtgsCJAUzjfMAjgDIMX0Nwng4EsBJbWPLoCkoEwAUmAmACkwE4AUmAlACswEIAVGAmBXkKR4vpAAPnTHkoL5TAJ42x1LCuatFYAU14f8RiCXA0vxPMizAH/0v5Ji2MR8TgCv+l9JMWxiPicABgLfdYeSGkesbwb/d78MxJuB3neHkhr2JLXN4H+uAMBf/NodSmoUMX4787dbAWT8j4+6Q0kNofTf+wjQbgWQ8Q987A4lNYKYvvcF8EMJgHcEmgSkdhDLxDSxvedQAgD/IIOCv23+JKlWxDCxfC/4cWgM4C4yB3OGDzd/klSDL6k9S+3kXp9jFcAu/gV8Pux5avxLJZWLGCVWidmzG/2GVAB3MZBAZnm6+ZOkErxJjUr99eZPA12SAHaRDOhf0E0g49hNkObHU/5zajzhmbYfFfRbNzf/ADZnR1t5fZyYAAAAAElFTkSuQmCCBNAeKgQaCYEBRZICxiSHHOTgl4E7Ap2nu0/4Ztzc/B9BHFwb8TsqiAAAAABJRU5ErkJggg=="},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".26a26b4d.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="sankey-3d:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var l=document.getElementsByTagName("script"),c=0;c<l.length;c++){var f=l[c];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="./",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);l<o.length;l++)a=o[l],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunksankey_3d=self.webpackChunksankey_3d||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{ACESFilmicToneMapping:function(){return Fe},AddEquation:function(){return ue},AddOperation:function(){return Oe},AdditiveAnimationBlendMode:function(){return fn},AdditiveBlending:function(){return re},AlphaFormat:function(){return mt},AlwaysDepth:function(){return ke},AlwaysStencilFunc:function(){return Bn},AmbientLight:function(){return Eh},AmbientLightProbe:function(){return Zh},AnimationClip:function(){return Kf},AnimationLoader:function(){return ah},AnimationMixer:function(){return Sd},AnimationObjectGroup:function(){return _d},AnimationUtils:function(){return Ff},ArcCurve:function(){return ic},ArrayCamera:function(){return Ns},ArrowHelper:function(){return hp},Audio:function(){return td},AudioAnalyser:function(){return ud},AudioContext:function(){return Uh},AudioListener:function(){return ed},AudioLoader:function(){return jh},AxesHelper:function(){return dp},AxisHelper:function(){return rv},BackSide:function(){return K},BasicDepthPacking:function(){return gn},BasicShadowMap:function(){return V},BinaryTextureLoader:function(){return sv},Bone:function(){return Sl},BooleanKeyframeTrack:function(){return Gf},BoundingBoxHelper:function(){return iv},Box2:function(){return Od},Box3:function(){return Vr},Box3Helper:function(){return lp},BoxBufferGeometry:function(){return Va},BoxGeometry:function(){return Va},BoxHelper:function(){return sp},BufferAttribute:function(){return sa},BufferGeometry:function(){return Ea},BufferGeometryLoader:function(){return Ih},ByteType:function(){return ot},Cache:function(){return Qf},Camera:function(){return Ka},CameraHelper:function(){return rp},CanvasRenderer:function(){return cv},CanvasTexture:function(){return tc},CapsuleBufferGeometry:function(){return Mc},CapsuleGeometry:function(){return Mc},CatmullRomCurve3:function(){return cc},CineonToneMapping:function(){return ze},CircleBufferGeometry:function(){return Ec},CircleGeometry:function(){return Ec},ClampToEdgeWrapping:function(){return qe},Clock:function(){return Xh},Color:function(){return Cr},ColorKeyframeTrack:function(){return Wf},ColorManagement:function(){return _r},CompressedTexture:function(){return ec},CompressedTextureLoader:function(){return oh},ConeBufferGeometry:function(){return Ac},ConeGeometry:function(){return Ac},CubeCamera:function(){return eo},CubeReflectionMapping:function(){return je},CubeRefractionMapping:function(){return He},CubeTexture:function(){return to},CubeTextureLoader:function(){return sh},CubeUVReflectionMapping:function(){return We},CubicBezierCurve:function(){return pc},CubicBezierCurve3:function(){return vc},CubicInterpolant:function(){return Uf},CullFaceBack:function(){return Z},CullFaceFront:function(){return G},CullFaceFrontBack:function(){return W},CullFaceNone:function(){return H},Curve:function(){return nc},CurvePath:function(){return wc},CustomBlending:function(){return oe},CustomToneMapping:function(){return Be},CylinderBufferGeometry:function(){return Tc},CylinderGeometry:function(){return Tc},Cylindrical:function(){return Pd},Data3DTexture:function(){return Br},DataArrayTexture:function(){return zr},DataTexture:function(){return kl},DataTexture2DArray:function(){return xv},DataTexture3D:function(){return _v},DataTextureLoader:function(){return lh},DataUtils:function(){return vp},DecrementStencilOp:function(){return An},DecrementWrapStencilOp:function(){return Rn},DefaultLoadingManager:function(){return th},DepthFormat:function(){return _t},DepthStencilFormat:function(){return wt},DepthTexture:function(){return Us},DirectionalLight:function(){return Mh},DirectionalLightHelper:function(){return ep},DiscreteInterpolant:function(){return Hf},DodecahedronBufferGeometry:function(){return Rc},DodecahedronGeometry:function(){return Rc},DoubleSide:function(){return J},DstAlphaFactor:function(){return ye},DstColorFactor:function(){return xe},DynamicBufferAttribute:function(){return qp},DynamicCopyUsage:function(){return qn},DynamicDrawUsage:function(){return jn},DynamicReadUsage:function(){return Gn},EdgesGeometry:function(){return Dc},EdgesHelper:function(){return av},EllipseCurve:function(){return rc},EqualDepth:function(){return Te},EqualStencilFunc:function(){return In},EquirectangularReflectionMapping:function(){return Ze},EquirectangularRefractionMapping:function(){return Ge},Euler:function(){return Ri},EventDispatcher:function(){return Jn},ExtrudeBufferGeometry:function(){return df},ExtrudeGeometry:function(){return df},FaceColors:function(){return Np},FileLoader:function(){return ih},FlatShading:function(){return Q},Float16BufferAttribute:function(){return ma},Float32Attribute:function(){return tv},Float32BufferAttribute:function(){return ga},Float64Attribute:function(){return nv},Float64BufferAttribute:function(){return ya},FloatType:function(){return ft},Fog:function(){return qs},FogExp2:function(){return Vs},Font:function(){return gv},FontLoader:function(){return mv},FramebufferTexture:function(){return Ql},FrontSide:function(){return Y},Frustum:function(){return lo},GLBufferAttribute:function(){return Ed},GLSL1:function(){return $n},GLSL3:function(){return Yn},GreaterDepth:function(){return Ce},GreaterEqualDepth:function(){return Ae},GreaterEqualStencilFunc:function(){return Fn},GreaterStencilFunc:function(){return Nn},GridHelper:function(){return $d},Group:function(){return zs},HalfFloatType:function(){return ht},HemisphereLight:function(){return hh},HemisphereLightHelper:function(){return Xd},HemisphereLightProbe:function(){return Hh},IcosahedronBufferGeometry:function(){return vf},IcosahedronGeometry:function(){return vf},ImageBitmapLoader:function(){return Bh},ImageLoader:function(){return uh},ImageUtils:function(){return Rr},ImmediateRenderObject:function(){return yv},IncrementStencilOp:function(){return Tn},IncrementWrapStencilOp:function(){return Cn},InstancedBufferAttribute:function(){return Al},InstancedBufferGeometry:function(){return Lh},InstancedInterleavedBuffer:function(){return Md},InstancedMesh:function(){return Ol},Int16Attribute:function(){return Kp},Int16BufferAttribute:function(){return ha},Int32Attribute:function(){return Qp},Int32BufferAttribute:function(){return pa},Int8Attribute:function(){return Xp},Int8BufferAttribute:function(){return la},IntType:function(){return lt},InterleavedBuffer:function(){return $s},InterleavedBufferAttribute:function(){return Ks},Interpolant:function(){return Bf},InterpolateDiscrete:function(){return rn},InterpolateLinear:function(){return an},InterpolateSmooth:function(){return on},InvertStencilOp:function(){return Pn},JSONLoader:function(){return fv},KeepStencilOp:function(){return Mn},KeyframeTrack:function(){return Zf},LOD:function(){return ml},LatheBufferGeometry:function(){return kc},LatheGeometry:function(){return kc},Layers:function(){return Pi},LensFlare:function(){return dv},LessDepth:function(){return Me},LessEqualDepth:function(){return Ee},LessEqualStencilFunc:function(){return Dn},LessStencilFunc:function(){return On},Light:function(){return fh},LightProbe:function(){return Ch},Line:function(){return Ul},Line3:function(){return Nd},LineBasicMaterial:function(){return Il},LineCurve:function(){return mc},LineCurve3:function(){return gc},LineDashedMaterial:function(){return Nf},LineLoop:function(){return Gl},LinePieces:function(){return Ip},LineSegments:function(){return Zl},LineStrip:function(){return Op},LinearEncoding:function(){return vn},LinearFilter:function(){return et},LinearInterpolant:function(){return jf},LinearMipMapLinearFilter:function(){return it},LinearMipMapNearestFilter:function(){return nt},LinearMipmapLinearFilter:function(){return rt},LinearMipmapNearestFilter:function(){return tt},LinearSRGBColorSpace:function(){return Sn},LinearToneMapping:function(){return De},Loader:function(){return nh},LoaderUtils:function(){return Ph},LoadingManager:function(){return eh},LoopOnce:function(){return en},LoopPingPong:function(){return nn},LoopRepeat:function(){return tn},LuminanceAlphaFormat:function(){return xt},LuminanceFormat:function(){return bt},MOUSE:function(){return U},Material:function(){return ia},MaterialLoader:function(){return Rh},Math:function(){return fr},MathUtils:function(){return fr},Matrix3:function(){return dr},Matrix4:function(){return xi},MaxEquation:function(){return fe},Mesh:function(){return Ga},MeshBasicMaterial:function(){return aa},MeshDepthMaterial:function(){return Rs},MeshDistanceMaterial:function(){return Ps},MeshFaceMaterial:function(){return Fp},MeshLambertMaterial:function(){return If},MeshMatcapMaterial:function(){return Df},MeshNormalMaterial:function(){return Of},MeshPhongMaterial:function(){return Pf},MeshPhysicalMaterial:function(){return Rf},MeshStandardMaterial:function(){return Cf},MeshToonMaterial:function(){return Lf},MinEquation:function(){return ce},MirroredRepeatWrapping:function(){return Xe},MixOperation:function(){return Le},MultiMaterial:function(){return Bp},MultiplyBlending:function(){return ae},MultiplyOperation:function(){return Pe},NearestFilter:function(){return $e},NearestMipMapLinearFilter:function(){return Qe},NearestMipMapNearestFilter:function(){return Ke},NearestMipmapLinearFilter:function(){return Je},NearestMipmapNearestFilter:function(){return Ye},NeverDepth:function(){return Se},NeverStencilFunc:function(){return Ln},NoBlending:function(){return te},NoColorSpace:function(){return _n},NoColors:function(){return Dp},NoToneMapping:function(){return Ie},NormalAnimationBlendMode:function(){return cn},NormalBlending:function(){return ne},NotEqualDepth:function(){return Re},NotEqualStencilFunc:function(){return zn},NumberKeyframeTrack:function(){return Vf},Object3D:function(){return Wi},ObjectLoader:function(){return Dh},ObjectSpaceNormalMap:function(){return xn},OctahedronBufferGeometry:function(){return mf},OctahedronGeometry:function(){return mf},OneFactor:function(){return de},OneMinusDstAlphaFactor:function(){return be},OneMinusDstColorFactor:function(){return _e},OneMinusSrcAlphaFactor:function(){return ge},OneMinusSrcColorFactor:function(){return ve},OrthographicCamera:function(){return So},PCFShadowMap:function(){return q},PCFSoftShadowMap:function(){return X},PMREMGenerator:function(){return Lo},ParametricGeometry:function(){return pv},Particle:function(){return jp},ParticleBasicMaterial:function(){return Gp},ParticleSystem:function(){return Hp},ParticleSystemMaterial:function(){return Wp},Path:function(){return Sc},PerspectiveCamera:function(){return Ja},Plane:function(){return oo},PlaneBufferGeometry:function(){return ho},PlaneGeometry:function(){return ho},PlaneHelper:function(){return cp},PointCloud:function(){return Up},PointCloudMaterial:function(){return Zp},PointLight:function(){return Sh},PointLightHelper:function(){return Gd},Points:function(){return Yl},PointsMaterial:function(){return Wl},PolarGridHelper:function(){return Yd},PolyhedronBufferGeometry:function(){return Cc},PolyhedronGeometry:function(){return Cc},PositionalAudio:function(){return od},PropertyBinding:function(){return xd},PropertyMixer:function(){return sd},QuadraticBezierCurve:function(){return yc},QuadraticBezierCurve3:function(){return bc},Quaternion:function(){return Hr},QuaternionKeyframeTrack:function(){return Xf},QuaternionLinearInterpolant:function(){return qf},REVISION:function(){return B},RGBADepthPacking:function(){return yn},RGBAFormat:function(){return yt},RGBAIntegerFormat:function(){return Tt},RGBA_ASTC_10x10_Format:function(){return Yt},RGBA_ASTC_10x5_Format:function(){return qt},RGBA_ASTC_10x6_Format:function(){return Xt},RGBA_ASTC_10x8_Format:function(){return $t},RGBA_ASTC_12x10_Format:function(){return Kt},RGBA_ASTC_12x12_Format:function(){return Jt},RGBA_ASTC_4x4_Format:function(){return Bt},RGBA_ASTC_5x4_Format:function(){return Ut},RGBA_ASTC_5x5_Format:function(){return jt},RGBA_ASTC_6x5_Format:function(){return Ht},RGBA_ASTC_6x6_Format:function(){return Zt},RGBA_ASTC_8x5_Format:function(){return Gt},RGBA_ASTC_8x6_Format:function(){return Wt},RGBA_ASTC_8x8_Format:function(){return Vt},RGBA_BPTC_Format:function(){return Qt},RGBA_ETC2_EAC_Format:function(){return Ft},RGBA_PVRTC_2BPPV1_Format:function(){return Dt},RGBA_PVRTC_4BPPV1_Format:function(){return It},RGBA_S3TC_DXT1_Format:function(){return Ct},RGBA_S3TC_DXT3_Format:function(){return Rt},RGBA_S3TC_DXT5_Format:function(){return Pt},RGBFormat:function(){return gt},RGB_ETC1_Format:function(){return Nt},RGB_ETC2_Format:function(){return zt},RGB_PVRTC_2BPPV1_Format:function(){return Ot},RGB_PVRTC_4BPPV1_Format:function(){return Lt},RGB_S3TC_DXT1_Format:function(){return At},RGFormat:function(){return Mt},RGIntegerFormat:function(){return Et},RawShaderMaterial:function(){return Af},Ray:function(){return bi},Raycaster:function(){return Td},RectAreaLight:function(){return Th},RedFormat:function(){return St},RedIntegerFormat:function(){return kt},ReinhardToneMapping:function(){return Ne},RepeatWrapping:function(){return Ve},ReplaceStencilOp:function(){return En},ReverseSubtractEquation:function(){return le},RingBufferGeometry:function(){return gf},RingGeometry:function(){return gf},SRGBColorSpace:function(){return wn},Scene:function(){return Xs},SceneUtils:function(){return hv},ShaderChunk:function(){return po},ShaderLib:function(){return mo},ShaderMaterial:function(){return Ya},ShadowMaterial:function(){return Tf},Shape:function(){return Nc},ShapeBufferGeometry:function(){return yf},ShapeGeometry:function(){return yf},ShapePath:function(){return pp},ShapeUtils:function(){return cf},ShortType:function(){return ut},Skeleton:function(){return Tl},SkeletonHelper:function(){return Hd},SkinnedMesh:function(){return wl},SmoothShading:function(){return ee},Source:function(){return Pr},Sphere:function(){return fi},SphereBufferGeometry:function(){return bf},SphereGeometry:function(){return bf},Spherical:function(){return Rd},SphericalHarmonics3:function(){return Ah},SplineCurve:function(){return xc},SpotLight:function(){return yh},SpotLightHelper:function(){return Fd},Sprite:function(){return hl},SpriteMaterial:function(){return Qs},SrcAlphaFactor:function(){return me},SrcAlphaSaturateFactor:function(){return we},SrcColorFactor:function(){return pe},StaticCopyUsage:function(){return Vn},StaticDrawUsage:function(){return Un},StaticReadUsage:function(){return Zn},StereoCamera:function(){return qh},StreamCopyUsage:function(){return Xn},StreamDrawUsage:function(){return Hn},StreamReadUsage:function(){return Wn},StringKeyframeTrack:function(){return $f},SubtractEquation:function(){return se},SubtractiveBlending:function(){return ie},TOUCH:function(){return j},TangentSpaceNormalMap:function(){return bn},TetrahedronBufferGeometry:function(){return xf},TetrahedronGeometry:function(){return xf},TextGeometry:function(){return vv},Texture:function(){return Ir},TextureLoader:function(){return ch},TorusBufferGeometry:function(){return _f},TorusGeometry:function(){return _f},TorusKnotBufferGeometry:function(){return wf},TorusKnotGeometry:function(){return wf},Triangle:function(){return na},TriangleFanDrawMode:function(){return pn},TriangleStripDrawMode:function(){return dn},TrianglesDrawMode:function(){return hn},TubeBufferGeometry:function(){return Sf},TubeGeometry:function(){return Sf},UVMapping:function(){return Ue},Uint16Attribute:function(){return Jp},Uint16BufferAttribute:function(){return da},Uint32Attribute:function(){return ev},Uint32BufferAttribute:function(){return va},Uint8Attribute:function(){return $p},Uint8BufferAttribute:function(){return ca},Uint8ClampedAttribute:function(){return Yp},Uint8ClampedBufferAttribute:function(){return fa},Uniform:function(){return kd},UniformsLib:function(){return vo},UniformsUtils:function(){return $a},UnsignedByteType:function(){return at},UnsignedInt248Type:function(){return vt},UnsignedIntType:function(){return ct},UnsignedShort4444Type:function(){return dt},UnsignedShort5551Type:function(){return pt},UnsignedShortType:function(){return st},VSMShadowMap:function(){return $},Vector2:function(){return hr},Vector3:function(){return Zr},Vector4:function(){return Dr},VectorKeyframeTrack:function(){return Yf},Vertex:function(){return Vp},VertexColors:function(){return zp},VideoTexture:function(){return Jl},WebGL1Renderer:function(){return Ws},WebGL3DRenderTarget:function(){return Ur},WebGLArrayRenderTarget:function(){return Fr},WebGLCubeRenderTarget:function(){return no},WebGLMultipleRenderTargets:function(){return jr},WebGLMultisampleRenderTarget:function(){return bv},WebGLRenderTarget:function(){return Nr},WebGLRenderTargetCube:function(){return lv},WebGLRenderer:function(){return Gs},WebGLUtils:function(){return Ds},WireframeGeometry:function(){return kf},WireframeHelper:function(){return ov},WrapAroundEnding:function(){return ln},XHRLoader:function(){return uv},ZeroCurvatureEnding:function(){return un},ZeroFactor:function(){return he},ZeroSlopeEnding:function(){return sn},ZeroStencilOp:function(){return kn},_SRGBAFormat:function(){return Kn},sRGBEncoding:function(){return mn}});var t={};n.r(t),n.d(t,{Adder:function(){return z_},Delaunay:function(){return eR},FormatSpecifier:function(){return uL},InternMap:function(){return j_},InternSet:function(){return H_},Node:function(){return Az},Voronoi:function(){return qC},ZoomTransform:function(){return Xq},active:function(){return _T},arc:function(){return LW},area:function(){return UW},areaRadial:function(){return $W},ascending:function(){return m_},autoType:function(){return OR},axisBottom:function(){return SS},axisLeft:function(){return kS},axisRight:function(){return wS},axisTop:function(){return _S},bin:function(){return _w},bisect:function(){return M_},bisectCenter:function(){return k_},bisectLeft:function(){return S_},bisectRight:function(){return w_},bisector:function(){return g_},blob:function(){return pP},brush:function(){return JT},brushSelection:function(){return $T},brushX:function(){return YT},brushY:function(){return KT},buffer:function(){return mP},chord:function(){return cA},chordDirected:function(){return hA},chordTranspose:function(){return fA},cluster:function(){return bz},color:function(){return xM},contourDensity:function(){return kC},contours:function(){return yC},count:function(){return E_},create:function(){return aW},creator:function(){return Lk},cross:function(){return P_},csv:function(){return _P},csvFormat:function(){return xR},csvFormatBody:function(){return _R},csvFormatRow:function(){return SR},csvFormatRows:function(){return wR},csvFormatValue:function(){return kR},csvParse:function(){return yR},csvParseRows:function(){return bR},cubehelix:function(){return sC},cumsum:function(){return L_},curveBasis:function(){return BV},curveBasisClosed:function(){return jV},curveBasisOpen:function(){return ZV},curveBumpX:function(){return QW},curveBumpY:function(){return eV},curveBundle:function(){return WV},curveCardinal:function(){return XV},curveCardinalClosed:function(){return YV},curveCardinalOpen:function(){return JV},curveCatmullRom:function(){return tq},curveCatmullRomClosed:function(){return rq},curveCatmullRomOpen:function(){return aq},curveLinear:function(){return NW},curveLinearClosed:function(){return uq},curveMonotoneX:function(){return vq},curveMonotoneY:function(){return mq},curveNatural:function(){return bq},curveStep:function(){return _q},curveStepAfter:function(){return Sq},curveStepBefore:function(){return wq},descending:function(){return O_},deviation:function(){return D_},difference:function(){return aS},disjoint:function(){return oS},dispatch:function(){return PS},drag:function(){return lR},dragDisable:function(){return eM},dragEnable:function(){return tM},dsv:function(){return xP},dsvFormat:function(){return mR},easeBack:function(){return sP},easeBackIn:function(){return oP},easeBackInOut:function(){return sP},easeBackOut:function(){return uP},easeBounce:function(){return rP},easeBounceIn:function(){return nP},easeBounceInOut:function(){return iP},easeBounceOut:function(){return rP},easeCircle:function(){return QR},easeCircleIn:function(){return KR},easeCircleInOut:function(){return QR},easeCircleOut:function(){return JR},easeCubic:function(){return gT},easeCubicIn:function(){return vT},easeCubicInOut:function(){return gT},easeCubicOut:function(){return mT},easeElastic:function(){return fP},easeElasticIn:function(){return cP},easeElasticInOut:function(){return hP},easeElasticOut:function(){return fP},easeExp:function(){return YR},easeExpIn:function(){return XR},easeExpInOut:function(){return YR},easeExpOut:function(){return $R},easeLinear:function(){return DR},easePoly:function(){return jR},easePolyIn:function(){return BR},easePolyInOut:function(){return jR},easePolyOut:function(){return UR},easeQuad:function(){return FR},easeQuadIn:function(){return NR},easeQuadInOut:function(){return FR},easeQuadOut:function(){return zR},easeSin:function(){return VR},easeSinIn:function(){return GR},easeSinInOut:function(){return VR},easeSinOut:function(){return WR},every:function(){return Qw},extent:function(){return N_},fcumsum:function(){return B_},filter:function(){return tS},flatGroup:function(){return K_},flatRollup:function(){return J_},forceCenter:function(){return RP},forceCollide:function(){return ZP},forceLink:function(){return VP},forceManyBody:function(){return JP},forceRadial:function(){return QP},forceSimulation:function(){return KP},forceX:function(){return eL},forceY:function(){return tL},format:function(){return hL},formatDefaultLocale:function(){return gL},formatLocale:function(){return mL},formatPrefix:function(){return dL},formatSpecifier:function(){return oL},fsum:function(){return F_},geoAlbers:function(){return IN},geoAlbersUsa:function(){return DN},geoArea:function(){return _O},geoAzimuthalEqualArea:function(){return BN},geoAzimuthalEqualAreaRaw:function(){return FN},geoAzimuthalEquidistant:function(){return jN},geoAzimuthalEquidistantRaw:function(){return UN},geoBounds:function(){return nI},geoCentroid:function(){return pI},geoCircle:function(){return MI},geoClipAntimeridian:function(){return NI},geoClipCircle:function(){return zI},geoClipExtent:function(){return WI},geoClipRectangle:function(){return GI},geoConicConformal:function(){return qN},geoConicConformalRaw:function(){return VN},geoConicEqualArea:function(){return ON},geoConicEqualAreaRaw:function(){return LN},geoConicEquidistant:function(){return KN},geoConicEquidistantRaw:function(){return YN},geoContains:function(){return sD},geoDistance:function(){return QI},geoEqualEarth:function(){return iz},geoEqualEarthRaw:function(){return rz},geoEquirectangular:function(){return $N},geoEquirectangularRaw:function(){return XN},geoGnomonic:function(){return oz},geoGnomonicRaw:function(){return az},geoGraticule:function(){return fD},geoGraticule10:function(){return hD},geoIdentity:function(){return uz},geoInterpolate:function(){return dD},geoLength:function(){return YI},geoMercator:function(){return ZN},geoMercatorRaw:function(){return HN},geoNaturalEarth1:function(){return lz},geoNaturalEarth1Raw:function(){return sz},geoOrthographic:function(){return fz},geoOrthographicRaw:function(){return cz},geoPath:function(){return mN},geoProjection:function(){return CN},geoProjectionMutator:function(){return RN},geoRotation:function(){return wI},geoStereographic:function(){return dz},geoStereographicRaw:function(){return hz},geoStream:function(){return KL},geoTransform:function(){return gN},geoTransverseMercator:function(){return vz},geoTransverseMercatorRaw:function(){return pz},gray:function(){return jA},greatest:function(){return Gw},greatestIndex:function(){return Ww},group:function(){return X_},groupSort:function(){return lw},groups:function(){return $_},hcl:function(){return YA},hierarchy:function(){return Sz},histogram:function(){return _w},hsl:function(){return PM},html:function(){return AP},image:function(){return SP},index:function(){return tw},indexes:function(){return nw},interpolate:function(){return nE},interpolateArray:function(){return XM},interpolateBasis:function(){return DM},interpolateBasisClosed:function(){return NM},interpolateBlues:function(){return LG},interpolateBrBG:function(){return GZ},interpolateBuGn:function(){return sG},interpolateBuPu:function(){return cG},interpolateCividis:function(){return ZG},interpolateCool:function(){return VG},interpolateCubehelix:function(){return zF},interpolateCubehelixDefault:function(){return GG},interpolateCubehelixLong:function(){return FF},interpolateDate:function(){return YM},interpolateDiscrete:function(){return kF},interpolateGnBu:function(){return hG},interpolateGreens:function(){return IG},interpolateGreys:function(){return NG},interpolateHcl:function(){return IF},interpolateHclLong:function(){return DF},interpolateHsl:function(){return RF},interpolateHslLong:function(){return PF},interpolateHue:function(){return MF},interpolateInferno:function(){return rW},interpolateLab:function(){return LF},interpolateMagma:function(){return nW},interpolateNumber:function(){return KM},interpolateNumberArray:function(){return VM},interpolateObject:function(){return JM},interpolateOrRd:function(){return pG},interpolateOranges:function(){return HG},interpolatePRGn:function(){return VZ},interpolatePiYG:function(){return XZ},interpolatePlasma:function(){return iW},interpolatePuBu:function(){return yG},interpolatePuBuGn:function(){return mG},interpolatePuOr:function(){return YZ},interpolatePuRd:function(){return xG},interpolatePurples:function(){return FG},interpolateRainbow:function(){return XG},interpolateRdBu:function(){return JZ},interpolateRdGy:function(){return eG},interpolateRdPu:function(){return wG},interpolateRdYlBu:function(){return nG},interpolateRdYlGn:function(){return iG},interpolateReds:function(){return UG},interpolateRgb:function(){return HM},interpolateRgbBasis:function(){return GM},interpolateRgbBasisClosed:function(){return WM},interpolateRound:function(){return EF},interpolateSinebow:function(){return JG},interpolateSpectral:function(){return oG},interpolateString:function(){return tE},interpolateTransformCss:function(){return NE},interpolateTransformSvg:function(){return zE},interpolateTurbo:function(){return QG},interpolateViridis:function(){return tW},interpolateWarm:function(){return WG},interpolateYlGn:function(){return EG},interpolateYlGnBu:function(){return kG},interpolateYlOrBr:function(){return AG},interpolateYlOrRd:function(){return RG},interpolateZoom:function(){return AF},interrupt:function(){return RE},intersection:function(){return uS},interval:function(){return Wq},isoFormat:function(){return Hq},isoParse:function(){return Gq},json:function(){return MP},lab:function(){return HA},lch:function(){return $A},least:function(){return Hw},leastIndex:function(){return Zw},line:function(){return BW},lineRadial:function(){return XW},link:function(){return iV},linkHorizontal:function(){return aV},linkRadial:function(){return uV},linkVertical:function(){return oV},local:function(){return uW},map:function(){return nS},matcher:function(){return zS},max:function(){return ww},maxIndex:function(){return Rw},mean:function(){return Pw},median:function(){return Lw},merge:function(){return Dw},min:function(){return Sw},minIndex:function(){return Nw},mode:function(){return zw},namespace:function(){return QS},namespaces:function(){return JS},nice:function(){return bw},now:function(){return vE},pack:function(){return Xz},packEnclose:function(){return Cz},packSiblings:function(){return Hz},pairs:function(){return Fw},partition:function(){return eF},path:function(){return xA},permute:function(){return aw},pie:function(){return ZW},piecewise:function(){return BF},pointRadial:function(){return YW},pointer:function(){return iE},pointers:function(){return lW},polygonArea:function(){return jF},polygonCentroid:function(){return HF},polygonContains:function(){return qF},polygonHull:function(){return VF},polygonLength:function(){return XF},precisionFixed:function(){return yL},precisionPrefix:function(){return bL},precisionRound:function(){return xL},quadtree:function(){return DP},quantile:function(){return Ew},quantileSorted:function(){return Tw},quantize:function(){return UF},quickselect:function(){return kw},radialArea:function(){return $W},radialLine:function(){return XW},randomBates:function(){return tB},randomBernoulli:function(){return iB},randomBeta:function(){return uB},randomBinomial:function(){return sB},randomCauchy:function(){return cB},randomExponential:function(){return nB},randomGamma:function(){return oB},randomGeometric:function(){return aB},randomInt:function(){return KF},randomIrwinHall:function(){return eB},randomLcg:function(){return mB},randomLogNormal:function(){return QF},randomLogistic:function(){return fB},randomNormal:function(){return JF},randomPareto:function(){return rB},randomPoisson:function(){return hB},randomUniform:function(){return YF},randomWeibull:function(){return lB},range:function(){return Uw},rank:function(){return jw},reduce:function(){return rS},reverse:function(){return iS},rgb:function(){return kM},ribbon:function(){return PA},ribbonArrow:function(){return LA},rollup:function(){return Q_},rollups:function(){return ew},scaleBand:function(){return _B},scaleDiverging:function(){return EZ},scaleDivergingLog:function(){return TZ},scaleDivergingPow:function(){return CZ},scaleDivergingSqrt:function(){return RZ},scaleDivergingSymlog:function(){return AZ},scaleIdentity:function(){return NB},scaleImplicit:function(){return bB},scaleLinear:function(){return DB},scaleLog:function(){return WB},scaleOrdinal:function(){return xB},scalePoint:function(){return SB},scalePow:function(){return eU},scaleQuantile:function(){return aU},scaleQuantize:function(){return oU},scaleRadial:function(){return iU},scaleSequential:function(){return bZ},scaleSequentialLog:function(){return xZ},scaleSequentialPow:function(){return wZ},scaleSequentialQuantile:function(){return kZ},scaleSequentialSqrt:function(){return SZ},scaleSequentialSymlog:function(){return _Z},scaleSqrt:function(){return tU},scaleSymlog:function(){return $B},scaleThreshold:function(){return uU},scaleTime:function(){return vZ},scaleUtc:function(){return mZ},scan:function(){return Vw},schemeAccent:function(){return OZ},schemeBlues:function(){return PG},schemeBrBG:function(){return ZZ},schemeBuGn:function(){return uG},schemeBuPu:function(){return lG},schemeCategory10:function(){return LZ},schemeDark2:function(){return IZ},schemeGnBu:function(){return fG},schemeGreens:function(){return OG},schemeGreys:function(){return DG},schemeOrRd:function(){return dG},schemeOranges:function(){return jG},schemePRGn:function(){return WZ},schemePaired:function(){return DZ},schemePastel1:function(){return NZ},schemePastel2:function(){return zZ},schemePiYG:function(){return qZ},schemePuBu:function(){return gG},schemePuBuGn:function(){return vG},schemePuOr:function(){return $Z},schemePuRd:function(){return bG},schemePurples:function(){return zG},schemeRdBu:function(){return KZ},schemeRdGy:function(){return QZ},schemeRdPu:function(){return _G},schemeRdYlBu:function(){return tG},schemeRdYlGn:function(){return rG},schemeReds:function(){return BG},schemeSet1:function(){return FZ},schemeSet2:function(){return BZ},schemeSet3:function(){return UZ},schemeSpectral:function(){return aG},schemeTableau10:function(){return jZ},schemeYlGn:function(){return MG},schemeYlGnBu:function(){return SG},schemeYlOrBr:function(){return TG},schemeYlOrRd:function(){return CG},select:function(){return $k},selectAll:function(){return cW},selection:function(){return Xk},selector:function(){return OS},selectorAll:function(){return NS},shuffle:function(){return qw},shuffler:function(){return Xw},some:function(){return eS},sort:function(){return ow},stack:function(){return Aq},stackOffsetDiverging:function(){return Rq},stackOffsetExpand:function(){return Cq},stackOffsetNone:function(){return kq},stackOffsetSilhouette:function(){return Pq},stackOffsetWiggle:function(){return Lq},stackOrderAppearance:function(){return Oq},stackOrderAscending:function(){return Dq},stackOrderDescending:function(){return zq},stackOrderInsideOut:function(){return Fq},stackOrderNone:function(){return Mq},stackOrderReverse:function(){return Bq},stratify:function(){return oF},style:function(){return ck},subset:function(){return fS},sum:function(){return $w},superset:function(){return lS},svg:function(){return CP},symbol:function(){return DV},symbolAsterisk:function(){return lV},symbolCircle:function(){return cV},symbolCross:function(){return fV},symbolDiamond:function(){return pV},symbolDiamond2:function(){return vV},symbolPlus:function(){return mV},symbolSquare:function(){return gV},symbolSquare2:function(){return yV},symbolStar:function(){return wV},symbolTriangle:function(){return kV},symbolTriangle2:function(){return EV},symbolWye:function(){return PV},symbolX:function(){return LV},symbols:function(){return OV},symbolsFill:function(){return OV},symbolsStroke:function(){return IV},text:function(){return yP},thresholdFreedmanDiaconis:function(){return Aw},thresholdScott:function(){return Cw},thresholdSturges:function(){return xw},tickFormat:function(){return OB},tickIncrement:function(){return gw},tickStep:function(){return yw},ticks:function(){return mw},timeDay:function(){return PU},timeDays:function(){return LU},timeFormat:function(){return Gj},timeFormatDefaultLocale:function(){return fZ},timeFormatLocale:function(){return Hj},timeFriday:function(){return BU},timeFridays:function(){return VU},timeHour:function(){return AU},timeHours:function(){return CU},timeInterval:function(){return gU},timeMillisecond:function(){return bU},timeMilliseconds:function(){return xU},timeMinute:function(){return MU},timeMinutes:function(){return EU},timeMonday:function(){return DU},timeMondays:function(){return HU},timeMonth:function(){return $U},timeMonths:function(){return YU},timeParse:function(){return Wj},timeSaturday:function(){return UU},timeSaturdays:function(){return qU},timeSecond:function(){return wU},timeSeconds:function(){return SU},timeSunday:function(){return IU},timeSundays:function(){return jU},timeThursday:function(){return FU},timeThursdays:function(){return WU},timeTickInterval:function(){return Fj},timeTicks:function(){return zj},timeTuesday:function(){return NU},timeTuesdays:function(){return ZU},timeWednesday:function(){return zU},timeWednesdays:function(){return GU},timeWeek:function(){return IU},timeWeeks:function(){return jU},timeYear:function(){return JU},timeYears:function(){return QU},timeout:function(){return SE},timer:function(){return yE},timerFlush:function(){return bE},transition:function(){return hT},transpose:function(){return Yw},tree:function(){return vF},treemap:function(){return xF},treemapBinary:function(){return _F},treemapDice:function(){return Qz},treemapResquarify:function(){return SF},treemapSlice:function(){return mF},treemapSliceDice:function(){return wF},treemapSquarify:function(){return bF},tsv:function(){return wP},tsvFormat:function(){return AR},tsvFormatBody:function(){return CR},tsvFormatRow:function(){return PR},tsvFormatRows:function(){return RR},tsvFormatValue:function(){return LR},tsvParse:function(){return ER},tsvParseRows:function(){return TR},union:function(){return hS},utcDay:function(){return uj},utcDays:function(){return sj},utcFormat:function(){return Vj},utcFriday:function(){return vj},utcFridays:function(){return wj},utcHour:function(){return ij},utcHours:function(){return aj},utcMillisecond:function(){return bU},utcMilliseconds:function(){return xU},utcMinute:function(){return tj},utcMinutes:function(){return nj},utcMonday:function(){return fj},utcMondays:function(){return yj},utcMonth:function(){return Mj},utcMonths:function(){return Ej},utcParse:function(){return qj},utcSaturday:function(){return mj},utcSaturdays:function(){return Sj},utcSecond:function(){return wU},utcSeconds:function(){return SU},utcSunday:function(){return cj},utcSundays:function(){return gj},utcThursday:function(){return pj},utcThursdays:function(){return _j},utcTickInterval:function(){return Ij},utcTicks:function(){return Oj},utcTuesday:function(){return hj},utcTuesdays:function(){return bj},utcWednesday:function(){return dj},utcWednesdays:function(){return xj},utcWeek:function(){return cj},utcWeeks:function(){return gj},utcYear:function(){return Aj},utcYears:function(){return Cj},variance:function(){return I_},window:function(){return ok},xml:function(){return TP},zip:function(){return Jw},zoom:function(){return aX},zoomIdentity:function(){return $q},zoomTransform:function(){return Yq}});var r=n(2791),i=n.t(r,2),a=n(1250),o=n(3433),u=n(4942);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=n(9439),f=n(3366);function h(e,t){if(null==e)return{};var n,r,i=(0,f.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=n(181);function p(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,d.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function v(e,t){return v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},v(e,t)}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function g(e,t,n){return g=m()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&v(i,n.prototype),i},g.apply(null,arguments)}var y=n(3878),b=n(9199),x=n(5267);function w(e){return(0,y.Z)(e)||(0,b.Z)(e)||(0,d.Z)(e)||(0,x.Z)()}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function E(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e,t){if(t&&("object"===A(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return C(e)}function P(e){var t=m();return function(){var n,r=T(e);if(t){var i=T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return R(this,n)}}function L(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(l){return void n(l)}u.done?t(s):Promise.resolve(s).then(r,i)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){L(a,r,i,o,u,"next",e)}function u(e){L(a,r,i,o,u,"throw",e)}o(void 0)}))}}function I(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}function D(){return D="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=I(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},D.apply(this,arguments)}for(var N,z=n(7757),F=n.n(z),B="139",U={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},j={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},H=0,Z=1,G=2,W=3,V=0,q=1,X=2,$=3,Y=0,K=1,J=2,Q=1,ee=2,te=0,ne=1,re=2,ie=3,ae=4,oe=5,ue=100,se=101,le=102,ce=103,fe=104,he=200,de=201,pe=202,ve=203,me=204,ge=205,ye=206,be=207,xe=208,_e=209,we=210,Se=0,ke=1,Me=2,Ee=3,Te=4,Ae=5,Ce=6,Re=7,Pe=0,Le=1,Oe=2,Ie=0,De=1,Ne=2,ze=3,Fe=4,Be=5,Ue=300,je=301,He=302,Ze=303,Ge=304,We=306,Ve=1e3,qe=1001,Xe=1002,$e=1003,Ye=1004,Ke=1004,Je=1005,Qe=1005,et=1006,tt=1007,nt=1007,rt=1008,it=1008,at=1009,ot=1010,ut=1011,st=1012,lt=1013,ct=1014,ft=1015,ht=1016,dt=1017,pt=1018,vt=1020,mt=1021,gt=1022,yt=1023,bt=1024,xt=1025,_t=1026,wt=1027,St=1028,kt=1029,Mt=1030,Et=1031,Tt=1033,At=33776,Ct=33777,Rt=33778,Pt=33779,Lt=35840,Ot=35841,It=35842,Dt=35843,Nt=36196,zt=37492,Ft=37496,Bt=37808,Ut=37809,jt=37810,Ht=37811,Zt=37812,Gt=37813,Wt=37814,Vt=37815,qt=37816,Xt=37817,$t=37818,Yt=37819,Kt=37820,Jt=37821,Qt=36492,en=2200,tn=2201,nn=2202,rn=2300,an=2301,on=2302,un=2400,sn=2401,ln=2402,cn=2500,fn=2501,hn=0,dn=1,pn=2,vn=3e3,mn=3001,gn=3200,yn=3201,bn=0,xn=1,_n="",wn="srgb",Sn="srgb-linear",kn=0,Mn=7680,En=7681,Tn=7682,An=7683,Cn=34055,Rn=34056,Pn=5386,Ln=512,On=513,In=514,Dn=515,Nn=516,zn=517,Fn=518,Bn=519,Un=35044,jn=35048,Hn=35040,Zn=35045,Gn=35049,Wn=35041,Vn=35046,qn=35050,Xn=35042,$n="100",Yn="300 es",Kn=1035,Jn=function(){function e(){S(this,e)}return M(e,[{key:"addEventListener",value:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)}},{key:"hasEventListener",value:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)}},{key:"removeEventListener",value:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}}},{key:"dispatchEvent",value:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e);e.target=null}}}}]),e}(),Qn=[],er=0;er<256;er++)Qn[er]=(er<16?"0":"")+er.toString(16);var tr=1234567,nr=Math.PI/180,rr=180/Math.PI;function ir(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Qn[255&e]+Qn[e>>8&255]+Qn[e>>16&255]+Qn[e>>24&255]+"-"+Qn[255&t]+Qn[t>>8&255]+"-"+Qn[t>>16&15|64]+Qn[t>>24&255]+"-"+Qn[63&n|128]+Qn[n>>8&255]+"-"+Qn[n>>16&255]+Qn[n>>24&255]+Qn[255&r]+Qn[r>>8&255]+Qn[r>>16&255]+Qn[r>>24&255]).toLowerCase()}function ar(e,t,n){return Math.max(t,Math.min(n,e))}function or(e,t){return(e%t+t)%t}function ur(e,t,n){return(1-n)*e+n*t}function sr(e){return 0===(e&e-1)&&0!==e}function lr(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function cr(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}var fr=Object.freeze({__proto__:null,DEG2RAD:nr,RAD2DEG:rr,generateUUID:ir,clamp:ar,euclideanModulo:or,mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},inverseLerp:function(e,t,n){return e!==t?(n-e)/(t-e):0},lerp:ur,damp:function(e,t,n,r){return ur(e,t,1-Math.exp(-n*r))},pingpong:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs(or(e,2*t)-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){void 0!==e&&(tr=e);var t=tr+=1831565813;return t=Math.imul(t^t>>>15,1|t),(((t^=t+Math.imul(t^t>>>7,61|t))^t>>>14)>>>0)/4294967296},degToRad:function(e){return e*nr},radToDeg:function(e){return e*rr},isPowerOfTwo:sr,ceilPowerOfTwo:lr,floorPowerOfTwo:cr,setQuaternionFromProperEuler:function(e,t,n,r,i){var a=Math.cos,o=Math.sin,u=a(n/2),s=o(n/2),l=a((t+r)/2),c=o((t+r)/2),f=a((t-r)/2),h=o((t-r)/2),d=a((r-t)/2),p=o((r-t)/2);switch(i){case"XYX":e.set(u*c,s*f,s*h,u*l);break;case"YZY":e.set(s*h,u*c,s*f,u*l);break;case"ZXZ":e.set(s*f,s*h,u*c,u*l);break;case"XZX":e.set(u*c,s*p,s*d,u*l);break;case"YXY":e.set(s*d,u*c,s*p,u*l);break;case"ZYZ":e.set(s*p,s*d,u*c,u*l);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}},normalize:function(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(65535*e);case Uint8Array:return Math.round(255*e);case Int16Array:return Math.round(32767*e);case Int8Array:return Math.round(127*e);default:throw new Error("Invalid component type.")}},denormalize:function(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}}),hr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;S(this,t),this.x=e,this.y=n}return M(t,[{key:"width",get:function(){return this.x},set:function(e){this.x=e}},{key:"height",get:function(){return this.y},set:function(e){this.y=e}},{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y}},{key:"cross",value:function(e){return this.x*e.y-this.y*e.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}},{key:"rotateAround",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,a=this.y-e.y;return this.x=i*n-a*r+e.x,this.y=i*r+a*n+e.y,this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this}},{key:Symbol.iterator,value:z.mark((function e(){return z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:case"end":return e.stop()}}),e,this)}))}]),t}();hr.prototype.isVector2=!0;var dr=function(){function e(){S(this,e),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}return M(e,[{key:"set",value:function(e,t,n,r,i,a,o,u,s){var l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=t,l[4]=i,l[5]=u,l[6]=n,l[7]=a,l[8]=s,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}},{key:"setFromMatrix4",value:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}},{key:"multiply",value:function(e){return this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[3],u=n[6],s=n[1],l=n[4],c=n[7],f=n[2],h=n[5],d=n[8],p=r[0],v=r[3],m=r[6],g=r[1],y=r[4],b=r[7],x=r[2],_=r[5],w=r[8];return i[0]=a*p+o*g+u*x,i[3]=a*v+o*y+u*_,i[6]=a*m+o*b+u*w,i[1]=s*p+l*g+c*x,i[4]=s*v+l*y+c*_,i[7]=s*m+l*b+c*w,i[2]=f*p+h*g+d*x,i[5]=f*v+h*y+d*_,i[8]=f*m+h*b+d*w,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],u=e[6],s=e[7],l=e[8];return t*a*l-t*o*s-n*i*l+n*o*u+r*i*s-r*a*u}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],u=e[6],s=e[7],l=e[8],c=l*a-o*s,f=o*u-l*i,h=s*i-a*u,d=t*c+n*f+r*h;if(0===d)return this.set(0,0,0,0,0,0,0,0,0);var p=1/d;return e[0]=c*p,e[1]=(r*s-l*n)*p,e[2]=(o*n-r*a)*p,e[3]=f*p,e[4]=(l*t-r*u)*p,e[5]=(r*i-o*t)*p,e[6]=h*p,e[7]=(n*u-s*t)*p,e[8]=(a*t-n*i)*p,this}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}},{key:"getNormalMatrix",value:function(e){return this.setFromMatrix4(e).invert().transpose()}},{key:"transposeIntoArray",value:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}},{key:"setUvTransform",value:function(e,t,n,r,i,a,o){var u=Math.cos(i),s=Math.sin(i);return this.set(n*u,n*s,-n*(u*a+s*o)+a+e,-r*s,r*u,-r*(-s*a+u*o)+o+t,0,0,1),this}},{key:"scale",value:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}},{key:"rotate",value:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],a=r[3],o=r[6],u=r[1],s=r[4],l=r[7];return r[0]=t*i+n*u,r[3]=t*a+n*s,r[6]=t*o+n*l,r[1]=-n*i+t*u,r[4]=-n*a+t*s,r[7]=-n*o+t*l,this}},{key:"translate",value:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<9;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}},{key:"clone",value:function(){return(new this.constructor).fromArray(this.elements)}}]),e}();function pr(e){for(var t=e.length-1;t>=0;--t)if(e[t]>65535)return!0;return!1}dr.prototype.isMatrix3=!0;var vr={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function mr(e,t){return new vr[e](t)}function gr(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function yr(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function br(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}var xr=(N={},(0,u.Z)(N,wn,(0,u.Z)({},Sn,yr)),(0,u.Z)(N,Sn,(0,u.Z)({},wn,br)),N),_r={legacyMode:!0,get workingColorSpace(){return Sn},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,n){if(this.legacyMode||t===n||!t||!n)return e;if(xr[t]&&void 0!==xr[t][n]){var r=xr[t][n];return e.r=r(e.r),e.g=r(e.g),e.b=r(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},wr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Sr={r:0,g:0,b:0},kr={h:0,s:0,l:0},Mr={h:0,s:0,l:0};function Er(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Tr(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var Ar,Cr=function(){function e(t,n,r){return S(this,e),void 0===n&&void 0===r?this.set(t):this.setRGB(t,n,r)}return M(e,[{key:"set",value:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this}},{key:"setScalar",value:function(e){return this.r=e,this.g=e,this.b=e,this}},{key:"setHex",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wn;return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,_r.toWorkingColorSpace(this,t),this}},{key:"setRGB",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Sn;return this.r=e,this.g=t,this.b=n,_r.toWorkingColorSpace(this,r),this}},{key:"setHSL",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Sn;if(e=or(e,1),t=ar(t,0,1),n=ar(n,0,1),0===t)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+t):n+t-n*t,a=2*n-i;this.r=Er(a,i,e+1/3),this.g=Er(a,i,e),this.b=Er(a,i,e-1/3)}return _r.toWorkingColorSpace(this,r),this}},{key:"setStyle",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wn;function r(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}if(t=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){var i,a=t[1],o=t[2];switch(a){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,_r.toWorkingColorSpace(this,n),r(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,_r.toWorkingColorSpace(this,n),r(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o)){var u=parseFloat(i[1])/360,s=parseInt(i[2],10)/100,l=parseInt(i[3],10)/100;return r(i[4]),this.setHSL(u,s,l,n)}}}else if(t=/^\#([A-Fa-f\d]+)$/.exec(e)){var c=t[1],f=c.length;if(3===f)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,_r.toWorkingColorSpace(this,n),this;if(6===f)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,_r.toWorkingColorSpace(this,n),this}return e&&e.length>0?this.setColorName(e,n):this}},{key:"setColorName",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wn,n=wr[e.toLowerCase()];return void 0!==n?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+e),this}},{key:"clone",value:function(){return new this.constructor(this.r,this.g,this.b)}},{key:"copy",value:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}},{key:"copySRGBToLinear",value:function(e){return this.r=yr(e.r),this.g=yr(e.g),this.b=yr(e.b),this}},{key:"copyLinearToSRGB",value:function(e){return this.r=br(e.r),this.g=br(e.g),this.b=br(e.b),this}},{key:"convertSRGBToLinear",value:function(){return this.copySRGBToLinear(this),this}},{key:"convertLinearToSRGB",value:function(){return this.copyLinearToSRGB(this),this}},{key:"getHex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn;return _r.fromWorkingColorSpace(Tr(this,Sr),e),ar(255*Sr.r,0,255)<<16^ar(255*Sr.g,0,255)<<8^ar(255*Sr.b,0,255)<<0}},{key:"getHexString",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn;return("000000"+this.getHex(e).toString(16)).slice(-6)}},{key:"getHSL",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sn;_r.fromWorkingColorSpace(Tr(this,Sr),t);var n,r,i=Sr.r,a=Sr.g,o=Sr.b,u=Math.max(i,a,o),s=Math.min(i,a,o),l=(s+u)/2;if(s===u)n=0,r=0;else{var c=u-s;switch(r=l<=.5?c/(u+s):c/(2-u-s),u){case i:n=(a-o)/c+(a<o?6:0);break;case a:n=(o-i)/c+2;break;case o:n=(i-a)/c+4}n/=6}return e.h=n,e.s=r,e.l=l,e}},{key:"getRGB",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sn;return _r.fromWorkingColorSpace(Tr(this,Sr),t),e.r=Sr.r,e.g=Sr.g,e.b=Sr.b,e}},{key:"getStyle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn;return _r.fromWorkingColorSpace(Tr(this,Sr),e),e!==wn?"color(".concat(e," ").concat(Sr.r," ").concat(Sr.g," ").concat(Sr.b,")"):"rgb(".concat(255*Sr.r|0,",").concat(255*Sr.g|0,",").concat(255*Sr.b|0,")")}},{key:"offsetHSL",value:function(e,t,n){return this.getHSL(kr),kr.h+=e,kr.s+=t,kr.l+=n,this.setHSL(kr.h,kr.s,kr.l),this}},{key:"add",value:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}},{key:"addColors",value:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}},{key:"addScalar",value:function(e){return this.r+=e,this.g+=e,this.b+=e,this}},{key:"sub",value:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}},{key:"multiply",value:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}},{key:"multiplyScalar",value:function(e){return this.r*=e,this.g*=e,this.b*=e,this}},{key:"lerp",value:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}},{key:"lerpColors",value:function(e,t,n){return this.r=e.r+(t.r-e.r)*n,this.g=e.g+(t.g-e.g)*n,this.b=e.b+(t.b-e.b)*n,this}},{key:"lerpHSL",value:function(e,t){this.getHSL(kr),e.getHSL(Mr);var n=ur(kr.h,Mr.h,t),r=ur(kr.s,Mr.s,t),i=ur(kr.l,Mr.l,t);return this.setHSL(n,r,i),this}},{key:"equals",value:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},{key:"fromBufferAttribute",value:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}},{key:"toJSON",value:function(){return this.getHex()}}]),e}();Cr.NAMES=wr,Cr.prototype.isColor=!0,Cr.prototype.r=1,Cr.prototype.g=1,Cr.prototype.b=1;var Rr=function(){function e(){S(this,e)}return M(e,null,[{key:"getDataURL",value:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Ar&&(Ar=gr("canvas")),Ar.width=e.width,Ar.height=e.height;var n=Ar.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Ar}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}},{key:"sRGBToLinear",value:function(e){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var t=gr("canvas");t.width=e.width,t.height=e.height;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=n.getImageData(0,0,e.width,e.height),i=r.data,a=0;a<i.length;a++)i[a]=255*yr(i[a]/255);return n.putImageData(r,0,0),t}if(e.data){for(var o=e.data.slice(0),u=0;u<o.length;u++)o instanceof Uint8Array||o instanceof Uint8ClampedArray?o[u]=Math.floor(255*yr(o[u]/255)):o[u]=yr(o[u]);return{data:o,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}]),e}(),Pr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;S(this,e),this.uuid=ir(),this.data=t,this.version=0}return M(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];var n={uuid:this.uuid,url:""},r=this.data;if(null!==r){var i;if(Array.isArray(r)){i=[];for(var a=0,o=r.length;a<o;a++)r[a].isDataTexture?i.push(Lr(r[a].image)):i.push(Lr(r[a]))}else i=Lr(r);n.url=i}return t||(e.images[this.uuid]=n),n}}]),e}();function Lr(e){return"undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap?Rr.getDataURL(e):e.data?{data:Array.prototype.slice.call(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Pr.prototype.isSource=!0;var Or=0,Ir=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.DEFAULT_IMAGE,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.DEFAULT_MAPPING,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qe,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:qe,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:et,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:rt,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:yt,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:at,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:1,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:vn;return S(this,n),e=t.call(this),Object.defineProperty(C(e),"id",{value:Or++}),e.uuid=ir(),e.name="",e.source=new Pr(r),e.mipmaps=[],e.mapping=i,e.wrapS=a,e.wrapT=o,e.magFilter=u,e.minFilter=s,e.anisotropy=f,e.format=l,e.internalFormat=null,e.type=c,e.offset=new hr(0,0),e.repeat=new hr(1,1),e.center=new hr(0,0),e.rotation=0,e.matrixAutoUpdate=!0,e.matrix=new dr,e.generateMipmaps=!0,e.premultiplyAlpha=!1,e.flipY=!0,e.unpackAlignment=4,e.encoding=h,e.userData={},e.version=0,e.onUpdate=null,e.isRenderTargetTexture=!1,e.needsPMREMUpdate=!1,e}return M(n,[{key:"image",get:function(){return this.source.data},set:function(e){this.source.data=e}},{key:"updateMatrix",value:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t||(e.textures[this.uuid]=n),n}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"transformUv",value:function(e){if(this.mapping!==Ue)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Ve:e.x=e.x-Math.floor(e.x);break;case qe:e.x=e.x<0?0:1;break;case Xe:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case Ve:e.y=e.y-Math.floor(e.y);break;case qe:e.y=e.y<0?0:1;break;case Xe:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}},{key:"needsUpdate",set:function(e){!0===e&&(this.version++,this.source.needsUpdate=!0)}}]),n}(Jn);Ir.DEFAULT_IMAGE=null,Ir.DEFAULT_MAPPING=Ue,Ir.prototype.isTexture=!0;var Dr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;S(this,t),this.x=e,this.y=n,this.z=r,this.w=i}return M(t,[{key:"width",get:function(){return this.z},set:function(e){this.z=e}},{key:"height",get:function(){return this.w},set:function(e){this.w=e}},{key:"set",value:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setW",value:function(e){return this.w=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}},{key:"multiply",value:function(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,a=e.elements;return this.x=a[0]*t+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*t+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*t+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*t+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"setAxisAngleFromQuaternion",value:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}},{key:"setAxisAngleFromRotationMatrix",value:function(e){var t,n,r,i,a=.01,o=.1,u=e.elements,s=u[0],l=u[4],c=u[8],f=u[1],h=u[5],d=u[9],p=u[2],v=u[6],m=u[10];if(Math.abs(l-f)<a&&Math.abs(c-p)<a&&Math.abs(d-v)<a){if(Math.abs(l+f)<o&&Math.abs(c+p)<o&&Math.abs(d+v)<o&&Math.abs(s+h+m-3)<o)return this.set(1,0,0,0),this;t=Math.PI;var g=(s+1)/2,y=(h+1)/2,b=(m+1)/2,x=(l+f)/4,_=(c+p)/4,w=(d+v)/4;return g>y&&g>b?g<a?(n=0,r=.707106781,i=.707106781):(r=x/(n=Math.sqrt(g)),i=_/n):y>b?y<a?(n=.707106781,r=0,i=.707106781):(n=x/(r=Math.sqrt(y)),i=w/r):b<a?(n=.707106781,r=.707106781,i=0):(n=_/(i=Math.sqrt(b)),r=w/i),this.set(n,r,i,t),this}var S=Math.sqrt((v-d)*(v-d)+(c-p)*(c-p)+(f-l)*(f-l));return Math.abs(S)<.001&&(S=1),this.x=(v-d)/S,this.y=(c-p)/S,this.z=(f-l)/S,this.w=Math.acos((s+h+m-1)/2),this}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}},{key:Symbol.iterator,value:z.mark((function e(){return z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:return e.next=8,this.w;case 8:case"end":return e.stop()}}),e,this)}))}]),t}();Dr.prototype.isVector4=!0;var Nr=function(e){E(n,e);var t=P(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};S(this,n),(i=t.call(this)).width=e,i.height=r,i.depth=1,i.scissor=new Dr(0,0,e,r),i.scissorTest=!1,i.viewport=new Dr(0,0,e,r);var o={width:e,height:r,depth:1};return i.texture=new Ir(o,a.mapping,a.wrapS,a.wrapT,a.magFilter,a.minFilter,a.format,a.type,a.anisotropy,a.encoding),i.texture.isRenderTargetTexture=!0,i.texture.flipY=!1,i.texture.generateMipmaps=void 0!==a.generateMipmaps&&a.generateMipmaps,i.texture.internalFormat=void 0!==a.internalFormat?a.internalFormat:null,i.texture.minFilter=void 0!==a.minFilter?a.minFilter:et,i.depthBuffer=void 0===a.depthBuffer||a.depthBuffer,i.stencilBuffer=void 0!==a.stencilBuffer&&a.stencilBuffer,i.depthTexture=void 0!==a.depthTexture?a.depthTexture:null,i.samples=void 0!==a.samples?a.samples:0,i}return M(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.width===e&&this.height===t&&this.depth===n||(this.width=e,this.height=t,this.depth=n,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=n,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0,this.texture.image=Object.assign({},e.texture.image),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Jn);Nr.prototype.isWebGLRenderTarget=!0;var zr=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return S(this,n),(e=t.call(this,null)).image={data:r,width:i,height:a,depth:o},e.magFilter=$e,e.minFilter=$e,e.wrapR=qe,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return M(n)}(Ir);zr.prototype.isDataArrayTexture=!0;var Fr=function(e){E(n,e);var t=P(n);function n(e,r,i){var a;return S(this,n),(a=t.call(this,e,r)).depth=i,a.texture=new zr(null,e,r,i),a.texture.isRenderTargetTexture=!0,a}return M(n)}(Nr);Fr.prototype.isWebGLArrayRenderTarget=!0;var Br=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return S(this,n),(e=t.call(this,null)).image={data:r,width:i,height:a,depth:o},e.magFilter=$e,e.minFilter=$e,e.wrapR=qe,e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return M(n)}(Ir);Br.prototype.isData3DTexture=!0;var Ur=function(e){E(n,e);var t=P(n);function n(e,r,i){var a;return S(this,n),(a=t.call(this,e,r)).depth=i,a.texture=new Br(null,e,r,i),a.texture.isRenderTargetTexture=!0,a}return M(n)}(Nr);Ur.prototype.isWebGL3DRenderTarget=!0;var jr=function(e){E(n,e);var t=P(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};S(this,n);var u=(a=t.call(this,e,r,o)).texture;a.texture=[];for(var s=0;s<i;s++)a.texture[s]=u.clone(),a.texture[s].isRenderTargetTexture=!0;return a}return M(n,[{key:"setSize",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.width!==e||this.height!==t||this.depth!==n){this.width=e,this.height=t,this.depth=n;for(var r=0,i=this.texture.length;r<i;r++)this.texture[r].image.width=e,this.texture[r].image.height=t,this.texture[r].image.depth=n;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}},{key:"copy",value:function(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this.texture.length=0;for(var t=0,n=e.texture.length;t<n;t++)this.texture[t]=e.texture[t].clone();return this}}]),n}(Nr);jr.prototype.isWebGLMultipleRenderTargets=!0;var Hr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;S(this,e),this._x=t,this._y=n,this._z=r,this._w=i}return M(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"w",get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._w)}},{key:"copy",value:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}},{key:"setFromEuler",value:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,a=e._order,o=Math.cos,u=Math.sin,s=o(n/2),l=o(r/2),c=o(i/2),f=u(n/2),h=u(r/2),d=u(i/2);switch(a){case"XYZ":this._x=f*l*c+s*h*d,this._y=s*h*c-f*l*d,this._z=s*l*d+f*h*c,this._w=s*l*c-f*h*d;break;case"YXZ":this._x=f*l*c+s*h*d,this._y=s*h*c-f*l*d,this._z=s*l*d-f*h*c,this._w=s*l*c+f*h*d;break;case"ZXY":this._x=f*l*c-s*h*d,this._y=s*h*c+f*l*d,this._z=s*l*d+f*h*c,this._w=s*l*c-f*h*d;break;case"ZYX":this._x=f*l*c-s*h*d,this._y=s*h*c+f*l*d,this._z=s*l*d-f*h*c,this._w=s*l*c+f*h*d;break;case"YZX":this._x=f*l*c+s*h*d,this._y=s*h*c+f*l*d,this._z=s*l*d-f*h*c,this._w=s*l*c-f*h*d;break;case"XZY":this._x=f*l*c-s*h*d,this._y=s*h*c-f*l*d,this._z=s*l*d+f*h*c,this._w=s*l*c+f*h*d;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return!1!==t&&this._onChangeCallback(),this}},{key:"setFromAxisAngle",value:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],a=t[1],o=t[5],u=t[9],s=t[2],l=t[6],c=t[10],f=n+o+c;if(f>0){var h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(l-u)*h,this._y=(i-s)*h,this._z=(a-r)*h}else if(n>o&&n>c){var d=2*Math.sqrt(1+n-o-c);this._w=(l-u)/d,this._x=.25*d,this._y=(r+a)/d,this._z=(i+s)/d}else if(o>c){var p=2*Math.sqrt(1+o-n-c);this._w=(i-s)/p,this._x=(r+a)/p,this._y=.25*p,this._z=(u+l)/p}else{var v=2*Math.sqrt(1+c-n-o);this._w=(a-r)/v,this._x=(i+s)/v,this._y=(u+l)/v,this._z=.25*v}return this._onChangeCallback(),this}},{key:"setFromUnitVectors",value:function(e,t){var n=e.dot(t)+1;return n<Number.EPSILON?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}},{key:"angleTo",value:function(e){return 2*Math.acos(Math.abs(ar(this.dot(e),-1,1)))}},{key:"rotateTowards",value:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this}},{key:"identity",value:function(){return this.set(0,0,0,1)}},{key:"invert",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}},{key:"dot",value:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}},{key:"lengthSq",value:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}},{key:"length",value:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}},{key:"normalize",value:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}},{key:"premultiply",value:function(e){return this.multiplyQuaternions(e,this)}},{key:"multiplyQuaternions",value:function(e,t){var n=e._x,r=e._y,i=e._z,a=e._w,o=t._x,u=t._y,s=t._z,l=t._w;return this._x=n*l+a*o+r*s-i*u,this._y=r*l+a*u+i*o-n*s,this._z=i*l+a*s+n*u-r*o,this._w=a*l-n*o-r*u-i*s,this._onChangeCallback(),this}},{key:"slerp",value:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*e._w+n*e._x+r*e._y+i*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var u=1-o*o;if(u<=Number.EPSILON){var s=1-t;return this._w=s*a+t*this._w,this._x=s*n+t*this._x,this._y=s*r+t*this._y,this._z=s*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var l=Math.sqrt(u),c=Math.atan2(l,o),f=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=a*f+this._w*h,this._x=n*f+this._x*h,this._y=r*f+this._y*h,this._z=i*f+this._z*h,this._onChangeCallback(),this}},{key:"slerpQuaternions",value:function(e,t,n){return this.copy(e).slerp(t,n)}},{key:"random",value:function(){var e=Math.random(),t=Math.sqrt(1-e),n=Math.sqrt(e),r=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(r),n*Math.sin(i),n*Math.cos(i),t*Math.sin(r))}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}},{key:"fromBufferAttribute",value:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}],[{key:"slerp",value:function(e,t,n,r){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),n.slerpQuaternions(e,t,r)}},{key:"slerpFlat",value:function(e,t,n,r,i,a,o){var u=n[r+0],s=n[r+1],l=n[r+2],c=n[r+3],f=i[a+0],h=i[a+1],d=i[a+2],p=i[a+3];if(0===o)return e[t+0]=u,e[t+1]=s,e[t+2]=l,void(e[t+3]=c);if(1===o)return e[t+0]=f,e[t+1]=h,e[t+2]=d,void(e[t+3]=p);if(c!==p||u!==f||s!==h||l!==d){var v=1-o,m=u*f+s*h+l*d+c*p,g=m>=0?1:-1,y=1-m*m;if(y>Number.EPSILON){var b=Math.sqrt(y),x=Math.atan2(b,m*g);v=Math.sin(v*x)/b,o=Math.sin(o*x)/b}var _=o*g;if(u=u*v+f*_,s=s*v+h*_,l=l*v+d*_,c=c*v+p*_,v===1-o){var w=1/Math.sqrt(u*u+s*s+l*l+c*c);u*=w,s*=w,l*=w,c*=w}}e[t]=u,e[t+1]=s,e[t+2]=l,e[t+3]=c}},{key:"multiplyQuaternionsFlat",value:function(e,t,n,r,i,a){var o=n[r],u=n[r+1],s=n[r+2],l=n[r+3],c=i[a],f=i[a+1],h=i[a+2],d=i[a+3];return e[t]=o*d+l*c+u*h-s*f,e[t+1]=u*d+l*f+s*c-o*h,e[t+2]=s*d+l*h+o*f-u*c,e[t+3]=l*d-o*c-u*f-s*h,e}}]),e}();Hr.prototype.isQuaternion=!0;var Zr=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;S(this,t),this.x=e,this.y=n,this.z=r}return M(t,[{key:"set",value:function(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}},{key:"setScalar",value:function(e){return this.x=e,this.y=e,this.z=e,this}},{key:"setX",value:function(e){return this.x=e,this}},{key:"setY",value:function(e){return this.y=e,this}},{key:"setZ",value:function(e){return this.z=e,this}},{key:"setComponent",value:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}},{key:"getComponent",value:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}},{key:"add",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}},{key:"addScalar",value:function(e){return this.x+=e,this.y+=e,this.z+=e,this}},{key:"addVectors",value:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}},{key:"addScaledVector",value:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}},{key:"sub",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}},{key:"subScalar",value:function(e){return this.x-=e,this.y-=e,this.z-=e,this}},{key:"subVectors",value:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}},{key:"multiplyScalar",value:function(e){return this.x*=e,this.y*=e,this.z*=e,this}},{key:"multiplyVectors",value:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}},{key:"applyEuler",value:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(Wr.setFromEuler(e))}},{key:"applyAxisAngle",value:function(e,t){return this.applyQuaternion(Wr.setFromAxisAngle(e,t))}},{key:"applyMatrix3",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}},{key:"applyNormalMatrix",value:function(e){return this.applyMatrix3(e).normalize()}},{key:"applyMatrix4",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,a=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,a=e.y,o=e.z,u=e.w,s=u*t+a*r-o*n,l=u*n+o*t-i*r,c=u*r+i*n-a*t,f=-i*t-a*n-o*r;return this.x=s*u+f*-i+l*-o-c*-a,this.y=l*u+f*-a+c*-i-s*-o,this.z=c*u+f*-o+s*-a-l*-i,this}},{key:"project",value:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}},{key:"unproject",value:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}},{key:"transformDirection",value:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}},{key:"divideScalar",value:function(e){return this.multiplyScalar(1/e)}},{key:"min",value:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}},{key:"max",value:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}},{key:"clamp",value:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}},{key:"clampScalar",value:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}},{key:"clampLength",value:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(e){return this.x*e.x+this.y*e.y+this.z*e.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(e){return this.normalize().multiplyScalar(e)}},{key:"lerp",value:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}},{key:"lerpVectors",value:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}},{key:"cross",value:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}},{key:"crossVectors",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=t.x,o=t.y,u=t.z;return this.x=r*u-i*o,this.y=i*a-n*u,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}},{key:"projectOnPlane",value:function(e){return Gr.copy(this).projectOnVector(e),this.sub(Gr)}},{key:"reflect",value:function(e){return this.sub(Gr.copy(e).multiplyScalar(2*this.dot(e)))}},{key:"angleTo",value:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(ar(n,-1,1))}},{key:"distanceTo",value:function(e){return Math.sqrt(this.distanceToSquared(e))}},{key:"distanceToSquared",value:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}},{key:"manhattanDistanceTo",value:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}},{key:"setFromSpherical",value:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}},{key:"setFromSphericalCoords",value:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}},{key:"setFromCylindricalCoords",value:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}},{key:"setFromMatrixPosition",value:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}},{key:"setFromMatrixScale",value:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(e,t){return this.fromArray(e.elements,4*t)}},{key:"setFromMatrix3Column",value:function(e,t){return this.fromArray(e.elements,3*t)}},{key:"setFromEuler",value:function(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}},{key:"equals",value:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}},{key:"fromArray",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}},{key:"fromBufferAttribute",value:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}},{key:"random",value:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}},{key:"randomDirection",value:function(){var e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,n=Math.sqrt(1-Math.pow(e,2));return this.x=n*Math.cos(t),this.y=n*Math.sin(t),this.z=e,this}},{key:Symbol.iterator,value:z.mark((function e(){return z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.x;case 2:return e.next=4,this.y;case 4:return e.next=6,this.z;case 6:case"end":return e.stop()}}),e,this)}))}]),t}();Zr.prototype.isVector3=!0;var Gr=new Zr,Wr=new Hr,Vr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zr(1/0,1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zr(-1/0,-1/0,-1/0);S(this,e),this.min=t,this.max=n}return M(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromArray",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,u=0,s=e.length;u<s;u+=3){var l=e[u],c=e[u+1],f=e[u+2];l<t&&(t=l),c<n&&(n=c),f<r&&(r=f),l>i&&(i=l),c>a&&(a=c),f>o&&(o=f)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromBufferAttribute",value:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,u=0,s=e.count;u<s;u++){var l=e.getX(u),c=e.getY(u),f=e.getZ(u);l<t&&(t=l),c<n&&(n=c),f<r&&(r=f),l>i&&(i=l),c>a&&(a=c),f>o&&(o=f)}return this.min.set(t,n,r),this.max.set(i,a,o),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Xr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"setFromObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.makeEmpty(),this.expandByObject(e,t)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"expandByObject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.updateWorldMatrix(!1,!1);var n=e.geometry;if(void 0!==n)if(t&&void 0!=n.attributes&&void 0!==n.attributes.position)for(var r=n.attributes.position,i=0,a=r.count;i<a;i++)Xr.fromBufferAttribute(r,i).applyMatrix4(e.matrixWorld),this.expandByPoint(Xr);else null===n.boundingBox&&n.computeBoundingBox(),$r.copy(n.boundingBox),$r.applyMatrix4(e.matrixWorld),this.union($r);for(var o=e.children,u=0,s=o.length;u<s;u++)this.expandByObject(o[u],t);return this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}},{key:"intersectsSphere",value:function(e){return this.clampPoint(e.center,Xr),Xr.distanceToSquared(e.center)<=e.radius*e.radius}},{key:"intersectsPlane",value:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}},{key:"intersectsTriangle",value:function(e){if(this.isEmpty())return!1;this.getCenter(ni),ri.subVectors(this.max,ni),Yr.subVectors(e.a,ni),Kr.subVectors(e.b,ni),Jr.subVectors(e.c,ni),Qr.subVectors(Kr,Yr),ei.subVectors(Jr,Kr),ti.subVectors(Yr,Jr);var t=[0,-Qr.z,Qr.y,0,-ei.z,ei.y,0,-ti.z,ti.y,Qr.z,0,-Qr.x,ei.z,0,-ei.x,ti.z,0,-ti.x,-Qr.y,Qr.x,0,-ei.y,ei.x,0,-ti.y,ti.x,0];return!!oi(t,Yr,Kr,Jr,ri)&&(!!oi(t=[1,0,0,0,1,0,0,0,1],Yr,Kr,Jr,ri)&&(ii.crossVectors(Qr,ei),oi(t=[ii.x,ii.y,ii.z],Yr,Kr,Jr,ri)))}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Xr.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"getBoundingSphere",value:function(e){return this.getCenter(e.center),e.radius=.5*this.getSize(Xr).length(),e}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"applyMatrix4",value:function(e){return this.isEmpty()||(qr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),qr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),qr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),qr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),qr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),qr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),qr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),qr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(qr)),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();Vr.prototype.isBox3=!0;var qr=[new Zr,new Zr,new Zr,new Zr,new Zr,new Zr,new Zr,new Zr],Xr=new Zr,$r=new Vr,Yr=new Zr,Kr=new Zr,Jr=new Zr,Qr=new Zr,ei=new Zr,ti=new Zr,ni=new Zr,ri=new Zr,ii=new Zr,ai=new Zr;function oi(e,t,n,r,i){for(var a=0,o=e.length-3;a<=o;a+=3){ai.fromArray(e,a);var u=i.x*Math.abs(ai.x)+i.y*Math.abs(ai.y)+i.z*Math.abs(ai.z),s=t.dot(ai),l=n.dot(ai),c=r.dot(ai);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>u)return!1}return!0}var ui=new Vr,si=new Zr,li=new Zr,ci=new Zr,fi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;S(this,e),this.center=t,this.radius=n}return M(e,[{key:"set",value:function(e,t){return this.center.copy(e),this.radius=t,this}},{key:"setFromPoints",value:function(e,t){var n=this.center;void 0!==t?n.copy(t):ui.setFromPoints(e).getCenter(n);for(var r=0,i=0,a=e.length;i<a;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this}},{key:"copy",value:function(e){return this.center.copy(e.center),this.radius=e.radius,this}},{key:"isEmpty",value:function(){return this.radius<0}},{key:"makeEmpty",value:function(){return this.center.set(0,0,0),this.radius=-1,this}},{key:"containsPoint",value:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(e){return e.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}},{key:"intersectsBox",value:function(e){return e.intersectsSphere(this)}},{key:"intersectsPlane",value:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(e,t){var n=this.center.distanceToSquared(e);return t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}},{key:"getBoundingBox",value:function(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}},{key:"applyMatrix4",value:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}},{key:"translate",value:function(e){return this.center.add(e),this}},{key:"expandByPoint",value:function(e){ci.subVectors(e,this.center);var t=ci.lengthSq();if(t>this.radius*this.radius){var n=Math.sqrt(t),r=.5*(n-this.radius);this.center.add(ci.multiplyScalar(r/n)),this.radius+=r}return this}},{key:"union",value:function(e){return!0===this.center.equals(e.center)?li.set(0,0,1).multiplyScalar(e.radius):li.subVectors(e.center,this.center).normalize().multiplyScalar(e.radius),this.expandByPoint(si.copy(e.center).add(li)),this.expandByPoint(si.copy(e.center).sub(li)),this}},{key:"equals",value:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),hi=new Zr,di=new Zr,pi=new Zr,vi=new Zr,mi=new Zr,gi=new Zr,yi=new Zr,bi=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zr(0,0,-1);S(this,e),this.origin=t,this.direction=n}return M(e,[{key:"set",value:function(e,t){return this.origin.copy(e),this.direction.copy(t),this}},{key:"copy",value:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}},{key:"at",value:function(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}},{key:"lookAt",value:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this}},{key:"recast",value:function(e){return this.origin.copy(this.at(e,hi)),this}},{key:"closestPointToPoint",value:function(e,t){t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}},{key:"distanceToPoint",value:function(e){return Math.sqrt(this.distanceSqToPoint(e))}},{key:"distanceSqToPoint",value:function(e){var t=hi.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(hi.copy(this.direction).multiplyScalar(t).add(this.origin),hi.distanceToSquared(e))}},{key:"distanceSqToSegment",value:function(e,t,n,r){di.copy(e).add(t).multiplyScalar(.5),pi.copy(t).sub(e).normalize(),vi.copy(this.origin).sub(di);var i,a,o,u,s=.5*e.distanceTo(t),l=-this.direction.dot(pi),c=vi.dot(this.direction),f=-vi.dot(pi),h=vi.lengthSq(),d=Math.abs(1-l*l);if(d>0)if(a=l*c-f,u=s*d,(i=l*f-c)>=0)if(a>=-u)if(a<=u){var p=1/d;o=(i*=p)*(i+l*(a*=p)+2*c)+a*(l*i+a+2*f)+h}else a=s,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+h;else a=-s,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+h;else a<=-u?o=-(i=Math.max(0,-(-l*s+c)))*i+(a=i>0?-s:Math.min(Math.max(-s,-f),s))*(a+2*f)+h:a<=u?(i=0,o=(a=Math.min(Math.max(-s,-f),s))*(a+2*f)+h):o=-(i=Math.max(0,-(l*s+c)))*i+(a=i>0?s:Math.min(Math.max(-s,-f),s))*(a+2*f)+h;else a=l>0?-s:s,o=-(i=Math.max(0,-(l*a+c)))*i+a*(a+2*f)+h;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(pi).multiplyScalar(a).add(di),o}},{key:"intersectSphere",value:function(e,t){hi.subVectors(e.center,this.origin);var n=hi.dot(this.direction),r=hi.dot(hi)-n*n,i=e.radius*e.radius;if(r>i)return null;var a=Math.sqrt(i-r),o=n-a,u=n+a;return o<0&&u<0?null:o<0?this.at(u,t):this.at(o,t)}},{key:"intersectsSphere",value:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}},{key:"distanceToPlane",value:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}},{key:"intersectPlane",value:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}},{key:"intersectsPlane",value:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}},{key:"intersectBox",value:function(e,t){var n,r,i,a,o,u,s=1/this.direction.x,l=1/this.direction.y,c=1/this.direction.z,f=this.origin;return s>=0?(n=(e.min.x-f.x)*s,r=(e.max.x-f.x)*s):(n=(e.max.x-f.x)*s,r=(e.min.x-f.x)*s),l>=0?(i=(e.min.y-f.y)*l,a=(e.max.y-f.y)*l):(i=(e.max.y-f.y)*l,a=(e.min.y-f.y)*l),n>a||i>r?null:((i>n||n!==n)&&(n=i),(a<r||r!==r)&&(r=a),c>=0?(o=(e.min.z-f.z)*c,u=(e.max.z-f.z)*c):(o=(e.max.z-f.z)*c,u=(e.min.z-f.z)*c),n>u||o>r?null:((o>n||n!==n)&&(n=o),(u<r||r!==r)&&(r=u),r<0?null:this.at(n>=0?n:r,t)))}},{key:"intersectsBox",value:function(e){return null!==this.intersectBox(e,hi)}},{key:"intersectTriangle",value:function(e,t,n,r,i){mi.subVectors(t,e),gi.subVectors(n,e),yi.crossVectors(mi,gi);var a,o=this.direction.dot(yi);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}vi.subVectors(this.origin,e);var u=a*this.direction.dot(gi.crossVectors(vi,gi));if(u<0)return null;var s=a*this.direction.dot(mi.cross(vi));if(s<0)return null;if(u+s>o)return null;var l=-a*vi.dot(yi);return l<0?null:this.at(l/o,i)}},{key:"applyMatrix4",value:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}},{key:"equals",value:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),xi=function(){function e(){S(this,e),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}return M(e,[{key:"set",value:function(e,t,n,r,i,a,o,u,s,l,c,f,h,d,p,v){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=a,m[9]=o,m[13]=u,m[2]=s,m[6]=l,m[10]=c,m[14]=f,m[3]=h,m[7]=d,m[11]=p,m[15]=v,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new e).fromArray(this.elements)}},{key:"copy",value:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}},{key:"copyPosition",value:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}},{key:"setFromMatrix3",value:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}},{key:"extractBasis",value:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(e){var t=this.elements,n=e.elements,r=1/_i.setFromMatrixColumn(e,0).length(),i=1/_i.setFromMatrixColumn(e,1).length(),a=1/_i.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*a,t[9]=n[9]*a,t[10]=n[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromEuler",value:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,a=Math.cos(n),o=Math.sin(n),u=Math.cos(r),s=Math.sin(r),l=Math.cos(i),c=Math.sin(i);if("XYZ"===e.order){var f=a*l,h=a*c,d=o*l,p=o*c;t[0]=u*l,t[4]=-u*c,t[8]=s,t[1]=h+d*s,t[5]=f-p*s,t[9]=-o*u,t[2]=p-f*s,t[6]=d+h*s,t[10]=a*u}else if("YXZ"===e.order){var v=u*l,m=u*c,g=s*l,y=s*c;t[0]=v+y*o,t[4]=g*o-m,t[8]=a*s,t[1]=a*c,t[5]=a*l,t[9]=-o,t[2]=m*o-g,t[6]=y+v*o,t[10]=a*u}else if("ZXY"===e.order){var b=u*l,x=u*c,_=s*l,w=s*c;t[0]=b-w*o,t[4]=-a*c,t[8]=_+x*o,t[1]=x+_*o,t[5]=a*l,t[9]=w-b*o,t[2]=-a*s,t[6]=o,t[10]=a*u}else if("ZYX"===e.order){var S=a*l,k=a*c,M=o*l,E=o*c;t[0]=u*l,t[4]=M*s-k,t[8]=S*s+E,t[1]=u*c,t[5]=E*s+S,t[9]=k*s-M,t[2]=-s,t[6]=o*u,t[10]=a*u}else if("YZX"===e.order){var T=a*u,A=a*s,C=o*u,R=o*s;t[0]=u*l,t[4]=R-T*c,t[8]=C*c+A,t[1]=c,t[5]=a*l,t[9]=-o*l,t[2]=-s*l,t[6]=A*c+C,t[10]=T-R*c}else if("XZY"===e.order){var P=a*u,L=a*s,O=o*u,I=o*s;t[0]=u*l,t[4]=-c,t[8]=s*l,t[1]=P*c+I,t[5]=a*l,t[9]=L*c-O,t[2]=O*c-L,t[6]=o*l,t[10]=I*c+P}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(e){return this.compose(Si,e,ki)}},{key:"lookAt",value:function(e,t,n){var r=this.elements;return Ti.subVectors(e,t),0===Ti.lengthSq()&&(Ti.z=1),Ti.normalize(),Mi.crossVectors(n,Ti),0===Mi.lengthSq()&&(1===Math.abs(n.z)?Ti.x+=1e-4:Ti.z+=1e-4,Ti.normalize(),Mi.crossVectors(n,Ti)),Mi.normalize(),Ei.crossVectors(Ti,Mi),r[0]=Mi.x,r[4]=Ei.x,r[8]=Ti.x,r[1]=Mi.y,r[5]=Ei.y,r[9]=Ti.y,r[2]=Mi.z,r[6]=Ei.z,r[10]=Ti.z,this}},{key:"multiply",value:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}},{key:"premultiply",value:function(e){return this.multiplyMatrices(e,this)}},{key:"multiplyMatrices",value:function(e,t){var n=e.elements,r=t.elements,i=this.elements,a=n[0],o=n[4],u=n[8],s=n[12],l=n[1],c=n[5],f=n[9],h=n[13],d=n[2],p=n[6],v=n[10],m=n[14],g=n[3],y=n[7],b=n[11],x=n[15],_=r[0],w=r[4],S=r[8],k=r[12],M=r[1],E=r[5],T=r[9],A=r[13],C=r[2],R=r[6],P=r[10],L=r[14],O=r[3],I=r[7],D=r[11],N=r[15];return i[0]=a*_+o*M+u*C+s*O,i[4]=a*w+o*E+u*R+s*I,i[8]=a*S+o*T+u*P+s*D,i[12]=a*k+o*A+u*L+s*N,i[1]=l*_+c*M+f*C+h*O,i[5]=l*w+c*E+f*R+h*I,i[9]=l*S+c*T+f*P+h*D,i[13]=l*k+c*A+f*L+h*N,i[2]=d*_+p*M+v*C+m*O,i[6]=d*w+p*E+v*R+m*I,i[10]=d*S+p*T+v*P+m*D,i[14]=d*k+p*A+v*L+m*N,i[3]=g*_+y*M+b*C+x*O,i[7]=g*w+y*E+b*R+x*I,i[11]=g*S+y*T+b*P+x*D,i[15]=g*k+y*A+b*L+x*N,this}},{key:"multiplyScalar",value:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}},{key:"determinant",value:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],a=e[1],o=e[5],u=e[9],s=e[13],l=e[2],c=e[6],f=e[10],h=e[14];return e[3]*(+i*u*c-r*s*c-i*o*f+n*s*f+r*o*h-n*u*h)+e[7]*(+t*u*h-t*s*f+i*a*f-r*a*h+r*s*l-i*u*l)+e[11]*(+t*s*c-t*o*h-i*a*c+n*a*h+i*o*l-n*s*l)+e[15]*(-r*o*l-t*u*c+t*o*f+r*a*c-n*a*f+n*u*l)}},{key:"transpose",value:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}},{key:"setPosition",value:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}},{key:"invert",value:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],a=e[4],o=e[5],u=e[6],s=e[7],l=e[8],c=e[9],f=e[10],h=e[11],d=e[12],p=e[13],v=e[14],m=e[15],g=c*v*s-p*f*s+p*u*h-o*v*h-c*u*m+o*f*m,y=d*f*s-l*v*s-d*u*h+a*v*h+l*u*m-a*f*m,b=l*p*s-d*c*s+d*o*h-a*p*h-l*o*m+a*c*m,x=d*c*u-l*p*u-d*o*f+a*p*f+l*o*v-a*c*v,_=t*g+n*y+r*b+i*x;if(0===_)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var w=1/_;return e[0]=g*w,e[1]=(p*f*i-c*v*i-p*r*h+n*v*h+c*r*m-n*f*m)*w,e[2]=(o*v*i-p*u*i+p*r*s-n*v*s-o*r*m+n*u*m)*w,e[3]=(c*u*i-o*f*i-c*r*s+n*f*s+o*r*h-n*u*h)*w,e[4]=y*w,e[5]=(l*v*i-d*f*i+d*r*h-t*v*h-l*r*m+t*f*m)*w,e[6]=(d*u*i-a*v*i-d*r*s+t*v*s+a*r*m-t*u*m)*w,e[7]=(a*f*i-l*u*i+l*r*s-t*f*s-a*r*h+t*u*h)*w,e[8]=b*w,e[9]=(d*c*i-l*p*i-d*n*h+t*p*h+l*n*m-t*c*m)*w,e[10]=(a*p*i-d*o*i+d*n*s-t*p*s-a*n*m+t*o*m)*w,e[11]=(l*o*i-a*c*i-l*n*s+t*c*s+a*n*h-t*o*h)*w,e[12]=x*w,e[13]=(l*p*r-d*c*r+d*n*f-t*p*f-l*n*v+t*c*v)*w,e[14]=(d*o*r-a*p*r-d*n*u+t*p*u+a*n*v-t*o*v)*w,e[15]=(a*c*r-l*o*r+l*n*u-t*c*u-a*n*f+t*o*f)*w,this}},{key:"scale",value:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}},{key:"getMaxScaleOnAxis",value:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}},{key:"makeTranslation",value:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}},{key:"makeRotationY",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,a=e.x,o=e.y,u=e.z,s=i*a,l=i*o;return this.set(s*a+n,s*o-r*u,s*u+r*o,0,s*o+r*u,l*o+n,l*u-r*a,0,s*u-r*o,l*u+r*a,i*u*u+n,0,0,0,0,1),this}},{key:"makeScale",value:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(e,t,n,r,i,a){return this.set(1,n,i,0,e,1,a,0,t,r,1,0,0,0,0,1),this}},{key:"compose",value:function(e,t,n){var r=this.elements,i=t._x,a=t._y,o=t._z,u=t._w,s=i+i,l=a+a,c=o+o,f=i*s,h=i*l,d=i*c,p=a*l,v=a*c,m=o*c,g=u*s,y=u*l,b=u*c,x=n.x,_=n.y,w=n.z;return r[0]=(1-(p+m))*x,r[1]=(h+b)*x,r[2]=(d-y)*x,r[3]=0,r[4]=(h-b)*_,r[5]=(1-(f+m))*_,r[6]=(v+g)*_,r[7]=0,r[8]=(d+y)*w,r[9]=(v-g)*w,r[10]=(1-(f+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}},{key:"decompose",value:function(e,t,n){var r=this.elements,i=_i.set(r[0],r[1],r[2]).length(),a=_i.set(r[4],r[5],r[6]).length(),o=_i.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],wi.copy(this);var u=1/i,s=1/a,l=1/o;return wi.elements[0]*=u,wi.elements[1]*=u,wi.elements[2]*=u,wi.elements[4]*=s,wi.elements[5]*=s,wi.elements[6]*=s,wi.elements[8]*=l,wi.elements[9]*=l,wi.elements[10]*=l,t.setFromRotationMatrix(wi),n.x=i,n.y=a,n.z=o,this}},{key:"makePerspective",value:function(e,t,n,r,i,a){void 0===a&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var o=this.elements,u=2*i/(t-e),s=2*i/(n-r),l=(t+e)/(t-e),c=(n+r)/(n-r),f=-(a+i)/(a-i),h=-2*a*i/(a-i);return o[0]=u,o[4]=0,o[8]=l,o[12]=0,o[1]=0,o[5]=s,o[9]=c,o[13]=0,o[2]=0,o[6]=0,o[10]=f,o[14]=h,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}},{key:"makeOrthographic",value:function(e,t,n,r,i,a){var o=this.elements,u=1/(t-e),s=1/(n-r),l=1/(a-i),c=(t+e)*u,f=(n+r)*s,h=(a+i)*l;return o[0]=2*u,o[4]=0,o[8]=0,o[12]=-c,o[1]=0,o[5]=2*s,o[9]=0,o[13]=-f,o[2]=0,o[6]=0,o[10]=-2*l,o[14]=-h,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}},{key:"equals",value:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0;n<16;n++)this.elements[n]=e[n+t];return this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}]),e}();xi.prototype.isMatrix4=!0;var _i=new Zr,wi=new xi,Si=new Zr(0,0,0),ki=new Zr(1,1,1),Mi=new Zr,Ei=new Zr,Ti=new Zr,Ai=new xi,Ci=new Hr,Ri=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.DefaultOrder;S(this,e),this._x=t,this._y=n,this._z=r,this._order=i}return M(e,[{key:"x",get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},{key:"y",get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},{key:"z",get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},{key:"order",get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}},{key:"set",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this._order;return this._x=e,this._y=t,this._z=n,this._order=r,this._onChangeCallback(),this}},{key:"clone",value:function(){return new this.constructor(this._x,this._y,this._z,this._order)}},{key:"copy",value:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}},{key:"setFromRotationMatrix",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e.elements,i=r[0],a=r[4],o=r[8],u=r[1],s=r[5],l=r[9],c=r[2],f=r[6],h=r[10];switch(t){case"XYZ":this._y=Math.asin(ar(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-l,h),this._z=Math.atan2(-a,i)):(this._x=Math.atan2(f,s),this._z=0);break;case"YXZ":this._x=Math.asin(-ar(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(u,s)):(this._y=Math.atan2(-c,i),this._z=0);break;case"ZXY":this._x=Math.asin(ar(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-c,h),this._z=Math.atan2(-a,s)):(this._y=0,this._z=Math.atan2(u,i));break;case"ZYX":this._y=Math.asin(-ar(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(u,i)):(this._x=0,this._z=Math.atan2(-a,s));break;case"YZX":this._z=Math.asin(ar(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-l,s),this._y=Math.atan2(-c,i)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-ar(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,s),this._y=Math.atan2(o,i)):(this._x=Math.atan2(-l,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!0===n&&this._onChangeCallback(),this}},{key:"setFromQuaternion",value:function(e,t,n){return Ai.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Ai,t,n)}},{key:"setFromVector3",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._order;return this.set(e.x,e.y,e.z,t)}},{key:"reorder",value:function(e){return Ci.setFromEuler(this),this.setFromQuaternion(Ci,e)}},{key:"equals",value:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}},{key:"fromArray",value:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}},{key:"toArray",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}},{key:"_onChange",value:function(e){return this._onChangeCallback=e,this}},{key:"_onChangeCallback",value:function(){}}]),e}();Ri.prototype.isEuler=!0,Ri.DefaultOrder="XYZ",Ri.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];var Pi=function(){function e(){S(this,e),this.mask=1}return M(e,[{key:"set",value:function(e){this.mask=(1<<e|0)>>>0}},{key:"enable",value:function(e){this.mask|=1<<e|0}},{key:"enableAll",value:function(){this.mask=-1}},{key:"toggle",value:function(e){this.mask^=1<<e|0}},{key:"disable",value:function(e){this.mask&=~(1<<e|0)}},{key:"disableAll",value:function(){this.mask=0}},{key:"test",value:function(e){return 0!==(this.mask&e.mask)}},{key:"isEnabled",value:function(e){return 0!==(this.mask&(1<<e|0))}}]),e}(),Li=0,Oi=new Zr,Ii=new Hr,Di=new xi,Ni=new Zr,zi=new Zr,Fi=new Zr,Bi=new Hr,Ui=new Zr(1,0,0),ji=new Zr(0,1,0),Hi=new Zr(0,0,1),Zi={type:"added"},Gi={type:"removed"},Wi=function(e){E(n,e);var t=P(n);function n(){var e;S(this,n),e=t.call(this),Object.defineProperty(C(e),"id",{value:Li++}),e.uuid=ir(),e.name="",e.type="Object3D",e.parent=null,e.children=[],e.up=n.DefaultUp.clone();var r=new Zr,i=new Ri,a=new Hr,o=new Zr(1,1,1);return i._onChange((function(){a.setFromEuler(i,!1)})),a._onChange((function(){i.setFromQuaternion(a,void 0,!1)})),Object.defineProperties(C(e),{position:{configurable:!0,enumerable:!0,value:r},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:a},scale:{configurable:!0,enumerable:!0,value:o},modelViewMatrix:{value:new xi},normalMatrix:{value:new dr}}),e.matrix=new xi,e.matrixWorld=new xi,e.matrixAutoUpdate=n.DefaultMatrixAutoUpdate,e.matrixWorldNeedsUpdate=!1,e.layers=new Pi,e.visible=!0,e.castShadow=!1,e.receiveShadow=!1,e.frustumCulled=!0,e.renderOrder=0,e.animations=[],e.userData={},e}return M(n,[{key:"onBeforeRender",value:function(){}},{key:"onAfterRender",value:function(){}},{key:"applyMatrix4",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}},{key:"applyQuaternion",value:function(e){return this.quaternion.premultiply(e),this}},{key:"setRotationFromAxisAngle",value:function(e,t){this.quaternion.setFromAxisAngle(e,t)}},{key:"setRotationFromEuler",value:function(e){this.quaternion.setFromEuler(e,!0)}},{key:"setRotationFromMatrix",value:function(e){this.quaternion.setFromRotationMatrix(e)}},{key:"setRotationFromQuaternion",value:function(e){this.quaternion.copy(e)}},{key:"rotateOnAxis",value:function(e,t){return Ii.setFromAxisAngle(e,t),this.quaternion.multiply(Ii),this}},{key:"rotateOnWorldAxis",value:function(e,t){return Ii.setFromAxisAngle(e,t),this.quaternion.premultiply(Ii),this}},{key:"rotateX",value:function(e){return this.rotateOnAxis(Ui,e)}},{key:"rotateY",value:function(e){return this.rotateOnAxis(ji,e)}},{key:"rotateZ",value:function(e){return this.rotateOnAxis(Hi,e)}},{key:"translateOnAxis",value:function(e,t){return Oi.copy(e).applyQuaternion(this.quaternion),this.position.add(Oi.multiplyScalar(t)),this}},{key:"translateX",value:function(e){return this.translateOnAxis(Ui,e)}},{key:"translateY",value:function(e){return this.translateOnAxis(ji,e)}},{key:"translateZ",value:function(e){return this.translateOnAxis(Hi,e)}},{key:"localToWorld",value:function(e){return e.applyMatrix4(this.matrixWorld)}},{key:"worldToLocal",value:function(e){return e.applyMatrix4(Di.copy(this.matrixWorld).invert())}},{key:"lookAt",value:function(e,t,n){e.isVector3?Ni.copy(e):Ni.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),zi.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Di.lookAt(zi,Ni,this.up):Di.lookAt(Ni,zi,this.up),this.quaternion.setFromRotationMatrix(Di),r&&(Di.extractRotation(r.matrixWorld),Ii.setFromRotationMatrix(Di),this.quaternion.premultiply(Ii.invert()))}},{key:"add",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Zi)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}},{key:"remove",value:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Gi)),this}},{key:"removeFromParent",value:function(){var e=this.parent;return null!==e&&e.remove(this),this}},{key:"clear",value:function(){for(var e=0;e<this.children.length;e++){var t=this.children[e];t.parent=null,t.dispatchEvent(Gi)}return this.children.length=0,this}},{key:"attach",value:function(e){return this.updateWorldMatrix(!0,!1),Di.copy(this.matrixWorld).invert(),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),Di.multiply(e.parent.matrixWorld)),e.applyMatrix4(Di),this.add(e),e.updateWorldMatrix(!1,!0),this}},{key:"getObjectById",value:function(e){return this.getObjectByProperty("id",e)}},{key:"getObjectByName",value:function(e){return this.getObjectByProperty("name",e)}},{key:"getObjectByProperty",value:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}}},{key:"getWorldPosition",value:function(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}},{key:"getWorldQuaternion",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(zi,e,Fi),e}},{key:"getWorldScale",value:function(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(zi,Bi,e),e}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}},{key:"raycast",value:function(){}},{key:"traverse",value:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)}},{key:"traverseVisible",value:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}}},{key:"traverseAncestors",value:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))}},{key:"updateMatrix",value:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}},{key:"updateMatrixWorld",value:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)}},{key:"updateWorldMatrix",value:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,a=r.length;i<a;i++)r[i].updateWorldMatrix(!1,!0)}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(r.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var a=this.geometry.parameters;if(void 0!==a&&void 0!==a.shapes){var o=a.shapes;if(Array.isArray(o))for(var u=0,s=o.length;u<s;u++){var l=o[u];i(e.shapes,l)}else i(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(i(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){for(var c=[],f=0,h=this.material.length;f<h;f++)c.push(i(e.materials,this.material[f]));r.material=c}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var d=0;d<this.children.length;d++)r.children.push(this.children[d].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(var p=0;p<this.animations.length;p++){var v=this.animations[p];r.animations.push(i(e.animations,v))}}if(t){var m=k(e.geometries),g=k(e.materials),y=k(e.textures),b=k(e.images),x=k(e.shapes),_=k(e.skeletons),w=k(e.animations),S=k(e.nodes);m.length>0&&(n.geometries=m),g.length>0&&(n.materials=g),y.length>0&&(n.textures=y),b.length>0&&(n.images=b),x.length>0&&(n.shapes=x),_.length>0&&(n.skeletons=_),w.length>0&&(n.animations=w),S.length>0&&(n.nodes=S)}return n.object=r,n;function k(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}}},{key:"clone",value:function(e){return(new this.constructor).copy(this,e)}},{key:"copy",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}]),n}(Jn);Wi.DefaultUp=new Zr(0,1,0),Wi.DefaultMatrixAutoUpdate=!0,Wi.prototype.isObject3D=!0;var Vi=new Zr,qi=new Zr,Xi=new Zr,$i=new Zr,Yi=new Zr,Ki=new Zr,Ji=new Zr,Qi=new Zr,ea=new Zr,ta=new Zr,na=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zr,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Zr;S(this,e),this.a=t,this.b=n,this.c=r}return M(e,[{key:"set",value:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}},{key:"setFromPointsAndIndices",value:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}},{key:"setFromAttributeAndIndices",value:function(e,t,n,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,n),this.c.fromBufferAttribute(e,r),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}},{key:"getArea",value:function(){return Vi.subVectors(this.c,this.b),qi.subVectors(this.a,this.b),.5*Vi.cross(qi).length()}},{key:"getMidpoint",value:function(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}},{key:"getNormal",value:function(t){return e.getNormal(this.a,this.b,this.c,t)}},{key:"getPlane",value:function(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}},{key:"getBarycoord",value:function(t,n){return e.getBarycoord(t,this.a,this.b,this.c,n)}},{key:"getUV",value:function(t,n,r,i,a){return e.getUV(t,this.a,this.b,this.c,n,r,i,a)}},{key:"containsPoint",value:function(t){return e.containsPoint(t,this.a,this.b,this.c)}},{key:"isFrontFacing",value:function(t){return e.isFrontFacing(this.a,this.b,this.c,t)}},{key:"intersectsBox",value:function(e){return e.intersectsTriangle(this)}},{key:"closestPointToPoint",value:function(e,t){var n,r,i=this.a,a=this.b,o=this.c;Yi.subVectors(a,i),Ki.subVectors(o,i),Qi.subVectors(e,i);var u=Yi.dot(Qi),s=Ki.dot(Qi);if(u<=0&&s<=0)return t.copy(i);ea.subVectors(e,a);var l=Yi.dot(ea),c=Ki.dot(ea);if(l>=0&&c<=l)return t.copy(a);var f=u*c-l*s;if(f<=0&&u>=0&&l<=0)return n=u/(u-l),t.copy(i).addScaledVector(Yi,n);ta.subVectors(e,o);var h=Yi.dot(ta),d=Ki.dot(ta);if(d>=0&&h<=d)return t.copy(o);var p=h*s-u*d;if(p<=0&&s>=0&&d<=0)return r=s/(s-d),t.copy(i).addScaledVector(Ki,r);var v=l*d-h*c;if(v<=0&&c-l>=0&&h-d>=0)return Ji.subVectors(o,a),r=(c-l)/(c-l+(h-d)),t.copy(a).addScaledVector(Ji,r);var m=1/(v+p+f);return n=p*m,r=f*m,t.copy(i).addScaledVector(Yi,n).addScaledVector(Ki,r)}},{key:"equals",value:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}],[{key:"getNormal",value:function(e,t,n,r){r.subVectors(n,t),Vi.subVectors(e,t),r.cross(Vi);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}},{key:"getBarycoord",value:function(e,t,n,r,i){Vi.subVectors(r,t),qi.subVectors(n,t),Xi.subVectors(e,t);var a=Vi.dot(Vi),o=Vi.dot(qi),u=Vi.dot(Xi),s=qi.dot(qi),l=qi.dot(Xi),c=a*s-o*o;if(0===c)return i.set(-2,-1,-1);var f=1/c,h=(s*u-o*l)*f,d=(a*l-o*u)*f;return i.set(1-h-d,d,h)}},{key:"containsPoint",value:function(e,t,n,r){return this.getBarycoord(e,t,n,r,$i),$i.x>=0&&$i.y>=0&&$i.x+$i.y<=1}},{key:"getUV",value:function(e,t,n,r,i,a,o,u){return this.getBarycoord(e,t,n,r,$i),u.set(0,0),u.addScaledVector(i,$i.x),u.addScaledVector(a,$i.y),u.addScaledVector(o,$i.z),u}},{key:"isFrontFacing",value:function(e,t,n,r){return Vi.subVectors(n,t),qi.subVectors(e,t),Vi.cross(qi).dot(r)<0}}]),e}(),ra=0,ia=function(e){E(n,e);var t=P(n);function n(){var e;return S(this,n),e=t.call(this),Object.defineProperty(C(e),"id",{value:ra++}),e.uuid=ir(),e.name="",e.type="Material",e.fog=!0,e.blending=ne,e.side=Y,e.vertexColors=!1,e.opacity=1,e.transparent=!1,e.blendSrc=me,e.blendDst=ge,e.blendEquation=ue,e.blendSrcAlpha=null,e.blendDstAlpha=null,e.blendEquationAlpha=null,e.depthFunc=Ee,e.depthTest=!0,e.depthWrite=!0,e.stencilWriteMask=255,e.stencilFunc=Bn,e.stencilRef=0,e.stencilFuncMask=255,e.stencilFail=Mn,e.stencilZFail=Mn,e.stencilZPass=Mn,e.stencilWrite=!1,e.clippingPlanes=null,e.clipIntersection=!1,e.clipShadows=!1,e.shadowSide=null,e.colorWrite=!0,e.precision=null,e.polygonOffset=!1,e.polygonOffsetFactor=0,e.polygonOffsetUnits=0,e.dithering=!1,e.alphaToCoverage=!1,e.premultipliedAlpha=!1,e.visible=!0,e.toneMapped=!0,e.userData={},e.version=0,e._alphaTest=0,e}return M(n,[{key:"alphaTest",get:function(){return this._alphaTest},set:function(e){this._alphaTest>0!==e>0&&this.version++,this._alphaTest=e}},{key:"onBuild",value:function(){}},{key:"onBeforeRender",value:function(){}},{key:"onBeforeCompile",value:function(){}},{key:"customProgramCacheKey",value:function(){return this.onBeforeCompile.toString()}},{key:"setValues",value:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===Q;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}}},{key:"toJSON",value:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),void 0!==this.sheen&&(n.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(n.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(n.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(n.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(n.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid,n.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(n.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(n.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(n.combine=this.combine)),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(n.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(n.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(n.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(n.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(n.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(n.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&(n.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(n.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(n.size=this.size),null!==this.shadowSide&&(n.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==ne&&(n.blending=this.blending),this.side!==Y&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.colorWrite=this.colorWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(n.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(n.flatShading=this.flatShading),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),a=r(e.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}}]),n}(Jn);ia.prototype.isMaterial=!0,ia.fromType=function(){return null};var aa=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this)).type="MeshBasicMaterial",r.color=new Cr(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=Pe,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),n}(ia);aa.prototype.isMeshBasicMaterial=!0;var oa=new Zr,ua=new hr,sa=function(){function e(t,n,r){if(S(this,e),Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=n,this.count=void 0!==t?t.length/n:0,this.normalized=!0===r,this.usage=Un,this.updateRange={offset:0,count:-1},this.version=0}return M(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"copyArray",value:function(e){return this.array.set(e),this}},{key:"copyColorsArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),a=new Cr),t[n++]=a.r,t[n++]=a.g,t[n++]=a.b}return this}},{key:"copyVector2sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),a=new hr),t[n++]=a.x,t[n++]=a.y}return this}},{key:"copyVector3sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),a=new Zr),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z}return this}},{key:"copyVector4sArray",value:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var a=e[r];void 0===a&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),a=new Dr),t[n++]=a.x,t[n++]=a.y,t[n++]=a.z,t[n++]=a.w}return this}},{key:"applyMatrix3",value:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)ua.fromBufferAttribute(this,t),ua.applyMatrix3(e),this.setXY(t,ua.x,ua.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)oa.fromBufferAttribute(this,r),oa.applyMatrix3(e),this.setXYZ(r,oa.x,oa.y,oa.z);return this}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.count;t<n;t++)oa.fromBufferAttribute(this,t),oa.applyMatrix4(e),this.setXYZ(t,oa.x,oa.y,oa.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)oa.fromBufferAttribute(this,t),oa.applyNormalMatrix(e),this.setXYZ(t,oa.x,oa.y,oa.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)oa.fromBufferAttribute(this,t),oa.transformDirection(e),this.setXYZ(t,oa.x,oa.y,oa.z);return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"getX",value:function(e){return this.array[e*this.itemSize]}},{key:"setX",value:function(e,t){return this.array[e*this.itemSize]=t,this}},{key:"getY",value:function(e){return this.array[e*this.itemSize+1]}},{key:"setY",value:function(e,t){return this.array[e*this.itemSize+1]=t,this}},{key:"getZ",value:function(e){return this.array[e*this.itemSize+2]}},{key:"setZ",value:function(e,t){return this.array[e*this.itemSize+2]=t,this}},{key:"getW",value:function(e){return this.array[e*this.itemSize+3]}},{key:"setW",value:function(e,t){return this.array[e*this.itemSize+3]=t,this}},{key:"setXY",value:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"clone",value:function(){return new this.constructor(this.array,this.itemSize).copy(this)}},{key:"toJSON",value:function(){var e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),this.usage!==Un&&(e.usage=this.usage),0===this.updateRange.offset&&-1===this.updateRange.count||(e.updateRange=this.updateRange),e}}]),e}();sa.prototype.isBufferAttribute=!0;var la=function(e){E(n,e);var t=P(n);function n(e,r,i){return S(this,n),t.call(this,new Int8Array(e),r,i)}return M(n)}(sa),ca=function(e){E(n,e);var t=P(n);function n(e,r,i){return S(this,n),t.call(this,new Uint8Array(e),r,i)}return M(n)}(sa),fa=function(e){E(n,e);var t=P(n);function n(e,r,i){return S(this,n),t.call(this,new Uint8ClampedArray(e),r,i)}return M(n)}(sa),ha=function(e){E(n,e);var t=P(n);function n(e,r,i){return S(this,n),t.call(this,new Int16Array(e),r,i)}return M(n)}(sa),da=function(e){E(n,e);var t=P(n);function n(e,r,i){return S(this,n),t.call(this,new Uint16Array(e),r,i)}return M(n)}(sa),pa=function(e){E(n,e);var t=P(n);function n(e,r,i){return S(this,n),t.call(this,new Int32Array(e),r,i)}return M(n)}(sa),va=function(e){E(n,e);var t=P(n);function n(e,r,i){return S(this,n),t.call(this,new Uint32Array(e),r,i)}return M(n)}(sa),ma=function(e){E(n,e);var t=P(n);function n(e,r,i){return S(this,n),t.call(this,new Uint16Array(e),r,i)}return M(n)}(sa);ma.prototype.isFloat16BufferAttribute=!0;var ga=function(e){E(n,e);var t=P(n);function n(e,r,i){return S(this,n),t.call(this,new Float32Array(e),r,i)}return M(n)}(sa),ya=function(e){E(n,e);var t=P(n);function n(e,r,i){return S(this,n),t.call(this,new Float64Array(e),r,i)}return M(n)}(sa),ba=0,xa=new xi,_a=new Wi,wa=new Zr,Sa=new Vr,ka=new Vr,Ma=new Zr,Ea=function(e){E(n,e);var t=P(n);function n(){var e;return S(this,n),e=t.call(this),Object.defineProperty(C(e),"id",{value:ba++}),e.uuid=ir(),e.name="",e.type="BufferGeometry",e.index=null,e.attributes={},e.morphAttributes={},e.morphTargetsRelative=!1,e.groups=[],e.boundingBox=null,e.boundingSphere=null,e.drawRange={start:0,count:1/0},e.userData={},e}return M(n,[{key:"getIndex",value:function(){return this.index}},{key:"setIndex",value:function(e){return Array.isArray(e)?this.index=new(pr(e)?va:da)(e,1):this.index=e,this}},{key:"getAttribute",value:function(e){return this.attributes[e]}},{key:"setAttribute",value:function(e,t){return this.attributes[e]=t,this}},{key:"deleteAttribute",value:function(e){return delete this.attributes[e],this}},{key:"hasAttribute",value:function(e){return void 0!==this.attributes[e]}},{key:"addGroup",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.groups.push({start:e,count:t,materialIndex:n})}},{key:"clearGroups",value:function(){this.groups=[]}},{key:"setDrawRange",value:function(e,t){this.drawRange.start=e,this.drawRange.count=t}},{key:"applyMatrix4",value:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new dr).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"applyQuaternion",value:function(e){return xa.makeRotationFromQuaternion(e),this.applyMatrix4(xa),this}},{key:"rotateX",value:function(e){return xa.makeRotationX(e),this.applyMatrix4(xa),this}},{key:"rotateY",value:function(e){return xa.makeRotationY(e),this.applyMatrix4(xa),this}},{key:"rotateZ",value:function(e){return xa.makeRotationZ(e),this.applyMatrix4(xa),this}},{key:"translate",value:function(e,t,n){return xa.makeTranslation(e,t,n),this.applyMatrix4(xa),this}},{key:"scale",value:function(e,t,n){return xa.makeScale(e,t,n),this.applyMatrix4(xa),this}},{key:"lookAt",value:function(e){return _a.lookAt(e),_a.updateMatrix(),this.applyMatrix4(_a.matrix),this}},{key:"center",value:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(wa).negate(),this.translate(wa.x,wa.y,wa.z),this}},{key:"setFromPoints",value:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new ga(t,3)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Vr);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Zr(-1/0,-1/0,-1/0),new Zr(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];Sa.setFromBufferAttribute(i),this.morphTargetsRelative?(Ma.addVectors(this.boundingBox.min,Sa.min),this.boundingBox.expandByPoint(Ma),Ma.addVectors(this.boundingBox.max,Sa.max),this.boundingBox.expandByPoint(Ma)):(this.boundingBox.expandByPoint(Sa.min),this.boundingBox.expandByPoint(Sa.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new fi);var e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Zr,1/0);if(e){var n=this.boundingSphere.center;if(Sa.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var a=t[r];ka.setFromBufferAttribute(a),this.morphTargetsRelative?(Ma.addVectors(Sa.min,ka.min),Sa.expandByPoint(Ma),Ma.addVectors(Sa.max,ka.max),Sa.expandByPoint(Ma)):(Sa.expandByPoint(ka.min),Sa.expandByPoint(ka.max))}Sa.getCenter(n);for(var o=0,u=0,s=e.count;u<s;u++)Ma.fromBufferAttribute(e,u),o=Math.max(o,n.distanceToSquared(Ma));if(t)for(var l=0,c=t.length;l<c;l++)for(var f=t[l],h=this.morphTargetsRelative,d=0,p=f.count;d<p;d++)Ma.fromBufferAttribute(f,d),h&&(wa.fromBufferAttribute(e,d),Ma.add(wa)),o=Math.max(o,n.distanceToSquared(Ma));this.boundingSphere.radius=Math.sqrt(o),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}},{key:"computeTangents",value:function(){var e=this.index,t=this.attributes;if(null!==e&&void 0!==t.position&&void 0!==t.normal&&void 0!==t.uv){var n=e.array,r=t.position.array,i=t.normal.array,a=t.uv.array,o=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new sa(new Float32Array(4*o),4));for(var u=this.getAttribute("tangent").array,s=[],l=[],c=0;c<o;c++)s[c]=new Zr,l[c]=new Zr;var f=new Zr,h=new Zr,d=new Zr,p=new hr,v=new hr,m=new hr,g=new Zr,y=new Zr,b=this.groups;0===b.length&&(b=[{start:0,count:n.length}]);for(var x=0,_=b.length;x<_;++x)for(var w=b[x],S=w.start,k=S,M=S+w.count;k<M;k+=3)N(n[k+0],n[k+1],n[k+2]);for(var E=new Zr,T=new Zr,A=new Zr,C=new Zr,R=0,P=b.length;R<P;++R)for(var L=b[R],O=L.start,I=O,D=O+L.count;I<D;I+=3)z(n[I+0]),z(n[I+1]),z(n[I+2])}else console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");function N(e,t,n){f.fromArray(r,3*e),h.fromArray(r,3*t),d.fromArray(r,3*n),p.fromArray(a,2*e),v.fromArray(a,2*t),m.fromArray(a,2*n),h.sub(f),d.sub(f),v.sub(p),m.sub(p);var i=1/(v.x*m.y-m.x*v.y);isFinite(i)&&(g.copy(h).multiplyScalar(m.y).addScaledVector(d,-v.y).multiplyScalar(i),y.copy(d).multiplyScalar(v.x).addScaledVector(h,-m.x).multiplyScalar(i),s[e].add(g),s[t].add(g),s[n].add(g),l[e].add(y),l[t].add(y),l[n].add(y))}function z(e){A.fromArray(i,3*e),C.copy(A);var t=s[e];E.copy(t),E.sub(A.multiplyScalar(A.dot(t))).normalize(),T.crossVectors(C,t);var n=T.dot(l[e])<0?-1:1;u[4*e]=E.x,u[4*e+1]=E.y,u[4*e+2]=E.z,u[4*e+3]=n}}},{key:"computeVertexNormals",value:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new sa(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var a=new Zr,o=new Zr,u=new Zr,s=new Zr,l=new Zr,c=new Zr,f=new Zr,h=new Zr;if(e)for(var d=0,p=e.count;d<p;d+=3){var v=e.getX(d+0),m=e.getX(d+1),g=e.getX(d+2);a.fromBufferAttribute(t,v),o.fromBufferAttribute(t,m),u.fromBufferAttribute(t,g),f.subVectors(u,o),h.subVectors(a,o),f.cross(h),s.fromBufferAttribute(n,v),l.fromBufferAttribute(n,m),c.fromBufferAttribute(n,g),s.add(f),l.add(f),c.add(f),n.setXYZ(v,s.x,s.y,s.z),n.setXYZ(m,l.x,l.y,l.z),n.setXYZ(g,c.x,c.y,c.z)}else for(var y=0,b=t.count;y<b;y+=3)a.fromBufferAttribute(t,y+0),o.fromBufferAttribute(t,y+1),u.fromBufferAttribute(t,y+2),f.subVectors(u,o),h.subVectors(a,o),f.cross(h),n.setXYZ(y+0,f.x,f.y,f.z),n.setXYZ(y+1,f.x,f.y,f.z),n.setXYZ(y+2,f.x,f.y,f.z);this.normalizeNormals(),n.needsUpdate=!0}}},{key:"merge",value:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,a=e.attributes[r],o=a.array,u=a.itemSize*t,s=Math.min(o.length,i.length-u),l=0,c=u;l<s;l++,c++)i[c]=o[l];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)}},{key:"normalizeNormals",value:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Ma.fromBufferAttribute(e,t),Ma.normalize(),e.setXYZ(t,Ma.x,Ma.y,Ma.z)}},{key:"toNonIndexed",value:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,a=new n.constructor(t.length*r),o=0,u=0,s=0,l=t.length;s<l;s++){o=e.isInterleavedBufferAttribute?t[s]*e.data.stride+e.offset:t[s]*r;for(var c=0;c<r;c++)a[u++]=n[o++]}return new sa(a,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;var t=new n,r=this.index.array,i=this.attributes;for(var a in i){var o=e(i[a],r);t.setAttribute(a,o)}var u=this.morphAttributes;for(var s in u){for(var l=[],c=u[s],f=0,h=c.length;f<h;f++){var d=e(c[f],r);l.push(d)}t.morphAttributes[s]=l}t.morphTargetsRelative=this.morphTargetsRelative;for(var p=this.groups,v=0,m=p.length;v<m;v++){var g=p[v];t.addGroup(g.start,g.count,g.materialIndex)}return t}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var a in i){var o=i[a];e.data.attributes[a]=o.toJSON(e.data)}var u={},s=!1;for(var l in this.morphAttributes){for(var c=this.morphAttributes[l],f=[],h=0,d=c.length;h<d;h++){var p=c[h];f.push(p.toJSON(e.data))}f.length>0&&(u[l]=f,s=!0)}s&&(e.data.morphAttributes=u,e.data.morphTargetsRelative=this.morphTargetsRelative);var v=this.groups;v.length>0&&(e.data.groups=JSON.parse(JSON.stringify(v)));var m=this.boundingSphere;return null!==m&&(e.data.boundingSphere={center:m.center.toArray(),radius:m.radius}),e}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var a=r[i];this.setAttribute(i,a.clone(t))}var o=e.morphAttributes;for(var u in o){for(var s=[],l=o[u],c=0,f=l.length;c<f;c++)s.push(l[c].clone(t));this.morphAttributes[u]=s}this.morphTargetsRelative=e.morphTargetsRelative;for(var h=e.groups,d=0,p=h.length;d<p;d++){var v=h[d];this.addGroup(v.start,v.count,v.materialIndex)}var m=e.boundingBox;null!==m&&(this.boundingBox=m.clone());var g=e.boundingSphere;return null!==g&&(this.boundingSphere=g.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,void 0!==e.parameters&&(this.parameters=Object.assign({},e.parameters)),this}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Jn);Ea.prototype.isBufferGeometry=!0;var Ta=new xi,Aa=new bi,Ca=new fi,Ra=new Zr,Pa=new Zr,La=new Zr,Oa=new Zr,Ia=new Zr,Da=new Zr,Na=new Zr,za=new Zr,Fa=new Zr,Ba=new hr,Ua=new hr,ja=new hr,Ha=new Zr,Za=new Zr,Ga=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ea,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new aa;return S(this,n),(e=t.call(this)).type="Mesh",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var u=e.morphTargets;void 0!==u&&u.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"raycast",value:function(e,t){var n,r=this.geometry,i=this.material,a=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),Ca.copy(r.boundingSphere),Ca.applyMatrix4(a),!1!==e.ray.intersectsSphere(Ca)&&(Ta.copy(a).invert(),Aa.copy(e.ray).applyMatrix4(Ta),null===r.boundingBox||!1!==Aa.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var o=r.index,u=r.attributes.position,s=r.morphAttributes.position,l=r.morphTargetsRelative,c=r.attributes.uv,f=r.attributes.uv2,h=r.groups,d=r.drawRange;if(null!==o)if(Array.isArray(i))for(var p=0,v=h.length;p<v;p++)for(var m=h[p],g=i[m.materialIndex],y=Math.max(m.start,d.start),b=Math.min(o.count,Math.min(m.start+m.count,d.start+d.count));y<b;y+=3){var x=o.getX(y),_=o.getX(y+1),w=o.getX(y+2);(n=Wa(this,g,e,Aa,u,s,l,c,f,x,_,w))&&(n.faceIndex=Math.floor(y/3),n.face.materialIndex=m.materialIndex,t.push(n))}else for(var S=Math.max(0,d.start),k=Math.min(o.count,d.start+d.count);S<k;S+=3){var M=o.getX(S),E=o.getX(S+1),T=o.getX(S+2);(n=Wa(this,i,e,Aa,u,s,l,c,f,M,E,T))&&(n.faceIndex=Math.floor(S/3),t.push(n))}else if(void 0!==u)if(Array.isArray(i))for(var A=0,C=h.length;A<C;A++)for(var R=h[A],P=i[R.materialIndex],L=Math.max(R.start,d.start),O=Math.min(u.count,Math.min(R.start+R.count,d.start+d.count));L<O;L+=3){(n=Wa(this,P,e,Aa,u,s,l,c,f,L,L+1,L+2))&&(n.faceIndex=Math.floor(L/3),n.face.materialIndex=R.materialIndex,t.push(n))}else for(var I=Math.max(0,d.start),D=Math.min(u.count,d.start+d.count);I<D;I+=3){(n=Wa(this,i,e,Aa,u,s,l,c,f,I,I+1,I+2))&&(n.faceIndex=Math.floor(I/3),t.push(n))}}else r.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}]),n}(Wi);function Wa(e,t,n,r,i,a,o,u,s,l,c,f){Ra.fromBufferAttribute(i,l),Pa.fromBufferAttribute(i,c),La.fromBufferAttribute(i,f);var h=e.morphTargetInfluences;if(a&&h){Na.set(0,0,0),za.set(0,0,0),Fa.set(0,0,0);for(var d=0,p=a.length;d<p;d++){var v=h[d],m=a[d];0!==v&&(Oa.fromBufferAttribute(m,l),Ia.fromBufferAttribute(m,c),Da.fromBufferAttribute(m,f),o?(Na.addScaledVector(Oa,v),za.addScaledVector(Ia,v),Fa.addScaledVector(Da,v)):(Na.addScaledVector(Oa.sub(Ra),v),za.addScaledVector(Ia.sub(Pa),v),Fa.addScaledVector(Da.sub(La),v)))}Ra.add(Na),Pa.add(za),La.add(Fa)}e.isSkinnedMesh&&(e.boneTransform(l,Ra),e.boneTransform(c,Pa),e.boneTransform(f,La));var g=function(e,t,n,r,i,a,o,u){if(null===(t.side===K?r.intersectTriangle(o,a,i,!0,u):r.intersectTriangle(i,a,o,t.side!==J,u)))return null;Za.copy(u),Za.applyMatrix4(e.matrixWorld);var s=n.ray.origin.distanceTo(Za);return s<n.near||s>n.far?null:{distance:s,point:Za.clone(),object:e}}(e,t,n,r,Ra,Pa,La,Ha);if(g){u&&(Ba.fromBufferAttribute(u,l),Ua.fromBufferAttribute(u,c),ja.fromBufferAttribute(u,f),g.uv=na.getUV(Ha,Ra,Pa,La,Ba,Ua,ja,new hr)),s&&(Ba.fromBufferAttribute(s,l),Ua.fromBufferAttribute(s,c),ja.fromBufferAttribute(s,f),g.uv2=na.getUV(Ha,Ra,Pa,La,Ba,Ua,ja,new hr));var y={a:l,b:c,c:f,normal:new Zr,materialIndex:0};na.getNormal(Ra,Pa,La,y.normal),g.face=y}return g}Ga.prototype.isMesh=!0;var Va=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;S(this,n),(e=t.call(this)).type="BoxGeometry",e.parameters={width:r,height:i,depth:a,widthSegments:o,heightSegments:u,depthSegments:s};var l=C(e);o=Math.floor(o),u=Math.floor(u),s=Math.floor(s);var c=[],f=[],h=[],d=[],p=0,v=0;function m(e,t,n,r,i,a,o,u,s,m,g){for(var y=a/s,b=o/m,x=a/2,_=o/2,w=u/2,S=s+1,k=m+1,M=0,E=0,T=new Zr,A=0;A<k;A++)for(var C=A*b-_,R=0;R<S;R++){var P=R*y-x;T[e]=P*r,T[t]=C*i,T[n]=w,f.push(T.x,T.y,T.z),T[e]=0,T[t]=0,T[n]=u>0?1:-1,h.push(T.x,T.y,T.z),d.push(R/s),d.push(1-A/m),M+=1}for(var L=0;L<m;L++)for(var O=0;O<s;O++){var I=p+O+S*L,D=p+O+S*(L+1),N=p+(O+1)+S*(L+1),z=p+(O+1)+S*L;c.push(I,D,z),c.push(D,N,z),E+=6}l.addGroup(v,E,g),v+=E,p+=M}return m("z","y","x",-1,-1,a,i,r,s,u,0),m("z","y","x",1,-1,a,i,-r,s,u,1),m("x","z","y",1,1,r,a,i,o,s,2),m("x","z","y",1,-1,r,a,-i,o,s,3),m("x","y","z",1,-1,r,i,a,o,u,4),m("x","y","z",-1,-1,r,i,-a,o,u,5),e.setIndex(c),e.setAttribute("position",new ga(f,3)),e.setAttribute("normal",new ga(h,3)),e.setAttribute("uv",new ga(d,2)),e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}]),n}(Ea);function qa(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function Xa(e){for(var t={},n=0;n<e.length;n++){var r=qa(e[n]);for(var i in r)t[i]=r[i]}return t}var $a={clone:qa,merge:Xa},Ya=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this)).type="ShaderMaterial",r.defines={},r.uniforms={},r.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",r.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",r.linewidth=1,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.lights=!1,r.clipping=!1,r.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},r.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},r.index0AttributeName=void 0,r.uniformsNeedUpdate=!1,r.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),r.setValues(e)),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=qa(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}},{key:"toJSON",value:function(e){var t=D(T(n.prototype),"toJSON",this).call(this,e);for(var r in t.glslVersion=this.glslVersion,t.uniforms={},this.uniforms){var i=this.uniforms[r].value;i&&i.isTexture?t.uniforms[r]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[r]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[r]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[r]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[r]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[r]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[r]={type:"m4",value:i.toArray()}:t.uniforms[r]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var a={};for(var o in this.extensions)!0===this.extensions[o]&&(a[o]=!0);return Object.keys(a).length>0&&(t.extensions=a),t}}]),n}(ia);Ya.prototype.isShaderMaterial=!0;var Ka=function(e){E(n,e);var t=P(n);function n(){var e;return S(this,n),(e=t.call(this)).type="Camera",e.matrixWorldInverse=new xi,e.projectionMatrix=new xi,e.projectionMatrixInverse=new xi,e}return M(n,[{key:"copy",value:function(e,t){return D(T(n.prototype),"copy",this).call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}},{key:"getWorldDirection",value:function(e){this.updateWorldMatrix(!0,!1);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}},{key:"updateMatrixWorld",value:function(e){D(T(n.prototype),"updateMatrixWorld",this).call(this,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"updateWorldMatrix",value:function(e,t){D(T(n.prototype),"updateWorldMatrix",this).call(this,e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),n}(Wi);Ka.prototype.isCamera=!0;var Ja=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2e3;return S(this,n),(e=t.call(this)).type="PerspectiveCamera",e.fov=r,e.zoom=1,e.near=a,e.far=o,e.focus=10,e.aspect=i,e.view=null,e.filmGauge=35,e.filmOffset=0,e.updateProjectionMatrix(),e}return M(n,[{key:"copy",value:function(e,t){return D(T(n.prototype),"copy",this).call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}},{key:"setFocalLength",value:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*rr*Math.atan(t),this.updateProjectionMatrix()}},{key:"getFocalLength",value:function(){var e=Math.tan(.5*nr*this.fov);return.5*this.getFilmHeight()/e}},{key:"getEffectiveFOV",value:function(){return 2*rr*Math.atan(Math.tan(.5*nr*this.fov)/this.zoom)}},{key:"getFilmWidth",value:function(){return this.filmGauge*Math.min(this.aspect,1)}},{key:"getFilmHeight",value:function(){return this.filmGauge/Math.max(this.aspect,1)}},{key:"setViewOffset",value:function(e,t,n,r,i,a){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=this.near,t=e*Math.tan(.5*nr*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==this.view&&this.view.enabled){var o=a.fullWidth,u=a.fullHeight;i+=a.offsetX*r/o,t-=a.offsetY*n/u,r*=a.width/o,n*=a.height/u}var s=this.filmOffset;0!==s&&(i+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=D(T(n.prototype),"toJSON",this).call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}]),n}(Ka);Ja.prototype.isPerspectiveCamera=!0;var Qa=90,eo=function(e){E(n,e);var t=P(n);function n(e,r,i){var a;if(S(this,n),(a=t.call(this)).type="CubeCamera",!0!==i.isWebGLCubeRenderTarget)return console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter."),R(a);a.renderTarget=i;var o=new Ja(Qa,1,e,r);o.layers=a.layers,o.up.set(0,-1,0),o.lookAt(new Zr(1,0,0)),a.add(o);var u=new Ja(Qa,1,e,r);u.layers=a.layers,u.up.set(0,-1,0),u.lookAt(new Zr(-1,0,0)),a.add(u);var s=new Ja(Qa,1,e,r);s.layers=a.layers,s.up.set(0,0,1),s.lookAt(new Zr(0,1,0)),a.add(s);var l=new Ja(Qa,1,e,r);l.layers=a.layers,l.up.set(0,0,-1),l.lookAt(new Zr(0,-1,0)),a.add(l);var c=new Ja(Qa,1,e,r);c.layers=a.layers,c.up.set(0,-1,0),c.lookAt(new Zr(0,0,1)),a.add(c);var f=new Ja(Qa,1,e,r);return f.layers=a.layers,f.up.set(0,-1,0),f.lookAt(new Zr(0,0,-1)),a.add(f),a}return M(n,[{key:"update",value:function(e,t){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,r=(0,c.Z)(this.children,6),i=r[0],a=r[1],o=r[2],u=r[3],s=r[4],l=r[5],f=e.getRenderTarget(),h=e.outputEncoding,d=e.toneMapping,p=e.xr.enabled;e.outputEncoding=vn,e.toneMapping=Ie,e.xr.enabled=!1;var v=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,i),e.setRenderTarget(n,1),e.render(t,a),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,u),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=v,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(f),e.outputEncoding=h,e.toneMapping=d,e.xr.enabled=p,n.texture.needsPMREMUpdate=!0}}]),n}(Wi),to=function(e){E(n,e);var t=P(n);function n(e,r,i,a,o,u,s,l,c,f){var h;return S(this,n),e=void 0!==e?e:[],r=void 0!==r?r:je,(h=t.call(this,e,r,i,a,o,u,s,l,c,f)).flipY=!1,h}return M(n,[{key:"images",get:function(){return this.image},set:function(e){this.image=e}}]),n}(Ir);to.prototype.isCubeTexture=!0;var no=function(e){E(n,e);var t=P(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S(this,n);var a={width:e,height:e,depth:1},o=[a,a,a,a,a,a];return(r=t.call(this,e,e,i)).texture=new to(o,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),r.texture.isRenderTargetTexture=!0,r.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,r.texture.minFilter=void 0!==i.minFilter?i.minFilter:et,r}return M(n,[{key:"fromEquirectangularTexture",value:function(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;var n={tEquirect:{value:null}},r="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",a=new Va(5,5,5),o=new Ya({name:"CubemapFromEquirect",uniforms:qa(n),vertexShader:r,fragmentShader:i,side:K,blending:te});o.uniforms.tEquirect.value=t;var u=new Ga(a,o),s=t.minFilter;return t.minFilter===rt&&(t.minFilter=et),new eo(1,10,this).update(e,u),t.minFilter=s,u.geometry.dispose(),u.material.dispose(),this}},{key:"clear",value:function(e,t,n,r){for(var i=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,n,r);e.setRenderTarget(i)}}]),n}(Nr);no.prototype.isWebGLCubeRenderTarget=!0;var ro=new Zr,io=new Zr,ao=new dr,oo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zr(1,0,0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;S(this,e),this.normal=t,this.constant=n}return M(e,[{key:"set",value:function(e,t){return this.normal.copy(e),this.constant=t,this}},{key:"setComponents",value:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(e,t,n){var r=ro.subVectors(n,t).cross(io.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}},{key:"copy",value:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this}},{key:"normalize",value:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(e){return this.normal.dot(e)+this.constant}},{key:"distanceToSphere",value:function(e){return this.distanceToPoint(e.center)-e.radius}},{key:"projectPoint",value:function(e,t){return t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}},{key:"intersectLine",value:function(e,t){var n=e.delta(ro),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?null:t.copy(n).multiplyScalar(i).add(e.start)}},{key:"intersectsLine",value:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}},{key:"intersectsBox",value:function(e){return e.intersectsPlane(this)}},{key:"intersectsSphere",value:function(e){return e.intersectsPlane(this)}},{key:"coplanarPoint",value:function(e){return e.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(e,t){var n=t||ao.getNormalMatrix(e),r=this.coplanarPoint(ro).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(e){return this.constant-=e.dot(this.normal),this}},{key:"equals",value:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();oo.prototype.isPlane=!0;var uo=new fi,so=new Zr,lo=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new oo,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new oo,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new oo,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new oo,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new oo,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:new oo;S(this,e),this.planes=[t,n,r,i,a,o]}return M(e,[{key:"set",value:function(e,t,n,r,i,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"copy",value:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this}},{key:"setFromProjectionMatrix",value:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],a=n[2],o=n[3],u=n[4],s=n[5],l=n[6],c=n[7],f=n[8],h=n[9],d=n[10],p=n[11],v=n[12],m=n[13],g=n[14],y=n[15];return t[0].setComponents(o-r,c-u,p-f,y-v).normalize(),t[1].setComponents(o+r,c+u,p+f,y+v).normalize(),t[2].setComponents(o+i,c+s,p+h,y+m).normalize(),t[3].setComponents(o-i,c-s,p-h,y-m).normalize(),t[4].setComponents(o-a,c-l,p-d,y-g).normalize(),t[5].setComponents(o+a,c+l,p+d,y+g).normalize(),this}},{key:"intersectsObject",value:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),uo.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(uo)}},{key:"intersectsSprite",value:function(e){return uo.center.set(0,0,0),uo.radius=.7071067811865476,uo.applyMatrix4(e.matrixWorld),this.intersectsSphere(uo)}},{key:"intersectsSphere",value:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0}},{key:"intersectsBox",value:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(so.x=r.normal.x>0?e.max.x:e.min.x,so.y=r.normal.y>0?e.max.y:e.min.y,so.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(so)<0)return!1}return!0}},{key:"containsPoint",value:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}();function co(){var e=null,t=!1,n=null,r=null;function i(t,a){n(t,a),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function fo(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var a=r.get(t);(!a||a.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version})}else{t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,r){var i,a=t.array,o=t.usage,u=e.createBuffer();if(e.bindBuffer(r,u),e.bufferData(r,a,o),t.onUploadCallback(),a instanceof Float32Array)i=5126;else if(a instanceof Uint16Array)if(t.isFloat16BufferAttribute){if(!n)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");i=5131}else i=5123;else if(a instanceof Int16Array)i=5122;else if(a instanceof Uint32Array)i=5125;else if(a instanceof Int32Array)i=5124;else if(a instanceof Int8Array)i=5120;else if(a instanceof Uint8Array)i=5121;else{if(!(a instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+a);i=5121}return{buffer:u,type:i,bytesPerElement:a.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){var a=r.array,o=r.updateRange;e.bindBuffer(i,t),-1===o.count?e.bufferSubData(i,0,a):(n?e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a,o.offset,o.count):e.bufferSubData(i,o.offset*a.BYTES_PER_ELEMENT,a.subarray(o.offset,o.offset+o.count)),o.count=-1)}(o.buffer,t,i),o.version=t.version)}}}}var ho=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;S(this,n),(e=t.call(this)).type="PlaneGeometry",e.parameters={width:r,height:i,widthSegments:a,heightSegments:o};for(var u=r/2,s=i/2,l=Math.floor(a),c=Math.floor(o),f=l+1,h=c+1,d=r/l,p=i/c,v=[],m=[],g=[],y=[],b=0;b<h;b++)for(var x=b*p-s,_=0;_<f;_++){var w=_*d-u;m.push(w,-x,0),g.push(0,0,1),y.push(_/l),y.push(1-b/c)}for(var k=0;k<c;k++)for(var M=0;M<l;M++){var E=M+f*k,T=M+f*(k+1),A=M+1+f*(k+1),C=M+1+f*k;v.push(E,T,C),v.push(T,A,C)}return e.setIndex(v),e.setAttribute("position",new ga(m,3)),e.setAttribute("normal",new ga(g,3)),e.setAttribute("uv",new ga(y,2)),e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.width,e.height,e.widthSegments,e.heightSegments)}}]),n}(Ea),po={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 ) + 0.5;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARCOLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vUv ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;\n\t#endif\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationColor, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = mix( transmissionAlpha, transmission.a, transmissionFactor );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef texture2DLodEXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tgl_FragColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tgl_FragColor = vec4( mix( pow( gl_FragColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), gl_FragColor.rgb * 0.0773993808, vec3( lessThanEqual( gl_FragColor.rgb, vec3( 0.04045 ) ) ) ), gl_FragColor.w );\n\t#endif\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARCOLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEENCOLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEENROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}"},vo={common:{diffuse:{value:new Cr(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new dr},uv2Transform:{value:new dr},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new hr(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Cr(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Cr(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new dr}},sprite:{diffuse:{value:new Cr(16777215)},opacity:{value:1},center:{value:new hr(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new dr}}},mo={basic:{uniforms:Xa([vo.common,vo.specularmap,vo.envmap,vo.aomap,vo.lightmap,vo.fog]),vertexShader:po.meshbasic_vert,fragmentShader:po.meshbasic_frag},lambert:{uniforms:Xa([vo.common,vo.specularmap,vo.envmap,vo.aomap,vo.lightmap,vo.emissivemap,vo.fog,vo.lights,{emissive:{value:new Cr(0)}}]),vertexShader:po.meshlambert_vert,fragmentShader:po.meshlambert_frag},phong:{uniforms:Xa([vo.common,vo.specularmap,vo.envmap,vo.aomap,vo.lightmap,vo.emissivemap,vo.bumpmap,vo.normalmap,vo.displacementmap,vo.fog,vo.lights,{emissive:{value:new Cr(0)},specular:{value:new Cr(1118481)},shininess:{value:30}}]),vertexShader:po.meshphong_vert,fragmentShader:po.meshphong_frag},standard:{uniforms:Xa([vo.common,vo.envmap,vo.aomap,vo.lightmap,vo.emissivemap,vo.bumpmap,vo.normalmap,vo.displacementmap,vo.roughnessmap,vo.metalnessmap,vo.fog,vo.lights,{emissive:{value:new Cr(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:po.meshphysical_vert,fragmentShader:po.meshphysical_frag},toon:{uniforms:Xa([vo.common,vo.aomap,vo.lightmap,vo.emissivemap,vo.bumpmap,vo.normalmap,vo.displacementmap,vo.gradientmap,vo.fog,vo.lights,{emissive:{value:new Cr(0)}}]),vertexShader:po.meshtoon_vert,fragmentShader:po.meshtoon_frag},matcap:{uniforms:Xa([vo.common,vo.bumpmap,vo.normalmap,vo.displacementmap,vo.fog,{matcap:{value:null}}]),vertexShader:po.meshmatcap_vert,fragmentShader:po.meshmatcap_frag},points:{uniforms:Xa([vo.points,vo.fog]),vertexShader:po.points_vert,fragmentShader:po.points_frag},dashed:{uniforms:Xa([vo.common,vo.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:po.linedashed_vert,fragmentShader:po.linedashed_frag},depth:{uniforms:Xa([vo.common,vo.displacementmap]),vertexShader:po.depth_vert,fragmentShader:po.depth_frag},normal:{uniforms:Xa([vo.common,vo.bumpmap,vo.normalmap,vo.displacementmap,{opacity:{value:1}}]),vertexShader:po.meshnormal_vert,fragmentShader:po.meshnormal_frag},sprite:{uniforms:Xa([vo.sprite,vo.fog]),vertexShader:po.sprite_vert,fragmentShader:po.sprite_frag},background:{uniforms:{uvTransform:{value:new dr},t2D:{value:null}},vertexShader:po.background_vert,fragmentShader:po.background_frag},cube:{uniforms:Xa([vo.envmap,{opacity:{value:1}}]),vertexShader:po.cube_vert,fragmentShader:po.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:po.equirect_vert,fragmentShader:po.equirect_frag},distanceRGBA:{uniforms:Xa([vo.common,vo.displacementmap,{referencePosition:{value:new Zr},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:po.distanceRGBA_vert,fragmentShader:po.distanceRGBA_frag},shadow:{uniforms:Xa([vo.lights,vo.fog,{color:{value:new Cr(0)},opacity:{value:1}}]),vertexShader:po.shadow_vert,fragmentShader:po.shadow_frag}};function go(e,t,n,r,i,a){var o,u,s=new Cr(0),l=!0===i?0:1,c=null,f=0,h=null;function d(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,a)}return{getClearColor:function(){return s},setClearColor:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;s.set(e),d(s,l=t)},getClearAlpha:function(){return l},setClearAlpha:function(e){d(s,l=e)},render:function(n,i){var a=!1,p=!0===i.isScene?i.background:null;p&&p.isTexture&&(p=t.get(p));var v=e.xr,m=v.getSession&&v.getSession();m&&"additive"===m.environmentBlendMode&&(p=null),null===p?d(s,l):p&&p.isColor&&(d(p,1),a=!0),(e.autoClear||a)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),p&&(p.isCubeTexture||p.mapping===We)?(void 0===u&&((u=new Ga(new Va(1,1,1),new Ya({name:"BackgroundCubeMaterial",uniforms:qa(mo.cube.uniforms),vertexShader:mo.cube.vertexShader,fragmentShader:mo.cube.fragmentShader,side:K,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=p,u.material.uniforms.flipEnvMap.value=p.isCubeTexture&&!1===p.isRenderTargetTexture?-1:1,c===p&&f===p.version&&h===e.toneMapping||(u.material.needsUpdate=!0,c=p,f=p.version,h=e.toneMapping),n.unshift(u,u.geometry,u.material,0,0,null)):p&&p.isTexture&&(void 0===o&&((o=new Ga(new ho(2,2),new Ya({name:"BackgroundMaterial",uniforms:qa(mo.background.uniforms),vertexShader:mo.background.vertexShader,fragmentShader:mo.background.fragmentShader,side:Y,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(o)),o.material.uniforms.t2D.value=p,!0===p.matrixAutoUpdate&&p.updateMatrix(),o.material.uniforms.uvTransform.value.copy(p.matrix),c===p&&f===p.version&&h===e.toneMapping||(o.material.needsUpdate=!0,c=p,f=p.version,h=e.toneMapping),n.unshift(o,o.geometry,o.material,0,0,null))}}}function yo(e,t,n,r){var i=e.getParameter(34921),a=r.isWebGL2?null:t.get("OES_vertex_array_object"),o=r.isWebGL2||null!==a,u={},s=d(null),l=s,c=!1;function f(t){return r.isWebGL2?e.bindVertexArray(t):a.bindVertexArrayOES(t)}function h(t){return r.isWebGL2?e.deleteVertexArray(t):a.deleteVertexArrayOES(t)}function d(e){for(var t=[],n=[],r=[],a=0;a<i;a++)t[a]=0,n[a]=0,r[a]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function p(){for(var e=l.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function v(e){m(e,0)}function m(n,i){var a=l.newAttributes,o=l.enabledAttributes,u=l.attributeDivisors;(a[n]=1,0===o[n]&&(e.enableVertexAttribArray(n),o[n]=1),u[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),u[n]=i)}function g(){for(var t=l.newAttributes,n=l.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,i,a,o,u){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,a,o,u):e.vertexAttribIPointer(t,n,i,o,u)}function b(){x(),c=!0,l!==s&&f((l=s).object)}function x(){s.geometry=null,s.program=null,s.wireframe=!1}return{setup:function(i,s,h,b,x){var _=!1;if(o){var w=function(t,n,i){var o=!0===i.wireframe,s=u[t.id];void 0===s&&(s={},u[t.id]=s);var l=s[n.id];void 0===l&&(l={},s[n.id]=l);var c=l[o];void 0===c&&(c=d(r.isWebGL2?e.createVertexArray():a.createVertexArrayOES()),l[o]=c);return c}(b,h,s);l!==w&&f((l=w).object),_=function(e,t){var n=l.attributes,r=e.attributes,i=0;for(var a in r){var o=n[a],u=r[a];if(void 0===o)return!0;if(o.attribute!==u)return!0;if(o.data!==u.data)return!0;i++}return l.attributesNum!==i||l.index!==t}(b,x),_&&function(e,t){var n={},r=e.attributes,i=0;for(var a in r){var o=r[a],u={};u.attribute=o,o.data&&(u.data=o.data),n[a]=u,i++}l.attributes=n,l.attributesNum=i,l.index=t}(b,x)}else{var S=!0===s.wireframe;l.geometry===b.id&&l.program===h.id&&l.wireframe===S||(l.geometry=b.id,l.program=h.id,l.wireframe=S,_=!0)}!0===i.isInstancedMesh&&(_=!0),null!==x&&n.update(x,34963),(_||c)&&(c=!1,function(i,a,o,u){if(!1===r.isWebGL2&&(i.isInstancedMesh||u.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;p();var s=u.attributes,l=o.getAttributes(),c=a.defaultAttributeValues;for(var f in l){var h=l[f];if(h.location>=0){var d=s[f];if(void 0===d&&("instanceMatrix"===f&&i.instanceMatrix&&(d=i.instanceMatrix),"instanceColor"===f&&i.instanceColor&&(d=i.instanceColor)),void 0!==d){var b=d.normalized,x=d.itemSize,_=n.get(d);if(void 0===_)continue;var w=_.buffer,S=_.type,k=_.bytesPerElement;if(d.isInterleavedBufferAttribute){var M=d.data,E=M.stride,T=d.offset;if(M.isInstancedInterleavedBuffer){for(var A=0;A<h.locationSize;A++)m(h.location+A,M.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===u._maxInstanceCount&&(u._maxInstanceCount=M.meshPerAttribute*M.count)}else for(var C=0;C<h.locationSize;C++)v(h.location+C);e.bindBuffer(34962,w);for(var R=0;R<h.locationSize;R++)y(h.location+R,x/h.locationSize,S,b,E*k,(T+x/h.locationSize*R)*k)}else{if(d.isInstancedBufferAttribute){for(var P=0;P<h.locationSize;P++)m(h.location+P,d.meshPerAttribute);!0!==i.isInstancedMesh&&void 0===u._maxInstanceCount&&(u._maxInstanceCount=d.meshPerAttribute*d.count)}else for(var L=0;L<h.locationSize;L++)v(h.location+L);e.bindBuffer(34962,w);for(var O=0;O<h.locationSize;O++)y(h.location+O,x/h.locationSize,S,b,x*k,x/h.locationSize*O*k)}}else if(void 0!==c){var I=c[f];if(void 0!==I)switch(I.length){case 2:e.vertexAttrib2fv(h.location,I);break;case 3:e.vertexAttrib3fv(h.location,I);break;case 4:e.vertexAttrib4fv(h.location,I);break;default:e.vertexAttrib1fv(h.location,I)}}}}g()}(i,s,h,b),null!==x&&e.bindBuffer(34963,n.get(x).buffer))},reset:b,resetDefaultState:x,dispose:function(){for(var e in b(),u){var t=u[e];for(var n in t){var r=t[n];for(var i in r)h(r[i].object),delete r[i];delete t[n]}delete u[e]}},releaseStatesOfGeometry:function(e){if(void 0!==u[e.id]){var t=u[e.id];for(var n in t){var r=t[n];for(var i in r)h(r[i].object),delete r[i];delete t[n]}delete u[e.id]}},releaseStatesOfProgram:function(e){for(var t in u){var n=u[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)h(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:p,enableAttribute:v,disableUnusedAttributes:g}}function bo(e,t,n,r){var i,a=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i,1)},this.renderInstances=function(r,o,u){if(0!==u){var s,l;if(a)s=e,l="drawArraysInstanced";else if(l="drawArraysInstancedANGLE",null===(s=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");s[l](i,r,o,u),n.update(o,i,u)}}}function xo(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var a="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,o=void 0!==n.precision?n.precision:"highp",u=i(o);u!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",u,"instead."),o=u);var s=a||t.has("WEBGL_draw_buffers"),l=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),f=e.getParameter(35660),h=e.getParameter(3379),d=e.getParameter(34076),p=e.getParameter(34921),v=e.getParameter(36347),m=e.getParameter(36348),g=e.getParameter(36349),y=f>0,b=a||t.has("OES_texture_float");return{isWebGL2:a,drawBuffers:s,getMaxAnisotropy:function(){if(void 0!==r)return r;if(!0===t.has("EXT_texture_filter_anisotropic")){var n=t.get("EXT_texture_filter_anisotropic");r=e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r},getMaxPrecision:i,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:v,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:y&&b,maxSamples:a?e.getParameter(36183):0}}function _o(e){var t=this,n=null,r=0,i=!1,a=!1,o=new oo,u=new dr,s={value:null,needsUpdate:!1};function l(){s.value!==n&&(s.value=n,s.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function c(e,n,r,i){var a=null!==e?e.length:0,l=null;if(0!==a){if(l=s.value,!0!==i||null===l){var c=r+4*a,f=n.matrixWorldInverse;u.getNormalMatrix(f),(null===l||l.length<c)&&(l=new Float32Array(c));for(var h=0,d=r;h!==a;++h,d+=4)o.copy(e[h]).applyMatrix4(f,u),o.normal.toArray(l,d),l[d+3]=o.constant}s.value=l,s.needsUpdate=!0}return t.numPlanes=a,t.numIntersection=0,l}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,a){var o=0!==e.length||t||0!==r||i;return i=t,n=c(e,a,0),r=e.length,o},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1,l()},this.setState=function(t,o,u){var f=t.clippingPlanes,h=t.clipIntersection,d=t.clipShadows,p=e.get(t);if(!i||null===f||0===f.length||a&&!d)a?c(null):l();else{var v=a?0:r,m=4*v,g=p.clippingState||null;s.value=g,g=c(f,o,m,u);for(var y=0;y!==m;++y)g[y]=n[y];p.clippingState=g,this.numIntersection=h?this.numPlanes:0,this.numPlanes+=v}}}function wo(e){var t=new WeakMap;function n(e,t){return t===Ze?e.mapping=je:t===Ge&&(e.mapping=He),e}function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture&&!1===i.isRenderTargetTexture){var a=i.mapping;if(a===Ze||a===Ge){if(t.has(i))return n(t.get(i).texture,i.mapping);var o=i.image;if(o&&o.height>0){var u=new no(o.height/2);return u.fromEquirectangularTexture(e,i),t.set(i,u),i.addEventListener("dispose",r),n(u.texture,i.mapping)}return null}}return i},dispose:function(){t=new WeakMap}}}mo.physical={uniforms:Xa([mo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new hr(1,1)},clearcoatNormalMap:{value:null},sheen:{value:0},sheenColor:{value:new Cr(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new hr},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Cr(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Cr(1,1,1)},specularColorMap:{value:null}}]),vertexShader:po.meshphysical_vert,fragmentShader:po.meshphysical_frag};var So=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.1,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2e3;return S(this,n),(e=t.call(this)).type="OrthographicCamera",e.zoom=1,e.view=null,e.left=r,e.right=i,e.top=a,e.bottom=o,e.near=u,e.far=s,e.updateProjectionMatrix(),e}return M(n,[{key:"copy",value:function(e,t){return D(T(n.prototype),"copy",this).call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}},{key:"setViewOffset",value:function(e,t,n,r,i,a){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=a,this.updateProjectionMatrix()}},{key:"clearViewOffset",value:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}},{key:"updateProjectionMatrix",value:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,a=n+e,o=r+t,u=r-t;if(null!==this.view&&this.view.enabled){var s=(this.right-this.left)/this.view.fullWidth/this.zoom,l=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a=(i+=s*this.view.offsetX)+s*this.view.width,u=(o-=l*this.view.offsetY)-l*this.view.height}this.projectionMatrix.makeOrthographic(i,a,o,u,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}},{key:"toJSON",value:function(e){var t=D(T(n.prototype),"toJSON",this).call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}]),n}(Ka);So.prototype.isOrthographicCamera=!0;var ko=[.125,.215,.35,.446,.526,.582],Mo=20,Eo=new So,To=new Cr,Ao=null,Co=(1+Math.sqrt(5))/2,Ro=1/Co,Po=[new Zr(1,1,1),new Zr(-1,1,1),new Zr(1,1,-1),new Zr(-1,1,-1),new Zr(0,Co,Ro),new Zr(0,Co,-Ro),new Zr(Ro,0,Co),new Zr(-Ro,0,Co),new Zr(Co,Ro,0),new Zr(-Co,Ro,0)],Lo=function(){function e(t){S(this,e),this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}return M(e,[{key:"fromScene",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Ao=this._renderer.getRenderTarget(),this._setSize(256);var i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}},{key:"fromEquirectangular",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"fromCubemap",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._fromTexture(e,t)}},{key:"compileCubemapShader",value:function(){null===this._cubemapMaterial&&(this._cubemapMaterial=No(),this._compileMaterial(this._cubemapMaterial))}},{key:"compileEquirectangularShader",value:function(){null===this._equirectMaterial&&(this._equirectMaterial=Do(),this._compileMaterial(this._equirectMaterial))}},{key:"dispose",value:function(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}},{key:"_setSize",value:function(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}},{key:"_dispose",value:function(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(var e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}},{key:"_cleanup",value:function(e){this._renderer.setRenderTarget(Ao),e.scissorTest=!1,Io(e,0,0,e.width,e.height)}},{key:"_fromTexture",value:function(e,t){e.mapping===je||e.mapping===He?this._setSize(0===e.image.length?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Ao=this._renderer.getRenderTarget();var n=t||this._allocateTargets();return this._textureToCubeUV(e,n),this._applyPMREM(n),this._cleanup(n),n}},{key:"_allocateTargets",value:function(){var e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize-32,n={magFilter:et,minFilter:et,generateMipmaps:!1,type:ht,format:yt,encoding:vn,depthBuffer:!1},r=Oo(e,t,n);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=Oo(e,t,n);var i=this._lodMax,a=function(e){for(var t=[],n=[],r=[],i=e,a=e-4+1+ko.length,o=0;o<a;o++){var u=Math.pow(2,i);n.push(u);var s=1/u;o>e-4?s=ko[o-e+4-1]:0===o&&(s=0),r.push(s);for(var l=1/(u-1),c=-l/2,f=1+l/2,h=[c,c,f,c,f,f,c,c,f,f,c,f],d=6,p=6,v=3,m=2,g=1,y=new Float32Array(v*p*d),b=new Float32Array(m*p*d),x=new Float32Array(g*p*d),_=0;_<d;_++){var w=_%3*2/3-1,S=_>2?0:-1,k=[w,S,0,w+2/3,S,0,w+2/3,S+1,0,w,S,0,w+2/3,S+1,0,w,S+1,0];y.set(k,v*p*_),b.set(h,m*p*_);var M=[_,_,_,_,_,_];x.set(M,g*p*_)}var E=new Ea;E.setAttribute("position",new sa(y,v)),E.setAttribute("uv",new sa(b,m)),E.setAttribute("faceIndex",new sa(x,g)),t.push(E),i>4&&i--}return{lodPlanes:t,sizeLods:n,sigmas:r}}(i);this._sizeLods=a.sizeLods,this._lodPlanes=a.lodPlanes,this._sigmas=a.sigmas,this._blurMaterial=function(e,t,n){var r=new Float32Array(Mo),i=new Zr(0,1,0);return new Ya({name:"SphericalGaussianBlur",defines:{n:Mo,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:"".concat(e,".0")},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:te,depthTest:!1,depthWrite:!1})}(i,e,t)}return r}},{key:"_compileMaterial",value:function(e){var t=new Ga(this._lodPlanes[0],e);this._renderer.compile(t,Eo)}},{key:"_sceneToCubeUV",value:function(e,t,n,r){var i=new Ja(90,1,t,n),a=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],u=this._renderer,s=u.autoClear,l=u.toneMapping;u.getClearColor(To),u.toneMapping=Ie,u.autoClear=!1;var c=new aa({name:"PMREM.Background",side:K,depthWrite:!1,depthTest:!1}),f=new Ga(new Va,c),h=!1,d=e.background;d?d.isColor&&(c.color.copy(d),e.background=null,h=!0):(c.color.copy(To),h=!0);for(var p=0;p<6;p++){var v=p%3;0===v?(i.up.set(0,a[p],0),i.lookAt(o[p],0,0)):1===v?(i.up.set(0,0,a[p]),i.lookAt(0,o[p],0)):(i.up.set(0,a[p],0),i.lookAt(0,0,o[p]));var m=this._cubeSize;Io(r,v*m,p>2?m:0,m,m),u.setRenderTarget(r),h&&u.render(f,i),u.render(e,i)}f.geometry.dispose(),f.material.dispose(),u.toneMapping=l,u.autoClear=s,e.background=d}},{key:"_textureToCubeUV",value:function(e,t){var n=this._renderer,r=e.mapping===je||e.mapping===He;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=No()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=Do());var i=r?this._cubemapMaterial:this._equirectMaterial,a=new Ga(this._lodPlanes[0],i);i.uniforms.envMap.value=e;var o=this._cubeSize;Io(t,0,0,3*o,2*o),n.setRenderTarget(t),n.render(a,Eo)}},{key:"_applyPMREM",value:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<this._lodPlanes.length;r++){var i=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),a=Po[(r-1)%Po.length];this._blur(e,r-1,r,i,a)}t.autoClear=n}},{key:"_blur",value:function(e,t,n,r,i){var a=this._pingPongRenderTarget;this._halfBlur(e,a,t,n,r,"latitudinal",i),this._halfBlur(a,e,n,n,r,"longitudinal",i)}},{key:"_halfBlur",value:function(e,t,n,r,i,a,o){var u=this._renderer,s=this._blurMaterial;"latitudinal"!==a&&"longitudinal"!==a&&console.error("blur direction must be either latitudinal or longitudinal!");var l=new Ga(this._lodPlanes[r],s),c=s.uniforms,f=this._sizeLods[n]-1,h=isFinite(i)?Math.PI/(2*f):2*Math.PI/39,d=i/h,p=isFinite(i)?1+Math.floor(3*d):Mo;p>Mo&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(p," samples when the maximum is set to ").concat(Mo));for(var v=[],m=0,g=0;g<Mo;++g){var y=g/d,b=Math.exp(-y*y/2);v.push(b),0===g?m+=b:g<p&&(m+=2*b)}for(var x=0;x<v.length;x++)v[x]=v[x]/m;c.envMap.value=e.texture,c.samples.value=p,c.weights.value=v,c.latitudinal.value="latitudinal"===a,o&&(c.poleAxis.value=o);var _=this._lodMax;c.dTheta.value=h,c.mipInt.value=_-n;var w=this._sizeLods[r];Io(t,3*w*(r>_-4?r-_+4:0),4*(this._cubeSize-w),3*w,2*w),u.setRenderTarget(t),u.render(l,Eo)}}]),e}();function Oo(e,t,n){var r=new Nr(e,t,n);return r.texture.mapping=We,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Io(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Do(){return new Ya({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:te,depthTest:!1,depthWrite:!1})}function No(){return new Ya({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:te,depthTest:!1,depthWrite:!1})}function zo(e){var t=new WeakMap,n=null;function r(e){var n=e.target;n.removeEventListener("dispose",r);var i=t.get(n);void 0!==i&&(t.delete(n),i.dispose())}return{get:function(i){if(i&&i.isTexture){var a=i.mapping,o=a===Ze||a===Ge,u=a===je||a===He;if(o||u){if(i.isRenderTargetTexture&&!0===i.needsPMREMUpdate){i.needsPMREMUpdate=!1;var s=t.get(i);return null===n&&(n=new Lo(e)),s=o?n.fromEquirectangular(i,s):n.fromCubemap(i,s),t.set(i,s),s.texture}if(t.has(i))return t.get(i).texture;var l=i.image;if(o&&l&&l.height>0||u&&l&&function(e){for(var t=0,n=6,r=0;r<n;r++)void 0!==e[r]&&t++;return t===n}(l)){null===n&&(n=new Lo(e));var c=o?n.fromEquirectangular(i):n.fromCubemap(i);return t.set(i,c),i.addEventListener("dispose",r),c.texture}return null}}return i},dispose:function(){t=new WeakMap,null!==n&&(n.dispose(),n=null)}}}function Fo(e){var t={};function n(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,r}return{has:function(e){return null!==n(e)},init:function(e){e.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(e){var t=n(e);return null===t&&console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t}}}function Bo(e,t,n,r){var i={},a=new WeakMap;function o(e){var u=e.target;for(var s in null!==u.index&&t.remove(u.index),u.attributes)t.remove(u.attributes[s]);u.removeEventListener("dispose",o),delete i[u.id];var l=a.get(u);l&&(t.remove(l),a.delete(u)),r.releaseStatesOfGeometry(u),!0===u.isInstancedBufferGeometry&&delete u._maxInstanceCount,n.memory.geometries--}function u(e){var n=[],r=e.index,i=e.attributes.position,o=0;if(null!==r){var u=r.array;o=r.version;for(var s=0,l=u.length;s<l;s+=3){var c=u[s+0],f=u[s+1],h=u[s+2];n.push(c,f,f,h,h,c)}}else{var d=i.array;o=i.version;for(var p=0,v=d.length/3-1;p<v;p+=3){var m=p+0,g=p+1,y=p+2;n.push(m,g,g,y,y,m)}}var b=new(pr(n)?va:da)(n,1);b.version=o;var x=a.get(e);x&&t.remove(x),a.set(e,b)}return{get:function(e,t){return!0===i[t.id]||(t.addEventListener("dispose",o),i[t.id]=!0,n.memory.geometries++),t},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var i=e.morphAttributes;for(var a in i)for(var o=i[a],u=0,s=o.length;u<s;u++)t.update(o[u],34962)},getWireframeAttribute:function(e){var t=a.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&u(e)}else u(e);return a.get(e)}}}function Uo(e,t,n,r){var i,a,o,u=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){a=e.type,o=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,a,t*o),n.update(r,i,1)},this.renderInstances=function(r,s,l){if(0!==l){var c,f;if(u)c=e,f="drawElementsInstanced";else if(f="drawElementsInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[f](i,s,a,r*o,l),n.update(s,i,l)}}}function jo(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Ho(e,t){return e[0]-t[0]}function Zo(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Go(e,t){var n=1,r=t.isInterleavedBufferAttribute?t.data.array:t.array;r instanceof Int8Array?n=127:r instanceof Int16Array?n=32767:r instanceof Int32Array?n=2147483647:console.error("THREE.WebGLMorphtargets: Unsupported morph attribute data type: ",r),e.divideScalar(n)}function Wo(e,t,n){for(var r={},i=new Float32Array(8),a=new WeakMap,o=new Dr,u=[],s=0;s<8;s++)u[s]=[s,0];return{update:function(s,l,c,f){var h=s.morphTargetInfluences;if(!0===t.isWebGL2){var d=l.morphAttributes.position||l.morphAttributes.normal||l.morphAttributes.color,p=void 0!==d?d.length:0,v=a.get(l);if(void 0===v||v.count!==p){void 0!==v&&v.texture.dispose();var m=void 0!==l.morphAttributes.position,g=void 0!==l.morphAttributes.normal,y=void 0!==l.morphAttributes.color,b=l.morphAttributes.position||[],x=l.morphAttributes.normal||[],_=l.morphAttributes.color||[],w=0;!0===m&&(w=1),!0===g&&(w=2),!0===y&&(w=3);var S=l.attributes.position.count*w,k=1;S>t.maxTextureSize&&(k=Math.ceil(S/t.maxTextureSize),S=t.maxTextureSize);var M=new Float32Array(S*k*4*p),E=new zr(M,S,k,p);E.type=ft,E.needsUpdate=!0;for(var T=4*w,A=0;A<p;A++)for(var C=b[A],R=x[A],P=_[A],L=S*k*4*A,O=0;O<C.count;O++){var I=O*T;!0===m&&(o.fromBufferAttribute(C,O),!0===C.normalized&&Go(o,C),M[L+I+0]=o.x,M[L+I+1]=o.y,M[L+I+2]=o.z,M[L+I+3]=0),!0===g&&(o.fromBufferAttribute(R,O),!0===R.normalized&&Go(o,R),M[L+I+4]=o.x,M[L+I+5]=o.y,M[L+I+6]=o.z,M[L+I+7]=0),!0===y&&(o.fromBufferAttribute(P,O),!0===P.normalized&&Go(o,P),M[L+I+8]=o.x,M[L+I+9]=o.y,M[L+I+10]=o.z,M[L+I+11]=4===P.itemSize?o.w:1)}v={count:p,texture:E,size:new hr(S,k)},a.set(l,v),l.addEventListener("dispose",(function e(){E.dispose(),a.delete(l),l.removeEventListener("dispose",e)}))}for(var D=0,N=0;N<h.length;N++)D+=h[N];var z=l.morphTargetsRelative?1:1-D;f.getUniforms().setValue(e,"morphTargetBaseInfluence",z),f.getUniforms().setValue(e,"morphTargetInfluences",h),f.getUniforms().setValue(e,"morphTargetsTexture",v.texture,n),f.getUniforms().setValue(e,"morphTargetsTextureSize",v.size)}else{var F=void 0===h?0:h.length,B=r[l.id];if(void 0===B||B.length!==F){B=[];for(var U=0;U<F;U++)B[U]=[U,0];r[l.id]=B}for(var j=0;j<F;j++){var H=B[j];H[0]=j,H[1]=h[j]}B.sort(Zo);for(var Z=0;Z<8;Z++)Z<F&&B[Z][1]?(u[Z][0]=B[Z][0],u[Z][1]=B[Z][1]):(u[Z][0]=Number.MAX_SAFE_INTEGER,u[Z][1]=0);u.sort(Ho);for(var G=l.morphAttributes.position,W=l.morphAttributes.normal,V=0,q=0;q<8;q++){var X=u[q],$=X[0],Y=X[1];$!==Number.MAX_SAFE_INTEGER&&Y?(G&&l.getAttribute("morphTarget"+q)!==G[$]&&l.setAttribute("morphTarget"+q,G[$]),W&&l.getAttribute("morphNormal"+q)!==W[$]&&l.setAttribute("morphNormal"+q,W[$]),i[q]=Y,V+=Y):(G&&!0===l.hasAttribute("morphTarget"+q)&&l.deleteAttribute("morphTarget"+q),W&&!0===l.hasAttribute("morphNormal"+q)&&l.deleteAttribute("morphNormal"+q),i[q]=0)}var K=l.morphTargetsRelative?1:1-V;f.getUniforms().setValue(e,"morphTargetBaseInfluence",K),f.getUniforms().setValue(e,"morphTargetInfluences",i)}}}}function Vo(e,t,n,r){var i=new WeakMap;function a(e){var t=e.target;t.removeEventListener("dispose",a),n.remove(t.instanceMatrix),null!==t.instanceColor&&n.remove(t.instanceColor)}return{update:function(e){var o=r.render.frame,u=e.geometry,s=t.get(e,u);return i.get(s)!==o&&(t.update(s),i.set(s,o)),e.isInstancedMesh&&(!1===e.hasEventListener("dispose",a)&&e.addEventListener("dispose",a),n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),s},dispose:function(){i=new WeakMap}}}var qo=new Ir,Xo=new zr,$o=new Br,Yo=new to,Ko=[],Jo=[],Qo=new Float32Array(16),eu=new Float32Array(9),tu=new Float32Array(4);function nu(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,a=Ko[i];if(void 0===a&&(a=new Float32Array(i),Ko[i]=a),0!==t){r.toArray(a,0);for(var o=1,u=0;o!==t;++o)u+=n,e[o].toArray(a,u)}return a}function ru(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function iu(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function au(e,t){var n=Jo[t];void 0===n&&(n=new Int32Array(t),Jo[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function ou(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function uu(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(ru(n,t))return;e.uniform2fv(this.addr,t),iu(n,t)}}function su(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(ru(n,t))return;e.uniform3fv(this.addr,t),iu(n,t)}}function lu(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(ru(n,t))return;e.uniform4fv(this.addr,t),iu(n,t)}}function cu(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(ru(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),iu(n,t)}else{if(ru(n,r))return;tu.set(r),e.uniformMatrix2fv(this.addr,!1,tu),iu(n,r)}}function fu(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(ru(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),iu(n,t)}else{if(ru(n,r))return;eu.set(r),e.uniformMatrix3fv(this.addr,!1,eu),iu(n,r)}}function hu(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(ru(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),iu(n,t)}else{if(ru(n,r))return;Qo.set(r),e.uniformMatrix4fv(this.addr,!1,Qo),iu(n,r)}}function du(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function pu(e,t){var n=this.cache;ru(n,t)||(e.uniform2iv(this.addr,t),iu(n,t))}function vu(e,t){var n=this.cache;ru(n,t)||(e.uniform3iv(this.addr,t),iu(n,t))}function mu(e,t){var n=this.cache;ru(n,t)||(e.uniform4iv(this.addr,t),iu(n,t))}function gu(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function yu(e,t){var n=this.cache;ru(n,t)||(e.uniform2uiv(this.addr,t),iu(n,t))}function bu(e,t){var n=this.cache;ru(n,t)||(e.uniform3uiv(this.addr,t),iu(n,t))}function xu(e,t){var n=this.cache;ru(n,t)||(e.uniform4uiv(this.addr,t),iu(n,t))}function _u(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(t||qo,i)}function wu(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||$o,i)}function Su(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(t||Yo,i)}function ku(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||Xo,i)}function Mu(e,t){e.uniform1fv(this.addr,t)}function Eu(e,t){var n=nu(t,this.size,2);e.uniform2fv(this.addr,n)}function Tu(e,t){var n=nu(t,this.size,3);e.uniform3fv(this.addr,n)}function Au(e,t){var n=nu(t,this.size,4);e.uniform4fv(this.addr,n)}function Cu(e,t){var n=nu(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function Ru(e,t){var n=nu(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Pu(e,t){var n=nu(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Lu(e,t){e.uniform1iv(this.addr,t)}function Ou(e,t){e.uniform2iv(this.addr,t)}function Iu(e,t){e.uniform3iv(this.addr,t)}function Du(e,t){e.uniform4iv(this.addr,t)}function Nu(e,t){e.uniform1uiv(this.addr,t)}function zu(e,t){e.uniform2uiv(this.addr,t)}function Fu(e,t){e.uniform3uiv(this.addr,t)}function Bu(e,t){e.uniform4uiv(this.addr,t)}function Uu(e,t,n){var r=t.length,i=au(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.setTexture2D(t[a]||qo,i[a])}function ju(e,t,n){var r=t.length,i=au(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.setTexture3D(t[a]||$o,i[a])}function Hu(e,t,n){var r=t.length,i=au(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.setTextureCube(t[a]||Yo,i[a])}function Zu(e,t,n){var r=t.length,i=au(n,r);e.uniform1iv(this.addr,i);for(var a=0;a!==r;++a)n.setTexture2DArray(t[a]||Xo,i[a])}function Gu(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return ou;case 35664:return uu;case 35665:return su;case 35666:return lu;case 35674:return cu;case 35675:return fu;case 35676:return hu;case 5124:case 35670:return du;case 35667:case 35671:return pu;case 35668:case 35672:return vu;case 35669:case 35673:return mu;case 5125:return gu;case 36294:return yu;case 36295:return bu;case 36296:return xu;case 35678:case 36198:case 36298:case 36306:case 35682:return _u;case 35679:case 36299:case 36307:return wu;case 35680:case 36300:case 36308:case 36293:return Su;case 36289:case 36303:case 36311:case 36292:return ku}}(t.type)}function Wu(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Mu;case 35664:return Eu;case 35665:return Tu;case 35666:return Au;case 35674:return Cu;case 35675:return Ru;case 35676:return Pu;case 5124:case 35670:return Lu;case 35667:case 35671:return Ou;case 35668:case 35672:return Iu;case 35669:case 35673:return Du;case 5125:return Nu;case 36294:return zu;case 36295:return Fu;case 36296:return Bu;case 35678:case 36198:case 36298:case 36306:case 35682:return Uu;case 35679:case 36299:case 36307:return ju;case 35680:case 36300:case 36308:case 36293:return Hu;case 36289:case 36303:case 36311:case 36292:return Zu}}(t.type)}function Vu(e){this.id=e,this.seq=[],this.map={}}Wu.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),iu(t,e)},Vu.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,a=r.length;i!==a;++i){var o=r[i];o.setValue(e,t[o.id],n)}};var qu=/(\w+)(\])?(\[|\.)?/g;function Xu(e,t){e.seq.push(t),e.map[t.id]=t}function $u(e,t,n){var r=e.name,i=r.length;for(qu.lastIndex=0;;){var a=qu.exec(r),o=qu.lastIndex,u=a[1],s="]"===a[2],l=a[3];if(s&&(u|=0),void 0===l||"["===l&&o+2===i){Xu(n,void 0===l?new Gu(u,e,t):new Wu(u,e,t));break}var c=n.map[u];void 0===c&&Xu(n,c=new Vu(u)),n=c}}function Yu(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var i=e.getActiveUniform(t,r);$u(i,e.getUniformLocation(t,i.name),this)}}function Ku(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}Yu.prototype.setValue=function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)},Yu.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},Yu.upload=function(e,t,n,r){for(var i=0,a=t.length;i!==a;++i){var o=t[i],u=n[o.id];!1!==u.needsUpdate&&o.setValue(e,u.value,r)}},Yu.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var a=e[r];a.id in t&&n.push(a)}return n};var Ju=0;function Qu(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";var a=parseInt(/ERROR: 0:(\d+)/.exec(i)[1]);return n.toUpperCase()+"\n\n"+i+"\n\n"+function(e,t){for(var n=e.split("\n"),r=[],i=Math.max(t-6,0),a=Math.min(t+6,n.length),o=i;o<a;o++)r.push(o+1+": "+n[o]);return r.join("\n")}(e.getShaderSource(t),a)}function es(e,t){var n=function(e){switch(e){case vn:return["Linear","( value )"];case mn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function ts(e,t){var n;switch(t){case De:n="Linear";break;case Ne:n="Reinhard";break;case ze:n="OptimizedCineon";break;case Fe:n="ACESFilmic";break;case Be:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function ns(e){return""!==e}function rs(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function is(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var as=/^[ \t]*#include +<([\w\d./]+)>/gm;function os(e){return e.replace(as,us)}function us(e,t){var n=po[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return os(n)}var ss=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,ls=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function cs(e){return e.replace(ls,hs).replace(ss,fs)}function fs(e,t,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),hs(e,t,n,r)}function hs(e,t,n,r){for(var i="",a=parseInt(t);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function ds(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function ps(e,t,n,r){var i,a,o=e.getContext(),u=n.defines,s=n.vertexShader,l=n.fragmentShader,c=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===q?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===X?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===$&&(t="SHADOWMAP_TYPE_VSM"),t}(n),f=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case je:case He:t="ENVMAP_TYPE_CUBE";break;case We:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),h=function(e){var t="ENVMAP_MODE_REFLECTION";e.envMap&&e.envMapMode===He&&(t="ENVMAP_MODE_REFRACTION");return t}(n),d=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case Pe:t="ENVMAP_BLENDING_MULTIPLY";break;case Le:t="ENVMAP_BLENDING_MIX";break;case Oe:t="ENVMAP_BLENDING_ADD"}return t}(n),p=function(e){var t=e.envMapCubeUVHeight;if(null===t)return null;var n=Math.log2(t/32+1)+3,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,n),112)),texelHeight:r,maxMip:n}}(n),v=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(ns).join("\n")}(n),m=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(u),g=o.createProgram(),y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?((i=[m].filter(ns).join("\n")).length>0&&(i+="\n"),(a=[v,m].filter(ns).join("\n")).length>0&&(a+="\n")):(i=[ds(n),"#define SHADER_NAME "+n.shaderName,m,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(ns).join("\n"),a=[v,ds(n),"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+h:"",n.envMap?"#define "+d:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",n.specularColorMap?"#define USE_SPECULARCOLORMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEENCOLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+c:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Ie?"#define TONE_MAPPING":"",n.toneMapping!==Ie?po.tonemapping_pars_fragment:"",n.toneMapping!==Ie?ts("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",po.encodings_pars_fragment,es("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(ns).join("\n")),s=is(s=rs(s=os(s),n),n),l=is(l=rs(l=os(l),n),n),s=cs(s),l=cs(l),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",i=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,a=["#define varying in",n.glslVersion===Yn?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Yn?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+a);var b,x,_=y+a+l,w=Ku(o,35633,y+i+s),S=Ku(o,35632,_);if(o.attachShader(g,w),o.attachShader(g,S),void 0!==n.index0AttributeName?o.bindAttribLocation(g,0,n.index0AttributeName):!0===n.morphTargets&&o.bindAttribLocation(g,0,"position"),o.linkProgram(g),e.debug.checkShaderErrors){var k=o.getProgramInfoLog(g).trim(),M=o.getShaderInfoLog(w).trim(),E=o.getShaderInfoLog(S).trim(),T=!0,A=!0;if(!1===o.getProgramParameter(g,35714)){T=!1;var C=Qu(o,w,"vertex"),R=Qu(o,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+o.getError()+" - VALIDATE_STATUS "+o.getProgramParameter(g,35715)+"\n\nProgram Info Log: "+k+"\n"+C+"\n"+R)}else""!==k?console.warn("THREE.WebGLProgram: Program Info Log:",k):""!==M&&""!==E||(A=!1);A&&(this.diagnostics={runnable:T,programLog:k,vertexShader:{log:M,prefix:i},fragmentShader:{log:E,prefix:a}})}return o.deleteShader(w),o.deleteShader(S),this.getUniforms=function(){return void 0===b&&(b=new Yu(o,g)),b},this.getAttributes=function(){return void 0===x&&(x=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var a=e.getActiveAttrib(t,i),o=a.name,u=1;35674===a.type&&(u=2),35675===a.type&&(u=3),35676===a.type&&(u=4),n[o]={type:a.type,location:e.getAttribLocation(t,o),locationSize:u}}return n}(o,g)),x},this.destroy=function(){r.releaseStatesOfProgram(this),o.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=Ju++,this.cacheKey=t,this.usedTimes=1,this.program=g,this.vertexShader=w,this.fragmentShader=S,this}var vs=0,ms=function(){function e(){S(this,e),this.shaderCache=new Map,this.materialCache=new Map}return M(e,[{key:"update",value:function(e){var t=e.vertexShader,n=e.fragmentShader,r=this._getShaderStage(t),i=this._getShaderStage(n),a=this._getShaderCacheForMaterial(e);return!1===a.has(r)&&(a.add(r),r.usedTimes++),!1===a.has(i)&&(a.add(i),i.usedTimes++),this}},{key:"remove",value:function(e){var t,n=p(this.materialCache.get(e));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.usedTimes--,0===r.usedTimes&&this.shaderCache.delete(r.code)}}catch(i){n.e(i)}finally{n.f()}return this.materialCache.delete(e),this}},{key:"getVertexShaderID",value:function(e){return this._getShaderStage(e.vertexShader).id}},{key:"getFragmentShaderID",value:function(e){return this._getShaderStage(e.fragmentShader).id}},{key:"dispose",value:function(){this.shaderCache.clear(),this.materialCache.clear()}},{key:"_getShaderCacheForMaterial",value:function(e){var t=this.materialCache;return!1===t.has(e)&&t.set(e,new Set),t.get(e)}},{key:"_getShaderStage",value:function(e){var t=this.shaderCache;if(!1===t.has(e)){var n=new gs(e);t.set(e,n)}return t.get(e)}}]),e}(),gs=M((function e(t){S(this,e),this.id=vs++,this.code=t,this.usedTimes=0}));function ys(e,t,n,r,i,a,o){var u=new Pi,s=new ms,l=[],c=i.isWebGL2,f=i.logarithmicDepthBuffer,h=i.floatVertexTextures,d=i.maxVertexUniforms,p=i.vertexTextures,v=i.precision,m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};return{getParameters:function(a,u,l,g,y){var b=g.fog,x=y.geometry,_=a.isMeshStandardMaterial?g.environment:null,w=(a.isMeshStandardMaterial?n:t).get(a.envMap||_),S=w&&w.mapping===We?w.image.height:null,k=m[a.type],M=y.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(h)return 1024;var n=d,r=Math.floor((n-20)/4),i=Math.min(r,t.length);return i<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}(y):0;null!==a.precision&&(v=i.getMaxPrecision(a.precision))!==a.precision&&console.warn("THREE.WebGLProgram.getParameters:",a.precision,"not supported, using",v,"instead.");var E,T,A,C,R=x.morphAttributes.position||x.morphAttributes.normal||x.morphAttributes.color,P=void 0!==R?R.length:0,L=0;if(void 0!==x.morphAttributes.position&&(L=1),void 0!==x.morphAttributes.normal&&(L=2),void 0!==x.morphAttributes.color&&(L=3),k){var O=mo[k];E=O.vertexShader,T=O.fragmentShader}else E=a.vertexShader,T=a.fragmentShader,s.update(a),A=s.getVertexShaderID(a),C=s.getFragmentShaderID(a);var I=e.getRenderTarget(),D=a.alphaTest>0,N=a.clearcoat>0;return{isWebGL2:c,shaderID:k,shaderName:a.type,vertexShader:E,fragmentShader:T,defines:a.defines,customVertexShaderID:A,customFragmentShaderID:C,isRawShaderMaterial:!0===a.isRawShaderMaterial,glslVersion:a.glslVersion,precision:v,instancing:!0===y.isInstancedMesh,instancingColor:!0===y.isInstancedMesh&&null!==y.instanceColor,supportsVertexTextures:p,outputEncoding:null===I?e.outputEncoding:!0===I.isXRRenderTarget?I.texture.encoding:vn,map:!!a.map,matcap:!!a.matcap,envMap:!!w,envMapMode:w&&w.mapping,envMapCubeUVHeight:S,lightMap:!!a.lightMap,aoMap:!!a.aoMap,emissiveMap:!!a.emissiveMap,bumpMap:!!a.bumpMap,normalMap:!!a.normalMap,objectSpaceNormalMap:a.normalMapType===xn,tangentSpaceNormalMap:a.normalMapType===bn,decodeVideoTexture:!!a.map&&!0===a.map.isVideoTexture&&a.map.encoding===mn,clearcoat:N,clearcoatMap:N&&!!a.clearcoatMap,clearcoatRoughnessMap:N&&!!a.clearcoatRoughnessMap,clearcoatNormalMap:N&&!!a.clearcoatNormalMap,displacementMap:!!a.displacementMap,roughnessMap:!!a.roughnessMap,metalnessMap:!!a.metalnessMap,specularMap:!!a.specularMap,specularIntensityMap:!!a.specularIntensityMap,specularColorMap:!!a.specularColorMap,opaque:!1===a.transparent&&a.blending===ne,alphaMap:!!a.alphaMap,alphaTest:D,gradientMap:!!a.gradientMap,sheen:a.sheen>0,sheenColorMap:!!a.sheenColorMap,sheenRoughnessMap:!!a.sheenRoughnessMap,transmission:a.transmission>0,transmissionMap:!!a.transmissionMap,thicknessMap:!!a.thicknessMap,combine:a.combine,vertexTangents:!!a.normalMap&&!!x.attributes.tangent,vertexColors:a.vertexColors,vertexAlphas:!0===a.vertexColors&&!!x.attributes.color&&4===x.attributes.color.itemSize,vertexUvs:!!a.map||!!a.bumpMap||!!a.normalMap||!!a.specularMap||!!a.alphaMap||!!a.emissiveMap||!!a.roughnessMap||!!a.metalnessMap||!!a.clearcoatMap||!!a.clearcoatRoughnessMap||!!a.clearcoatNormalMap||!!a.displacementMap||!!a.transmissionMap||!!a.thicknessMap||!!a.specularIntensityMap||!!a.specularColorMap||!!a.sheenColorMap||!!a.sheenRoughnessMap,uvsVertexOnly:!(a.map||a.bumpMap||a.normalMap||a.specularMap||a.alphaMap||a.emissiveMap||a.roughnessMap||a.metalnessMap||a.clearcoatNormalMap||a.transmission>0||a.transmissionMap||a.thicknessMap||a.specularIntensityMap||a.specularColorMap||a.sheen>0||a.sheenColorMap||a.sheenRoughnessMap)&&!!a.displacementMap,fog:!!b,useFog:a.fog,fogExp2:b&&b.isFogExp2,flatShading:!!a.flatShading,sizeAttenuation:a.sizeAttenuation,logarithmicDepthBuffer:f,skinning:!0===y.isSkinnedMesh&&M>0,maxBones:M,useVertexTexture:h,morphTargets:void 0!==x.morphAttributes.position,morphNormals:void 0!==x.morphAttributes.normal,morphColors:void 0!==x.morphAttributes.color,morphTargetsCount:P,morphTextureStride:L,numDirLights:u.directional.length,numPointLights:u.point.length,numSpotLights:u.spot.length,numRectAreaLights:u.rectArea.length,numHemiLights:u.hemi.length,numDirLightShadows:u.directionalShadowMap.length,numPointLightShadows:u.pointShadowMap.length,numSpotLightShadows:u.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:a.dithering,shadowMapEnabled:e.shadowMap.enabled&&l.length>0,shadowMapType:e.shadowMap.type,toneMapping:a.toneMapped?e.toneMapping:Ie,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:a.premultipliedAlpha,doubleSided:a.side===J,flipSided:a.side===K,depthPacking:void 0!==a.depthPacking&&a.depthPacking,index0AttributeName:a.index0AttributeName,extensionDerivatives:a.extensions&&a.extensions.derivatives,extensionFragDepth:a.extensions&&a.extensions.fragDepth,extensionDrawBuffers:a.extensions&&a.extensions.drawBuffers,extensionShaderTextureLOD:a.extensions&&a.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||r.has("EXT_shader_texture_lod"),customProgramCacheKey:a.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.customVertexShaderID),n.push(t.customFragmentShaderID)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);return!1===t.isRawShaderMaterial&&(!function(e,t){e.push(t.precision),e.push(t.outputEncoding),e.push(t.envMapMode),e.push(t.envMapCubeUVHeight),e.push(t.combine),e.push(t.vertexUvs),e.push(t.fogExp2),e.push(t.sizeAttenuation),e.push(t.maxBones),e.push(t.morphTargetsCount),e.push(t.morphAttributeCount),e.push(t.numDirLights),e.push(t.numPointLights),e.push(t.numSpotLights),e.push(t.numHemiLights),e.push(t.numRectAreaLights),e.push(t.numDirLightShadows),e.push(t.numPointLightShadows),e.push(t.numSpotLightShadows),e.push(t.shadowMapType),e.push(t.toneMapping),e.push(t.numClippingPlanes),e.push(t.numClipIntersection)}(n,t),function(e,t){u.disableAll(),t.isWebGL2&&u.enable(0);t.supportsVertexTextures&&u.enable(1);t.instancing&&u.enable(2);t.instancingColor&&u.enable(3);t.map&&u.enable(4);t.matcap&&u.enable(5);t.envMap&&u.enable(6);t.lightMap&&u.enable(7);t.aoMap&&u.enable(8);t.emissiveMap&&u.enable(9);t.bumpMap&&u.enable(10);t.normalMap&&u.enable(11);t.objectSpaceNormalMap&&u.enable(12);t.tangentSpaceNormalMap&&u.enable(13);t.clearcoat&&u.enable(14);t.clearcoatMap&&u.enable(15);t.clearcoatRoughnessMap&&u.enable(16);t.clearcoatNormalMap&&u.enable(17);t.displacementMap&&u.enable(18);t.specularMap&&u.enable(19);t.roughnessMap&&u.enable(20);t.metalnessMap&&u.enable(21);t.gradientMap&&u.enable(22);t.alphaMap&&u.enable(23);t.alphaTest&&u.enable(24);t.vertexColors&&u.enable(25);t.vertexAlphas&&u.enable(26);t.vertexUvs&&u.enable(27);t.vertexTangents&&u.enable(28);t.uvsVertexOnly&&u.enable(29);t.fog&&u.enable(30);e.push(u.mask),u.disableAll(),t.useFog&&u.enable(0);t.flatShading&&u.enable(1);t.logarithmicDepthBuffer&&u.enable(2);t.skinning&&u.enable(3);t.useVertexTexture&&u.enable(4);t.morphTargets&&u.enable(5);t.morphNormals&&u.enable(6);t.morphColors&&u.enable(7);t.premultipliedAlpha&&u.enable(8);t.shadowMapEnabled&&u.enable(9);t.physicallyCorrectLights&&u.enable(10);t.doubleSided&&u.enable(11);t.flipSided&&u.enable(12);t.depthPacking&&u.enable(13);t.dithering&&u.enable(14);t.specularIntensityMap&&u.enable(15);t.specularColorMap&&u.enable(16);t.transmission&&u.enable(17);t.transmissionMap&&u.enable(18);t.thicknessMap&&u.enable(19);t.sheen&&u.enable(20);t.sheenColorMap&&u.enable(21);t.sheenRoughnessMap&&u.enable(22);t.decodeVideoTexture&&u.enable(23);t.opaque&&u.enable(24);e.push(u.mask)}(n,t),n.push(e.outputEncoding)),n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){var t,n=m[e.type];if(n){var r=mo[n];t=$a.clone(r.uniforms)}else t=e.uniforms;return t},acquireProgram:function(t,n){for(var r,i=0,o=l.length;i<o;i++){var u=l[i];if(u.cacheKey===n){++(r=u).usedTimes;break}}return void 0===r&&(r=new ps(e,n,t,a),l.push(r)),r},releaseProgram:function(e){if(0===--e.usedTimes){var t=l.indexOf(e);l[t]=l[l.length-1],l.pop(),e.destroy()}},releaseShaderCache:function(e){s.remove(e)},programs:l,dispose:function(){s.dispose()}}}function bs(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function xs(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function _s(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function ws(){var e=[],t=0,n=[],r=[],i=[];function a(n,r,i,a,o,u){var s=e[t];return void 0===s?(s={id:n.id,object:n,geometry:r,material:i,groupOrder:a,renderOrder:n.renderOrder,z:o,group:u},e[t]=s):(s.id=n.id,s.object=n,s.geometry=r,s.material=i,s.groupOrder=a,s.renderOrder=n.renderOrder,s.z=o,s.group=u),t++,s}return{opaque:n,transmissive:r,transparent:i,init:function(){t=0,n.length=0,r.length=0,i.length=0},push:function(e,t,o,u,s,l){var c=a(e,t,o,u,s,l);o.transmission>0?r.push(c):!0===o.transparent?i.push(c):n.push(c)},unshift:function(e,t,o,u,s,l){var c=a(e,t,o,u,s,l);o.transmission>0?r.unshift(c):!0===o.transparent?i.unshift(c):n.unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||xs),r.length>1&&r.sort(t||_s),i.length>1&&i.sort(t||_s)}}}function Ss(){var e=new WeakMap;return{get:function(t,n){var r;return!1===e.has(t)?(r=new ws,e.set(t,[r])):n>=e.get(t).length?(r=new ws,e.get(t).push(r)):r=e.get(t)[n],r},dispose:function(){e=new WeakMap}}}function ks(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new Zr,color:new Cr};break;case"SpotLight":n={position:new Zr,direction:new Zr,color:new Cr,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Zr,color:new Cr,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Zr,skyColor:new Cr,groundColor:new Cr};break;case"RectAreaLight":n={color:new Cr,position:new Zr,halfWidth:new Zr,halfHeight:new Zr}}return e[t.id]=n,n}}}var Ms=0;function Es(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Ts(e,t){for(var n=new ks,r=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new hr};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new hr,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},a=0;a<9;a++)i.probe.push(new Zr);var o=new Zr,u=new xi,s=new xi;return{setup:function(a,o){for(var u=0,s=0,l=0,c=0;c<9;c++)i.probe[c].set(0,0,0);var f=0,h=0,d=0,p=0,v=0,m=0,g=0,y=0;a.sort(Es);for(var b=!0!==o?Math.PI:1,x=0,_=a.length;x<_;x++){var w=a[x],S=w.color,k=w.intensity,M=w.distance,E=w.shadow&&w.shadow.map?w.shadow.map.texture:null;if(w.isAmbientLight)u+=S.r*k*b,s+=S.g*k*b,l+=S.b*k*b;else if(w.isLightProbe)for(var T=0;T<9;T++)i.probe[T].addScaledVector(w.sh.coefficients[T],k);else if(w.isDirectionalLight){var A=n.get(w);if(A.color.copy(w.color).multiplyScalar(w.intensity*b),w.castShadow){var C=w.shadow,R=r.get(w);R.shadowBias=C.bias,R.shadowNormalBias=C.normalBias,R.shadowRadius=C.radius,R.shadowMapSize=C.mapSize,i.directionalShadow[f]=R,i.directionalShadowMap[f]=E,i.directionalShadowMatrix[f]=w.shadow.matrix,m++}i.directional[f]=A,f++}else if(w.isSpotLight){var P=n.get(w);if(P.position.setFromMatrixPosition(w.matrixWorld),P.color.copy(S).multiplyScalar(k*b),P.distance=M,P.coneCos=Math.cos(w.angle),P.penumbraCos=Math.cos(w.angle*(1-w.penumbra)),P.decay=w.decay,w.castShadow){var L=w.shadow,O=r.get(w);O.shadowBias=L.bias,O.shadowNormalBias=L.normalBias,O.shadowRadius=L.radius,O.shadowMapSize=L.mapSize,i.spotShadow[d]=O,i.spotShadowMap[d]=E,i.spotShadowMatrix[d]=w.shadow.matrix,y++}i.spot[d]=P,d++}else if(w.isRectAreaLight){var I=n.get(w);I.color.copy(S).multiplyScalar(k),I.halfWidth.set(.5*w.width,0,0),I.halfHeight.set(0,.5*w.height,0),i.rectArea[p]=I,p++}else if(w.isPointLight){var D=n.get(w);if(D.color.copy(w.color).multiplyScalar(w.intensity*b),D.distance=w.distance,D.decay=w.decay,w.castShadow){var N=w.shadow,z=r.get(w);z.shadowBias=N.bias,z.shadowNormalBias=N.normalBias,z.shadowRadius=N.radius,z.shadowMapSize=N.mapSize,z.shadowCameraNear=N.camera.near,z.shadowCameraFar=N.camera.far,i.pointShadow[h]=z,i.pointShadowMap[h]=E,i.pointShadowMatrix[h]=w.shadow.matrix,g++}i.point[h]=D,h++}else if(w.isHemisphereLight){var F=n.get(w);F.skyColor.copy(w.color).multiplyScalar(k*b),F.groundColor.copy(w.groundColor).multiplyScalar(k*b),i.hemi[v]=F,v++}}p>0&&(t.isWebGL2||!0===e.has("OES_texture_float_linear")?(i.rectAreaLTC1=vo.LTC_FLOAT_1,i.rectAreaLTC2=vo.LTC_FLOAT_2):!0===e.has("OES_texture_half_float_linear")?(i.rectAreaLTC1=vo.LTC_HALF_1,i.rectAreaLTC2=vo.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=u,i.ambient[1]=s,i.ambient[2]=l;var B=i.hash;B.directionalLength===f&&B.pointLength===h&&B.spotLength===d&&B.rectAreaLength===p&&B.hemiLength===v&&B.numDirectionalShadows===m&&B.numPointShadows===g&&B.numSpotShadows===y||(i.directional.length=f,i.spot.length=d,i.rectArea.length=p,i.point.length=h,i.hemi.length=v,i.directionalShadow.length=m,i.directionalShadowMap.length=m,i.pointShadow.length=g,i.pointShadowMap.length=g,i.spotShadow.length=y,i.spotShadowMap.length=y,i.directionalShadowMatrix.length=m,i.pointShadowMatrix.length=g,i.spotShadowMatrix.length=y,B.directionalLength=f,B.pointLength=h,B.spotLength=d,B.rectAreaLength=p,B.hemiLength=v,B.numDirectionalShadows=m,B.numPointShadows=g,B.numSpotShadows=y,i.version=Ms++)},setupView:function(e,t){for(var n=0,r=0,a=0,l=0,c=0,f=t.matrixWorldInverse,h=0,d=e.length;h<d;h++){var p=e[h];if(p.isDirectionalLight){var v=i.directional[n];v.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),v.direction.sub(o),v.direction.transformDirection(f),n++}else if(p.isSpotLight){var m=i.spot[a];m.position.setFromMatrixPosition(p.matrixWorld),m.position.applyMatrix4(f),m.direction.setFromMatrixPosition(p.matrixWorld),o.setFromMatrixPosition(p.target.matrixWorld),m.direction.sub(o),m.direction.transformDirection(f),a++}else if(p.isRectAreaLight){var g=i.rectArea[l];g.position.setFromMatrixPosition(p.matrixWorld),g.position.applyMatrix4(f),s.identity(),u.copy(p.matrixWorld),u.premultiply(f),s.extractRotation(u),g.halfWidth.set(.5*p.width,0,0),g.halfHeight.set(0,.5*p.height,0),g.halfWidth.applyMatrix4(s),g.halfHeight.applyMatrix4(s),l++}else if(p.isPointLight){var y=i.point[r];y.position.setFromMatrixPosition(p.matrixWorld),y.position.applyMatrix4(f),r++}else if(p.isHemisphereLight){var b=i.hemi[c];b.direction.setFromMatrixPosition(p.matrixWorld),b.direction.transformDirection(f),b.direction.normalize(),c++}}},state:i}}function As(e,t){var n=new Ts(e,t),r=[],i=[];return{init:function(){r.length=0,i.length=0},state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:function(e){n.setup(r,e)},setupLightsView:function(e){n.setupView(r,e)},pushLight:function(e){r.push(e)},pushShadow:function(e){i.push(e)}}}function Cs(e,t){var n=new WeakMap;return{get:function(r){var i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return!1===n.has(r)?(i=new As(e,t),n.set(r,[i])):a>=n.get(r).length?(i=new As(e,t),n.get(r).push(i)):i=n.get(r)[a],i},dispose:function(){n=new WeakMap}}}var Rs=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this)).type="MeshDepthMaterial",r.depthPacking=gn,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}]),n}(ia);Rs.prototype.isMeshDepthMaterial=!0;var Ps=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this)).type="MeshDistanceMaterial",r.referencePosition=new Zr,r.nearDistance=1,r.farDistance=1e3,r.map=null,r.alphaMap=null,r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.fog=!1,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}]),n}(ia);Ps.prototype.isMeshDistanceMaterial=!0;function Ls(e,t,n){var r=new lo,i=new hr,a=new hr,o=new Dr,u=new Rs({depthPacking:yn}),s=new Ps,l={},c=n.maxTextureSize,f={0:K,1:Y,2:J},h=new Ya({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new hr},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=h.clone();d.defines.HORIZONTAL_PASS=1;var p=new Ea;p.setAttribute("position",new sa(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var v=new Ga(p,h),m=this;function g(n,r){var i=t.update(v);h.defines.VSM_SAMPLES!==n.blurSamples&&(h.defines.VSM_SAMPLES=n.blurSamples,d.defines.VSM_SAMPLES=n.blurSamples,h.needsUpdate=!0,d.needsUpdate=!0),h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,h,v,null),d.uniforms.shadow_pass.value=n.mapPass.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,d,v,null)}function y(t,n,r,i,a,o){var c=null,h=!0===r.isPointLight?t.customDistanceMaterial:t.customDepthMaterial;if(c=void 0!==h?h:!0===r.isPointLight?s:u,e.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length||n.displacementMap&&0!==n.displacementScale||n.alphaMap&&n.alphaTest>0){var d=c.uuid,p=n.uuid,v=l[d];void 0===v&&(v={},l[d]=v);var m=v[p];void 0===m&&(m=c.clone(),v[p]=m),c=m}return c.visible=n.visible,c.wireframe=n.wireframe,c.side=o===$?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:f[n.side],c.alphaMap=n.alphaMap,c.alphaTest=n.alphaTest,c.clipShadows=n.clipShadows,c.clippingPlanes=n.clippingPlanes,c.clipIntersection=n.clipIntersection,c.displacementMap=n.displacementMap,c.displacementScale=n.displacementScale,c.displacementBias=n.displacementBias,c.wireframeLinewidth=n.wireframeLinewidth,c.linewidth=n.linewidth,!0===r.isPointLight&&!0===c.isMeshDistanceMaterial&&(c.referencePosition.setFromMatrixPosition(r.matrixWorld),c.nearDistance=i,c.farDistance=a),c}function b(n,i,a,o,u){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&u===$)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(a.matrixWorldInverse,n.matrixWorld);var s=t.update(n),l=n.material;if(Array.isArray(l))for(var c=s.groups,f=0,h=c.length;f<h;f++){var d=c[f],p=l[d.materialIndex];if(p&&p.visible){var v=y(n,p,o,a.near,a.far,u);e.renderBufferDirect(a,null,s,v,n,d)}}else if(l.visible){var m=y(n,l,o,a.near,a.far,u);e.renderBufferDirect(a,null,s,m,n,null)}}for(var g=n.children,x=0,_=g.length;x<_;x++)b(g[x],i,a,o,u)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=q,this.render=function(t,n,u){if(!1!==m.enabled&&(!1!==m.autoUpdate||!1!==m.needsUpdate)&&0!==t.length){var s=e.getRenderTarget(),l=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),h=e.state;h.setBlending(te),h.buffers.color.setClear(1,1,1,1),h.buffers.depth.setTest(!0),h.setScissorTest(!1);for(var d=0,p=t.length;d<p;d++){var v=t[d],y=v.shadow;if(void 0!==y){if(!1!==y.autoUpdate||!1!==y.needsUpdate){i.copy(y.mapSize);var x=y.getFrameExtents();if(i.multiply(x),a.copy(y.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(a.x=Math.floor(c/x.x),i.x=a.x*x.x,y.mapSize.x=a.x),i.y>c&&(a.y=Math.floor(c/x.y),i.y=a.y*x.y,y.mapSize.y=a.y)),null!==y.map||y.isPointLightShadow||this.type!==$||(y.map=new Nr(i.x,i.y),y.map.texture.name=v.name+".shadowMap",y.mapPass=new Nr(i.x,i.y),y.camera.updateProjectionMatrix()),null===y.map){var _={minFilter:$e,magFilter:$e,format:yt};y.map=new Nr(i.x,i.y,_),y.map.texture.name=v.name+".shadowMap",y.camera.updateProjectionMatrix()}e.setRenderTarget(y.map),e.clear();for(var w=y.getViewportCount(),S=0;S<w;S++){var k=y.getViewport(S);o.set(a.x*k.x,a.y*k.y,a.x*k.z,a.y*k.w),h.viewport(o),y.updateMatrices(v,S),r=y.getFrustum(),b(n,u,y.camera,v,this.type)}y.isPointLightShadow||this.type!==$||g(y,u),y.needsUpdate=!1}}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}m.needsUpdate=!1,e.setRenderTarget(s,l,f)}}}function Os(e,t,n){var r,i,a=n.isWebGL2;var o=new function(){var t=!1,n=new Dr,r=null,i=new Dr(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,a,o,u){!0===u&&(t*=o,r*=o,a*=o),n.set(t,r,a,o),!1===i.equals(n)&&(e.clearColor(t,r,a,o),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},s=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?j(2929):W(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case Se:e.depthFunc(512);break;case ke:e.depthFunc(519);break;case Me:e.depthFunc(513);break;case Ee:e.depthFunc(515);break;case Te:e.depthFunc(514);break;case Ae:e.depthFunc(518);break;case Ce:e.depthFunc(516);break;case Re:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},l=new function(){var t=!1,n=null,r=null,i=null,a=null,o=null,u=null,s=null,l=null;return{setTest:function(e){t||(e?j(2960):W(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,o){r===t&&i===n&&a===o||(e.stencilFunc(t,n,o),r=t,i=n,a=o)},setOp:function(t,n,r){o===t&&u===n&&s===r||(e.stencilOp(t,n,r),o=t,u=n,s=r)},setLocked:function(e){t=e},setClear:function(t){l!==t&&(e.clearStencil(t),l=t)},reset:function(){t=!1,n=null,r=null,i=null,a=null,o=null,u=null,s=null,l=null}}},c={},f={},h=new WeakMap,d=[],p=null,v=!1,m=null,g=null,y=null,b=null,x=null,_=null,w=null,S=!1,k=null,M=null,E=null,T=null,A=null,C=e.getParameter(35661),R=!1,P=0,L=e.getParameter(7938);-1!==L.indexOf("WebGL")?(P=parseFloat(/^WebGL (\d)/.exec(L)[1]),R=P>=1):-1!==L.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL ES (\d)/.exec(L)[1]),R=P>=2);var O=null,I={},D=e.getParameter(3088),N=e.getParameter(2978),z=(new Dr).fromArray(D),F=(new Dr).fromArray(N);function B(t,n,r){var i=new Uint8Array(4),a=e.createTexture();e.bindTexture(t,a),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var o=0;o<r;o++)e.texImage2D(n+o,0,6408,1,1,0,6408,5121,i);return a}var U={};function j(t){!0!==c[t]&&(e.enable(t),c[t]=!0)}function W(t){!1!==c[t]&&(e.disable(t),c[t]=!1)}U[3553]=B(3553,3553,1),U[34067]=B(34067,34069,6),o.setClear(0,0,0,1),s.setClear(1),l.setClear(0),j(2929),s.setFunc(Ee),Y(!1),Q(Z),j(2884),$(te);var V=(r={},(0,u.Z)(r,ue,32774),(0,u.Z)(r,se,32778),(0,u.Z)(r,le,32779),r);if(a)V[ce]=32775,V[fe]=32776;else{var q=t.get("EXT_blend_minmax");null!==q&&(V[ce]=q.MIN_EXT,V[fe]=q.MAX_EXT)}var X=(i={},(0,u.Z)(i,he,0),(0,u.Z)(i,de,1),(0,u.Z)(i,pe,768),(0,u.Z)(i,me,770),(0,u.Z)(i,we,776),(0,u.Z)(i,xe,774),(0,u.Z)(i,ye,772),(0,u.Z)(i,ve,769),(0,u.Z)(i,ge,771),(0,u.Z)(i,_e,775),(0,u.Z)(i,be,773),i);function $(t,n,r,i,a,o,u,s){if(t!==te){if(!1===v&&(j(3042),v=!0),t===oe)a=a||n,o=o||r,u=u||i,n===g&&a===x||(e.blendEquationSeparate(V[n],V[a]),g=n,x=a),r===y&&i===b&&o===_&&u===w||(e.blendFuncSeparate(X[r],X[i],X[o],X[u]),y=r,b=i,_=o,w=u),m=t,S=null;else if(t!==m||s!==S){if(g===ue&&x===ue||(e.blendEquation(32774),g=ue,x=ue),s)switch(t){case ne:e.blendFuncSeparate(1,771,1,771);break;case re:e.blendFunc(1,1);break;case ie:e.blendFuncSeparate(0,769,0,1);break;case ae:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case ne:e.blendFuncSeparate(770,771,1,771);break;case re:e.blendFunc(770,1);break;case ie:e.blendFuncSeparate(0,769,0,1);break;case ae:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}y=null,b=null,_=null,w=null,m=t,S=s}}else!0===v&&(W(3042),v=!1)}function Y(t){k!==t&&(t?e.frontFace(2304):e.frontFace(2305),k=t)}function Q(t){t!==H?(j(2884),t!==M&&(t===Z?e.cullFace(1029):t===G?e.cullFace(1028):e.cullFace(1032))):W(2884),M=t}function ee(t,n,r){t?(j(32823),T===n&&A===r||(e.polygonOffset(n,r),T=n,A=r)):W(32823)}function Pe(t){void 0===t&&(t=33984+C-1),O!==t&&(e.activeTexture(t),O=t)}return{buffers:{color:o,depth:s,stencil:l},enable:j,disable:W,bindFramebuffer:function(t,n){return f[t]!==n&&(e.bindFramebuffer(t,n),f[t]=n,a&&(36009===t&&(f[36160]=n),36160===t&&(f[36009]=n)),!0)},drawBuffers:function(r,i){var a=d,o=!1;if(r)if(void 0===(a=h.get(i))&&(a=[],h.set(i,a)),r.isWebGLMultipleRenderTargets){var u=r.texture;if(a.length!==u.length||36064!==a[0]){for(var s=0,l=u.length;s<l;s++)a[s]=36064+s;a.length=u.length,o=!0}}else 36064!==a[0]&&(a[0]=36064,o=!0);else 1029!==a[0]&&(a[0]=1029,o=!0);o&&(n.isWebGL2?e.drawBuffers(a):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(a))},useProgram:function(t){return p!==t&&(e.useProgram(t),p=t,!0)},setBlending:$,setMaterial:function(e,t){e.side===J?W(2884):j(2884);var n=e.side===K;t&&(n=!n),Y(n),e.blending===ne&&!1===e.transparent?$(te):$(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),s.setFunc(e.depthFunc),s.setTest(e.depthTest),s.setMask(e.depthWrite),o.setMask(e.colorWrite);var r=e.stencilWrite;l.setTest(r),r&&(l.setMask(e.stencilWriteMask),l.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),l.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),ee(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),!0===e.alphaToCoverage?j(32926):W(32926)},setFlipSided:Y,setCullFace:Q,setLineWidth:function(t){t!==E&&(R&&e.lineWidth(t),E=t)},setPolygonOffset:ee,setScissorTest:function(e){e?j(3089):W(3089)},activeTexture:Pe,bindTexture:function(t,n){null===O&&Pe();var r=I[O];void 0===r&&(r={type:void 0,texture:void 0},I[O]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||U[t]),r.type=t,r.texture=n)},unbindTexture:function(){var t=I[O];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage2D:function(){try{e.texStorage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texStorage3D:function(){try{e.texStorage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage2D:function(){try{e.texSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texSubImage3D:function(){try{e.texSubImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},compressedTexSubImage2D:function(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===z.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),z.copy(t))},viewport:function(t){!1===F.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),F.copy(t))},reset:function(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),!0===a&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),c={},O=null,I={},f={},h=new WeakMap,d=[],p=null,v=!1,m=null,g=null,y=null,b=null,x=null,_=null,w=null,S=!1,k=null,M=null,E=null,T=null,A=null,z.set(0,0,e.canvas.width,e.canvas.height),F.set(0,0,e.canvas.width,e.canvas.height),o.reset(),s.reset(),l.reset()}}}function Is(e,t,n,r,i,a,o){var s,l,c,f=i.isWebGL2,h=i.maxTextures,d=i.maxCubemapSize,p=i.maxTextureSize,v=i.maxSamples,m=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,g=/OculusBrowser/g.test(navigator.userAgent),y=new WeakMap,b=new WeakMap,x=!1;try{x="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(W){}function _(e,t){return x?new OffscreenCanvas(e,t):gr("canvas")}function w(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var a=t?cr:Math.floor,o=a(i*e.width),u=a(i*e.height);void 0===c&&(c=_(o,u));var s=n?_(o,u):c;return s.width=o,s.height=u,s.getContext("2d").drawImage(e,0,0,o,u),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+u+")."),s}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function S(e){return sr(e.width)&&sr(e.height)}function k(e,t){return e.generateMipmaps&&t&&e.minFilter!==$e&&e.minFilter!==et}function M(t){e.generateMipmap(t)}function E(n,r,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(!1===f)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var u=r;return 6403===r&&(5126===i&&(u=33326),5131===i&&(u=33325),5121===i&&(u=33321)),33319===r&&(5126===i&&(u=33328),5131===i&&(u=33327),5121===i&&(u=33323)),6408===r&&(5126===i&&(u=34836),5131===i&&(u=34842),5121===i&&(u=a===mn&&!1===o?35907:32856),32819===i&&(u=32854),32820===i&&(u=32855)),33325!==u&&33326!==u&&33327!==u&&33328!==u&&34842!==u&&34836!==u||t.get("EXT_color_buffer_float"),u}function T(e,t,n){return!0===k(e,n)||e.isFramebufferTexture&&e.minFilter!==$e&&e.minFilter!==et?Math.log2(Math.max(t.width,t.height))+1:void 0!==e.mipmaps&&e.mipmaps.length>0?e.mipmaps.length:e.isCompressedTexture&&Array.isArray(e.image)?t.mipmaps.length:1}function A(e){return e===$e||e===Ye||e===Je?9728:9729}function C(e){var t=e.target;t.removeEventListener("dispose",C),function(e){var t=r.get(e);if(void 0===t.__webglInit)return;var n=e.source,i=b.get(n);if(i){var a=i[t.__cacheKey];a.usedTimes--,0===a.usedTimes&&P(e),0===Object.keys(i).length&&b.delete(n)}r.remove(e)}(t),t.isVideoTexture&&y.delete(t)}function R(t){var n=t.target;n.removeEventListener("dispose",R),function(t){var n=t.texture,i=r.get(t),a=r.get(n);void 0!==a.__webglTexture&&(e.deleteTexture(a.__webglTexture),o.memory.textures--);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var u=0;u<6;u++)e.deleteFramebuffer(i.__webglFramebuffer[u]),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer[u]);else e.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&e.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&e.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer&&e.deleteRenderbuffer(i.__webglColorRenderbuffer),i.__webglDepthRenderbuffer&&e.deleteRenderbuffer(i.__webglDepthRenderbuffer);if(t.isWebGLMultipleRenderTargets)for(var s=0,l=n.length;s<l;s++){var c=r.get(n[s]);c.__webglTexture&&(e.deleteTexture(c.__webglTexture),o.memory.textures--),r.remove(n[s])}r.remove(n),r.remove(t)}(n)}function P(t){var n=r.get(t);e.deleteTexture(n.__webglTexture);var i=t.source;delete b.get(i)[n.__cacheKey],o.memory.textures--}var L=0;function O(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=o.render.frame;y.get(e)!==t&&(y.set(e,t),e.update())}(e),!1===e.isRenderTargetTexture&&e.version>0&&i.__version!==e.version){var a=e.image;if(null===a)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==a.complete)return void F(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}var I=(s={},(0,u.Z)(s,Ve,10497),(0,u.Z)(s,qe,33071),(0,u.Z)(s,Xe,33648),s),D=(l={},(0,u.Z)(l,$e,9728),(0,u.Z)(l,Ye,9984),(0,u.Z)(l,Je,9986),(0,u.Z)(l,et,9729),(0,u.Z)(l,tt,9985),(0,u.Z)(l,rt,9987),l);function N(n,a,o){if(o?(e.texParameteri(n,10242,I[a.wrapS]),e.texParameteri(n,10243,I[a.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,I[a.wrapR]),e.texParameteri(n,10240,D[a.magFilter]),e.texParameteri(n,10241,D[a.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),a.wrapS===qe&&a.wrapT===qe||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,A(a.magFilter)),e.texParameteri(n,10241,A(a.minFilter)),a.minFilter!==$e&&a.minFilter!==et&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){var u=t.get("EXT_texture_filter_anisotropic");if(a.type===ft&&!1===t.has("OES_texture_float_linear"))return;if(!1===f&&a.type===ht&&!1===t.has("OES_texture_half_float_linear"))return;(a.anisotropy>1||r.get(a).__currentAnisotropy)&&(e.texParameterf(n,u.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,i.getMaxAnisotropy())),r.get(a).__currentAnisotropy=a.anisotropy)}}function z(t,n){var r=!1;void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",C));var i=n.source,a=b.get(i);void 0===a&&(a={},b.set(i,a));var u=function(e){var t=[];return t.push(e.wrapS),t.push(e.wrapT),t.push(e.magFilter),t.push(e.minFilter),t.push(e.anisotropy),t.push(e.internalFormat),t.push(e.format),t.push(e.type),t.push(e.generateMipmaps),t.push(e.premultiplyAlpha),t.push(e.flipY),t.push(e.unpackAlignment),t.push(e.encoding),t.join()}(n);if(u!==t.__cacheKey){void 0===a[u]&&(a[u]={texture:e.createTexture(),usedTimes:0},o.memory.textures++,r=!0),a[u].usedTimes++;var s=a[t.__cacheKey];void 0!==s&&(a[t.__cacheKey].usedTimes--,0===s.usedTimes&&P(n)),t.__cacheKey=u,t.__webglTexture=a[u].texture}return r}function F(t,r,i){var o=3553;r.isDataArrayTexture&&(o=35866),r.isData3DTexture&&(o=32879);var u=z(t,r),s=r.source;if(n.activeTexture(33984+i),n.bindTexture(o,t.__webglTexture),s.version!==s.__currentVersion||!0===u){e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);var l,c=function(e){return!f&&(e.wrapS!==qe||e.wrapT!==qe||e.minFilter!==$e&&e.minFilter!==et)}(r)&&!1===S(r.image),h=w(r.image,c,!1,p),d=S(h=G(r,h))||f,v=a.convert(r.format,r.encoding),m=a.convert(r.type),g=E(r.internalFormat,v,m,r.encoding,r.isVideoTexture);N(o,r,d);var y=r.mipmaps,b=f&&!0!==r.isVideoTexture,x=void 0===t.__version,_=T(r,h,d);if(r.isDepthTexture)g=6402,f?g=r.type===ft?36012:r.type===ct?33190:r.type===vt?35056:33189:r.type===ft&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===_t&&6402===g&&r.type!==st&&r.type!==ct&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=st,m=a.convert(r.type)),r.format===wt&&6402===g&&(g=34041,r.type!==vt&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=vt,m=a.convert(r.type))),b&&x?n.texStorage2D(3553,1,g,h.width,h.height):n.texImage2D(3553,0,g,h.width,h.height,0,v,m,null);else if(r.isDataTexture)if(y.length>0&&d){b&&x&&n.texStorage2D(3553,_,g,y[0].width,y[0].height);for(var A=0,C=y.length;A<C;A++)l=y[A],b?n.texSubImage2D(3553,A,0,0,l.width,l.height,v,m,l.data):n.texImage2D(3553,A,g,l.width,l.height,0,v,m,l.data);r.generateMipmaps=!1}else b?(x&&n.texStorage2D(3553,_,g,h.width,h.height),n.texSubImage2D(3553,0,0,0,h.width,h.height,v,m,h.data)):n.texImage2D(3553,0,g,h.width,h.height,0,v,m,h.data);else if(r.isCompressedTexture){b&&x&&n.texStorage2D(3553,_,g,y[0].width,y[0].height);for(var R=0,P=y.length;R<P;R++)l=y[R],r.format!==yt?null!==v?b?n.compressedTexSubImage2D(3553,R,0,0,l.width,l.height,v,l.data):n.compressedTexImage2D(3553,R,g,l.width,l.height,0,l.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):b?n.texSubImage2D(3553,R,0,0,l.width,l.height,v,m,l.data):n.texImage2D(3553,R,g,l.width,l.height,0,v,m,l.data)}else if(r.isDataArrayTexture)b?(x&&n.texStorage3D(35866,_,g,h.width,h.height,h.depth),n.texSubImage3D(35866,0,0,0,0,h.width,h.height,h.depth,v,m,h.data)):n.texImage3D(35866,0,g,h.width,h.height,h.depth,0,v,m,h.data);else if(r.isData3DTexture)b?(x&&n.texStorage3D(32879,_,g,h.width,h.height,h.depth),n.texSubImage3D(32879,0,0,0,0,h.width,h.height,h.depth,v,m,h.data)):n.texImage3D(32879,0,g,h.width,h.height,h.depth,0,v,m,h.data);else if(r.isFramebufferTexture)b&&x?n.texStorage2D(3553,_,g,h.width,h.height):n.texImage2D(3553,0,g,h.width,h.height,0,v,m,null);else if(y.length>0&&d){b&&x&&n.texStorage2D(3553,_,g,y[0].width,y[0].height);for(var L=0,O=y.length;L<O;L++)l=y[L],b?n.texSubImage2D(3553,L,0,0,v,m,l):n.texImage2D(3553,L,g,v,m,l);r.generateMipmaps=!1}else b?(x&&n.texStorage2D(3553,_,g,h.width,h.height),n.texSubImage2D(3553,0,0,0,v,m,h)):n.texImage2D(3553,0,g,v,m,h);k(r,d)&&M(o),s.__currentVersion=s.version,r.onUpdate&&r.onUpdate(r)}t.__version=r.version}function B(t,i,o,u,s){var l=a.convert(o.format,o.encoding),c=a.convert(o.type),f=E(o.internalFormat,l,c,o.encoding);r.get(i).__hasExternalTextures||(32879===s||35866===s?n.texImage3D(s,0,f,i.width,i.height,i.depth,0,l,c,null):n.texImage2D(s,0,f,i.width,i.height,0,l,c,null)),n.bindFramebuffer(36160,t),Z(i)?m.framebufferTexture2DMultisampleEXT(36160,u,s,r.get(o).__webglTexture,0,H(i)):e.framebufferTexture2D(36160,u,s,r.get(o).__webglTexture,0),n.bindFramebuffer(36160,null)}function U(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var i=33189;if(r||Z(n)){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===ft?i=36012:o.type===ct&&(i=33190));var u=H(n);Z(n)?m.renderbufferStorageMultisampleEXT(36161,u,i,n.width,n.height):e.renderbufferStorageMultisample(36161,u,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){var s=H(n);r&&!1===Z(n)?e.renderbufferStorageMultisample(36161,s,35056,n.width,n.height):Z(n)?m.renderbufferStorageMultisampleEXT(36161,s,35056,n.width,n.height):e.renderbufferStorage(36161,34041,n.width,n.height),e.framebufferRenderbuffer(36160,33306,36161,t)}else{var l=!0===n.isWebGLMultipleRenderTargets?n.texture[0]:n.texture,c=a.convert(l.format,l.encoding),f=a.convert(l.type),h=E(l.internalFormat,c,f,l.encoding),d=H(n);r&&!1===Z(n)?e.renderbufferStorageMultisample(36161,d,h,n.width,n.height):Z(n)?m.renderbufferStorageMultisampleEXT(36161,d,h,n.width,n.height):e.renderbufferStorage(36161,h,n.width,n.height)}e.bindRenderbuffer(36161,null)}function j(t){var i=r.get(t),a=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture&&!i.__autoAllocateDepthBuffer){if(a)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(36160,t),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),O(i.depthTexture,0);var a=r.get(i.depthTexture).__webglTexture,o=H(i);if(i.depthTexture.format===_t)Z(i)?m.framebufferTexture2DMultisampleEXT(36160,36096,3553,a,0,o):e.framebufferTexture2D(36160,36096,3553,a,0);else{if(i.depthTexture.format!==wt)throw new Error("Unknown depthTexture format");Z(i)?m.framebufferTexture2DMultisampleEXT(36160,33306,3553,a,0,o):e.framebufferTexture2D(36160,33306,3553,a,0)}}(i.__webglFramebuffer,t)}else if(a){i.__webglDepthbuffer=[];for(var o=0;o<6;o++)n.bindFramebuffer(36160,i.__webglFramebuffer[o]),i.__webglDepthbuffer[o]=e.createRenderbuffer(),U(i.__webglDepthbuffer[o],t,!1)}else n.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=e.createRenderbuffer(),U(i.__webglDepthbuffer,t,!1);n.bindFramebuffer(36160,null)}function H(e){return Math.min(v,e.samples)}function Z(e){var n=r.get(e);return f&&e.samples>0&&!0===t.has("WEBGL_multisampled_render_to_texture")&&!1!==n.__useRenderToTexture}function G(e,n){var r=e.encoding,i=e.format,a=e.type;return!0===e.isCompressedTexture||!0===e.isVideoTexture||e.format===Kn||r!==vn&&(r===mn?!1===f?!0===t.has("EXT_sRGB")&&i===yt?(e.format=Kn,e.minFilter=et,e.generateMipmaps=!1):n=Rr.sRGBToLinear(n):i===yt&&a===at||console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",r)),n}this.allocateTextureUnit=function(){var e=L;return e>=h&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+h),L+=1,e},this.resetTextureUnits=function(){L=0},this.setTexture2D=O,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?F(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?F(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=function(t,i){var o=r.get(t);t.version>0&&o.__version!==t.version?function(t,r,i){if(6!==r.image.length)return;var o=z(t,r),u=r.source;if(n.activeTexture(33984+i),n.bindTexture(34067,t.__webglTexture),u.version!==u.__currentVersion||!0===o){e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment),e.pixelStorei(37443,0);for(var s=r.isCompressedTexture||r.image[0].isCompressedTexture,l=r.image[0]&&r.image[0].isDataTexture,c=[],h=0;h<6;h++)c[h]=s||l?l?r.image[h].image:r.image[h]:w(r.image[h],!1,!0,d),c[h]=G(r,c[h]);var p,v=c[0],m=S(v)||f,g=a.convert(r.format,r.encoding),y=a.convert(r.type),b=E(r.internalFormat,g,y,r.encoding),x=f&&!0!==r.isVideoTexture,_=void 0===t.__version,A=T(r,v,m);if(N(34067,r,m),s){x&&_&&n.texStorage2D(34067,A,b,v.width,v.height);for(var C=0;C<6;C++){p=c[C].mipmaps;for(var R=0;R<p.length;R++){var P=p[R];r.format!==yt?null!==g?x?n.compressedTexSubImage2D(34069+C,R,0,0,P.width,P.height,g,P.data):n.compressedTexImage2D(34069+C,R,b,P.width,P.height,0,P.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):x?n.texSubImage2D(34069+C,R,0,0,P.width,P.height,g,y,P.data):n.texImage2D(34069+C,R,b,P.width,P.height,0,g,y,P.data)}}}else{p=r.mipmaps,x&&_&&(p.length>0&&A++,n.texStorage2D(34067,A,b,c[0].width,c[0].height));for(var L=0;L<6;L++)if(l){x?n.texSubImage2D(34069+L,0,0,0,c[L].width,c[L].height,g,y,c[L].data):n.texImage2D(34069+L,0,b,c[L].width,c[L].height,0,g,y,c[L].data);for(var O=0;O<p.length;O++){var I=p[O].image[L].image;x?n.texSubImage2D(34069+L,O+1,0,0,I.width,I.height,g,y,I.data):n.texImage2D(34069+L,O+1,b,I.width,I.height,0,g,y,I.data)}}else{x?n.texSubImage2D(34069+L,0,0,0,g,y,c[L]):n.texImage2D(34069+L,0,b,g,y,c[L]);for(var D=0;D<p.length;D++){var F=p[D];x?n.texSubImage2D(34069+L,D+1,0,0,g,y,F.image[L]):n.texImage2D(34069+L,D+1,b,g,y,F.image[L])}}}k(r,m)&&M(34067),u.__currentVersion=u.version,r.onUpdate&&r.onUpdate(r)}t.__version=r.version}(o,t,i):(n.activeTexture(33984+i),n.bindTexture(34067,o.__webglTexture))},this.rebindTextures=function(e,t,n){var i=r.get(e);void 0!==t&&B(i.__webglFramebuffer,e,e.texture,36064,3553),void 0!==n&&j(e)},this.setupRenderTarget=function(t){var u=t.texture,s=r.get(t),l=r.get(u);t.addEventListener("dispose",R),!0!==t.isWebGLMultipleRenderTargets&&(void 0===l.__webglTexture&&(l.__webglTexture=e.createTexture()),l.__version=u.version,o.memory.textures++);var c=!0===t.isWebGLCubeRenderTarget,h=!0===t.isWebGLMultipleRenderTargets,d=S(t)||f;if(c){s.__webglFramebuffer=[];for(var p=0;p<6;p++)s.__webglFramebuffer[p]=e.createFramebuffer()}else if(s.__webglFramebuffer=e.createFramebuffer(),h)if(i.drawBuffers)for(var v=t.texture,m=0,g=v.length;m<g;m++){var y=r.get(v[m]);void 0===y.__webglTexture&&(y.__webglTexture=e.createTexture(),o.memory.textures++)}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(f&&t.samples>0&&!1===Z(t)){s.__webglMultisampledFramebuffer=e.createFramebuffer(),s.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,s.__webglColorRenderbuffer);var b=a.convert(u.format,u.encoding),x=a.convert(u.type),_=E(u.internalFormat,b,x,u.encoding),w=H(t);e.renderbufferStorageMultisample(36161,w,_,t.width,t.height),n.bindFramebuffer(36160,s.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,s.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(s.__webglDepthRenderbuffer=e.createRenderbuffer(),U(s.__webglDepthRenderbuffer,t,!0)),n.bindFramebuffer(36160,null)}if(c){n.bindTexture(34067,l.__webglTexture),N(34067,u,d);for(var T=0;T<6;T++)B(s.__webglFramebuffer[T],t,u,36064,34069+T);k(u,d)&&M(34067),n.unbindTexture()}else if(h){for(var A=t.texture,C=0,P=A.length;C<P;C++){var L=A[C],O=r.get(L);n.bindTexture(3553,O.__webglTexture),N(3553,L,d),B(s.__webglFramebuffer,t,L,36064+C,3553),k(L,d)&&M(3553)}n.unbindTexture()}else{var I=3553;(t.isWebGL3DRenderTarget||t.isWebGLArrayRenderTarget)&&(f?I=t.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(I,l.__webglTexture),N(I,u,d),B(s.__webglFramebuffer,t,u,36064,I),k(u,d)&&M(I),n.unbindTexture()}t.depthBuffer&&j(t)},this.updateRenderTargetMipmap=function(e){for(var t=S(e)||f,i=!0===e.isWebGLMultipleRenderTargets?e.texture:[e.texture],a=0,o=i.length;a<o;a++){var u=i[a];if(k(u,t)){var s=e.isWebGLCubeRenderTarget?34067:3553,l=r.get(u).__webglTexture;n.bindTexture(s,l),M(s),n.unbindTexture()}}},this.updateMultisampleRenderTarget=function(t){if(f&&t.samples>0&&!1===Z(t)){var i=t.width,a=t.height,o=16384,u=[36064],s=t.stencilBuffer?33306:36096;t.depthBuffer&&u.push(s);var l=r.get(t),c=void 0!==l.__ignoreDepthValues&&l.__ignoreDepthValues;!1===c&&(t.depthBuffer&&(o|=256),t.stencilBuffer&&(o|=1024)),n.bindFramebuffer(36008,l.__webglMultisampledFramebuffer),n.bindFramebuffer(36009,l.__webglFramebuffer),!0===c&&(e.invalidateFramebuffer(36008,[s]),e.invalidateFramebuffer(36009,[s])),e.blitFramebuffer(0,0,i,a,0,0,i,a,o,9728),g&&e.invalidateFramebuffer(36008,u),n.bindFramebuffer(36008,null),n.bindFramebuffer(36009,l.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=j,this.setupFrameBufferTexture=B,this.useMultisampledRTT=Z}function Ds(e,t,n){var r=n.isWebGL2;return{convert:function(e){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e===at)return 5121;if(e===dt)return 32819;if(e===pt)return 32820;if(e===ot)return 5120;if(e===ut)return 5122;if(e===st)return 5123;if(e===lt)return 5124;if(e===ct)return 5125;if(e===ft)return 5126;if(e===ht)return r?5131:null!==(n=t.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(e===mt)return 6406;if(e===yt)return 6408;if(e===bt)return 6409;if(e===xt)return 6410;if(e===_t)return 6402;if(e===wt)return 34041;if(e===St)return 6403;if(e===gt)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(e===Kn)return null!==(n=t.get("EXT_sRGB"))?n.SRGB_ALPHA_EXT:null;if(e===kt)return 36244;if(e===Mt)return 33319;if(e===Et)return 33320;if(e===Tt)return 36249;if(e===At||e===Ct||e===Rt||e===Pt)if(i===mn){if(null===(n=t.get("WEBGL_compressed_texture_s3tc_srgb")))return null;if(e===At)return n.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(e===Ct)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(e===Rt)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(e===Pt)return n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===At)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Ct)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Rt)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===Pt)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===Lt||e===Ot||e===It||e===Dt){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===Lt)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===Ot)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===It)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===Dt)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===Nt)return null!==(n=t.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if(e===zt||e===Ft){if(null===(n=t.get("WEBGL_compressed_texture_etc")))return null;if(e===zt)return i===mn?n.COMPRESSED_SRGB8_ETC2:n.COMPRESSED_RGB8_ETC2;if(e===Ft)return i===mn?n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:n.COMPRESSED_RGBA8_ETC2_EAC}if(e===Bt||e===Ut||e===jt||e===Ht||e===Zt||e===Gt||e===Wt||e===Vt||e===qt||e===Xt||e===$t||e===Yt||e===Kt||e===Jt){if(null===(n=t.get("WEBGL_compressed_texture_astc")))return null;if(e===Bt)return i===mn?n.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:n.COMPRESSED_RGBA_ASTC_4x4_KHR;if(e===Ut)return i===mn?n.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:n.COMPRESSED_RGBA_ASTC_5x4_KHR;if(e===jt)return i===mn?n.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:n.COMPRESSED_RGBA_ASTC_5x5_KHR;if(e===Ht)return i===mn?n.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:n.COMPRESSED_RGBA_ASTC_6x5_KHR;if(e===Zt)return i===mn?n.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:n.COMPRESSED_RGBA_ASTC_6x6_KHR;if(e===Gt)return i===mn?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:n.COMPRESSED_RGBA_ASTC_8x5_KHR;if(e===Wt)return i===mn?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:n.COMPRESSED_RGBA_ASTC_8x6_KHR;if(e===Vt)return i===mn?n.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:n.COMPRESSED_RGBA_ASTC_8x8_KHR;if(e===qt)return i===mn?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:n.COMPRESSED_RGBA_ASTC_10x5_KHR;if(e===Xt)return i===mn?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:n.COMPRESSED_RGBA_ASTC_10x6_KHR;if(e===$t)return i===mn?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:n.COMPRESSED_RGBA_ASTC_10x8_KHR;if(e===Yt)return i===mn?n.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:n.COMPRESSED_RGBA_ASTC_10x10_KHR;if(e===Kt)return i===mn?n.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:n.COMPRESSED_RGBA_ASTC_12x10_KHR;if(e===Jt)return i===mn?n.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:n.COMPRESSED_RGBA_ASTC_12x12_KHR}if(e===Qt){if(null===(n=t.get("EXT_texture_compression_bptc")))return null;if(e===Qt)return i===mn?n.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:n.COMPRESSED_RGBA_BPTC_UNORM_EXT}return e===vt?r?34042:null!==(n=t.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}var Ns=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return S(this,n),(e=t.call(this)).cameras=r,e}return M(n)}(Ja);Ns.prototype.isArrayCamera=!0;var zs=function(e){E(n,e);var t=P(n);function n(){var e;return S(this,n),(e=t.call(this)).type="Group",e}return M(n)}(Wi);zs.prototype.isGroup=!0;var Fs={type:"move"},Bs=function(){function e(){S(this,e),this._targetRay=null,this._grip=null,this._hand=null}return M(e,[{key:"getHandSpace",value:function(){return null===this._hand&&(this._hand=new zs,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}},{key:"getTargetRaySpace",value:function(){return null===this._targetRay&&(this._targetRay=new zs,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Zr,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Zr),this._targetRay}},{key:"getGripSpace",value:function(){return null===this._grip&&(this._grip=new zs,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Zr,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Zr),this._grip}},{key:"dispatchEvent",value:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}},{key:"disconnect",value:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}},{key:"update",value:function(e,t,n){var r=null,i=null,a=null,o=this._targetRay,u=this._grip,s=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState)if(null!==o&&null!==(r=t.getPose(e.targetRaySpace,n))&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Fs)),s&&e.hand){a=!0;var l,c=p(e.hand.values());try{for(c.s();!(l=c.n()).done;){var f=l.value,h=t.getJointPose(f,n);if(void 0===s.joints[f.jointName]){var d=new zs;d.matrixAutoUpdate=!1,d.visible=!1,s.joints[f.jointName]=d,s.add(d)}var v=s.joints[f.jointName];null!==h&&(v.matrix.fromArray(h.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.jointRadius=h.radius),v.visible=null!==h}}catch(b){c.e(b)}finally{c.f()}var m=s.joints["index-finger-tip"],g=s.joints["thumb-tip"],y=m.position.distanceTo(g.position);s.inputState.pinching&&y>.025?(s.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!s.inputState.pinching&&y<=.015&&(s.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==u&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(u.matrix.fromArray(i.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),i.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(i.linearVelocity)):u.hasLinearVelocity=!1,i.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(i.angularVelocity)):u.hasAngularVelocity=!1);return null!==o&&(o.visible=null!==r),null!==u&&(u.visible=null!==i),null!==s&&(s.visible=null!==a),this}}]),e}(),Us=function(e){E(n,e);var t=P(n);function n(e,r,i,a,o,u,s,l,c,f){var h;if(S(this,n),(f=void 0!==f?f:_t)!==_t&&f!==wt)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");return void 0===i&&f===_t&&(i=st),void 0===i&&f===wt&&(i=vt),(h=t.call(this,null,a,o,u,s,l,f,i,c)).image={width:e,height:r},h.magFilter=void 0!==s?s:$e,h.minFilter=void 0!==l?l:$e,h.flipY=!1,h.generateMipmaps=!1,h}return M(n)}(Ir);Us.prototype.isDepthTexture=!0;var js=function(e){E(n,e);var t=P(n);function n(e,r){var i;S(this,n);var a=C(i=t.call(this)),o=null,u=1,s=null,l="local-floor",c=null,f=null,h=null,d=null,p=null,v=r.getContextAttributes(),m=null,g=null,y=[],b=new Map,x=new Ja;x.layers.enable(1),x.viewport=new Dr;var _=new Ja;_.layers.enable(2),_.viewport=new Dr;var w=[x,_],k=new Ns;k.layers.enable(1),k.layers.enable(2);var M=null,E=null;function T(e){var t=b.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function A(){b.forEach((function(e,t){e.disconnect(t)})),b.clear(),M=null,E=null,e.setRenderTarget(m),d=null,h=null,f=null,o=null,g=null,N.stop(),a.isPresenting=!1,a.dispatchEvent({type:"sessionend"})}function R(e){for(var t=o.inputSources,n=0;n<y.length;n++)b.set(t[n],y[n]);for(var r=0;r<e.removed.length;r++){var i=e.removed[r],a=b.get(i);a&&(a.dispatchEvent({type:"disconnected",data:i}),b.delete(i))}for(var u=0;u<e.added.length;u++){var s=e.added[u],l=b.get(s);l&&l.dispatchEvent({type:"connected",data:s})}}i.cameraAutoUpdate=!0,i.enabled=!1,i.isPresenting=!1,i.getController=function(e){var t=y[e];return void 0===t&&(t=new Bs,y[e]=t),t.getTargetRaySpace()},i.getControllerGrip=function(e){var t=y[e];return void 0===t&&(t=new Bs,y[e]=t),t.getGripSpace()},i.getHand=function(e){var t=y[e];return void 0===t&&(t=new Bs,y[e]=t),t.getHandSpace()},i.setFramebufferScaleFactor=function(e){u=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},i.setReferenceSpaceType=function(e){l=e,!0===a.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},i.getReferenceSpace=function(){return s},i.getBaseLayer=function(){return null!==h?h:d},i.getBinding=function(){return f},i.getFrame=function(){return p},i.getSession=function(){return o},i.setSession=function(){var t=O(z.mark((function t(n){var i,c,p,y,b;return z.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(o=n)){t.next=24;break}if(m=e.getRenderTarget(),o.addEventListener("select",T),o.addEventListener("selectstart",T),o.addEventListener("selectend",T),o.addEventListener("squeeze",T),o.addEventListener("squeezestart",T),o.addEventListener("squeezeend",T),o.addEventListener("end",A),o.addEventListener("inputsourceschange",R),!0===v.xrCompatible){t.next=14;break}return t.next=14,r.makeXRCompatible();case 14:return void 0===o.renderState.layers||!1===e.capabilities.isWebGL2?(i={antialias:void 0!==o.renderState.layers||v.antialias,alpha:v.alpha,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:u},d=new XRWebGLLayer(o,r,i),o.updateRenderState({baseLayer:d}),g=new Nr(d.framebufferWidth,d.framebufferHeight,{format:yt,type:at,encoding:e.outputEncoding})):(c=null,p=null,y=null,v.depth&&(y=v.stencil?35056:33190,c=v.stencil?wt:_t,p=v.stencil?vt:st),b={colorFormat:e.outputEncoding===mn?35907:32856,depthFormat:y,scaleFactor:u},f=new XRWebGLBinding(o,r),h=f.createProjectionLayer(b),o.updateRenderState({layers:[h]}),g=new Nr(h.textureWidth,h.textureHeight,{format:yt,type:at,depthTexture:new Us(h.textureWidth,h.textureHeight,p,void 0,void 0,void 0,void 0,void 0,void 0,c),stencilBuffer:v.stencil,encoding:e.outputEncoding,samples:v.antialias?4:0}),e.properties.get(g).__ignoreDepthValues=h.ignoreDepthValues),g.isXRRenderTarget=!0,this.setFoveation(1),t.next=19,o.requestReferenceSpace(l);case 19:s=t.sent,N.setContext(o),N.start(),a.isPresenting=!0,a.dispatchEvent({type:"sessionstart"});case 24:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}();var P=new Zr,L=new Zr;function I(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.copy(e.matrixWorld).invert()}i.updateCamera=function(e){if(null!==o){k.near=_.near=x.near=e.near,k.far=_.far=x.far=e.far,M===k.near&&E===k.far||(o.updateRenderState({depthNear:k.near,depthFar:k.far}),M=k.near,E=k.far);var t=e.parent,n=k.cameras;I(k,t);for(var r=0;r<n.length;r++)I(n[r],t);k.matrixWorld.decompose(k.position,k.quaternion,k.scale),e.position.copy(k.position),e.quaternion.copy(k.quaternion),e.scale.copy(k.scale),e.matrix.copy(k.matrix),e.matrixWorld.copy(k.matrixWorld);for(var i=e.children,a=0,u=i.length;a<u;a++)i[a].updateMatrixWorld(!0);2===n.length?function(e,t,n){P.setFromMatrixPosition(t.matrixWorld),L.setFromMatrixPosition(n.matrixWorld);var r=P.distanceTo(L),i=t.projectionMatrix.elements,a=n.projectionMatrix.elements,o=i[14]/(i[10]-1),u=i[14]/(i[10]+1),s=(i[9]+1)/i[5],l=(i[9]-1)/i[5],c=(i[8]-1)/i[0],f=(a[8]+1)/a[0],h=o*c,d=o*f,p=r/(-c+f),v=p*-c;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(v),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.copy(e.matrixWorld).invert();var m=o+p,g=u+p,y=h-v,b=d+(r-v),x=s*u/g*m,_=l*u/g*m;e.projectionMatrix.makePerspective(y,b,x,_,m,g)}(k,x,_):k.projectionMatrix.copy(x.projectionMatrix)}},i.getCamera=function(){return k},i.getFoveation=function(){return null!==h?h.fixedFoveation:null!==d?d.fixedFoveation:void 0},i.setFoveation=function(e){null!==h&&(h.fixedFoveation=e),null!==d&&void 0!==d.fixedFoveation&&(d.fixedFoveation=e)};var D=null;var N=new co;return N.setAnimationLoop((function(t,n){if(c=n.getViewerPose(s),p=n,null!==c){var r=c.views;null!==d&&(e.setRenderTargetFramebuffer(g,d.framebuffer),e.setRenderTarget(g));var i=!1;r.length!==k.cameras.length&&(k.cameras.length=0,i=!0);for(var a=0;a<r.length;a++){var u=r[a],l=null;if(null!==d)l=d.getViewport(u);else{var v=f.getViewSubImage(h,u);l=v.viewport,0===a&&(e.setRenderTargetTextures(g,v.colorTexture,h.ignoreDepthValues?void 0:v.depthStencilTexture),e.setRenderTarget(g))}var m=w[a];m.matrix.fromArray(u.transform.matrix),m.projectionMatrix.fromArray(u.projectionMatrix),m.viewport.set(l.x,l.y,l.width,l.height),0===a&&k.matrix.copy(m.matrix),!0===i&&k.cameras.push(m)}}for(var b=o.inputSources,x=0;x<y.length;x++){var _=y[x],S=b[x];_.update(S,n,s)}D&&D(t,n),p=null})),i.setAnimationLoop=function(e){D=e},i.dispose=function(){},i}return M(n)}(Jn);function Hs(e,t){function n(n,r){n.opacity.value=r.opacity,r.color&&n.diffuse.value.copy(r.color),r.emissive&&n.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),r.map&&(n.map.value=r.map),r.alphaMap&&(n.alphaMap.value=r.alphaMap),r.bumpMap&&(n.bumpMap.value=r.bumpMap,n.bumpScale.value=r.bumpScale,r.side===K&&(n.bumpScale.value*=-1)),r.displacementMap&&(n.displacementMap.value=r.displacementMap,n.displacementScale.value=r.displacementScale,n.displacementBias.value=r.displacementBias),r.emissiveMap&&(n.emissiveMap.value=r.emissiveMap),r.normalMap&&(n.normalMap.value=r.normalMap,n.normalScale.value.copy(r.normalScale),r.side===K&&n.normalScale.value.negate()),r.specularMap&&(n.specularMap.value=r.specularMap),r.alphaTest>0&&(n.alphaTest.value=r.alphaTest);var i,a,o=t.get(r).envMap;if(o&&(n.envMap.value=o,n.flipEnvMap.value=o.isCubeTexture&&!1===o.isRenderTargetTexture?-1:1,n.reflectivity.value=r.reflectivity,n.ior.value=r.ior,n.refractionRatio.value=r.refractionRatio),r.lightMap){n.lightMap.value=r.lightMap;var u=!0!==e.physicallyCorrectLights?Math.PI:1;n.lightMapIntensity.value=r.lightMapIntensity*u}r.aoMap&&(n.aoMap.value=r.aoMap,n.aoMapIntensity.value=r.aoMapIntensity),r.map?i=r.map:r.specularMap?i=r.specularMap:r.displacementMap?i=r.displacementMap:r.normalMap?i=r.normalMap:r.bumpMap?i=r.bumpMap:r.roughnessMap?i=r.roughnessMap:r.metalnessMap?i=r.metalnessMap:r.alphaMap?i=r.alphaMap:r.emissiveMap?i=r.emissiveMap:r.clearcoatMap?i=r.clearcoatMap:r.clearcoatNormalMap?i=r.clearcoatNormalMap:r.clearcoatRoughnessMap?i=r.clearcoatRoughnessMap:r.specularIntensityMap?i=r.specularIntensityMap:r.specularColorMap?i=r.specularColorMap:r.transmissionMap?i=r.transmissionMap:r.thicknessMap?i=r.thicknessMap:r.sheenColorMap?i=r.sheenColorMap:r.sheenRoughnessMap&&(i=r.sheenRoughnessMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),n.uvTransform.value.copy(i.matrix)),r.aoMap?a=r.aoMap:r.lightMap&&(a=r.lightMap),void 0!==a&&(a.isWebGLRenderTarget&&(a=a.texture),!0===a.matrixAutoUpdate&&a.updateMatrix(),n.uv2Transform.value.copy(a.matrix))}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,i,a,o){r.isMeshBasicMaterial||r.isMeshLambertMaterial?n(e,r):r.isMeshToonMaterial?(n(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap)}(e,r)):r.isMeshPhongMaterial?(n(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4)}(e,r)):r.isMeshStandardMaterial?(n(e,r),function(e,n){e.roughness.value=n.roughness,e.metalness.value=n.metalness,n.roughnessMap&&(e.roughnessMap.value=n.roughnessMap);n.metalnessMap&&(e.metalnessMap.value=n.metalnessMap);t.get(n).envMap&&(e.envMapIntensity.value=n.envMapIntensity)}(e,r),r.isMeshPhysicalMaterial&&function(e,t,n){e.ior.value=t.ior,t.sheen>0&&(e.sheenColor.value.copy(t.sheenColor).multiplyScalar(t.sheen),e.sheenRoughness.value=t.sheenRoughness,t.sheenColorMap&&(e.sheenColorMap.value=t.sheenColorMap),t.sheenRoughnessMap&&(e.sheenRoughnessMap.value=t.sheenRoughnessMap));t.clearcoat>0&&(e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap),t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap),t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===K&&e.clearcoatNormalScale.value.negate()));t.transmission>0&&(e.transmission.value=t.transmission,e.transmissionSamplerMap.value=n.texture,e.transmissionSamplerSize.value.set(n.width,n.height),t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap),e.thickness.value=t.thickness,t.thicknessMap&&(e.thicknessMap.value=t.thicknessMap),e.attenuationDistance.value=t.attenuationDistance,e.attenuationColor.value.copy(t.attenuationColor));e.specularIntensity.value=t.specularIntensity,e.specularColor.value.copy(t.specularColor),t.specularIntensityMap&&(e.specularIntensityMap.value=t.specularIntensityMap);t.specularColorMap&&(e.specularColorMap.value=t.specularColorMap)}(e,r,o)):r.isMeshMatcapMaterial?(n(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap)}(e,r)):r.isMeshDepthMaterial?n(e,r):r.isMeshDistanceMaterial?(n(e,r),function(e,t){e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?n(e,r):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);var i;t.map?i=t.map:t.alphaMap&&(i=t.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,i,a):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);t.alphaTest>0&&(e.alphaTest.value=t.alphaTest);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function Zs(){var e=gr("canvas");return e.style.display="block",e}function Gs(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=void 0!==t.canvas?t.canvas:Zs(),r=void 0!==t.context?t.context:null,i=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,o=void 0!==t.antialias&&t.antialias,u=void 0===t.premultipliedAlpha||t.premultipliedAlpha,s=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,l=void 0!==t.powerPreference?t.powerPreference:"default",c=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;e=void 0!==t.context?r.getContextAttributes().alpha:void 0!==t.alpha&&t.alpha;var f=null,h=null,d=[],p=[];this.domElement=n,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=vn,this.physicallyCorrectLights=!1,this.toneMapping=Ie,this.toneMappingExposure=1;var v=this,m=!1,g=0,y=0,b=null,x=-1,_=null,w=new Dr,S=new Dr,k=null,M=n.width,E=n.height,T=1,A=null,C=null,R=new Dr(0,0,M,E),P=new Dr(0,0,M,E),L=!1,O=new lo,I=!1,D=!1,N=null,z=new xi,F=new hr,U=new Zr,j={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function H(){return null===b?T:1}var Z,G,W,V,q,X,$,Q,ee,te,ne,re,ie,ae,oe,ue,se,le,ce,fe,he,de,pe,ve=r;function me(e,t){for(var r=0;r<e.length;r++){var i=e[r],a=n.getContext(i,t);if(null!==a)return a}return null}try{var ge={alpha:!0,depth:i,stencil:a,antialias:o,premultipliedAlpha:u,preserveDrawingBuffer:s,powerPreference:l,failIfMajorPerformanceCaveat:c};if("setAttribute"in n&&n.setAttribute("data-engine","three.js r".concat(B)),n.addEventListener("webglcontextlost",_e,!1),n.addEventListener("webglcontextrestored",we,!1),null===ve){var ye=["webgl2","webgl","experimental-webgl"];if(!0===v.isWebGL1Renderer&&ye.shift(),null===(ve=me(ye,ge)))throw me(ye)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ve.getShaderPrecisionFormat&&(ve.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(He){throw console.error("THREE.WebGLRenderer: "+He.message),He}function be(){Z=new Fo(ve),G=new xo(ve,Z,t),Z.init(G),de=new Ds(ve,Z,G),W=new Os(ve,Z,G),V=new jo(ve),q=new bs,X=new Is(ve,Z,W,q,G,de,V),$=new wo(v),Q=new zo(v),ee=new fo(ve,G),pe=new yo(ve,Z,ee,G),te=new Bo(ve,ee,V,pe),ne=new Vo(ve,te,ee,V),ce=new Wo(ve,G,X),ue=new _o(q),re=new ys(v,$,Q,Z,G,pe,ue),ie=new Hs(v,q),ae=new Ss,oe=new Cs(Z,G),le=new go(v,$,W,ne,e,u),se=new Ls(v,ne,G),fe=new bo(ve,Z,V,G),he=new Uo(ve,Z,V,G),V.programs=re.programs,v.capabilities=G,v.extensions=Z,v.properties=q,v.renderLists=ae,v.shadowMap=se,v.state=W,v.info=V}be();var xe=new js(v,ve);function _e(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),m=!0}function we(){console.log("THREE.WebGLRenderer: Context Restored."),m=!1;var e=V.autoReset,t=se.enabled,n=se.autoUpdate,r=se.needsUpdate,i=se.type;be(),V.autoReset=e,se.enabled=t,se.autoUpdate=n,se.needsUpdate=r,se.type=i}function Se(e){var t=e.target;t.removeEventListener("dispose",Se),ke(t)}function ke(e){Me(e),q.remove(e)}function Me(e){var t=q.get(e).programs;void 0!==t&&(t.forEach((function(e){re.releaseProgram(e)})),e.isShaderMaterial&&re.releaseShaderCache(e))}this.xr=xe,this.getContext=function(){return ve},this.getContextAttributes=function(){return ve.getContextAttributes()},this.forceContextLoss=function(){var e=Z.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=Z.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return T},this.setPixelRatio=function(e){void 0!==e&&(T=e,this.setSize(M,E,!1))},this.getSize=function(e){return e.set(M,E)},this.setSize=function(e,t,r){xe.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(M=e,E=t,n.width=Math.floor(e*T),n.height=Math.floor(t*T),!1!==r&&(n.style.width=e+"px",n.style.height=t+"px"),this.setViewport(0,0,e,t))},this.getDrawingBufferSize=function(e){return e.set(M*T,E*T).floor()},this.setDrawingBufferSize=function(e,t,r){M=e,E=t,T=r,n.width=Math.floor(e*r),n.height=Math.floor(t*r),this.setViewport(0,0,e,t)},this.getCurrentViewport=function(e){return e.copy(w)},this.getViewport=function(e){return e.copy(R)},this.setViewport=function(e,t,n,r){e.isVector4?R.set(e.x,e.y,e.z,e.w):R.set(e,t,n,r),W.viewport(w.copy(R).multiplyScalar(T).floor())},this.getScissor=function(e){return e.copy(P)},this.setScissor=function(e,t,n,r){e.isVector4?P.set(e.x,e.y,e.z,e.w):P.set(e,t,n,r),W.scissor(S.copy(P).multiplyScalar(T).floor())},this.getScissorTest=function(){return L},this.setScissorTest=function(e){W.setScissorTest(L=e)},this.setOpaqueSort=function(e){A=e},this.setTransparentSort=function(e){C=e},this.getClearColor=function(e){return e.copy(le.getClearColor())},this.setClearColor=function(){le.setClearColor.apply(le,arguments)},this.getClearAlpha=function(){return le.getClearAlpha()},this.setClearAlpha=function(){le.setClearAlpha.apply(le,arguments)},this.clear=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=0;e&&(r|=16384),t&&(r|=256),n&&(r|=1024),ve.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",_e,!1),n.removeEventListener("webglcontextrestored",we,!1),ae.dispose(),oe.dispose(),q.dispose(),$.dispose(),Q.dispose(),ne.dispose(),pe.dispose(),re.dispose(),xe.dispose(),xe.removeEventListener("sessionstart",Ae),xe.removeEventListener("sessionend",Ce),N&&(N.dispose(),N=null),Re.stop()},this.renderBufferDirect=function(e,t,n,r,i,a){null===t&&(t=j);var o=i.isMesh&&i.matrixWorld.determinant()<0,u=Be(e,t,n,r,i);W.setMaterial(r,o);var s=n.index,l=n.attributes.position;if(null===s){if(void 0===l||0===l.count)return}else if(0===s.count)return;var c,f=1;!0===r.wireframe&&(s=te.getWireframeAttribute(n),f=2),pe.setup(i,r,u,n,s);var h=fe;null!==s&&(c=ee.get(s),(h=he).setIndex(c));var d=null!==s?s.count:l.count,p=n.drawRange.start*f,v=n.drawRange.count*f,m=null!==a?a.start*f:0,g=null!==a?a.count*f:1/0,y=Math.max(p,m),b=Math.min(d,p+v,m+g)-1,x=Math.max(0,b-y+1);if(0!==x){if(i.isMesh)!0===r.wireframe?(W.setLineWidth(r.wireframeLinewidth*H()),h.setMode(1)):h.setMode(4);else if(i.isLine){var _=r.linewidth;void 0===_&&(_=1),W.setLineWidth(_*H()),i.isLineSegments?h.setMode(1):i.isLineLoop?h.setMode(2):h.setMode(3)}else i.isPoints?h.setMode(0):i.isSprite&&h.setMode(4);if(i.isInstancedMesh)h.renderInstances(y,x,i.count);else if(n.isInstancedBufferGeometry){var w=Math.min(n.instanceCount,n._maxInstanceCount);h.renderInstances(y,x,w)}else h.render(y,x)}},this.compile=function(e,t){(h=oe.get(e)).init(),p.push(h),e.traverseVisible((function(e){e.isLight&&e.layers.test(t.layers)&&(h.pushLight(e),e.castShadow&&h.pushShadow(e))})),h.setupLights(v.physicallyCorrectLights),e.traverse((function(t){var n=t.material;if(n)if(Array.isArray(n))for(var r=0;r<n.length;r++){ze(n[r],e,t)}else ze(n,e,t)})),p.pop(),h=null};var Ee=null;function Te(e){Ee&&Ee(e)}function Ae(){Re.stop()}function Ce(){Re.start()}var Re=new co;function Pe(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)h.pushLight(e),e.castShadow&&h.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||O.intersectsSprite(e)){r&&U.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);var i=ne.update(e),a=e.material;a.visible&&f.push(e,i,a,n,U.z,null)}}else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==V.render.frame&&(e.skeleton.update(),e.skeleton.frame=V.render.frame),!e.frustumCulled||O.intersectsObject(e))){r&&U.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);var o=ne.update(e),u=e.material;if(Array.isArray(u))for(var s=o.groups,l=0,c=s.length;l<c;l++){var d=s[l],p=u[d.materialIndex];p&&p.visible&&f.push(e,o,p,n,U.z,d)}else u.visible&&f.push(e,o,u,n,U.z,null)}for(var v=e.children,m=0,g=v.length;m<g;m++)Pe(v[m],t,n,r)}}function Le(e,t,n,r){var i=e.opaque,a=e.transmissive,o=e.transparent;h.setupLightsView(n),a.length>0&&Oe(i,t,n),r&&W.viewport(w.copy(r)),i.length>0&&De(i,t,n),a.length>0&&De(a,t,n),o.length>0&&De(o,t,n),W.buffers.depth.setTest(!0),W.buffers.depth.setMask(!0),W.buffers.color.setMask(!0),W.setPolygonOffset(!1)}function Oe(e,t,n){var r=G.isWebGL2;null===N&&(N=new Nr(1,1,{generateMipmaps:!0,type:null!==de.convert(ht)?ht:at,minFilter:rt,samples:r&&!0===o?4:0})),v.getDrawingBufferSize(F),r?N.setSize(F.x,F.y):N.setSize(cr(F.x),cr(F.y));var i=v.getRenderTarget();v.setRenderTarget(N),v.clear();var a=v.toneMapping;v.toneMapping=Ie,De(e,t,n),v.toneMapping=a,X.updateMultisampleRenderTarget(N),X.updateRenderTargetMipmap(N),v.setRenderTarget(i)}function De(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,a=e.length;i<a;i++){var o=e[i],u=o.object,s=o.geometry,l=null===r?o.material:r,c=o.group;u.layers.test(n.layers)&&Ne(u,t,n,s,l,c)}}function Ne(e,t,n,r,i,a){e.onBeforeRender(v,t,n,r,i,a),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),i.onBeforeRender(v,t,n,r,e,a),!0===i.transparent&&i.side===J?(i.side=K,i.needsUpdate=!0,v.renderBufferDirect(n,t,r,i,e,a),i.side=Y,i.needsUpdate=!0,v.renderBufferDirect(n,t,r,i,e,a),i.side=J):v.renderBufferDirect(n,t,r,i,e,a),e.onAfterRender(v,t,n,r,i,a)}function ze(e,t,n){!0!==t.isScene&&(t=j);var r=q.get(e),i=h.state.lights,a=h.state.shadowsArray,o=i.state.version,u=re.getParameters(e,i.state,a,t,n),s=re.getProgramCacheKey(u),l=r.programs;r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=(e.isMeshStandardMaterial?Q:$).get(e.envMap||r.environment),void 0===l&&(e.addEventListener("dispose",Se),l=new Map,r.programs=l);var c=l.get(s);if(void 0!==c){if(r.currentProgram===c&&r.lightsStateVersion===o)return Fe(e,u),c}else u.uniforms=re.getUniforms(e),e.onBuild(n,u,v),e.onBeforeCompile(u,v),c=re.acquireProgram(u,s),l.set(s,c),r.uniforms=u.uniforms;var f=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(f.clippingPlanes=ue.uniform),Fe(e,u),r.needsLights=je(e),r.lightsStateVersion=o,r.needsLights&&(f.ambientLightColor.value=i.state.ambient,f.lightProbe.value=i.state.probe,f.directionalLights.value=i.state.directional,f.directionalLightShadows.value=i.state.directionalShadow,f.spotLights.value=i.state.spot,f.spotLightShadows.value=i.state.spotShadow,f.rectAreaLights.value=i.state.rectArea,f.ltc_1.value=i.state.rectAreaLTC1,f.ltc_2.value=i.state.rectAreaLTC2,f.pointLights.value=i.state.point,f.pointLightShadows.value=i.state.pointShadow,f.hemisphereLights.value=i.state.hemi,f.directionalShadowMap.value=i.state.directionalShadowMap,f.directionalShadowMatrix.value=i.state.directionalShadowMatrix,f.spotShadowMap.value=i.state.spotShadowMap,f.spotShadowMatrix.value=i.state.spotShadowMatrix,f.pointShadowMap.value=i.state.pointShadowMap,f.pointShadowMatrix.value=i.state.pointShadowMatrix);var d=c.getUniforms(),p=Yu.seqWithValue(d.seq,f);return r.currentProgram=c,r.uniformsList=p,c}function Fe(e,t){var n=q.get(e);n.outputEncoding=t.outputEncoding,n.instancing=t.instancing,n.skinning=t.skinning,n.morphTargets=t.morphTargets,n.morphNormals=t.morphNormals,n.morphColors=t.morphColors,n.morphTargetsCount=t.morphTargetsCount,n.numClippingPlanes=t.numClippingPlanes,n.numIntersection=t.numClipIntersection,n.vertexAlphas=t.vertexAlphas,n.vertexTangents=t.vertexTangents,n.toneMapping=t.toneMapping}function Be(e,t,n,r,i){!0!==t.isScene&&(t=j),X.resetTextureUnits();var a=t.fog,o=r.isMeshStandardMaterial?t.environment:null,u=null===b?v.outputEncoding:!0===b.isXRRenderTarget?b.texture.encoding:vn,s=(r.isMeshStandardMaterial?Q:$).get(r.envMap||o),l=!0===r.vertexColors&&!!n.attributes.color&&4===n.attributes.color.itemSize,c=!!r.normalMap&&!!n.attributes.tangent,f=!!n.morphAttributes.position,d=!!n.morphAttributes.normal,p=!!n.morphAttributes.color,m=r.toneMapped?v.toneMapping:Ie,g=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,y=void 0!==g?g.length:0,w=q.get(r),S=h.state.lights;if(!0===I&&(!0===D||e!==_)){var k=e===_&&r.id===x;ue.setState(r,e,k)}var M=!1;r.version===w.__version?w.needsLights&&w.lightsStateVersion!==S.state.version||w.outputEncoding!==u||i.isInstancedMesh&&!1===w.instancing?M=!0:i.isInstancedMesh||!0!==w.instancing?i.isSkinnedMesh&&!1===w.skinning?M=!0:i.isSkinnedMesh||!0!==w.skinning?w.envMap!==s||r.fog&&w.fog!==a?M=!0:void 0===w.numClippingPlanes||w.numClippingPlanes===ue.numPlanes&&w.numIntersection===ue.numIntersection?(w.vertexAlphas!==l||w.vertexTangents!==c||w.morphTargets!==f||w.morphNormals!==d||w.morphColors!==p||w.toneMapping!==m||!0===G.isWebGL2&&w.morphTargetsCount!==y)&&(M=!0):M=!0:M=!0:M=!0:(M=!0,w.__version=r.version);var A=w.currentProgram;!0===M&&(A=ze(r,t,i));var C=!1,R=!1,P=!1,L=A.getUniforms(),O=w.uniforms;if(W.useProgram(A.program)&&(C=!0,R=!0,P=!0),r.id!==x&&(x=r.id,R=!0),C||_!==e){if(L.setValue(ve,"projectionMatrix",e.projectionMatrix),G.logarithmicDepthBuffer&&L.setValue(ve,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),_!==e&&(_=e,R=!0,P=!0),r.isShaderMaterial||r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshStandardMaterial||r.envMap){var z=L.map.cameraPosition;void 0!==z&&z.setValue(ve,U.setFromMatrixPosition(e.matrixWorld))}(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial)&&L.setValue(ve,"isOrthographic",!0===e.isOrthographicCamera),(r.isMeshPhongMaterial||r.isMeshToonMaterial||r.isMeshLambertMaterial||r.isMeshBasicMaterial||r.isMeshStandardMaterial||r.isShaderMaterial||r.isShadowMaterial||i.isSkinnedMesh)&&L.setValue(ve,"viewMatrix",e.matrixWorldInverse)}if(i.isSkinnedMesh){L.setOptional(ve,i,"bindMatrix"),L.setOptional(ve,i,"bindMatrixInverse");var F=i.skeleton;F&&(G.floatVertexTextures?(null===F.boneTexture&&F.computeBoneTexture(),L.setValue(ve,"boneTexture",F.boneTexture,X),L.setValue(ve,"boneTextureSize",F.boneTextureSize)):L.setOptional(ve,F,"boneMatrices"))}var B=n.morphAttributes;return(void 0!==B.position||void 0!==B.normal||void 0!==B.color&&!0===G.isWebGL2)&&ce.update(i,n,r,A),(R||w.receiveShadow!==i.receiveShadow)&&(w.receiveShadow=i.receiveShadow,L.setValue(ve,"receiveShadow",i.receiveShadow)),R&&(L.setValue(ve,"toneMappingExposure",v.toneMappingExposure),w.needsLights&&Ue(O,P),a&&r.fog&&ie.refreshFogUniforms(O,a),ie.refreshMaterialUniforms(O,r,T,E,N),Yu.upload(ve,w.uniformsList,O,X)),r.isShaderMaterial&&!0===r.uniformsNeedUpdate&&(Yu.upload(ve,w.uniformsList,O,X),r.uniformsNeedUpdate=!1),r.isSpriteMaterial&&L.setValue(ve,"center",i.center),L.setValue(ve,"modelViewMatrix",i.modelViewMatrix),L.setValue(ve,"normalMatrix",i.normalMatrix),L.setValue(ve,"modelMatrix",i.matrixWorld),A}function Ue(e,t){e.ambientLightColor.needsUpdate=t,e.lightProbe.needsUpdate=t,e.directionalLights.needsUpdate=t,e.directionalLightShadows.needsUpdate=t,e.pointLights.needsUpdate=t,e.pointLightShadows.needsUpdate=t,e.spotLights.needsUpdate=t,e.spotLightShadows.needsUpdate=t,e.rectAreaLights.needsUpdate=t,e.hemisphereLights.needsUpdate=t}function je(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}Re.setAnimationLoop(Te),"undefined"!==typeof self&&Re.setContext(self),this.setAnimationLoop=function(e){Ee=e,xe.setAnimationLoop(e),null===e?Re.stop():Re.start()},xe.addEventListener("sessionstart",Ae),xe.addEventListener("sessionend",Ce),this.render=function(e,t){if(void 0===t||!0===t.isCamera){if(!0!==m){!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===xe.enabled&&!0===xe.isPresenting&&(!0===xe.cameraAutoUpdate&&xe.updateCamera(t),t=xe.getCamera()),!0===e.isScene&&e.onBeforeRender(v,e,t,b),(h=oe.get(e,p.length)).init(),p.push(h),z.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),O.setFromProjectionMatrix(z),D=this.localClippingEnabled,I=ue.init(this.clippingPlanes,D,t),(f=ae.get(e,d.length)).init(),d.push(f),Pe(e,t,0,v.sortObjects),f.finish(),!0===v.sortObjects&&f.sort(A,C),!0===I&&ue.beginShadows();var n=h.state.shadowsArray;if(se.render(n,e,t),!0===I&&ue.endShadows(),!0===this.info.autoReset&&this.info.reset(),le.render(f,e),h.setupLights(v.physicallyCorrectLights),t.isArrayCamera)for(var r=t.cameras,i=0,a=r.length;i<a;i++){var o=r[i];Le(f,e,o,o.viewport)}else Le(f,e,t);null!==b&&(X.updateMultisampleRenderTarget(b),X.updateRenderTargetMipmap(b)),!0===e.isScene&&e.onAfterRender(v,e,t),pe.resetDefaultState(),x=-1,_=null,p.pop(),h=p.length>0?p[p.length-1]:null,d.pop(),f=d.length>0?d[d.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return b},this.setRenderTargetTextures=function(e,t,n){q.get(e.texture).__webglTexture=t,q.get(e.depthTexture).__webglTexture=n;var r=q.get(e);r.__hasExternalTextures=!0,r.__hasExternalTextures&&(r.__autoAllocateDepthBuffer=void 0===n,r.__autoAllocateDepthBuffer||!0===Z.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),r.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(e,t){var n=q.get(e);n.__webglFramebuffer=t,n.__useDefaultFramebuffer=void 0===t},this.setRenderTarget=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;b=e,g=t,y=n;var r=!0;if(e){var i=q.get(e);void 0!==i.__useDefaultFramebuffer?(W.bindFramebuffer(36160,null),r=!1):void 0===i.__webglFramebuffer?X.setupRenderTarget(e):i.__hasExternalTextures&&X.rebindTextures(e,q.get(e.texture).__webglTexture,q.get(e.depthTexture).__webglTexture)}var a=null,o=!1,u=!1;if(e){var s=e.texture;(s.isData3DTexture||s.isDataArrayTexture)&&(u=!0);var l=q.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(a=l[t],o=!0):a=G.isWebGL2&&e.samples>0&&!1===X.useMultisampledRTT(e)?q.get(e).__webglMultisampledFramebuffer:l,w.copy(e.viewport),S.copy(e.scissor),k=e.scissorTest}else w.copy(R).multiplyScalar(T).floor(),S.copy(P).multiplyScalar(T).floor(),k=L;var c=W.bindFramebuffer(36160,a);if(c&&G.drawBuffers&&r&&W.drawBuffers(e,a),W.viewport(w),W.scissor(S),W.setScissorTest(k),o){var f=q.get(e.texture);ve.framebufferTexture2D(36160,36064,34069+t,f.__webglTexture,n)}else if(u){var h=q.get(e.texture),d=t||0;ve.framebufferTextureLayer(36160,36064,h.__webglTexture,n||0,d)}x=-1},this.readRenderTargetPixels=function(e,t,n,r,i,a,o){if(e&&e.isWebGLRenderTarget){var u=q.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==o&&(u=u[o]),u){W.bindFramebuffer(36160,u);try{var s=e.texture,l=s.format,c=s.type;if(l!==yt&&de.convert(l)!==ve.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");var f=c===ht&&(Z.has("EXT_color_buffer_half_float")||G.isWebGL2&&Z.has("EXT_color_buffer_float"));if(c!==at&&de.convert(c)!==ve.getParameter(35738)&&(c!==ft||!(G.isWebGL2||Z.has("OES_texture_float")||Z.has("WEBGL_color_buffer_float")))&&!f)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&ve.readPixels(t,n,r,i,de.convert(l),de.convert(c),a)}finally{var h=null!==b?q.get(b).__webglFramebuffer:null;W.bindFramebuffer(36160,h)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!0===t.isFramebufferTexture){var r=Math.pow(2,-n),i=Math.floor(t.image.width*r),a=Math.floor(t.image.height*r);X.setTexture2D(t,0),ve.copyTexSubImage2D(3553,n,0,0,e.x,e.y,i,a),W.unbindTexture()}else console.error("THREE.WebGLRenderer: copyFramebufferToTexture() can only be used with FramebufferTexture.")},this.copyTextureToTexture=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=t.image.width,a=t.image.height,o=de.convert(n.format),u=de.convert(n.type);X.setTexture2D(n,0),ve.pixelStorei(37440,n.flipY),ve.pixelStorei(37441,n.premultiplyAlpha),ve.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?ve.texSubImage2D(3553,r,e.x,e.y,i,a,o,u,t.image.data):t.isCompressedTexture?ve.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,o,t.mipmaps[0].data):ve.texSubImage2D(3553,r,e.x,e.y,o,u,t.image),0===r&&n.generateMipmaps&&ve.generateMipmap(3553),W.unbindTexture()},this.copyTextureToTexture3D=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(v.isWebGL1Renderer)console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");else{var a,o=e.max.x-e.min.x+1,u=e.max.y-e.min.y+1,s=e.max.z-e.min.z+1,l=de.convert(r.format),c=de.convert(r.type);if(r.isData3DTexture)X.setTexture3D(r,0),a=32879;else{if(!r.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");X.setTexture2DArray(r,0),a=35866}ve.pixelStorei(37440,r.flipY),ve.pixelStorei(37441,r.premultiplyAlpha),ve.pixelStorei(3317,r.unpackAlignment);var f=ve.getParameter(3314),h=ve.getParameter(32878),d=ve.getParameter(3316),p=ve.getParameter(3315),m=ve.getParameter(32877),g=n.isCompressedTexture?n.mipmaps[0]:n.image;ve.pixelStorei(3314,g.width),ve.pixelStorei(32878,g.height),ve.pixelStorei(3316,e.min.x),ve.pixelStorei(3315,e.min.y),ve.pixelStorei(32877,e.min.z),n.isDataTexture||n.isData3DTexture?ve.texSubImage3D(a,i,t.x,t.y,t.z,o,u,s,l,c,g.data):n.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ve.compressedTexSubImage3D(a,i,t.x,t.y,t.z,o,u,s,l,g.data)):ve.texSubImage3D(a,i,t.x,t.y,t.z,o,u,s,l,c,g),ve.pixelStorei(3314,f),ve.pixelStorei(32878,h),ve.pixelStorei(3316,d),ve.pixelStorei(3315,p),ve.pixelStorei(32877,m),0===i&&r.generateMipmaps&&ve.generateMipmap(a),W.unbindTexture()}},this.initTexture=function(e){X.setTexture2D(e,0),W.unbindTexture()},this.resetState=function(){g=0,y=0,b=null,W.reset(),pe.reset()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Gs.prototype.isWebGLRenderer=!0;var Ws=function(e){E(n,e);var t=P(n);function n(){return S(this,n),t.apply(this,arguments)}return M(n)}(Gs);Ws.prototype.isWebGL1Renderer=!0;var Vs=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:25e-5;S(this,e),this.name="",this.color=new Cr(t),this.density=n}return M(e,[{key:"clone",value:function(){return new e(this.color,this.density)}},{key:"toJSON",value:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}]),e}();Vs.prototype.isFogExp2=!0;var qs=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;S(this,e),this.name="",this.color=new Cr(t),this.near=n,this.far=r}return M(e,[{key:"clone",value:function(){return new e(this.color,this.near,this.far)}},{key:"toJSON",value:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}]),e}();qs.prototype.isFog=!0;var Xs=function(e){E(n,e);var t=P(n);function n(){var e;return S(this,n),(e=t.call(this)).type="Scene",e.background=null,e.environment=null,e.fog=null,e.overrideMaterial=null,e.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:C(e)})),e}return M(n,[{key:"copy",value:function(e,t){return D(T(n.prototype),"copy",this).call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}},{key:"toJSON",value:function(e){var t=D(T(n.prototype),"toJSON",this).call(this,e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}]),n}(Wi);Xs.prototype.isScene=!0;var $s=function(){function e(t,n){S(this,e),this.array=t,this.stride=n,this.count=void 0!==t?t.length/n:0,this.usage=Un,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=ir()}return M(e,[{key:"onUploadCallback",value:function(){}},{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setUsage",value:function(e){return this.usage=e,this}},{key:"copy",value:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}},{key:"copyAt",value:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this}},{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.array.set(e,t),this}},{key:"clone",value:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=ir()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),n=new this.constructor(t,this.stride);return n.setUsage(this.usage),n}},{key:"onUpload",value:function(e){return this.onUploadCallback=e,this}},{key:"toJSON",value:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=ir()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}]),e}();$s.prototype.isInterleavedBuffer=!0;var Ys=new Zr,Ks=function(){function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];S(this,e),this.name="",this.data=t,this.itemSize=n,this.offset=r,this.normalized=!0===i}return M(e,[{key:"count",get:function(){return this.data.count}},{key:"array",get:function(){return this.data.array}},{key:"needsUpdate",set:function(e){this.data.needsUpdate=e}},{key:"applyMatrix4",value:function(e){for(var t=0,n=this.data.count;t<n;t++)Ys.fromBufferAttribute(this,t),Ys.applyMatrix4(e),this.setXYZ(t,Ys.x,Ys.y,Ys.z);return this}},{key:"applyNormalMatrix",value:function(e){for(var t=0,n=this.count;t<n;t++)Ys.fromBufferAttribute(this,t),Ys.applyNormalMatrix(e),this.setXYZ(t,Ys.x,Ys.y,Ys.z);return this}},{key:"transformDirection",value:function(e){for(var t=0,n=this.count;t<n;t++)Ys.fromBufferAttribute(this,t),Ys.transformDirection(e),this.setXYZ(t,Ys.x,Ys.y,Ys.z);return this}},{key:"setX",value:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this}},{key:"setY",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this}},{key:"setZ",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this}},{key:"setW",value:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this}},{key:"getX",value:function(e){return this.data.array[e*this.data.stride+this.offset]}},{key:"getY",value:function(e){return this.data.array[e*this.data.stride+this.offset+1]}},{key:"getZ",value:function(e){return this.data.array[e*this.data.stride+this.offset+2]}},{key:"getW",value:function(e){return this.data.array[e*this.data.stride+this.offset+3]}},{key:"setXY",value:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this}},{key:"setXYZ",value:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this}},{key:"setXYZW",value:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this}},{key:"clone",value:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var n=[],r=0;r<this.count;r++)for(var i=r*this.data.stride+this.offset,a=0;a<this.itemSize;a++)n.push(this.data.array[i+a]);return new sa(new this.array.constructor(n),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new e(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}},{key:"toJSON",value:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}]),e}();Ks.prototype.isInterleavedBufferAttribute=!0;var Js,Qs=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this)).type="SpriteMaterial",r.color=new Cr(16777215),r.map=null,r.alphaMap=null,r.rotation=0,r.sizeAttenuation=!0,r.transparent=!0,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this}}]),n}(ia);Qs.prototype.isSpriteMaterial=!0;var el=new Zr,tl=new Zr,nl=new Zr,rl=new hr,il=new hr,al=new xi,ol=new Zr,ul=new Zr,sl=new Zr,ll=new hr,cl=new hr,fl=new hr,hl=function(e){E(n,e);var t=P(n);function n(e){var r;if(S(this,n),(r=t.call(this)).type="Sprite",void 0===Js){Js=new Ea;var i=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),a=new $s(i,5);Js.setIndex([0,1,2,0,2,3]),Js.setAttribute("position",new Ks(a,3,0,!1)),Js.setAttribute("uv",new Ks(a,2,3,!1))}return r.geometry=Js,r.material=void 0!==e?e:new Qs,r.center=new hr(.5,.5),r}return M(n,[{key:"raycast",value:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),tl.setFromMatrixScale(this.matrixWorld),al.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),nl.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&tl.multiplyScalar(-nl.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var a=this.center;dl(ol.set(-.5,-.5,0),nl,a,tl,n,r),dl(ul.set(.5,-.5,0),nl,a,tl,n,r),dl(sl.set(.5,.5,0),nl,a,tl,n,r),ll.set(0,0),cl.set(1,0),fl.set(1,1);var o=e.ray.intersectTriangle(ol,ul,sl,!1,el);if(null!==o||(dl(ul.set(-.5,.5,0),nl,a,tl,n,r),cl.set(0,1),null!==(o=e.ray.intersectTriangle(ol,sl,ul,!1,el)))){var u=e.ray.origin.distanceTo(el);u<e.near||u>e.far||t.push({distance:u,point:el.clone(),uv:na.getUV(el,ol,ul,sl,ll,cl,fl,new hr),face:null,object:this})}}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}}]),n}(Wi);function dl(e,t,n,r,i,a){rl.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(il.x=a*rl.x-i*rl.y,il.y=i*rl.x+a*rl.y):il.copy(rl),e.copy(t),e.x+=il.x,e.y+=il.y,e.applyMatrix4(al)}hl.prototype.isSprite=!0;var pl=new Zr,vl=new Zr,ml=function(e){E(n,e);var t=P(n);function n(){var e;return S(this,n),(e=t.call(this))._currentLevel=0,e.type="LOD",Object.defineProperties(C(e),{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),e.autoUpdate=!0,e}return M(n,[{key:"copy",value:function(e){D(T(n.prototype),"copy",this).call(this,e,!1);for(var t=e.levels,r=0,i=t.length;r<i;r++){var a=t[r];this.addLevel(a.object.clone(),a.distance)}return this.autoUpdate=e.autoUpdate,this}},{key:"addLevel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=Math.abs(t);var n,r=this.levels;for(n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this}},{key:"getCurrentLevel",value:function(){return this._currentLevel}},{key:"getObjectForDistance",value:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null}},{key:"raycast",value:function(e,t){if(this.levels.length>0){pl.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(pl);this.getObjectForDistance(n).raycast(e,t)}}},{key:"update",value:function(e){var t=this.levels;if(t.length>1){pl.setFromMatrixPosition(e.matrixWorld),vl.setFromMatrixPosition(this.matrixWorld);var n,r,i=pl.distanceTo(vl)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r&&i>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}}},{key:"toJSON",value:function(e){var t=D(T(n.prototype),"toJSON",this).call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var r=this.levels,i=0,a=r.length;i<a;i++){var o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}]),n}(Wi),gl=new Zr,yl=new Dr,bl=new Dr,xl=new Zr,_l=new xi,wl=function(e){E(n,e);var t=P(n);function n(e,r){var i;return S(this,n),(i=t.call(this,e,r)).type="SkinnedMesh",i.bindMode="attached",i.bindMatrix=new xi,i.bindMatrixInverse=new xi,i}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}},{key:"bind",value:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}},{key:"pose",value:function(){this.skeleton.pose()}},{key:"normalizeSkinWeights",value:function(){for(var e=new Dr,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.fromBufferAttribute(t,n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}}},{key:"updateMatrixWorld",value:function(e){D(T(n.prototype),"updateMatrixWorld",this).call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}},{key:"boneTransform",value:function(e,t){var n=this.skeleton,r=this.geometry;yl.fromBufferAttribute(r.attributes.skinIndex,e),bl.fromBufferAttribute(r.attributes.skinWeight,e),gl.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(var i=0;i<4;i++){var a=bl.getComponent(i);if(0!==a){var o=yl.getComponent(i);_l.multiplyMatrices(n.bones[o].matrixWorld,n.boneInverses[o]),t.addScaledVector(xl.copy(gl).applyMatrix4(_l),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}]),n}(Ga);wl.prototype.isSkinnedMesh=!0;var Sl=function(e){E(n,e);var t=P(n);function n(){var e;return S(this,n),(e=t.call(this)).type="Bone",e}return M(n)}(Wi);Sl.prototype.isBone=!0;var kl=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3?arguments[3]:void 0,u=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0,l=arguments.length>6?arguments[6]:void 0,c=arguments.length>7?arguments[7]:void 0,f=arguments.length>8&&void 0!==arguments[8]?arguments[8]:$e,h=arguments.length>9&&void 0!==arguments[9]?arguments[9]:$e,d=arguments.length>10?arguments[10]:void 0,p=arguments.length>11?arguments[11]:void 0;return S(this,n),(e=t.call(this,null,s,l,c,f,h,o,u,d,p)).image={data:r,width:i,height:a},e.generateMipmaps=!1,e.flipY=!1,e.unpackAlignment=1,e}return M(n)}(Ir);kl.prototype.isDataTexture=!0;var Ml=new xi,El=new xi,Tl=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];S(this,e),this.uuid=ir(),this.bones=t.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}return M(e,[{key:"init",value:function(){var e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(16*e.length),0===t.length)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new xi)}}},{key:"calculateInverses",value:function(){this.boneInverses.length=0;for(var e=0,t=this.bones.length;e<t;e++){var n=new xi;this.bones[e]&&n.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(n)}}},{key:"pose",value:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.copy(this.boneInverses[e]).invert()}for(var r=0,i=this.bones.length;r<i;r++){var a=this.bones[r];a&&(a.parent&&a.parent.isBone?(a.matrix.copy(a.parent.matrixWorld).invert(),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,a.quaternion,a.scale))}}},{key:"update",value:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,a=e.length;i<a;i++){var o=e[i]?e[i].matrixWorld:El;Ml.multiplyMatrices(o,t[i]),Ml.toArray(n,16*i)}null!==r&&(r.needsUpdate=!0)}},{key:"clone",value:function(){return new e(this.bones,this.boneInverses)}},{key:"computeBoneTexture",value:function(){var e=Math.sqrt(4*this.bones.length);e=lr(e),e=Math.max(e,4);var t=new Float32Array(e*e*4);t.set(this.boneMatrices);var n=new kl(t,e,e,yt,ft);return n.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=n,this.boneTextureSize=e,this}},{key:"getBoneByName",value:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}}},{key:"dispose",value:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)}},{key:"fromJSON",value:function(e,t){this.uuid=e.uuid;for(var n=0,r=e.bones.length;n<r;n++){var i=e.bones[n],a=t[i];void 0===a&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),a=new Sl),this.bones.push(a),this.boneInverses.push((new xi).fromArray(e.boneInverses[n]))}return this.init(),this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;for(var t=this.bones,n=this.boneInverses,r=0,i=t.length;r<i;r++){var a=t[r];e.bones.push(a.uuid);var o=n[r];e.boneInverses.push(o.toArray())}return e}}]),e}(),Al=function(e){E(n,e);var t=P(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return S(this,n),"number"===typeof i&&(o=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),(a=t.call(this,e,r,i)).meshPerAttribute=o,a}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}]),n}(sa);Al.prototype.isInstancedBufferAttribute=!0;var Cl=new xi,Rl=new xi,Pl=[],Ll=new Ga,Ol=function(e){E(n,e);var t=P(n);function n(e,r,i){var a;return S(this,n),(a=t.call(this,e,r)).instanceMatrix=new Al(new Float32Array(16*i),16),a.instanceColor=null,a.count=i,a.frustumCulled=!1,a}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.instanceMatrix.copy(e.instanceMatrix),null!==e.instanceColor&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}},{key:"getColorAt",value:function(e,t){t.fromArray(this.instanceColor.array,3*e)}},{key:"getMatrixAt",value:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)}},{key:"raycast",value:function(e,t){var n=this.matrixWorld,r=this.count;if(Ll.geometry=this.geometry,Ll.material=this.material,void 0!==Ll.material)for(var i=0;i<r;i++){this.getMatrixAt(i,Cl),Rl.multiplyMatrices(n,Cl),Ll.matrixWorld=Rl,Ll.raycast(e,Pl);for(var a=0,o=Pl.length;a<o;a++){var u=Pl[a];u.instanceId=i,u.object=this,t.push(u)}Pl.length=0}}},{key:"setColorAt",value:function(e,t){null===this.instanceColor&&(this.instanceColor=new Al(new Float32Array(3*this.instanceMatrix.count),3)),t.toArray(this.instanceColor.array,3*e)}},{key:"setMatrixAt",value:function(e,t){t.toArray(this.instanceMatrix.array,16*e)}},{key:"updateMorphTargets",value:function(){}},{key:"dispose",value:function(){this.dispatchEvent({type:"dispose"})}}]),n}(Ga);Ol.prototype.isInstancedMesh=!0;var Il=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this)).type="LineBasicMaterial",r.color=new Cr(16777215),r.linewidth=1,r.linecap="round",r.linejoin="round",r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this}}]),n}(ia);Il.prototype.isLineBasicMaterial=!0;var Dl=new Zr,Nl=new Zr,zl=new xi,Fl=new bi,Bl=new fi,Ul=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ea,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Il;return S(this,n),(e=t.call(this)).type="Line",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)Dl.fromBufferAttribute(t,r-1),Nl.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Dl.distanceTo(Nl);e.setAttribute("lineDistance",new ga(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Bl.copy(n.boundingSphere),Bl.applyMatrix4(r),Bl.radius+=i,!1!==e.ray.intersectsSphere(Bl)){zl.copy(r).invert(),Fl.copy(e.ray).applyMatrix4(zl);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),u=o*o,s=new Zr,l=new Zr,c=new Zr,f=new Zr,h=this.isLineSegments?2:1;if(n.isBufferGeometry){var d=n.index,p=n.attributes.position;if(null!==d)for(var v=Math.max(0,a.start),m=Math.min(d.count,a.start+a.count)-1;v<m;v+=h){var g=d.getX(v),y=d.getX(v+1);if(s.fromBufferAttribute(p,g),l.fromBufferAttribute(p,y),!(Fl.distanceSqToSegment(s,l,f,c)>u)){f.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(f);b<e.near||b>e.far||t.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else for(var x=Math.max(0,a.start),_=Math.min(p.count,a.start+a.count)-1;x<_;x+=h){if(s.fromBufferAttribute(p,x),l.fromBufferAttribute(p,x+1),!(Fl.distanceSqToSegment(s,l,f,c)>u)){f.applyMatrix4(this.matrixWorld);var w=e.ray.origin.distanceTo(f);w<e.near||w>e.far||t.push({distance:w,point:c.clone().applyMatrix4(this.matrixWorld),index:x,face:null,faceIndex:null,object:this})}}}else n.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var u=e.morphTargets;void 0!==u&&u.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),n}(Wi);Ul.prototype.isLine=!0;var jl=new Zr,Hl=new Zr,Zl=function(e){E(n,e);var t=P(n);function n(e,r){var i;return S(this,n),(i=t.call(this,e,r)).type="LineSegments",i}return M(n,[{key:"computeLineDistances",value:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)jl.fromBufferAttribute(t,r),Hl.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+jl.distanceTo(Hl);e.setAttribute("lineDistance",new ga(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else e.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}]),n}(Ul);Zl.prototype.isLineSegments=!0;var Gl=function(e){E(n,e);var t=P(n);function n(e,r){var i;return S(this,n),(i=t.call(this,e,r)).type="LineLoop",i}return M(n)}(Ul);Gl.prototype.isLineLoop=!0;var Wl=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this)).type="PointsMaterial",r.color=new Cr(16777215),r.map=null,r.alphaMap=null,r.size=1,r.sizeAttenuation=!0,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this}}]),n}(ia);Wl.prototype.isPointsMaterial=!0;var Vl=new xi,ql=new bi,Xl=new fi,$l=new Zr,Yl=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ea,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Wl;return S(this,n),(e=t.call(this)).type="Points",e.geometry=r,e.material=i,e.updateMorphTargets(),e}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.material=e.material,this.geometry=e.geometry,this}},{key:"raycast",value:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold,a=n.drawRange;if(null===n.boundingSphere&&n.computeBoundingSphere(),Xl.copy(n.boundingSphere),Xl.applyMatrix4(r),Xl.radius+=i,!1!==e.ray.intersectsSphere(Xl)){Vl.copy(r).invert(),ql.copy(e.ray).applyMatrix4(Vl);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),u=o*o;if(n.isBufferGeometry){var s=n.index,l=n.attributes.position;if(null!==s)for(var c=Math.max(0,a.start),f=Math.min(s.count,a.start+a.count);c<f;c++){var h=s.getX(c);$l.fromBufferAttribute(l,h),Kl($l,h,u,r,e,t,this)}else for(var d=Math.max(0,a.start),p=Math.min(l.count,a.start+a.count);d<p;d++)$l.fromBufferAttribute(l,d),Kl($l,d,u,r,e,t,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}},{key:"updateMorphTargets",value:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,a=r.length;i<a;i++){var o=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=i}}}}else{var u=e.morphTargets;void 0!==u&&u.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}]),n}(Wi);function Kl(e,t,n,r,i,a,o){var u=ql.distanceSqToPoint(e);if(u<n){var s=new Zr;ql.closestPointToPoint(e,s),s.applyMatrix4(r);var l=i.ray.origin.distanceTo(s);if(l<i.near||l>i.far)return;a.push({distance:l,distanceToRay:Math.sqrt(u),point:s,index:t,face:null,object:o})}}Yl.prototype.isPoints=!0;var Jl=function(e){E(n,e);var t=P(n);function n(e,r,i,a,o,u,s,l,c){var f;S(this,n),(f=t.call(this,e,r,i,a,o,u,s,l,c)).minFilter=void 0!==u?u:et,f.magFilter=void 0!==o?o:et,f.generateMipmaps=!1;var h=C(f);return"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){h.needsUpdate=!0,e.requestVideoFrameCallback(t)})),f}return M(n,[{key:"clone",value:function(){return new this.constructor(this.image).copy(this)}},{key:"update",value:function(){var e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}]),n}(Ir);Jl.prototype.isVideoTexture=!0;var Ql=function(e){E(n,e);var t=P(n);function n(e,r,i){var a;return S(this,n),(a=t.call(this,{width:e,height:r})).format=i,a.magFilter=$e,a.minFilter=$e,a.generateMipmaps=!1,a.needsUpdate=!0,a}return M(n)}(Ir);Ql.prototype.isFramebufferTexture=!0;var ec=function(e){E(n,e);var t=P(n);function n(e,r,i,a,o,u,s,l,c,f,h,d){var p;return S(this,n),(p=t.call(this,null,u,s,l,c,f,a,o,h,d)).image={width:r,height:i},p.mipmaps=e,p.flipY=!1,p.generateMipmaps=!1,p}return M(n)}(Ir);ec.prototype.isCompressedTexture=!0;var tc=function(e){E(n,e);var t=P(n);function n(e,r,i,a,o,u,s,l,c){var f;return S(this,n),(f=t.call(this,e,r,i,a,o,u,s,l,c)).needsUpdate=!0,f}return M(n)}(Ir);tc.prototype.isCanvasTexture=!0;var nc=function(){function e(){S(this,e),this.type="Curve",this.arcLengthDivisions=200}return M(e,[{key:"getPoint",value:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}},{key:"getPointAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)}},{key:"getPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t}},{key:"getLength",value:function(){var e=this.getLengths();return e[e.length-1]}},{key:"getLengths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.arcLengthDivisions;if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var a=1;a<=e;a++)i+=(t=this.getPoint(a/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.getLengths()}},{key:"getUtoTmapping",value:function(e,t){var n,r=this.getLengths(),i=0,a=r.length;n=t||e*r[a-1];for(var o,u=0,s=a-1;u<=s;)if((o=r[i=Math.floor(u+(s-u)/2)]-n)<0)u=i+1;else{if(!(o>0)){s=i;break}s=i-1}if(r[i=s]===n)return i/(a-1);var l=r[i];return(i+(n-l)/(r[i+1]-l))/(a-1)}},{key:"getTangent",value:function(e,t){var n=1e-4,r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);var a=this.getPoint(r),o=this.getPoint(i),u=t||(a.isVector2?new hr:new Zr);return u.copy(o).sub(a).normalize(),u}},{key:"getTangentAt",value:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)}},{key:"computeFrenetFrames",value:function(e,t){for(var n=new Zr,r=[],i=[],a=[],o=new Zr,u=new xi,s=0;s<=e;s++){var l=s/e;r[s]=this.getTangentAt(l,new Zr)}i[0]=new Zr,a[0]=new Zr;var c=Number.MAX_VALUE,f=Math.abs(r[0].x),h=Math.abs(r[0].y),d=Math.abs(r[0].z);f<=c&&(c=f,n.set(1,0,0)),h<=c&&(c=h,n.set(0,1,0)),d<=c&&n.set(0,0,1),o.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],o),a[0].crossVectors(r[0],i[0]);for(var p=1;p<=e;p++){if(i[p]=i[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(r[p-1],r[p]),o.length()>Number.EPSILON){o.normalize();var v=Math.acos(ar(r[p-1].dot(r[p]),-1,1));i[p].applyMatrix4(u.makeRotationAxis(o,v))}a[p].crossVectors(r[p],i[p])}if(!0===t){var m=Math.acos(ar(i[0].dot(i[e]),-1,1));m/=e,r[0].dot(o.crossVectors(i[0],i[e]))>0&&(m=-m);for(var g=1;g<=e;g++)i[g].applyMatrix4(u.makeRotationAxis(r[g],m*g)),a[g].crossVectors(r[g],i[g])}return{tangents:r,normals:i,binormals:a}}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},{key:"toJSON",value:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}},{key:"fromJSON",value:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}]),e}(),rc=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI,l=arguments.length>6&&void 0!==arguments[6]&&arguments[6],c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;return S(this,n),(e=t.call(this)).type="EllipseCurve",e.aX=r,e.aY=i,e.xRadius=a,e.yRadius=o,e.aStartAngle=u,e.aEndAngle=s,e.aClockwise=l,e.aRotation=c,e}return M(n,[{key:"getPoint",value:function(e,t){for(var n=t||new hr,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,a=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=a?0:r),!0!==this.aClockwise||a||(i===r?i=-r:i-=r);var o=this.aStartAngle+e*i,u=this.aX+this.xRadius*Math.cos(o),s=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){var l=Math.cos(this.aRotation),c=Math.sin(this.aRotation),f=u-this.aX,h=s-this.aY;u=f*l-h*c+this.aX,s=f*c+h*l+this.aY}return n.set(u,s)}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}},{key:"fromJSON",value:function(e){return D(T(n.prototype),"fromJSON",this).call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}]),n}(nc);rc.prototype.isEllipseCurve=!0;var ic=function(e){E(n,e);var t=P(n);function n(e,r,i,a,o,u){var s;return S(this,n),(s=t.call(this,e,r,i,i,a,o,u)).type="ArcCurve",s}return M(n)}(rc);function ac(){var e=0,t=0,n=0,r=0;function i(i,a,o,u){e=i,t=o,n=-3*i+3*a-2*o-u,r=2*i-2*a+o+u}return{initCatmullRom:function(e,t,n,r,a){i(t,n,a*(n-e),a*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,a,o,u){var s=(t-e)/a-(n-e)/(a+o)+(n-t)/o,l=(n-t)/o-(r-t)/(o+u)+(r-n)/u;i(t,n,s*=o,l*=o)},calc:function(i){var a=i*i;return e+t*i+n*a+r*(a*i)}}}ic.prototype.isArcCurve=!0;var oc=new Zr,uc=new ac,sc=new ac,lc=new ac,cc=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"centripetal",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;return S(this,n),(e=t.call(this)).type="CatmullRomCurve3",e.points=r,e.closed=i,e.curveType=a,e.tension=o,e}return M(n,[{key:"getPoint",value:function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zr,i=r,a=this.points,o=a.length,u=(o-(this.closed?0:1))*e,s=Math.floor(u),l=u-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:0===l&&s===o-1&&(s=o-2,l=1),this.closed||s>0?t=a[(s-1)%o]:(oc.subVectors(a[0],a[1]).add(a[0]),t=oc);var c=a[s%o],f=a[(s+1)%o];if(this.closed||s+2<o?n=a[(s+2)%o]:(oc.subVectors(a[o-1],a[o-2]).add(a[o-1]),n=oc),"centripetal"===this.curveType||"chordal"===this.curveType){var h="chordal"===this.curveType?.5:.25,d=Math.pow(t.distanceToSquared(c),h),p=Math.pow(c.distanceToSquared(f),h),v=Math.pow(f.distanceToSquared(n),h);p<1e-4&&(p=1),d<1e-4&&(d=p),v<1e-4&&(v=p),uc.initNonuniformCatmullRom(t.x,c.x,f.x,n.x,d,p,v),sc.initNonuniformCatmullRom(t.y,c.y,f.y,n.y,d,p,v),lc.initNonuniformCatmullRom(t.z,c.z,f.z,n.z,d,p,v)}else"catmullrom"===this.curveType&&(uc.initCatmullRom(t.x,c.x,f.x,n.x,this.tension),sc.initCatmullRom(t.y,c.y,f.y,n.y,this.tension),lc.initCatmullRom(t.z,c.z,f.z,n.z,this.tension));return i.set(uc.calc(l),sc.calc(l),lc.calc(l)),i}},{key:"copy",value:function(e){D(T(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}},{key:"fromJSON",value:function(e){D(T(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new Zr).fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}]),n}(nc);function fc(e,t,n,r,i){var a=.5*(r-t),o=.5*(i-n),u=e*e;return(2*n-2*r+a+o)*(e*u)+(-3*n+3*r-2*a-o)*u+a*e+n}function hc(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function dc(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}cc.prototype.isCatmullRomCurve3=!0;var pc=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new hr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hr,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new hr,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new hr;return S(this,n),(e=t.call(this)).type="CubicBezierCurve",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return M(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hr,n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(dc(e,r.x,i.x,a.x,o.x),dc(e,r.y,i.y,a.y,o.y)),n}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return D(T(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(nc);pc.prototype.isCubicBezierCurve=!0;var vc=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zr,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Zr,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Zr;return S(this,n),(e=t.call(this)).type="CubicBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e.v3=o,e}return M(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zr,n=t,r=this.v0,i=this.v1,a=this.v2,o=this.v3;return n.set(dc(e,r.x,i.x,a.x,o.x),dc(e,r.y,i.y,a.y,o.y),dc(e,r.z,i.z,a.z,o.z)),n}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}},{key:"fromJSON",value:function(e){return D(T(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}]),n}(nc);vc.prototype.isCubicBezierCurve3=!0;var mc=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new hr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hr;return S(this,n),(e=t.call(this)).type="LineCurve",e.v1=r,e.v2=i,e}return M(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hr,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"getTangent",value:function(e,t){var n=t||new hr;return n.copy(this.v2).sub(this.v1).normalize(),n}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return D(T(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(nc);mc.prototype.isLineCurve=!0;var gc=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zr;return S(this,n),(e=t.call(this)).type="LineCurve3",e.isLineCurve3=!0,e.v1=r,e.v2=i,e}return M(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zr,n=t;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n}},{key:"getPointAt",value:function(e,t){return this.getPoint(e,t)}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return D(T(n.prototype),"fromJSON",this).call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(nc),yc=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new hr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hr,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new hr;return S(this,n),(e=t.call(this)).type="QuadraticBezierCurve",e.v0=r,e.v1=i,e.v2=a,e}return M(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hr,n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(hc(e,r.x,i.x,a.x),hc(e,r.y,i.y,a.y)),n}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return D(T(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(nc);yc.prototype.isQuadraticBezierCurve=!0;var bc=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zr,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zr,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Zr;return S(this,n),(e=t.call(this)).type="QuadraticBezierCurve3",e.v0=r,e.v1=i,e.v2=a,e}return M(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zr,n=t,r=this.v0,i=this.v1,a=this.v2;return n.set(hc(e,r.x,i.x,a.x),hc(e,r.y,i.y,a.y),hc(e,r.z,i.z,a.z)),n}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}},{key:"fromJSON",value:function(e){return D(T(n.prototype),"fromJSON",this).call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}]),n}(nc);bc.prototype.isQuadraticBezierCurve3=!0;var xc=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return S(this,n),(e=t.call(this)).type="SplineCurve",e.points=r,e}return M(n,[{key:"getPoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hr,n=t,r=this.points,i=(r.length-1)*e,a=Math.floor(i),o=i-a,u=r[0===a?a:a-1],s=r[a],l=r[a>r.length-2?r.length-1:a+1],c=r[a>r.length-3?r.length-1:a+2];return n.set(fc(o,u.x,s.x,l.x,c.x),fc(o,u.y,s.y,l.y,c.y)),n}},{key:"copy",value:function(e){D(T(n.prototype),"copy",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);e.points=[];for(var t=0,r=this.points.length;t<r;t++){var i=this.points[t];e.points.push(i.toArray())}return e}},{key:"fromJSON",value:function(e){D(T(n.prototype),"fromJSON",this).call(this,e),this.points=[];for(var t=0,r=e.points.length;t<r;t++){var i=e.points[t];this.points.push((new hr).fromArray(i))}return this}}]),n}(nc);xc.prototype.isSplineCurve=!0;var _c=Object.freeze({__proto__:null,ArcCurve:ic,CatmullRomCurve3:cc,CubicBezierCurve:pc,CubicBezierCurve3:vc,EllipseCurve:rc,LineCurve:mc,LineCurve3:gc,QuadraticBezierCurve:yc,QuadraticBezierCurve3:bc,SplineCurve:xc}),wc=function(e){E(n,e);var t=P(n);function n(){var e;return S(this,n),(e=t.call(this)).type="CurvePath",e.curves=[],e.autoClose=!1,e}return M(n,[{key:"add",value:function(e){this.curves.push(e)}},{key:"closePath",value:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new mc(t,e))}},{key:"getPoint",value:function(e,t){for(var n=e*this.getLength(),r=this.getCurveLengths(),i=0;i<r.length;){if(r[i]>=n){var a=r[i]-n,o=this.curves[i],u=o.getLength(),s=0===u?0:1-a/u;return o.getPointAt(s,t)}i++}return null}},{key:"getLength",value:function(){var e=this.getCurveLengths();return e[e.length-1]}},{key:"updateArcLengths",value:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}},{key:"getCurveLengths",value:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e}},{key:"getSpacedPoints",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40,t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t}},{key:"getPoints",value:function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12,n=[],r=0,i=this.curves;r<i.length;r++)for(var a=i[r],o=a.isEllipseCurve?2*t:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?t*a.points.length:t,u=a.getPoints(o),s=0;s<u.length;s++){var l=u[s];e&&e.equals(l)||(n.push(l),e=l)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}},{key:"copy",value:function(e){D(T(n.prototype),"copy",this).call(this,e),this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,r=this.curves.length;t<r;t++){var i=this.curves[t];e.curves.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){D(T(n.prototype),"fromJSON",this).call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,r=e.curves.length;t<r;t++){var i=e.curves[t];this.curves.push((new _c[i.type]).fromJSON(i))}return this}}]),n}(nc),Sc=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this)).type="Path",r.currentPoint=new hr,e&&r.setFromPoints(e),r}return M(n,[{key:"setFromPoints",value:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this}},{key:"moveTo",value:function(e,t){return this.currentPoint.set(e,t),this}},{key:"lineTo",value:function(e,t){var n=new mc(this.currentPoint.clone(),new hr(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){var i=new yc(this.currentPoint.clone(),new hr(e,t),new hr(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){var o=new pc(this.currentPoint.clone(),new hr(e,t),new hr(n,r),new hr(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}},{key:"splineThru",value:function(e){var t=[this.currentPoint.clone()].concat(e),n=new xc(t);return this.curves.push(n),this.currentPoint.copy(e[e.length-1]),this}},{key:"arc",value:function(e,t,n,r,i,a){var o=this.currentPoint.x,u=this.currentPoint.y;return this.absarc(e+o,t+u,n,r,i,a),this}},{key:"absarc",value:function(e,t,n,r,i,a){return this.absellipse(e,t,n,n,r,i,a),this}},{key:"ellipse",value:function(e,t,n,r,i,a,o,u){var s=this.currentPoint.x,l=this.currentPoint.y;return this.absellipse(e+s,t+l,n,r,i,a,o,u),this}},{key:"absellipse",value:function(e,t,n,r,i,a,o,u){var s=new rc(e,t,n,r,i,a,o,u);if(this.curves.length>0){var l=s.getPoint(0);l.equals(this.currentPoint)||this.lineTo(l.x,l.y)}this.curves.push(s);var c=s.getPoint(1);return this.currentPoint.copy(c),this}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.currentPoint.copy(e.currentPoint),this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return e.currentPoint=this.currentPoint.toArray(),e}},{key:"fromJSON",value:function(e){return D(T(n.prototype),"fromJSON",this).call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}]),n}(wc),kc=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[new hr(0,.5),new hr(.5,0),new hr(0,-.5)],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;S(this,n),(e=t.call(this)).type="LatheGeometry",e.parameters={points:r,segments:i,phiStart:a,phiLength:o},i=Math.floor(i),o=ar(o,0,2*Math.PI);for(var u=[],s=[],l=[],c=[],f=[],h=1/i,d=new Zr,p=new hr,v=new Zr,m=new Zr,g=new Zr,y=0,b=0,x=0;x<=r.length-1;x++)switch(x){case 0:y=r[x+1].x-r[x].x,b=r[x+1].y-r[x].y,v.x=1*b,v.y=-y,v.z=0*b,g.copy(v),v.normalize(),c.push(v.x,v.y,v.z);break;case r.length-1:c.push(g.x,g.y,g.z);break;default:y=r[x+1].x-r[x].x,b=r[x+1].y-r[x].y,v.x=1*b,v.y=-y,v.z=0*b,m.copy(v),v.x+=g.x,v.y+=g.y,v.z+=g.z,v.normalize(),c.push(v.x,v.y,v.z),g.copy(m)}for(var _=0;_<=i;_++)for(var w=a+_*h*o,k=Math.sin(w),M=Math.cos(w),E=0;E<=r.length-1;E++){d.x=r[E].x*k,d.y=r[E].y,d.z=r[E].x*M,s.push(d.x,d.y,d.z),p.x=_/i,p.y=E/(r.length-1),l.push(p.x,p.y);var T=c[3*E+0]*k,A=c[3*E+1],C=c[3*E+0]*M;f.push(T,A,C)}for(var R=0;R<i;R++)for(var P=0;P<r.length-1;P++){var L=P+R*r.length,O=L,I=L+r.length,D=L+r.length+1,N=L+1;u.push(O,I,N),u.push(D,N,I)}return e.setIndex(u),e.setAttribute("position",new ga(s,3)),e.setAttribute("uv",new ga(l,2)),e.setAttribute("normal",new ga(f,3)),e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.points,e.segments,e.phiStart,e.phiLength)}}]),n}(Ea),Mc=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8;S(this,n);var u=new Sc;return u.absarc(0,-i/2,r,1.5*Math.PI,0),u.absarc(0,i/2,r,0,.5*Math.PI),(e=t.call(this,u.getPoints(a),o)).type="CapsuleGeometry",e.parameters={radius:r,height:i,capSegments:a,radialSegments:o},e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.length,e.capSegments,e.radialSegments)}}]),n}(kc),Ec=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2*Math.PI;S(this,n),(e=t.call(this)).type="CircleGeometry",e.parameters={radius:r,segments:i,thetaStart:a,thetaLength:o},i=Math.max(3,i);var u=[],s=[],l=[],c=[],f=new Zr,h=new hr;s.push(0,0,0),l.push(0,0,1),c.push(.5,.5);for(var d=0,p=3;d<=i;d++,p+=3){var v=a+d/i*o;f.x=r*Math.cos(v),f.y=r*Math.sin(v),s.push(f.x,f.y,f.z),l.push(0,0,1),h.x=(s[p]/r+1)/2,h.y=(s[p+1]/r+1)/2,c.push(h.x,h.y)}for(var m=1;m<=i;m++)u.push(m,m+1,0);return e.setIndex(u),e.setAttribute("position",new ga(s,3)),e.setAttribute("normal",new ga(l,3)),e.setAttribute("uv",new ga(c,2)),e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.segments,e.thetaStart,e.thetaLength)}}]),n}(Ea),Tc=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:2*Math.PI;S(this,n),(e=t.call(this)).type="CylinderGeometry",e.parameters={radiusTop:r,radiusBottom:i,height:a,radialSegments:o,heightSegments:u,openEnded:s,thetaStart:l,thetaLength:c};var f=C(e);o=Math.floor(o),u=Math.floor(u);var h=[],d=[],p=[],v=[],m=0,g=[],y=a/2,b=0;function x(){for(var e=new Zr,t=new Zr,n=0,s=(i-r)/a,x=0;x<=u;x++){for(var _=[],w=x/u,S=w*(i-r)+r,k=0;k<=o;k++){var M=k/o,E=M*c+l,T=Math.sin(E),A=Math.cos(E);t.x=S*T,t.y=-w*a+y,t.z=S*A,d.push(t.x,t.y,t.z),e.set(T,s,A).normalize(),p.push(e.x,e.y,e.z),v.push(M,1-w),_.push(m++)}g.push(_)}for(var C=0;C<o;C++)for(var R=0;R<u;R++){var P=g[R][C],L=g[R+1][C],O=g[R+1][C+1],I=g[R][C+1];h.push(P,L,I),h.push(L,O,I),n+=6}f.addGroup(b,n,0),b+=n}function _(e){for(var t=m,n=new hr,a=new Zr,u=0,s=!0===e?r:i,g=!0===e?1:-1,x=1;x<=o;x++)d.push(0,y*g,0),p.push(0,g,0),v.push(.5,.5),m++;for(var _=m,w=0;w<=o;w++){var S=w/o*c+l,k=Math.cos(S),M=Math.sin(S);a.x=s*M,a.y=y*g,a.z=s*k,d.push(a.x,a.y,a.z),p.push(0,g,0),n.x=.5*k+.5,n.y=.5*M*g+.5,v.push(n.x,n.y),m++}for(var E=0;E<o;E++){var T=t+E,A=_+E;!0===e?h.push(A,A+1,T):h.push(A+1,A,T),u+=3}f.addGroup(b,u,!0===e?1:2),b+=u}return x(),!1===s&&(r>0&&_(!0),i>0&&_(!1)),e.setIndex(h),e.setAttribute("position",new ga(d,3)),e.setAttribute("normal",new ga(p,3)),e.setAttribute("uv",new ga(v,2)),e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(Ea),Ac=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:2*Math.PI;return S(this,n),(e=t.call(this,0,r,i,a,o,u,s,l)).type="ConeGeometry",e.parameters={radius:r,height:i,radialSegments:a,heightSegments:o,openEnded:u,thetaStart:s,thetaLength:l},e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}]),n}(Tc),Cc=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;S(this,n),(e=t.call(this)).type="PolyhedronGeometry",e.parameters={vertices:r,indices:i,radius:a,detail:o};var u=[],s=[];function l(e){for(var t=new Zr,n=new Zr,r=new Zr,a=0;a<i.length;a+=3)v(i[a+0],t),v(i[a+1],n),v(i[a+2],r),c(t,n,r,e)}function c(e,t,n,r){for(var i=r+1,a=[],o=0;o<=i;o++){a[o]=[];for(var u=e.clone().lerp(n,o/i),s=t.clone().lerp(n,o/i),l=i-o,c=0;c<=l;c++)a[o][c]=0===c&&o===i?u:u.clone().lerp(s,c/l)}for(var f=0;f<i;f++)for(var h=0;h<2*(i-f)-1;h++){var d=Math.floor(h/2);h%2===0?(p(a[f][d+1]),p(a[f+1][d]),p(a[f][d])):(p(a[f][d+1]),p(a[f+1][d+1]),p(a[f+1][d]))}}function f(e){for(var t=new Zr,n=0;n<u.length;n+=3)t.x=u[n+0],t.y=u[n+1],t.z=u[n+2],t.normalize().multiplyScalar(e),u[n+0]=t.x,u[n+1]=t.y,u[n+2]=t.z}function h(){for(var e=new Zr,t=0;t<u.length;t+=3){e.x=u[t+0],e.y=u[t+1],e.z=u[t+2];var n=y(e)/2/Math.PI+.5,r=b(e)/Math.PI+.5;s.push(n,1-r)}m(),d()}function d(){for(var e=0;e<s.length;e+=6){var t=s[e+0],n=s[e+2],r=s[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(s[e+0]+=1),n<.2&&(s[e+2]+=1),r<.2&&(s[e+4]+=1))}}function p(e){u.push(e.x,e.y,e.z)}function v(e,t){var n=3*e;t.x=r[n+0],t.y=r[n+1],t.z=r[n+2]}function m(){for(var e=new Zr,t=new Zr,n=new Zr,r=new Zr,i=new hr,a=new hr,o=new hr,l=0,c=0;l<u.length;l+=9,c+=6){e.set(u[l+0],u[l+1],u[l+2]),t.set(u[l+3],u[l+4],u[l+5]),n.set(u[l+6],u[l+7],u[l+8]),i.set(s[c+0],s[c+1]),a.set(s[c+2],s[c+3]),o.set(s[c+4],s[c+5]),r.copy(e).add(t).add(n).divideScalar(3);var f=y(r);g(i,c+0,e,f),g(a,c+2,t,f),g(o,c+4,n,f)}}function g(e,t,n,r){r<0&&1===e.x&&(s[t]=e.x-1),0===n.x&&0===n.z&&(s[t]=r/2/Math.PI+.5)}function y(e){return Math.atan2(e.z,-e.x)}function b(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}return l(o),f(a),h(),e.setAttribute("position",new ga(u,3)),e.setAttribute("normal",new ga(u.slice(),3)),e.setAttribute("uv",new ga(s,2)),0===o?e.computeVertexNormals():e.normalizeNormals(),e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.vertices,e.indices,e.radius,e.details)}}]),n}(Ea),Rc=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;S(this,n);var a=(1+Math.sqrt(5))/2,o=1/a,u=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-o,-a,0,-o,a,0,o,-a,0,o,a,-o,-a,0,-o,a,0,o,-a,0,o,a,0,-a,0,-o,a,0,-o,-a,0,o,a,0,o],s=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];return(e=t.call(this,u,s,r,i)).type="DodecahedronGeometry",e.parameters={radius:r,detail:i},e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(Cc),Pc=new Zr,Lc=new Zr,Oc=new Zr,Ic=new na,Dc=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(S(this,n),(e=t.call(this)).type="EdgesGeometry",e.parameters={geometry:r,thresholdAngle:i},null!==r){for(var a=4,o=Math.pow(10,a),u=Math.cos(nr*i),s=r.getIndex(),l=r.getAttribute("position"),c=s?s.count:l.count,f=[0,0,0],h=["a","b","c"],d=new Array(3),p={},v=[],m=0;m<c;m+=3){s?(f[0]=s.getX(m),f[1]=s.getX(m+1),f[2]=s.getX(m+2)):(f[0]=m,f[1]=m+1,f[2]=m+2);var g=Ic.a,y=Ic.b,b=Ic.c;if(g.fromBufferAttribute(l,f[0]),y.fromBufferAttribute(l,f[1]),b.fromBufferAttribute(l,f[2]),Ic.getNormal(Oc),d[0]="".concat(Math.round(g.x*o),",").concat(Math.round(g.y*o),",").concat(Math.round(g.z*o)),d[1]="".concat(Math.round(y.x*o),",").concat(Math.round(y.y*o),",").concat(Math.round(y.z*o)),d[2]="".concat(Math.round(b.x*o),",").concat(Math.round(b.y*o),",").concat(Math.round(b.z*o)),d[0]!==d[1]&&d[1]!==d[2]&&d[2]!==d[0])for(var x=0;x<3;x++){var _=(x+1)%3,w=d[x],k=d[_],M=Ic[h[x]],E=Ic[h[_]],T="".concat(w,"_").concat(k),A="".concat(k,"_").concat(w);A in p&&p[A]?(Oc.dot(p[A].normal)<=u&&(v.push(M.x,M.y,M.z),v.push(E.x,E.y,E.z)),p[A]=null):T in p||(p[T]={index0:f[x],index1:f[_],normal:Oc.clone()})}}for(var C in p)if(p[C]){var R=p[C],P=R.index0,L=R.index1;Pc.fromBufferAttribute(l,P),Lc.fromBufferAttribute(l,L),v.push(Pc.x,Pc.y,Pc.z),v.push(Lc.x,Lc.y,Lc.z)}e.setAttribute("position",new ga(v,3))}return e}return M(n)}(Ea),Nc=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this,e)).uuid=ir(),r.type="Shape",r.holes=[],r}return M(n,[{key:"getPointsHoles",value:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t}},{key:"extractPoints",value:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}},{key:"copy",value:function(e){D(T(n.prototype),"copy",this).call(this,e),this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push(i.clone())}return this}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,r=this.holes.length;t<r;t++){var i=this.holes[t];e.holes.push(i.toJSON())}return e}},{key:"fromJSON",value:function(e){D(T(n.prototype),"fromJSON",this).call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,r=e.holes.length;t<r;t++){var i=e.holes[t];this.holes.push((new Sc).fromJSON(i))}return this}}]),n}(Sc),zc=function(e,t){var n,r,i,a,o,u,s,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,c=t&&t.length,f=c?t[0]*l:e.length,h=Fc(e,0,f,l,!0),d=[];if(!h||h.next===h.prev)return d;if(c&&(h=Wc(e,t,h,l)),e.length>80*l){n=i=e[0],r=a=e[1];for(var p=l;p<f;p+=l)(o=e[p])<n&&(n=o),(u=e[p+1])<r&&(r=u),o>i&&(i=o),u>a&&(a=u);s=0!==(s=Math.max(i-n,a-r))?1/s:0}return Uc(h,d,l,n,r,s),d};function Fc(e,t,n,r,i){var a,o;if(i===function(e,t,n,r){for(var i=0,a=t,o=n-r;a<n;a+=r)i+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return i}(e,t,n,r)>0)for(a=t;a<n;a+=r)o=uf(a,e[a],e[a+1],o);else for(a=n-r;a>=t;a-=r)o=uf(a,e[a],e[a+1],o);return o&&ef(o,o.next)&&(sf(o),o=o.next),o}function Bc(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!ef(r,r.next)&&0!==Qc(r.prev,r,r.next))r=r.next;else{if(sf(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function Uc(e,t,n,r,i,a,o){if(e){!o&&a&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=$c(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,a,o,u,s,l=1;do{for(n=e,e=null,a=null,o=0;n;){for(o++,r=n,u=0,t=0;t<l&&(u++,r=r.nextZ);t++);for(s=l;u>0||s>0&&r;)0!==u&&(0===s||!r||n.z<=r.z)?(i=n,n=n.nextZ,u--):(i=r,r=r.nextZ,s--),a?a.nextZ=i:e=i,i.prevZ=a,a=i;n=r}a.nextZ=null,l*=2}while(o>1)}(i)}(e,r,i,a);for(var u,s,l=e;e.prev!==e.next;)if(u=e.prev,s=e.next,a?Hc(e,r,i,a):jc(e))t.push(u.i/n),t.push(e.i/n),t.push(s.i/n),sf(e),e=s.next,l=s.next;else if((e=s)===l){o?1===o?Uc(e=Zc(Bc(e),t,n),t,n,r,i,a,2):2===o&&Gc(e,t,n,r,i,a):Uc(Bc(e),t,n,r,i,a,1);break}}}function jc(e){var t=e.prev,n=e,r=e.next;if(Qc(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Kc(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Qc(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Hc(e,t,n,r){var i=e.prev,a=e,o=e.next;if(Qc(i,a,o)>=0)return!1;for(var u=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,s=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,l=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,c=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,f=$c(u,s,t,n,r),h=$c(l,c,t,n,r),d=e.prevZ,p=e.nextZ;d&&d.z>=f&&p&&p.z<=h;){if(d!==e.prev&&d!==e.next&&Kc(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Qc(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,p!==e.prev&&p!==e.next&&Kc(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Qc(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;d&&d.z>=f;){if(d!==e.prev&&d!==e.next&&Kc(i.x,i.y,a.x,a.y,o.x,o.y,d.x,d.y)&&Qc(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;p&&p.z<=h;){if(p!==e.prev&&p!==e.next&&Kc(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&Qc(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Zc(e,t,n){var r=e;do{var i=r.prev,a=r.next.next;!ef(i,a)&&tf(i,r,r.next,a)&&af(i,a)&&af(a,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(a.i/n),sf(r),sf(r.next),r=e=a),r=r.next}while(r!==e);return Bc(r)}function Gc(e,t,n,r,i,a){var o=e;do{for(var u=o.next.next;u!==o.prev;){if(o.i!==u.i&&Jc(o,u)){var s=of(o,u);return o=Bc(o,o.next),s=Bc(s,s.next),Uc(o,t,n,r,i,a),void Uc(s,t,n,r,i,a)}u=u.next}o=o.next}while(o!==e)}function Wc(e,t,n,r){var i,a,o,u=[];for(i=0,a=t.length;i<a;i++)(o=Fc(e,t[i]*r,i<a-1?t[i+1]*r:e.length,r,!1))===o.next&&(o.steiner=!0),u.push(Yc(o));for(u.sort(Vc),i=0;i<u.length;i++)qc(u[i],n),n=Bc(n,n.next);return n}function Vc(e,t){return e.x-t.x}function qc(e,t){if(t=function(e,t){var n,r=t,i=e.x,a=e.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var u=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=i&&u>o){if(o=u,u===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===o)return n;var s,l=n,c=n.x,f=n.y,h=1/0;r=n;do{i>=r.x&&r.x>=c&&i!==r.x&&Kc(a<f?i:o,a,c,f,a<f?o:i,a,r.x,r.y)&&(s=Math.abs(a-r.y)/(i-r.x),af(r,e)&&(s<h||s===h&&(r.x>n.x||r.x===n.x&&Xc(n,r)))&&(n=r,h=s)),r=r.next}while(r!==l);return n}(e,t),t){var n=of(t,e);Bc(t,t.next),Bc(n,n.next)}}function Xc(e,t){return Qc(e.prev,e,t.prev)<0&&Qc(t.next,e,e.next)<0}function $c(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Yc(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Kc(e,t,n,r,i,a,o,u){return(i-o)*(t-u)-(e-o)*(a-u)>=0&&(e-o)*(r-u)-(n-o)*(t-u)>=0&&(n-o)*(a-u)-(i-o)*(r-u)>=0}function Jc(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&tf(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(af(e,t)&&af(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,a=(e.y+t.y)/2;do{n.y>a!==n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Qc(e.prev,e,t.prev)||Qc(e,t.prev,t))||ef(e,t)&&Qc(e.prev,e,e.next)>0&&Qc(t.prev,t,t.next)>0)}function Qc(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function ef(e,t){return e.x===t.x&&e.y===t.y}function tf(e,t,n,r){var i=rf(Qc(e,t,n)),a=rf(Qc(e,t,r)),o=rf(Qc(n,r,e)),u=rf(Qc(n,r,t));return i!==a&&o!==u||(!(0!==i||!nf(e,n,t))||(!(0!==a||!nf(e,r,t))||(!(0!==o||!nf(n,e,r))||!(0!==u||!nf(n,t,r)))))}function nf(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function rf(e){return e>0?1:e<0?-1:0}function af(e,t){return Qc(e.prev,e,e.next)<0?Qc(e,t,e.next)>=0&&Qc(e,e.prev,t)>=0:Qc(e,t,e.prev)<0||Qc(e,e.next,t)<0}function of(e,t){var n=new lf(e.i,e.x,e.y),r=new lf(t.i,t.x,t.y),i=e.next,a=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function uf(e,t,n,r){var i=new lf(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function sf(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function lf(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var cf=function(){function e(){S(this,e)}return M(e,null,[{key:"area",value:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n}},{key:"isClockWise",value:function(t){return e.area(t)<0}},{key:"triangulateShape",value:function(e,t){var n=[],r=[],i=[];ff(e),hf(n,e);var a=e.length;t.forEach(ff);for(var o=0;o<t.length;o++)r.push(a),a+=t[o].length,hf(n,t[o]);for(var u=zc(n,r),s=0;s<u.length;s+=3)i.push(u.slice(s,s+3));return i}}]),e}();function ff(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function hf(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}var df=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Nc([new hr(.5,.5),new hr(-.5,.5),new hr(-.5,-.5),new hr(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S(this,n),(e=t.call(this)).type="ExtrudeGeometry",e.parameters={shapes:r,options:i},r=Array.isArray(r)?r:[r];for(var a=C(e),o=[],u=[],s=0,l=r.length;s<l;s++){var c=r[s];f(c)}function f(e){var t=[],n=void 0!==i.curveSegments?i.curveSegments:12,r=void 0!==i.steps?i.steps:1,s=void 0!==i.depth?i.depth:1,l=void 0===i.bevelEnabled||i.bevelEnabled,c=void 0!==i.bevelThickness?i.bevelThickness:.2,f=void 0!==i.bevelSize?i.bevelSize:c-.1,h=void 0!==i.bevelOffset?i.bevelOffset:0,d=void 0!==i.bevelSegments?i.bevelSegments:3,p=i.extrudePath,v=void 0!==i.UVGenerator?i.UVGenerator:pf;void 0!==i.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),s=i.amount);var m,g,y,b,x,_=!1;p&&(m=p.getSpacedPoints(r),_=!0,l=!1,g=p.computeFrenetFrames(r,!1),y=new Zr,b=new Zr,x=new Zr),l||(d=0,c=0,f=0,h=0);var w=e.extractPoints(n),S=w.shape,k=w.holes;if(!cf.isClockWise(S)){S=S.reverse();for(var M=0,E=k.length;M<E;M++){var T=k[M];cf.isClockWise(T)&&(k[M]=T.reverse())}}for(var A=cf.triangulateShape(S,k),C=S,R=0,P=k.length;R<P;R++){var L=k[R];S=S.concat(L)}function O(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var I=S.length,D=A.length;function N(e,t,n){var r,i,a,o=e.x-t.x,u=e.y-t.y,s=n.x-e.x,l=n.y-e.y,c=o*o+u*u,f=o*l-u*s;if(Math.abs(f)>Number.EPSILON){var h=Math.sqrt(c),d=Math.sqrt(s*s+l*l),p=t.x-u/h,v=t.y+o/h,m=((n.x-l/d-p)*l-(n.y+s/d-v)*s)/(o*l-u*s),g=(r=p+o*m-e.x)*r+(i=v+u*m-e.y)*i;if(g<=2)return new hr(r,i);a=Math.sqrt(g/2)}else{var y=!1;o>Number.EPSILON?s>Number.EPSILON&&(y=!0):o<-Number.EPSILON?s<-Number.EPSILON&&(y=!0):Math.sign(u)===Math.sign(l)&&(y=!0),y?(r=-u,i=o,a=Math.sqrt(c)):(r=o,i=u,a=Math.sqrt(c/2))}return new hr(r/a,i/a)}for(var z=[],F=0,B=C.length,U=B-1,j=F+1;F<B;F++,U++,j++)U===B&&(U=0),j===B&&(j=0),z[F]=N(C[F],C[U],C[j]);for(var H,Z=[],G=z.concat(),W=0,V=k.length;W<V;W++){var q=k[W];H=[];for(var X=0,$=q.length,Y=$-1,K=X+1;X<$;X++,Y++,K++)Y===$&&(Y=0),K===$&&(K=0),H[X]=N(q[X],q[Y],q[K]);Z.push(H),G=G.concat(H)}for(var J=0;J<d;J++){for(var Q=J/d,ee=c*Math.cos(Q*Math.PI/2),te=f*Math.sin(Q*Math.PI/2)+h,ne=0,re=C.length;ne<re;ne++){var ie=O(C[ne],z[ne],te);Pe(ie.x,ie.y,-ee)}for(var ae=0,oe=k.length;ae<oe;ae++){var ue=k[ae];H=Z[ae];for(var se=0,le=ue.length;se<le;se++){var ce=O(ue[se],H[se],te);Pe(ce.x,ce.y,-ee)}}}for(var fe=f+h,he=0;he<I;he++){var de=l?O(S[he],G[he],fe):S[he];_?(b.copy(g.normals[0]).multiplyScalar(de.x),y.copy(g.binormals[0]).multiplyScalar(de.y),x.copy(m[0]).add(b).add(y),Pe(x.x,x.y,x.z)):Pe(de.x,de.y,0)}for(var pe=1;pe<=r;pe++)for(var ve=0;ve<I;ve++){var me=l?O(S[ve],G[ve],fe):S[ve];_?(b.copy(g.normals[pe]).multiplyScalar(me.x),y.copy(g.binormals[pe]).multiplyScalar(me.y),x.copy(m[pe]).add(b).add(y),Pe(x.x,x.y,x.z)):Pe(me.x,me.y,s/r*pe)}for(var ge=d-1;ge>=0;ge--){for(var ye=ge/d,be=c*Math.cos(ye*Math.PI/2),xe=f*Math.sin(ye*Math.PI/2)+h,_e=0,we=C.length;_e<we;_e++){var Se=O(C[_e],z[_e],xe);Pe(Se.x,Se.y,s+be)}for(var ke=0,Me=k.length;ke<Me;ke++){var Ee=k[ke];H=Z[ke];for(var Te=0,Ae=Ee.length;Te<Ae;Te++){var Ce=O(Ee[Te],H[Te],xe);_?Pe(Ce.x,Ce.y+m[r-1].y,m[r-1].x+be):Pe(Ce.x,Ce.y,s+be)}}}function Re(e,t){for(var n=e.length;--n>=0;){var i=n,a=n-1;a<0&&(a=e.length-1);for(var o=0,u=r+2*d;o<u;o++){var s=I*o,l=I*(o+1);Oe(t+i+s,t+a+s,t+a+l,t+i+l)}}}function Pe(e,n,r){t.push(e),t.push(n),t.push(r)}function Le(e,t,n){Ie(e),Ie(t),Ie(n);var r=o.length/3,i=v.generateTopUV(a,o,r-3,r-2,r-1);De(i[0]),De(i[1]),De(i[2])}function Oe(e,t,n,r){Ie(e),Ie(t),Ie(r),Ie(t),Ie(n),Ie(r);var i=o.length/3,u=v.generateSideWallUV(a,o,i-6,i-3,i-2,i-1);De(u[0]),De(u[1]),De(u[3]),De(u[1]),De(u[2]),De(u[3])}function Ie(e){o.push(t[3*e+0]),o.push(t[3*e+1]),o.push(t[3*e+2])}function De(e){u.push(e.x),u.push(e.y)}!function(){var e=o.length/3;if(l){for(var t=0,n=I*t,i=0;i<D;i++){var u=A[i];Le(u[2]+n,u[1]+n,u[0]+n)}n=I*(t=r+2*d);for(var s=0;s<D;s++){var c=A[s];Le(c[0]+n,c[1]+n,c[2]+n)}}else{for(var f=0;f<D;f++){var h=A[f];Le(h[2],h[1],h[0])}for(var p=0;p<D;p++){var v=A[p];Le(v[0]+I*r,v[1]+I*r,v[2]+I*r)}}a.addGroup(e,o.length/3-e,0)}(),function(){var e=o.length/3,t=0;Re(C,t),t+=C.length;for(var n=0,r=k.length;n<r;n++){var i=k[n];Re(i,t),t+=i.length}a.addGroup(e,o.length/3-e,1)}()}return e.setAttribute("position",new ga(o,3)),e.setAttribute("uv",new ga(u,2)),e.computeVertexNormals(),e}return M(n,[{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var a=e[r];n.shapes.push(a.uuid)}else n.shapes.push(e.uuid);void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}var u=e.options.extrudePath;return void 0!==u&&(e.options.extrudePath=(new _c[u.type]).fromJSON(u)),new n(r,e.options)}}]),n}(Ea),pf={generateTopUV:function(e,t,n,r,i){var a=t[3*n],o=t[3*n+1],u=t[3*r],s=t[3*r+1],l=t[3*i],c=t[3*i+1];return[new hr(a,o),new hr(u,s),new hr(l,c)]},generateSideWallUV:function(e,t,n,r,i,a){var o=t[3*n],u=t[3*n+1],s=t[3*n+2],l=t[3*r],c=t[3*r+1],f=t[3*r+2],h=t[3*i],d=t[3*i+1],p=t[3*i+2],v=t[3*a],m=t[3*a+1],g=t[3*a+2];return Math.abs(u-c)<Math.abs(o-l)?[new hr(o,1-s),new hr(l,1-f),new hr(h,1-p),new hr(v,1-g)]:[new hr(u,1-s),new hr(c,1-f),new hr(d,1-p),new hr(m,1-g)]}};var vf=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;S(this,n);var a=(1+Math.sqrt(5))/2,o=[-1,a,0,1,a,0,-1,-a,0,1,-a,0,0,-1,a,0,1,a,0,-1,-a,0,1,-a,a,0,-1,a,0,1,-a,0,-1,-a,0,1],u=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];return(e=t.call(this,o,u,r,i)).type="IcosahedronGeometry",e.parameters={radius:r,detail:i},e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(Cc),mf=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;S(this,n);var a=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],o=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];return(e=t.call(this,a,o,r,i)).type="OctahedronGeometry",e.parameters={radius:r,detail:i},e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(Cc),gf=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:2*Math.PI;S(this,n),(e=t.call(this)).type="RingGeometry",e.parameters={innerRadius:r,outerRadius:i,thetaSegments:a,phiSegments:o,thetaStart:u,thetaLength:s},a=Math.max(3,a);for(var l=[],c=[],f=[],h=[],d=r,p=(i-r)/(o=Math.max(1,o)),v=new Zr,m=new hr,g=0;g<=o;g++){for(var y=0;y<=a;y++){var b=u+y/a*s;v.x=d*Math.cos(b),v.y=d*Math.sin(b),c.push(v.x,v.y,v.z),f.push(0,0,1),m.x=(v.x/i+1)/2,m.y=(v.y/i+1)/2,h.push(m.x,m.y)}d+=p}for(var x=0;x<o;x++)for(var _=x*(a+1),w=0;w<a;w++){var k=w+_,M=k,E=k+a+1,T=k+a+2,A=k+1;l.push(M,E,A),l.push(E,T,A)}return e.setIndex(l),e.setAttribute("position",new ga(c,3)),e.setAttribute("normal",new ga(f,3)),e.setAttribute("uv",new ga(h,2)),e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}]),n}(Ea),yf=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Nc([new hr(0,.5),new hr(-.5,-.5),new hr(.5,-.5)]),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;S(this,n),(e=t.call(this)).type="ShapeGeometry",e.parameters={shapes:r,curveSegments:i};var a=[],o=[],u=[],s=[],l=0,c=0;if(!1===Array.isArray(r))h(r);else for(var f=0;f<r.length;f++)h(r[f]),e.addGroup(l,c,f),l+=c,c=0;function h(e){var t=o.length/3,n=e.extractPoints(i),r=n.shape,l=n.holes;!1===cf.isClockWise(r)&&(r=r.reverse());for(var f=0,h=l.length;f<h;f++){var d=l[f];!0===cf.isClockWise(d)&&(l[f]=d.reverse())}for(var p=cf.triangulateShape(r,l),v=0,m=l.length;v<m;v++){var g=l[v];r=r.concat(g)}for(var y=0,b=r.length;y<b;y++){var x=r[y];o.push(x.x,x.y,0),u.push(0,0,1),s.push(x.x,x.y)}for(var _=0,w=p.length;_<w;_++){var S=p[_],k=S[0]+t,M=S[1]+t,E=S[2]+t;a.push(k,M,E),c+=3}}return e.setIndex(a),e.setAttribute("position",new ga(o,3)),e.setAttribute("normal",new ga(u,3)),e.setAttribute("uv",new ga(s,2)),e}return M(n,[{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}],[{key:"fromJSON",value:function(e,t){for(var r=[],i=0,a=e.shapes.length;i<a;i++){var o=t[e.shapes[i]];r.push(o)}return new n(r,e.curveSegments)}}]),n}(Ea);var bf=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;S(this,n),(e=t.call(this)).type="SphereGeometry",e.parameters={radius:r,widthSegments:i,heightSegments:a,phiStart:o,phiLength:u,thetaStart:s,thetaLength:l},i=Math.max(3,Math.floor(i)),a=Math.max(2,Math.floor(a));for(var c=Math.min(s+l,Math.PI),f=0,h=[],d=new Zr,p=new Zr,v=[],m=[],g=[],y=[],b=0;b<=a;b++){var x=[],_=b/a,w=0;0==b&&0==s?w=.5/i:b==a&&c==Math.PI&&(w=-.5/i);for(var k=0;k<=i;k++){var M=k/i;d.x=-r*Math.cos(o+M*u)*Math.sin(s+_*l),d.y=r*Math.cos(s+_*l),d.z=r*Math.sin(o+M*u)*Math.sin(s+_*l),m.push(d.x,d.y,d.z),p.copy(d).normalize(),g.push(p.x,p.y,p.z),y.push(M+w,1-_),x.push(f++)}h.push(x)}for(var E=0;E<a;E++)for(var T=0;T<i;T++){var A=h[E][T+1],C=h[E][T],R=h[E+1][T],P=h[E+1][T+1];(0!==E||s>0)&&v.push(A,C,P),(E!==a-1||c<Math.PI)&&v.push(C,R,P)}return e.setIndex(v),e.setAttribute("position",new ga(m,3)),e.setAttribute("normal",new ga(g,3)),e.setAttribute("uv",new ga(y,2)),e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}]),n}(Ea),xf=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;S(this,n);var a=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],o=[2,1,0,0,3,2,1,3,0,2,3,1];return(e=t.call(this,a,o,r,i)).type="TetrahedronGeometry",e.parameters={radius:r,detail:i},e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.detail)}}]),n}(Cc),_f=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:6,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI;S(this,n),(e=t.call(this)).type="TorusGeometry",e.parameters={radius:r,tube:i,radialSegments:a,tubularSegments:o,arc:u},a=Math.floor(a),o=Math.floor(o);for(var s=[],l=[],c=[],f=[],h=new Zr,d=new Zr,p=new Zr,v=0;v<=a;v++)for(var m=0;m<=o;m++){var g=m/o*u,y=v/a*Math.PI*2;d.x=(r+i*Math.cos(y))*Math.cos(g),d.y=(r+i*Math.cos(y))*Math.sin(g),d.z=i*Math.sin(y),l.push(d.x,d.y,d.z),h.x=r*Math.cos(g),h.y=r*Math.sin(g),p.subVectors(d,h).normalize(),c.push(p.x,p.y,p.z),f.push(m/o),f.push(v/a)}for(var b=1;b<=a;b++)for(var x=1;x<=o;x++){var _=(o+1)*b+x-1,w=(o+1)*(b-1)+x-1,k=(o+1)*(b-1)+x,M=(o+1)*b+x;s.push(_,w,M),s.push(w,k,M)}return e.setIndex(s),e.setAttribute("position",new ga(l,3)),e.setAttribute("normal",new ga(c,3)),e.setAttribute("uv",new ga(f,2)),e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}]),n}(Ea),wf=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.4,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:64,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3;S(this,n),(e=t.call(this)).type="TorusKnotGeometry",e.parameters={radius:r,tube:i,tubularSegments:a,radialSegments:o,p:u,q:s},a=Math.floor(a),o=Math.floor(o);for(var l=[],c=[],f=[],h=[],d=new Zr,p=new Zr,v=new Zr,m=new Zr,g=new Zr,y=new Zr,b=new Zr,x=0;x<=a;++x){var _=x/a*u*Math.PI*2;O(_,u,s,r,v),O(_+.01,u,s,r,m),y.subVectors(m,v),b.addVectors(m,v),g.crossVectors(y,b),b.crossVectors(g,y),g.normalize(),b.normalize();for(var w=0;w<=o;++w){var k=w/o*Math.PI*2,M=-i*Math.cos(k),E=i*Math.sin(k);d.x=v.x+(M*b.x+E*g.x),d.y=v.y+(M*b.y+E*g.y),d.z=v.z+(M*b.z+E*g.z),c.push(d.x,d.y,d.z),p.subVectors(d,v).normalize(),f.push(p.x,p.y,p.z),h.push(x/a),h.push(w/o)}}for(var T=1;T<=a;T++)for(var A=1;A<=o;A++){var C=(o+1)*(T-1)+(A-1),R=(o+1)*T+(A-1),P=(o+1)*T+A,L=(o+1)*(T-1)+A;l.push(C,R,L),l.push(R,P,L)}function O(e,t,n,r,i){var a=Math.cos(e),o=Math.sin(e),u=n/t*e,s=Math.cos(u);i.x=r*(2+s)*.5*a,i.y=r*(2+s)*o*.5,i.z=r*Math.sin(u)*.5}return e.setIndex(l),e.setAttribute("position",new ga(c,3)),e.setAttribute("normal",new ga(f,3)),e.setAttribute("uv",new ga(h,2)),e}return M(n,null,[{key:"fromJSON",value:function(e){return new n(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}]),n}(Ea),Sf=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new bc(new Zr(-1,-1,0),new Zr(-1,1,0),new Zr(1,1,0)),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];S(this,n),(e=t.call(this)).type="TubeGeometry",e.parameters={path:r,tubularSegments:i,radius:a,radialSegments:o,closed:u};var s=r.computeFrenetFrames(i,u);e.tangents=s.tangents,e.normals=s.normals,e.binormals=s.binormals;var l=new Zr,c=new Zr,f=new hr,h=new Zr,d=[],p=[],v=[],m=[];function g(){for(var e=0;e<i;e++)y(e);y(!1===u?i:0),x(),b()}function y(e){h=r.getPointAt(e/i,h);for(var t=s.normals[e],n=s.binormals[e],u=0;u<=o;u++){var f=u/o*Math.PI*2,v=Math.sin(f),m=-Math.cos(f);c.x=m*t.x+v*n.x,c.y=m*t.y+v*n.y,c.z=m*t.z+v*n.z,c.normalize(),p.push(c.x,c.y,c.z),l.x=h.x+a*c.x,l.y=h.y+a*c.y,l.z=h.z+a*c.z,d.push(l.x,l.y,l.z)}}function b(){for(var e=1;e<=i;e++)for(var t=1;t<=o;t++){var n=(o+1)*(e-1)+(t-1),r=(o+1)*e+(t-1),a=(o+1)*e+t,u=(o+1)*(e-1)+t;m.push(n,r,u),m.push(r,a,u)}}function x(){for(var e=0;e<=i;e++)for(var t=0;t<=o;t++)f.x=e/i,f.y=t/o,v.push(f.x,f.y)}return g(),e.setIndex(m),e.setAttribute("position",new ga(d,3)),e.setAttribute("normal",new ga(p,3)),e.setAttribute("uv",new ga(v,2)),e}return M(n,[{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this);return e.path=this.parameters.path.toJSON(),e}}],[{key:"fromJSON",value:function(e){return new n((new _c[e.path.type]).fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}]),n}(Ea),kf=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(S(this,n),(e=t.call(this)).type="WireframeGeometry",e.parameters={geometry:r},null!==r){var i=[],a=new Set,o=new Zr,u=new Zr;if(null!==r.index){var s=r.attributes.position,l=r.index,c=r.groups;0===c.length&&(c=[{start:0,count:l.count,materialIndex:0}]);for(var f=0,h=c.length;f<h;++f)for(var d=c[f],p=d.start,v=d.count,m=p,g=p+v;m<g;m+=3)for(var y=0;y<3;y++){var b=l.getX(m+y),x=l.getX(m+(y+1)%3);o.fromBufferAttribute(s,b),u.fromBufferAttribute(s,x),!0===Mf(o,u,a)&&(i.push(o.x,o.y,o.z),i.push(u.x,u.y,u.z))}}else for(var _=r.attributes.position,w=0,k=_.count/3;w<k;w++)for(var M=0;M<3;M++){var E=3*w+M,T=3*w+(M+1)%3;o.fromBufferAttribute(_,E),u.fromBufferAttribute(_,T),!0===Mf(o,u,a)&&(i.push(o.x,o.y,o.z),i.push(u.x,u.y,u.z))}e.setAttribute("position",new ga(i,3))}return e}return M(n)}(Ea);function Mf(e,t,n){var r="".concat(e.x,",").concat(e.y,",").concat(e.z,"-").concat(t.x,",").concat(t.y,",").concat(t.z),i="".concat(t.x,",").concat(t.y,",").concat(t.z,"-").concat(e.x,",").concat(e.y,",").concat(e.z);return!0!==n.has(r)&&!0!==n.has(i)&&(n.add(r),n.add(i),!0)}var Ef=Object.freeze({__proto__:null,BoxGeometry:Va,BoxBufferGeometry:Va,CapsuleGeometry:Mc,CapsuleBufferGeometry:Mc,CircleGeometry:Ec,CircleBufferGeometry:Ec,ConeGeometry:Ac,ConeBufferGeometry:Ac,CylinderGeometry:Tc,CylinderBufferGeometry:Tc,DodecahedronGeometry:Rc,DodecahedronBufferGeometry:Rc,EdgesGeometry:Dc,ExtrudeGeometry:df,ExtrudeBufferGeometry:df,IcosahedronGeometry:vf,IcosahedronBufferGeometry:vf,LatheGeometry:kc,LatheBufferGeometry:kc,OctahedronGeometry:mf,OctahedronBufferGeometry:mf,PlaneGeometry:ho,PlaneBufferGeometry:ho,PolyhedronGeometry:Cc,PolyhedronBufferGeometry:Cc,RingGeometry:gf,RingBufferGeometry:gf,ShapeGeometry:yf,ShapeBufferGeometry:yf,SphereGeometry:bf,SphereBufferGeometry:bf,TetrahedronGeometry:xf,TetrahedronBufferGeometry:xf,TorusGeometry:_f,TorusBufferGeometry:_f,TorusKnotGeometry:wf,TorusKnotBufferGeometry:wf,TubeGeometry:Sf,TubeBufferGeometry:Sf,WireframeGeometry:kf}),Tf=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this)).type="ShadowMaterial",r.color=new Cr(0),r.transparent=!0,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this}}]),n}(ia);Tf.prototype.isShadowMaterial=!0;var Af=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this,e)).type="RawShaderMaterial",r}return M(n)}(Ya);Af.prototype.isRawShaderMaterial=!0;var Cf=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this)).defines={STANDARD:""},r.type="MeshStandardMaterial",r.color=new Cr(16777215),r.roughness=1,r.metalness=0,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Cr(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=bn,r.normalScale=new hr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.roughnessMap=null,r.metalnessMap=null,r.alphaMap=null,r.envMap=null,r.envMapIntensity=1,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}]),n}(ia);Cf.prototype.isMeshStandardMaterial=!0;var Rf=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this)).defines={STANDARD:"",PHYSICAL:""},r.type="MeshPhysicalMaterial",r.clearcoatMap=null,r.clearcoatRoughness=0,r.clearcoatRoughnessMap=null,r.clearcoatNormalScale=new hr(1,1),r.clearcoatNormalMap=null,r.ior=1.5,Object.defineProperty(C(r),"reflectivity",{get:function(){return ar(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),r.sheenColor=new Cr(0),r.sheenColorMap=null,r.sheenRoughness=1,r.sheenRoughnessMap=null,r.transmissionMap=null,r.thickness=0,r.thicknessMap=null,r.attenuationDistance=0,r.attenuationColor=new Cr(1,1,1),r.specularIntensity=1,r.specularIntensityMap=null,r.specularColor=new Cr(1,1,1),r.specularColorMap=null,r._sheen=0,r._clearcoat=0,r._transmission=0,r.setValues(e),r}return M(n,[{key:"sheen",get:function(){return this._sheen},set:function(e){this._sheen>0!==e>0&&this.version++,this._sheen=e}},{key:"clearcoat",get:function(){return this._clearcoat},set:function(e){this._clearcoat>0!==e>0&&this.version++,this._clearcoat=e}},{key:"transmission",get:function(){return this._transmission},set:function(e){this._transmission>0!==e>0&&this.version++,this._transmission=e}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}]),n}(Cf);Rf.prototype.isMeshPhysicalMaterial=!0;var Pf=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this)).type="MeshPhongMaterial",r.color=new Cr(16777215),r.specular=new Cr(1118481),r.shininess=30,r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Cr(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=bn,r.normalScale=new hr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=Pe,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.flatShading=!1,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this}}]),n}(ia);Pf.prototype.isMeshPhongMaterial=!0;var Lf=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this)).defines={TOON:""},r.type="MeshToonMaterial",r.color=new Cr(16777215),r.map=null,r.gradientMap=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Cr(0),r.emissiveIntensity=1,r.emissiveMap=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=bn,r.normalScale=new hr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),n}(ia);Lf.prototype.isMeshToonMaterial=!0;var Of=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this)).type="MeshNormalMaterial",r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=bn,r.normalScale=new hr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.wireframe=!1,r.wireframeLinewidth=1,r.fog=!1,r.flatShading=!1,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}]),n}(ia);Of.prototype.isMeshNormalMaterial=!0;var If=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this)).type="MeshLambertMaterial",r.color=new Cr(16777215),r.map=null,r.lightMap=null,r.lightMapIntensity=1,r.aoMap=null,r.aoMapIntensity=1,r.emissive=new Cr(0),r.emissiveIntensity=1,r.emissiveMap=null,r.specularMap=null,r.alphaMap=null,r.envMap=null,r.combine=Pe,r.reflectivity=1,r.refractionRatio=.98,r.wireframe=!1,r.wireframeLinewidth=1,r.wireframeLinecap="round",r.wireframeLinejoin="round",r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this}}]),n}(ia);If.prototype.isMeshLambertMaterial=!0;var Df=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this)).defines={MATCAP:""},r.type="MeshMatcapMaterial",r.color=new Cr(16777215),r.matcap=null,r.map=null,r.bumpMap=null,r.bumpScale=1,r.normalMap=null,r.normalMapType=bn,r.normalScale=new hr(1,1),r.displacementMap=null,r.displacementScale=1,r.displacementBias=0,r.alphaMap=null,r.flatShading=!1,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this}}]),n}(ia);Df.prototype.isMeshMatcapMaterial=!0;var Nf=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this)).type="LineDashedMaterial",r.scale=1,r.dashSize=3,r.gapSize=1,r.setValues(e),r}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}]),n}(Il);Nf.prototype.isLineDashedMaterial=!0;var zf={ShadowMaterial:Tf,SpriteMaterial:Qs,RawShaderMaterial:Af,ShaderMaterial:Ya,PointsMaterial:Wl,MeshPhysicalMaterial:Rf,MeshStandardMaterial:Cf,MeshPhongMaterial:Pf,MeshToonMaterial:Lf,MeshNormalMaterial:Of,MeshLambertMaterial:If,MeshDepthMaterial:Rs,MeshDistanceMaterial:Ps,MeshBasicMaterial:aa,MeshMatcapMaterial:Df,LineDashedMaterial:Nf,LineBasicMaterial:Il,Material:ia};ia.fromType=function(e){return new zf[e]};var Ff={arraySlice:function(e,t,n){return Ff.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),a=0,o=0;o!==r;++a)for(var u=n[a]*t,s=0;s!==t;++s)i[o++]=e[u+s];return i},flattenJSON:function(e,t,n,r){for(var i=1,a=e[0];void 0!==a&&void 0===a[r];)a=e[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(t.push(a.time),n.push.apply(n,o)),a=e[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(t.push(a.time),o.toArray(n,n.length)),a=e[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(t.push(a.time),n.push(o)),a=e[i++]}while(void 0!==a)}},subclip:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:30,a=e.clone();a.name=t;for(var o=[],u=0;u<a.tracks.length;++u){for(var s=a.tracks[u],l=s.getValueSize(),c=[],f=[],h=0;h<s.times.length;++h){var d=s.times[h]*i;if(!(d<n||d>=r)){c.push(s.times[h]);for(var p=0;p<l;++p)f.push(s.values[h*l+p])}}0!==c.length&&(s.times=Ff.convertArray(c,s.times.constructor),s.values=Ff.convertArray(f,s.values.constructor),o.push(s))}a.tracks=o;for(var v=1/0,m=0;m<a.tracks.length;++m)v>a.tracks[m].times[0]&&(v=a.tracks[m].times[0]);for(var g=0;g<a.tracks.length;++g)a.tracks[g].shift(-1*v);return a.resetDuration(),a},makeClipAdditive:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30;r<=0&&(r=30);for(var i=n.tracks.length,a=t/r,o=function(t){var r=n.tracks[t],i=r.ValueTypeName;if("bool"===i||"string"===i)return"continue";var o=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===i}));if(void 0===o)return"continue";var u=0,s=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=s/3);var l=0,c=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(l=c/3);var f=r.times.length-1,h=void 0;if(a<=r.times[0]){var d=u,p=s-u;h=Ff.arraySlice(r.values,d,p)}else if(a>=r.times[f]){var v=f*s+u,m=v+s-u;h=Ff.arraySlice(r.values,v,m)}else{var g=r.createInterpolant(),y=u,b=s-u;g.evaluate(a),h=Ff.arraySlice(g.resultBuffer,y,b)}"quaternion"===i&&(new Hr).fromArray(h).normalize().conjugate().toArray(h);for(var x=o.times.length,_=0;_<x;++_){var w=_*c+l;if("quaternion"===i)Hr.multiplyQuaternionsFlat(o.values,w,h,0,o.values,w);else for(var S=c-2*l,k=0;k<S;++k)o.values[w+k]-=h[k]}},u=0;u<i;++u)o(u);return e.blendMode=fn,e}},Bf=function(){function e(t,n,r,i){S(this,e),this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}return M(e,[{key:"evaluate",value:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var a;n:{r:if(!(e<r)){for(var o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===o)break;if(i=r,e<(r=t[++n]))break t}a=t.length;break n}if(e>=i)break e;var u=t[1];e<u&&(n=2,i=u);for(var s=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===s)break;if(r=i,e>=(i=t[--n-1]))break t}a=n,n=0}for(;n<a;){var l=n+a>>>1;e<t[l]?a=l:n=l+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)}},{key:"getSettings_",value:function(){return this.settings||this.DefaultSettings_}},{key:"copySampleValue_",value:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,a=0;a!==r;++a)t[a]=n[i+a];return t}},{key:"interpolate_",value:function(){throw new Error("call to abstract method")}},{key:"intervalChanged_",value:function(){}}]),e}();Bf.prototype.beforeStart_=Bf.prototype.copySampleValue_,Bf.prototype.afterEnd_=Bf.prototype.copySampleValue_;var Uf=function(e){E(n,e);var t=P(n);function n(e,r,i,a){var o;return S(this,n),(o=t.call(this,e,r,i,a))._weightPrev=-0,o._offsetPrev=-0,o._weightNext=-0,o._offsetNext=-0,o.DefaultSettings_={endingStart:un,endingEnd:un},o}return M(n,[{key:"intervalChanged_",value:function(e,t,n){var r=this.parameterPositions,i=e-2,a=e+1,o=r[i],u=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case sn:i=e,o=2*t-n;break;case ln:o=t+r[i=r.length-2]-r[i+1];break;default:i=e,o=n}if(void 0===u)switch(this.getSettings_().endingEnd){case sn:a=e,u=2*n-t;break;case ln:a=1,u=n+r[1]-r[0];break;default:a=e-1,u=t}var s=.5*(n-t),l=this.valueSize;this._weightPrev=s/(t-o),this._weightNext=s/(u-n),this._offsetPrev=i*l,this._offsetNext=a*l}},{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,u=e*o,s=u-o,l=this._offsetPrev,c=this._offsetNext,f=this._weightPrev,h=this._weightNext,d=(n-t)/(r-t),p=d*d,v=p*d,m=-f*v+2*f*p-f*d,g=(1+f)*v+(-1.5-2*f)*p+(-.5+f)*d+1,y=(-1-h)*v+(1.5+h)*p+.5*d,b=h*v-h*p,x=0;x!==o;++x)i[x]=m*a[l+x]+g*a[s+x]+y*a[u+x]+b*a[c+x];return i}}]),n}(Bf),jf=function(e){E(n,e);var t=P(n);function n(e,r,i,a){return S(this,n),t.call(this,e,r,i,a)}return M(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,u=e*o,s=u-o,l=(n-t)/(r-t),c=1-l,f=0;f!==o;++f)i[f]=a[s+f]*c+a[u+f]*l;return i}}]),n}(Bf),Hf=function(e){E(n,e);var t=P(n);function n(e,r,i,a){return S(this,n),t.call(this,e,r,i,a)}return M(n,[{key:"interpolate_",value:function(e){return this.copySampleValue_(e-1)}}]),n}(Bf),Zf=function(){function e(t,n,r,i){if(S(this,e),void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===n||0===n.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Ff.convertArray(n,this.TimeBufferType),this.values=Ff.convertArray(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}return M(e,[{key:"InterpolantFactoryMethodDiscrete",value:function(e){return new Hf(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodLinear",value:function(e){return new jf(this.times,this.values,this.getValueSize(),e)}},{key:"InterpolantFactoryMethodSmooth",value:function(e){return new Uf(this.times,this.values,this.getValueSize(),e)}},{key:"setInterpolation",value:function(e){var t;switch(e){case rn:t=this.InterpolantFactoryMethodDiscrete;break;case an:t=this.InterpolantFactoryMethodLinear;break;case on:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this}},{key:"getInterpolation",value:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return rn;case this.InterpolantFactoryMethodLinear:return an;case this.InterpolantFactoryMethodSmooth:return on}}},{key:"getValueSize",value:function(){return this.values.length/this.times.length}},{key:"shift",value:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this}},{key:"scale",value:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this}},{key:"trim",value:function(e,t){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<e;)++i;for(;-1!==a&&n[a]>t;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Ff.arraySlice(n,i,a),this.values=Ff.arraySlice(this.values,i*o,a*o)}return this}},{key:"validate",value:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var a=null,o=0;o!==i;o++){var u=n[o];if("number"===typeof u&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,u),e=!1;break}if(null!==a&&a>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,u,a),e=!1;break}a=u}if(void 0!==r&&Ff.isTypedArray(r))for(var s=0,l=r.length;s!==l;++s){var c=r[s];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e}},{key:"optimize",value:function(){for(var e=Ff.arraySlice(this.times),t=Ff.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===on,i=e.length-1,a=1,o=1;o<i;++o){var u=!1,s=e[o];if(s!==e[o+1]&&(1!==o||s!==e[0]))if(r)u=!0;else for(var l=o*n,c=l-n,f=l+n,h=0;h!==n;++h){var d=t[l+h];if(d!==t[c+h]||d!==t[f+h]){u=!0;break}}if(u){if(o!==a){e[a]=e[o];for(var p=o*n,v=a*n,m=0;m!==n;++m)t[v+m]=t[p+m]}++a}}if(i>0){e[a]=e[i];for(var g=i*n,y=a*n,b=0;b!==n;++b)t[y+b]=t[g+b];++a}return a!==e.length?(this.times=Ff.arraySlice(e,0,a),this.values=Ff.arraySlice(t,0,a*n)):(this.times=e,this.values=t),this}},{key:"clone",value:function(){var e=Ff.arraySlice(this.times,0),t=Ff.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}],[{key:"toJSON",value:function(e){var t,n=e.constructor;if(n.toJSON!==this.toJSON)t=n.toJSON(e);else{t={name:e.name,times:Ff.convertArray(e.times,Array),values:Ff.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}]),e}();Zf.prototype.TimeBufferType=Float32Array,Zf.prototype.ValueBufferType=Float32Array,Zf.prototype.DefaultInterpolation=an;var Gf=function(e){E(n,e);var t=P(n);function n(){return S(this,n),t.apply(this,arguments)}return M(n)}(Zf);Gf.prototype.ValueTypeName="bool",Gf.prototype.ValueBufferType=Array,Gf.prototype.DefaultInterpolation=rn,Gf.prototype.InterpolantFactoryMethodLinear=void 0,Gf.prototype.InterpolantFactoryMethodSmooth=void 0;var Wf=function(e){E(n,e);var t=P(n);function n(){return S(this,n),t.apply(this,arguments)}return M(n)}(Zf);Wf.prototype.ValueTypeName="color";var Vf=function(e){E(n,e);var t=P(n);function n(){return S(this,n),t.apply(this,arguments)}return M(n)}(Zf);Vf.prototype.ValueTypeName="number";var qf=function(e){E(n,e);var t=P(n);function n(e,r,i,a){return S(this,n),t.call(this,e,r,i,a)}return M(n,[{key:"interpolate_",value:function(e,t,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,u=(n-t)/(r-t),s=e*o,l=s+o;s!==l;s+=4)Hr.slerpFlat(i,0,a,s-o,a,s,u);return i}}]),n}(Bf),Xf=function(e){E(n,e);var t=P(n);function n(){return S(this,n),t.apply(this,arguments)}return M(n,[{key:"InterpolantFactoryMethodLinear",value:function(e){return new qf(this.times,this.values,this.getValueSize(),e)}}]),n}(Zf);Xf.prototype.ValueTypeName="quaternion",Xf.prototype.DefaultInterpolation=an,Xf.prototype.InterpolantFactoryMethodSmooth=void 0;var $f=function(e){E(n,e);var t=P(n);function n(){return S(this,n),t.apply(this,arguments)}return M(n)}(Zf);$f.prototype.ValueTypeName="string",$f.prototype.ValueBufferType=Array,$f.prototype.DefaultInterpolation=rn,$f.prototype.InterpolantFactoryMethodLinear=void 0,$f.prototype.InterpolantFactoryMethodSmooth=void 0;var Yf=function(e){E(n,e);var t=P(n);function n(){return S(this,n),t.apply(this,arguments)}return M(n)}(Zf);Yf.prototype.ValueTypeName="vector";var Kf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:cn;S(this,e),this.name=t,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=ir(),this.duration<0&&this.resetDuration()}return M(e,[{key:"resetDuration",value:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this}},{key:"trim",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}},{key:"validate",value:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}},{key:"optimize",value:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},{key:"clone",value:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}},{key:"toJSON",value:function(){return this.constructor.toJSON(this)}}],[{key:"parse",value:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,a=n.length;i!==a;++i)t.push(Jf(n[i]).scale(r));var o=new this(e.name,e.duration,t,e.blendMode);return o.uuid=e.uuid,o}},{key:"toJSON",value:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,a=n.length;i!==a;++i)t.push(Zf.toJSON(n[i]));return r}},{key:"CreateFromMorphTargetSequence",value:function(e,t,n,r){for(var i=t.length,a=[],o=0;o<i;o++){var u=[],s=[];u.push((o+i-1)%i,o,(o+1)%i),s.push(0,1,0);var l=Ff.getKeyframeOrder(u);u=Ff.sortedArray(u,1,l),s=Ff.sortedArray(s,1,l),r||0!==u[0]||(u.push(i),s.push(s[0])),a.push(new Vf(".morphTargetInfluences["+t[o].name+"]",u,s).scale(1/n))}return new this(e,-1,a)}},{key:"findByName",value:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null}},{key:"CreateClipsFromMorphTargetSequences",value:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=e.length;a<o;a++){var u=e[a],s=u.name.match(i);if(s&&s.length>1){var l=s[1],c=r[l];c||(r[l]=c=[]),c.push(u)}}var f=[];for(var h in r)f.push(this.CreateFromMorphTargetSequence(h,r[h],t,n));return f}},{key:"parseAnimation",value:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var a=[],o=[];Ff.flattenJSON(n,a,o,r),0!==a.length&&i.push(new e(t,a,o))}},r=[],i=e.name||"default",a=e.fps||30,o=e.blendMode,u=e.length||-1,s=e.hierarchy||[],l=0;l<s.length;l++){var c=s[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){var f={},h=void 0;for(h=0;h<c.length;h++)if(c[h].morphTargets)for(var d=0;d<c[h].morphTargets.length;d++)f[c[h].morphTargets[d]]=-1;for(var p in f){for(var v=[],m=[],g=0;g!==c[h].morphTargets.length;++g){var y=c[h];v.push(y.time),m.push(y.morphTarget===p?1:0)}r.push(new Vf(".morphTargetInfluence["+p+"]",v,m))}u=f.length*a}else{var b=".bones["+t[l].name+"]";n(Yf,b+".position",c,"pos",r),n(Xf,b+".quaternion",c,"rot",r),n(Yf,b+".scale",c,"scl",r)}}return 0===r.length?null:new this(i,u,r,o)}}]),e}();function Jf(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Vf;case"vector":case"vector2":case"vector3":case"vector4":return Yf;case"color":return Wf;case"quaternion":return Xf;case"bool":case"boolean":return Gf;case"string":return $f}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];Ff.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var Qf={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},eh=M((function e(t,n,r){S(this,e);var i=this,a=!1,o=0,u=0,s=void 0,l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=n,this.onError=r,this.itemStart=function(e){u++,!1===a&&void 0!==i.onStart&&i.onStart(e,o,u),a=!0},this.itemEnd=function(e){o++,void 0!==i.onProgress&&i.onProgress(e,o,u),o===u&&(a=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(e){void 0!==i.onError&&i.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){var t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=l.length;t<n;t+=2){var r=l[t],i=l[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}})),th=new eh,nh=function(){function e(t){S(this,e),this.manager=void 0!==t?t:th,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}return M(e,[{key:"load",value:function(){}},{key:"loadAsync",value:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))}},{key:"parse",value:function(){}},{key:"setCrossOrigin",value:function(e){return this.crossOrigin=e,this}},{key:"setWithCredentials",value:function(e){return this.withCredentials=e,this}},{key:"setPath",value:function(e){return this.path=e,this}},{key:"setResourcePath",value:function(e){return this.resourcePath=e,this}},{key:"setRequestHeader",value:function(e){return this.requestHeader=e,this}}]),e}(),rh={},ih=function(e){E(n,e);var t=P(n);function n(e){return S(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){var i=this;void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var a=Qf.get(e);if(void 0!==a)return this.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;if(void 0===rh[e]){rh[e]=[],rh[e].push({onLoad:t,onProgress:n,onError:r});var o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),u=this.mimeType,s=this.responseType;fetch(o).then((function(t){if(200===t.status||0===t.status){if(0===t.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),"undefined"===typeof ReadableStream||void 0===t.body||void 0===t.body.getReader)return t;var n=rh[e],r=t.body.getReader(),i=t.headers.get("Content-Length"),a=i?parseInt(i):0,o=0!==a,u=0,s=new ReadableStream({start:function(e){!function t(){r.read().then((function(r){var i=r.done,s=r.value;if(i)e.close();else{u+=s.byteLength;for(var l=new ProgressEvent("progress",{lengthComputable:o,loaded:u,total:a}),c=0,f=n.length;c<f;c++){var h=n[c];h.onProgress&&h.onProgress(l)}e.enqueue(s),t()}}))}()}});return new Response(s)}throw Error('fetch for "'.concat(t.url,'" responded with ').concat(t.status,": ").concat(t.statusText))})).then((function(e){switch(s){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"document":return e.text().then((function(e){return(new DOMParser).parseFromString(e,u)}));case"json":return e.json();default:if(void 0===u)return e.text();var t=/charset="?([^;"\s]*)"?/i.exec(u),n=t&&t[1]?t[1].toLowerCase():void 0,r=new TextDecoder(n);return e.arrayBuffer().then((function(e){return r.decode(e)}))}})).then((function(t){Qf.add(e,t);var n=rh[e];delete rh[e];for(var r=0,i=n.length;r<i;r++){var a=n[r];a.onLoad&&a.onLoad(t)}})).catch((function(t){var n=rh[e];if(void 0===n)throw i.manager.itemError(e),t;delete rh[e];for(var r=0,a=n.length;r<a;r++){var o=n[r];o.onError&&o.onError(t)}i.manager.itemError(e)})).finally((function(){i.manager.itemEnd(e)})),this.manager.itemStart(e)}else rh[e].push({onLoad:t,onProgress:n,onError:r})}},{key:"setResponseType",value:function(e){return this.responseType=e,this}},{key:"setMimeType",value:function(e){return this.mimeType=e,this}}]),n}(nh),ah=function(e){E(n,e);var t=P(n);function n(e){return S(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new ih(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){for(var t=[],n=0;n<e.length;n++){var r=Kf.parse(e[n]);t.push(r)}return t}}]),n}(nh),oh=function(e){E(n,e);var t=P(n);function n(e){return S(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){var i=this,a=[],o=new ec,u=new ih(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(i.withCredentials);var s=0;function l(l){u.load(e[l],(function(e){var n=i.parse(e,!0);a[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(s+=1)&&(1===n.mipmapCount&&(o.minFilter=et),o.image=a,o.format=n.format,o.needsUpdate=!0,t&&t(o))}),n,r)}if(Array.isArray(e))for(var c=0,f=e.length;c<f;++c)l(c);else u.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap){for(var r=n.mipmaps.length/n.mipmapCount,u=0;u<r;u++){a[u]={mipmaps:[]};for(var s=0;s<n.mipmapCount;s++)a[u].mipmaps.push(n.mipmaps[u*n.mipmapCount+s]),a[u].format=n.format,a[u].width=n.width,a[u].height=n.height}o.image=a}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=et),o.format=n.format,o.needsUpdate=!0,t&&t(o)}),n,r);return o}}]),n}(nh),uh=function(e){E(n,e);var t=P(n);function n(e){return S(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Qf.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o=gr("img");function u(){l(),Qf.add(e,this),t&&t(this),i.manager.itemEnd(e)}function s(t){l(),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}function l(){o.removeEventListener("load",u,!1),o.removeEventListener("error",s,!1)}return o.addEventListener("load",u,!1),o.addEventListener("error",s,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(e),o.src=e,o}}]),n}(nh),sh=function(e){E(n,e);var t=P(n);function n(e){return S(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){var i=new to,a=new uh(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function u(n){a.load(e[n],(function(e){i.images[n]=e,6===++o&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var s=0;s<e.length;++s)u(s);return i}}]),n}(nh),lh=function(e){E(n,e);var t=P(n);function n(e){return S(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new kl,o=new ih(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:qe,a.wrapT=void 0!==n.wrapT?n.wrapT:qe,a.magFilter=void 0!==n.magFilter?n.magFilter:et,a.minFilter=void 0!==n.minFilter?n.minFilter:et,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.encoding&&(a.encoding=n.encoding),void 0!==n.flipY&&(a.flipY=n.flipY),void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps,a.minFilter=rt),1===n.mipmapCount&&(a.minFilter=et),void 0!==n.generateMipmaps&&(a.generateMipmaps=n.generateMipmaps),a.needsUpdate=!0,t&&t(a,n))}),n,r),a}}]),n}(nh),ch=function(e){E(n,e);var t=P(n);function n(e){return S(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){var i=new Ir,a=new uh(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,(function(e){i.image=e,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}]),n}(nh),fh=function(e){E(n,e);var t=P(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return S(this,n),(r=t.call(this)).type="Light",r.color=new Cr(e),r.intensity=i,r}return M(n,[{key:"dispose",value:function(){}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this}},{key:"toJSON",value:function(e){var t=D(T(n.prototype),"toJSON",this).call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}]),n}(Wi);fh.prototype.isLight=!0;var hh=function(e){E(n,e);var t=P(n);function n(e,r,i){var a;return S(this,n),(a=t.call(this,e,i)).type="HemisphereLight",a.position.copy(Wi.DefaultUp),a.updateMatrix(),a.groundColor=new Cr(r),a}return M(n,[{key:"copy",value:function(e){return fh.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}]),n}(fh);hh.prototype.isHemisphereLight=!0;var dh=new xi,ph=new Zr,vh=new Zr,mh=function(){function e(t){S(this,e),this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new hr(512,512),this.map=null,this.mapPass=null,this.matrix=new xi,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new lo,this._frameExtents=new hr(1,1),this._viewportCount=1,this._viewports=[new Dr(0,0,1,1)]}return M(e,[{key:"getViewportCount",value:function(){return this._viewportCount}},{key:"getFrustum",value:function(){return this._frustum}},{key:"updateMatrices",value:function(e){var t=this.camera,n=this.matrix;ph.setFromMatrixPosition(e.matrixWorld),t.position.copy(ph),vh.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(vh),t.updateMatrixWorld(),dh.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(dh),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)}},{key:"getViewport",value:function(e){return this._viewports[e]}},{key:"getFrameExtents",value:function(){return this._frameExtents}},{key:"dispose",value:function(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}},{key:"copy",value:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}]),e}(),gh=function(e){E(n,e);var t=P(n);function n(){var e;return S(this,n),(e=t.call(this,new Ja(50,1,.5,500))).focus=1,e}return M(n,[{key:"updateMatrices",value:function(e){var t=this.camera,r=2*rr*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||t.far;r===t.fov&&i===t.aspect&&a===t.far||(t.fov=r,t.aspect=i,t.far=a,t.updateProjectionMatrix()),D(T(n.prototype),"updateMatrices",this).call(this,e)}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.focus=e.focus,this}}]),n}(mh);gh.prototype.isSpotLightShadow=!0;var yh=function(e){E(n,e);var t=P(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/3,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;return S(this,n),(i=t.call(this,e,r)).type="SpotLight",i.position.copy(Wi.DefaultUp),i.updateMatrix(),i.target=new Wi,i.distance=a,i.angle=o,i.penumbra=u,i.decay=s,i.shadow=new gh,i}return M(n,[{key:"power",get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(fh);yh.prototype.isSpotLight=!0;var bh=new xi,xh=new Zr,_h=new Zr,wh=function(e){E(n,e);var t=P(n);function n(){var e;return S(this,n),(e=t.call(this,new Ja(90,1,.5,500)))._frameExtents=new hr(4,2),e._viewportCount=6,e._viewports=[new Dr(2,1,1,1),new Dr(0,1,1,1),new Dr(3,1,1,1),new Dr(1,1,1,1),new Dr(3,0,1,1),new Dr(1,0,1,1)],e._cubeDirections=[new Zr(1,0,0),new Zr(-1,0,0),new Zr(0,0,1),new Zr(0,0,-1),new Zr(0,1,0),new Zr(0,-1,0)],e._cubeUps=[new Zr(0,1,0),new Zr(0,1,0),new Zr(0,1,0),new Zr(0,1,0),new Zr(0,0,1),new Zr(0,0,-1)],e}return M(n,[{key:"updateMatrices",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.camera,r=this.matrix,i=e.distance||n.far;i!==n.far&&(n.far=i,n.updateProjectionMatrix()),xh.setFromMatrixPosition(e.matrixWorld),n.position.copy(xh),_h.copy(n.position),_h.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(_h),n.updateMatrixWorld(),r.makeTranslation(-xh.x,-xh.y,-xh.z),bh.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(bh)}}]),n}(mh);wh.prototype.isPointLightShadow=!0;var Sh=function(e){E(n,e);var t=P(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return S(this,n),(i=t.call(this,e,r)).type="PointLight",i.distance=a,i.decay=o,i.shadow=new wh,i}return M(n,[{key:"power",get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}},{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}]),n}(fh);Sh.prototype.isPointLight=!0;var kh=function(e){E(n,e);var t=P(n);function n(){return S(this,n),t.call(this,new So(-5,5,5,-5,.5,500))}return M(n)}(mh);kh.prototype.isDirectionalLightShadow=!0;var Mh=function(e){E(n,e);var t=P(n);function n(e,r){var i;return S(this,n),(i=t.call(this,e,r)).type="DirectionalLight",i.position.copy(Wi.DefaultUp),i.updateMatrix(),i.target=new Wi,i.shadow=new kh,i}return M(n,[{key:"dispose",value:function(){this.shadow.dispose()}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}]),n}(fh);Mh.prototype.isDirectionalLight=!0;var Eh=function(e){E(n,e);var t=P(n);function n(e,r){var i;return S(this,n),(i=t.call(this,e,r)).type="AmbientLight",i}return M(n)}(fh);Eh.prototype.isAmbientLight=!0;var Th=function(e){E(n,e);var t=P(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:10;return S(this,n),(i=t.call(this,e,r)).type="RectAreaLight",i.width=a,i.height=o,i}return M(n,[{key:"power",get:function(){return this.intensity*this.width*this.height*Math.PI},set:function(e){this.intensity=e/(this.width*this.height*Math.PI)}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.width=e.width,this.height=e.height,this}},{key:"toJSON",value:function(e){var t=D(T(n.prototype),"toJSON",this).call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}]),n}(fh);Th.prototype.isRectAreaLight=!0;var Ah=function(){function e(){S(this,e),this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new Zr)}return M(e,[{key:"set",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}},{key:"zero",value:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}},{key:"getAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*i),t.addScaledVector(a[3],.488603*n),t.addScaledVector(a[4],n*r*1.092548),t.addScaledVector(a[5],r*i*1.092548),t.addScaledVector(a[6],.315392*(3*i*i-1)),t.addScaledVector(a[7],n*i*1.092548),t.addScaledVector(a[8],.546274*(n*n-r*r)),t}},{key:"getIrradianceAt",value:function(e,t){var n=e.x,r=e.y,i=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],1.023328*r),t.addScaledVector(a[2],1.023328*i),t.addScaledVector(a[3],1.023328*n),t.addScaledVector(a[4],.858086*n*r),t.addScaledVector(a[5],.858086*r*i),t.addScaledVector(a[6],.743125*i*i-.247708),t.addScaledVector(a[7],.858086*n*i),t.addScaledVector(a[8],.429043*(n*n-r*r)),t}},{key:"add",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}},{key:"addScaledSH",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}},{key:"scale",value:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}},{key:"lerp",value:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}},{key:"equals",value:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}},{key:"copy",value:function(e){return this.set(e.coefficients)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"fromArray",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}},{key:"toArray",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}],[{key:"getBasisAt",value:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}]),e}();Ah.prototype.isSphericalHarmonics3=!0;var Ch=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Ah,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return S(this,n),(e=t.call(this,void 0,i)).sh=r,e}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.sh.copy(e.sh),this}},{key:"fromJSON",value:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}},{key:"toJSON",value:function(e){var t=D(T(n.prototype),"toJSON",this).call(this,e);return t.object.sh=this.sh.toArray(),t}}]),n}(fh);Ch.prototype.isLightProbe=!0;var Rh=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this,e)).textures={},r}return M(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new ih(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=ia.fromType(e.type);if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&void 0!==r.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=e.sheen),void 0!==e.sheenColor&&(r.sheenColor=(new Cr).setHex(e.sheenColor)),void 0!==e.sheenRoughness&&(r.sheenRoughness=e.sheenRoughness),void 0!==e.emissive&&void 0!==r.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&void 0!==r.specular&&r.specular.setHex(e.specular),void 0!==e.specularIntensity&&(r.specularIntensity=e.specularIntensity),void 0!==e.specularColor&&void 0!==r.specularColor&&r.specularColor.setHex(e.specularColor),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.thickness&&(r.thickness=e.thickness),void 0!==e.attenuationDistance&&(r.attenuationDistance=e.attenuationDistance),void 0!==e.attenuationColor&&void 0!==r.attenuationColor&&r.attenuationColor.setHex(e.attenuationColor),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.shadowSide&&(r.shadowSide=e.shadowSide),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.alphaToCoverage&&(r.alphaToCoverage=e.alphaToCoverage),void 0!==e.premultipliedAlpha&&(r.premultipliedAlpha=e.premultipliedAlpha),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var i in e.uniforms){var a=e.uniforms[i];switch(r.uniforms[i]={},a.type){case"t":r.uniforms[i].value=n(a.value);break;case"c":r.uniforms[i].value=(new Cr).setHex(a.value);break;case"v2":r.uniforms[i].value=(new hr).fromArray(a.value);break;case"v3":r.uniforms[i].value=(new Zr).fromArray(a.value);break;case"v4":r.uniforms[i].value=(new Dr).fromArray(a.value);break;case"m3":r.uniforms[i].value=(new dr).fromArray(a.value);break;case"m4":r.uniforms[i].value=(new xi).fromArray(a.value);break;default:r.uniforms[i].value=a.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var o in e.extensions)r.extensions[o]=e.extensions[o];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var u=e.normalScale;!1===Array.isArray(u)&&(u=[u,u]),r.normalScale=(new hr).fromArray(u)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.specularIntensityMap&&(r.specularIntensityMap=n(e.specularIntensityMap)),void 0!==e.specularColorMap&&(r.specularColorMap=n(e.specularColorMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new hr).fromArray(e.clearcoatNormalScale)),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),void 0!==e.thicknessMap&&(r.thicknessMap=n(e.thicknessMap)),void 0!==e.sheenColorMap&&(r.sheenColorMap=n(e.sheenColorMap)),void 0!==e.sheenRoughnessMap&&(r.sheenRoughnessMap=n(e.sheenRoughnessMap)),r}},{key:"setTextures",value:function(e){return this.textures=e,this}}]),n}(nh),Ph=function(){function e(){S(this,e)}return M(e,null,[{key:"decodeText",value:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}}},{key:"extractUrlBase",value:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.slice(0,t+1)}},{key:"resolveURL",value:function(e,t){return"string"!==typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}]),e}(),Lh=function(e){E(n,e);var t=P(n);function n(){var e;return S(this,n),(e=t.call(this)).type="InstancedBufferGeometry",e.instanceCount=1/0,e}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.instanceCount=e.instanceCount,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"toJSON",value:function(){var e=D(T(n.prototype),"toJSON",this).call(this,this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}]),n}(Ea);Lh.prototype.isInstancedBufferGeometry=!0;var Oh,Ih=function(e){E(n,e);var t=P(n);function n(e){return S(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new ih(i.manager);a.setPath(i.path),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}},{key:"parse",value:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],a=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers[t],i=new Uint32Array(r).buffer;return n[t]=i,i}(e,i.buffer),o=mr(i.type,a),u=new $s(o,i.stride);return u.uuid=i.uuid,t[r]=u,u}var i=e.isInstancedBufferGeometry?new Lh:new Ea,a=e.data.index;if(void 0!==a){var o=mr(a.type,a.array);i.setIndex(new sa(o,1))}var u=e.data.attributes;for(var s in u){var l=u[s],c=void 0;if(l.isInterleavedBufferAttribute){var f=r(e.data,l.data);c=new Ks(f,l.itemSize,l.offset,l.normalized)}else{var h=mr(l.type,l.array);c=new(l.isInstancedBufferAttribute?Al:sa)(h,l.itemSize,l.normalized)}void 0!==l.name&&(c.name=l.name),void 0!==l.usage&&c.setUsage(l.usage),void 0!==l.updateRange&&(c.updateRange.offset=l.updateRange.offset,c.updateRange.count=l.updateRange.count),i.setAttribute(s,c)}var d=e.data.morphAttributes;if(d)for(var p in d){for(var v=d[p],m=[],g=0,y=v.length;g<y;g++){var b=v[g],x=void 0;if(b.isInterleavedBufferAttribute){var _=r(e.data,b.data);x=new Ks(_,b.itemSize,b.offset,b.normalized)}else{var w=mr(b.type,b.array);x=new sa(w,b.itemSize,b.normalized)}void 0!==b.name&&(x.name=b.name),m.push(x)}i.morphAttributes[p]=m}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var S=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==S)for(var k=0,M=S.length;k!==M;++k){var E=S[k];i.addGroup(E.start,E.count,E.materialIndex)}var T=e.data.boundingSphere;if(void 0!==T){var A=new Zr;void 0!==T.center&&A.fromArray(T.center),i.boundingSphere=new fi(A,T.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}}]),n}(nh),Dh=function(e){E(n,e);var t=P(n);function n(e){return S(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){var i=this,a=""===this.path?Ph.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;var o=new ih(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,(function(n){var a=null;try{a=JSON.parse(n)}catch(u){return void 0!==r&&r(u),void console.error("THREE:ObjectLoader: Can't parse "+e+".",u.message)}var o=a.metadata;void 0!==o&&void 0!==o.type&&"geometry"!==o.type.toLowerCase()?i.parse(a,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)}},{key:"loadAsync",value:function(){var e=O(z.mark((function e(t,n){var r,i,a,o,u,s;return z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this,i=""===this.path?Ph.extractUrlBase(t):this.path,this.resourcePath=this.resourcePath||i,(a=new ih(this.manager)).setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),e.next=9,a.loadAsync(t,n);case 9:if(o=e.sent,u=JSON.parse(o),void 0!==(s=u.metadata)&&void 0!==s.type&&"geometry"!==s.type.toLowerCase()){e.next=14;break}throw new Error("THREE.ObjectLoader: Can't load "+t);case 14:return e.next=16,r.parseAsync(u);case 16:return e.abrupt("return",e.sent);case 17:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"parse",value:function(e,t){var n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,(function(){void 0!==t&&t(s)})),o=this.parseTextures(e.textures,a),u=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,i,u,o,n),l=this.parseSkeletons(e.skeletons,s);if(this.bindSkeletons(s,l),void 0!==t){var c=!1;for(var f in a)if(a[f]instanceof HTMLImageElement){c=!0;break}!1===c&&t(s)}return s}},{key:"parseAsync",value:function(){var e=O(z.mark((function e(t){var n,r,i,a,o,u,s,l;return z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.parseAnimations(t.animations),r=this.parseShapes(t.shapes),i=this.parseGeometries(t.geometries,r),e.next=5,this.parseImagesAsync(t.images);case 5:return a=e.sent,o=this.parseTextures(t.textures,a),u=this.parseMaterials(t.materials,o),s=this.parseObject(t.object,i,u,o,n),l=this.parseSkeletons(t.skeletons,s),this.bindSkeletons(s,l),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseShapes",value:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new Nc).fromJSON(e[n]);t[i.uuid]=i}return t}},{key:"parseSkeletons",value:function(e,t){var n={},r={};if(t.traverse((function(e){e.isBone&&(r[e.uuid]=e)})),void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=(new Tl).fromJSON(e[i],r);n[o.uuid]=o}return n}},{key:"parseGeometries",value:function(e,t){var n={};if(void 0!==e)for(var r=new Ih,i=0,a=e.length;i<a;i++){var o=void 0,u=e[i];switch(u.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(u);break;case"Geometry":console.error("THREE.ObjectLoader: The legacy Geometry type is no longer supported.");break;default:u.type in Ef?o=Ef[u.type].fromJSON(u,t):console.warn('THREE.ObjectLoader: Unsupported geometry type "'.concat(u.type,'"'))}o.uuid=u.uuid,void 0!==u.name&&(o.name=u.name),!0===o.isBufferGeometry&&void 0!==u.userData&&(o.userData=u.userData),n[u.uuid]=o}return n}},{key:"parseMaterials",value:function(e,t){var n={},r={};if(void 0!==e){var i=new Rh;i.setTextures(t);for(var a=0,o=e.length;a<o;a++){var u=e[a];if("MultiMaterial"===u.type){for(var s=[],l=0;l<u.materials.length;l++){var c=u.materials[l];void 0===n[c.uuid]&&(n[c.uuid]=i.parse(c)),s.push(n[c.uuid])}r[u.uuid]=s}else void 0===n[u.uuid]&&(n[u.uuid]=i.parse(u)),r[u.uuid]=n[u.uuid]}}return r}},{key:"parseAnimations",value:function(e){var t={};if(void 0!==e)for(var n=0;n<e.length;n++){var r=e[n],i=Kf.parse(r);t[i.uuid]=i}return t}},{key:"parseImages",value:function(e,t){var n,r=this,i={};function a(e){if("string"===typeof e){var t=e;return function(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}(/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:r.resourcePath+t)}return e.data?{data:mr(e.type,e.data),width:e.width,height:e.height}:null}if(void 0!==e&&e.length>0){var o=new eh(t);(n=new uh(o)).setCrossOrigin(this.crossOrigin);for(var u=0,s=e.length;u<s;u++){var l=e[u],c=l.url;if(Array.isArray(c)){for(var f=[],h=0,d=c.length;h<d;h++){var p=a(c[h]);null!==p&&(p instanceof HTMLImageElement?f.push(p):f.push(new kl(p.data,p.width,p.height)))}i[l.uuid]=new Pr(f)}else{var v=a(l.url);i[l.uuid]=new Pr(v)}}}return i}},{key:"parseImagesAsync",value:function(){var e=O(z.mark((function e(t){var n,r,i,a,o,u,s,l,c,f,h,d,p,v,m;return z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(){return o=O(z.mark((function e(t){var r,a;return z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=8;break}return a=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r=t)?r:n.resourcePath+r,e.next=5,i.loadAsync(a);case 5:return e.abrupt("return",e.sent);case 8:if(!t.data){e.next=12;break}return e.abrupt("return",{data:mr(t.type,t.data),width:t.width,height:t.height});case 12:return e.abrupt("return",null);case 13:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)},a=function(e){return o.apply(this,arguments)},n=this,r={},!(void 0!==t&&t.length>0)){e.next=33;break}(i=new uh(this.manager)).setCrossOrigin(this.crossOrigin),u=0,s=t.length;case 8:if(!(u<s)){e.next=33;break}if(l=t[u],c=l.url,!Array.isArray(c)){e.next=26;break}f=[],h=0,d=c.length;case 14:if(!(h<d)){e.next=23;break}return p=c[h],e.next=18,a(p);case 18:null!==(v=e.sent)&&(v instanceof HTMLImageElement?f.push(v):f.push(new kl(v.data,v.width,v.height)));case 20:h++,e.next=14;break;case 23:r[l.uuid]=new Pr(f),e.next=30;break;case 26:return e.next=28,a(l.url);case 28:m=e.sent,r[l.uuid]=new Pr(m);case 30:u++,e.next=8;break;case 33:return e.abrupt("return",r);case 34:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseTextures",value:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,a=e.length;i<a;i++){var o=e[i];void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image);var u=t[o.image],s=u.data,l=void 0;Array.isArray(s)?(l=new to,6===s.length&&(l.needsUpdate=!0)):(l=s&&s.data?new kl:new Ir,s&&(l.needsUpdate=!0)),l.source=u,l.uuid=o.uuid,void 0!==o.name&&(l.name=o.name),void 0!==o.mapping&&(l.mapping=n(o.mapping,Nh)),void 0!==o.offset&&l.offset.fromArray(o.offset),void 0!==o.repeat&&l.repeat.fromArray(o.repeat),void 0!==o.center&&l.center.fromArray(o.center),void 0!==o.rotation&&(l.rotation=o.rotation),void 0!==o.wrap&&(l.wrapS=n(o.wrap[0],zh),l.wrapT=n(o.wrap[1],zh)),void 0!==o.format&&(l.format=o.format),void 0!==o.type&&(l.type=o.type),void 0!==o.encoding&&(l.encoding=o.encoding),void 0!==o.minFilter&&(l.minFilter=n(o.minFilter,Fh)),void 0!==o.magFilter&&(l.magFilter=n(o.magFilter,Fh)),void 0!==o.anisotropy&&(l.anisotropy=o.anisotropy),void 0!==o.flipY&&(l.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(l.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(l.unpackAlignment=o.unpackAlignment),void 0!==o.userData&&(l.userData=o.userData),r[o.uuid]=l}return r}},{key:"parseObject",value:function(e,t,n,r,i){var a,o,u;function s(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function l(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var a=e[r];void 0===n[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),t.push(n[a])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}function c(e){return void 0===r[e]&&console.warn("THREE.ObjectLoader: Undefined texture",e),r[e]}switch(e.type){case"Scene":a=new Xs,void 0!==e.background&&(Number.isInteger(e.background)?a.background=new Cr(e.background):a.background=c(e.background)),void 0!==e.environment&&(a.environment=c(e.environment)),void 0!==e.fog&&("Fog"===e.fog.type?a.fog=new qs(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(a.fog=new Vs(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":a=new Ja(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(a.focus=e.focus),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.filmGauge&&(a.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(a.filmOffset=e.filmOffset),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new So(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(a.zoom=e.zoom),void 0!==e.view&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new Eh(e.color,e.intensity);break;case"DirectionalLight":a=new Mh(e.color,e.intensity);break;case"PointLight":a=new Sh(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Th(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new yh(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new hh(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=(new Ch).fromJSON(e);break;case"SkinnedMesh":o=s(e.geometry),u=l(e.material),a=new wl(o,u),void 0!==e.bindMode&&(a.bindMode=e.bindMode),void 0!==e.bindMatrix&&a.bindMatrix.fromArray(e.bindMatrix),void 0!==e.skeleton&&(a.skeleton=e.skeleton);break;case"Mesh":o=s(e.geometry),u=l(e.material),a=new Ga(o,u);break;case"InstancedMesh":o=s(e.geometry),u=l(e.material);var f=e.count,h=e.instanceMatrix,d=e.instanceColor;(a=new Ol(o,u,f)).instanceMatrix=new Al(new Float32Array(h.array),16),void 0!==d&&(a.instanceColor=new Al(new Float32Array(d.array),d.itemSize));break;case"LOD":a=new ml;break;case"Line":a=new Ul(s(e.geometry),l(e.material));break;case"LineLoop":a=new Gl(s(e.geometry),l(e.material));break;case"LineSegments":a=new Zl(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new Yl(s(e.geometry),l(e.material));break;case"Sprite":a=new hl(l(e.material));break;case"Group":a=new zs;break;case"Bone":a=new Sl;break;default:a=new Wi}if(a.uuid=e.uuid,void 0!==e.name&&(a.name=e.name),void 0!==e.matrix?(a.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(void 0!==e.position&&a.position.fromArray(e.position),void 0!==e.rotation&&a.rotation.fromArray(e.rotation),void 0!==e.quaternion&&a.quaternion.fromArray(e.quaternion),void 0!==e.scale&&a.scale.fromArray(e.scale)),void 0!==e.castShadow&&(a.castShadow=e.castShadow),void 0!==e.receiveShadow&&(a.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(a.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(a.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(a.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&a.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(a.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.frustumCulled&&(a.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(a.renderOrder=e.renderOrder),void 0!==e.userData&&(a.userData=e.userData),void 0!==e.layers&&(a.layers.mask=e.layers),void 0!==e.children)for(var p=e.children,v=0;v<p.length;v++)a.add(this.parseObject(p[v],t,n,r,i));if(void 0!==e.animations)for(var m=e.animations,g=0;g<m.length;g++){var y=m[g];a.animations.push(i[y])}if("LOD"===e.type){void 0!==e.autoUpdate&&(a.autoUpdate=e.autoUpdate);for(var b=e.levels,x=0;x<b.length;x++){var _=b[x],w=a.getObjectByProperty("uuid",_.object);void 0!==w&&a.addLevel(w,_.distance)}}return a}},{key:"bindSkeletons",value:function(e,t){0!==Object.keys(t).length&&e.traverse((function(e){if(!0===e.isSkinnedMesh&&void 0!==e.skeleton){var n=t[e.skeleton];void 0===n?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",e.skeleton):e.bind(n,e.bindMatrix)}}))}},{key:"setTexturePath",value:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}]),n}(nh),Nh={UVMapping:Ue,CubeReflectionMapping:je,CubeRefractionMapping:He,EquirectangularReflectionMapping:Ze,EquirectangularRefractionMapping:Ge,CubeUVReflectionMapping:We},zh={RepeatWrapping:Ve,ClampToEdgeWrapping:qe,MirroredRepeatWrapping:Xe},Fh={NearestFilter:$e,NearestMipmapNearestFilter:Ye,NearestMipmapLinearFilter:Je,LinearFilter:et,LinearMipmapNearestFilter:tt,LinearMipmapLinearFilter:rt},Bh=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),r=t.call(this,e),"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),r.options={premultiplyAlpha:"none"},r}return M(n,[{key:"setOptions",value:function(e){return this.options=e,this}},{key:"load",value:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,a=Qf.get(e);if(void 0!==a)return i.manager.itemStart(e),setTimeout((function(){t&&t(a),i.manager.itemEnd(e)}),0),a;var o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,Object.assign(i.options,{colorSpaceConversion:"none"}))})).then((function(n){Qf.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}]),n}(nh);Bh.prototype.isImageBitmapLoader=!0;var Uh={getContext:function(){return void 0===Oh&&(Oh=new(window.AudioContext||window.webkitAudioContext)),Oh},setContext:function(e){Oh=e}},jh=function(e){E(n,e);var t=P(n);function n(e){return S(this,n),t.call(this,e)}return M(n,[{key:"load",value:function(e,t,n,r){var i=this,a=new ih(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){try{var a=n.slice(0);Uh.getContext().decodeAudioData(a,(function(e){t(e)}))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)}}]),n}(nh),Hh=function(e){E(n,e);var t=P(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;S(this,n),i=t.call(this,void 0,a);var o=(new Cr).set(e),u=(new Cr).set(r),s=new Zr(o.r,o.g,o.b),l=new Zr(u.r,u.g,u.b),c=Math.sqrt(Math.PI),f=c*Math.sqrt(.75);return i.sh.coefficients[0].copy(s).add(l).multiplyScalar(c),i.sh.coefficients[1].copy(s).sub(l).multiplyScalar(f),i}return M(n)}(Ch);Hh.prototype.isHemisphereLightProbe=!0;var Zh=function(e){E(n,e);var t=P(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;S(this,n),r=t.call(this,void 0,i);var a=(new Cr).set(e);return r.sh.coefficients[0].set(a.r,a.g,a.b).multiplyScalar(2*Math.sqrt(Math.PI)),r}return M(n)}(Ch);Zh.prototype.isAmbientLightProbe=!0;var Gh=new xi,Wh=new xi,Vh=new xi,qh=function(){function e(){S(this,e),this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ja,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ja,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}return M(e,[{key:"update",value:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Vh.copy(e.projectionMatrix);var n,r,i=t.eyeSep/2,a=i*t.near/t.focus,o=t.near*Math.tan(nr*t.fov*.5)/t.zoom;Wh.elements[12]=-i,Gh.elements[12]=i,n=-o*t.aspect+a,r=o*t.aspect+a,Vh.elements[0]=2*t.near/(r-n),Vh.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(Vh),n=-o*t.aspect-a,r=o*t.aspect-a,Vh.elements[0]=2*t.near/(r-n),Vh.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(Vh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Wh),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Gh)}}]),e}(),Xh=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];S(this,e),this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}return M(e,[{key:"start",value:function(){this.startTime=$h(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}},{key:"stop",value:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}},{key:"getElapsedTime",value:function(){return this.getDelta(),this.elapsedTime}},{key:"getDelta",value:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=$h();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}]),e}();function $h(){return("undefined"===typeof performance?Date:performance).now()}var Yh=new Zr,Kh=new Hr,Jh=new Zr,Qh=new Zr,ed=function(e){E(n,e);var t=P(n);function n(){var e;return S(this,n),(e=t.call(this)).type="AudioListener",e.context=Uh.getContext(),e.gain=e.context.createGain(),e.gain.connect(e.context.destination),e.filter=null,e.timeDelta=0,e._clock=new Xh,e}return M(n,[{key:"getInput",value:function(){return this.gain}},{key:"removeFilter",value:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}},{key:"getFilter",value:function(){return this.filter}},{key:"setFilter",value:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}},{key:"getMasterVolume",value:function(){return this.gain.gain.value}},{key:"setMasterVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}},{key:"updateMatrixWorld",value:function(e){D(T(n.prototype),"updateMatrixWorld",this).call(this,e);var t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Yh,Kh,Jh),Qh.set(0,0,-1).applyQuaternion(Kh),t.positionX){var i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Yh.x,i),t.positionY.linearRampToValueAtTime(Yh.y,i),t.positionZ.linearRampToValueAtTime(Yh.z,i),t.forwardX.linearRampToValueAtTime(Qh.x,i),t.forwardY.linearRampToValueAtTime(Qh.y,i),t.forwardZ.linearRampToValueAtTime(Qh.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Yh.x,Yh.y,Yh.z),t.setOrientation(Qh.x,Qh.y,Qh.z,r.x,r.y,r.z)}}]),n}(Wi),td=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this)).type="Audio",r.listener=e,r.context=e.context,r.gain=r.context.createGain(),r.gain.connect(e.getInput()),r.autoplay=!1,r.buffer=null,r.detune=0,r.loop=!1,r.loopStart=0,r.loopEnd=0,r.offset=0,r.duration=void 0,r.playbackRate=1,r.isPlaying=!1,r.hasPlaybackControl=!0,r.source=null,r.sourceType="empty",r._startedAt=0,r._progress=0,r._connected=!1,r.filters=[],r}return M(n,[{key:"getOutput",value:function(){return this.gain}},{key:"setNodeSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}},{key:"setMediaElementSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}},{key:"setMediaStreamSource",value:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}},{key:"setBuffer",value:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}},{key:"play",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")}},{key:"pause",value:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"stop",value:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"connect",value:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}},{key:"disconnect",value:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}},{key:"getFilters",value:function(){return this.filters}},{key:"setFilters",value:function(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}},{key:"setDetune",value:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}},{key:"getDetune",value:function(){return this.detune}},{key:"getFilter",value:function(){return this.getFilters()[0]}},{key:"setFilter",value:function(e){return this.setFilters(e?[e]:[])}},{key:"setPlaybackRate",value:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"getPlaybackRate",value:function(){return this.playbackRate}},{key:"onEnded",value:function(){this.isPlaying=!1}},{key:"getLoop",value:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}},{key:"setLoop",value:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}},{key:"setLoopStart",value:function(e){return this.loopStart=e,this}},{key:"setLoopEnd",value:function(e){return this.loopEnd=e,this}},{key:"getVolume",value:function(){return this.gain.gain.value}},{key:"setVolume",value:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}]),n}(Wi),nd=new Zr,rd=new Hr,id=new Zr,ad=new Zr,od=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this,e)).panner=r.context.createPanner(),r.panner.panningModel="HRTF",r.panner.connect(r.gain),r}return M(n,[{key:"disconnect",value:function(){D(T(n.prototype),"disconnect",this).call(this),this.panner.disconnect(this.gain)}},{key:"getOutput",value:function(){return this.panner}},{key:"getRefDistance",value:function(){return this.panner.refDistance}},{key:"setRefDistance",value:function(e){return this.panner.refDistance=e,this}},{key:"getRolloffFactor",value:function(){return this.panner.rolloffFactor}},{key:"setRolloffFactor",value:function(e){return this.panner.rolloffFactor=e,this}},{key:"getDistanceModel",value:function(){return this.panner.distanceModel}},{key:"setDistanceModel",value:function(e){return this.panner.distanceModel=e,this}},{key:"getMaxDistance",value:function(){return this.panner.maxDistance}},{key:"setMaxDistance",value:function(e){return this.panner.maxDistance=e,this}},{key:"setDirectionalCone",value:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}},{key:"updateMatrixWorld",value:function(e){if(D(T(n.prototype),"updateMatrixWorld",this).call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(nd,rd,id),ad.set(0,0,1).applyQuaternion(rd);var t=this.panner;if(t.positionX){var r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(nd.x,r),t.positionY.linearRampToValueAtTime(nd.y,r),t.positionZ.linearRampToValueAtTime(nd.z,r),t.orientationX.linearRampToValueAtTime(ad.x,r),t.orientationY.linearRampToValueAtTime(ad.y,r),t.orientationZ.linearRampToValueAtTime(ad.z,r)}else t.setPosition(nd.x,nd.y,nd.z),t.setOrientation(ad.x,ad.y,ad.z)}}}]),n}(td),ud=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2048;S(this,e),this.analyser=t.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}return M(e,[{key:"getFrequencyData",value:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},{key:"getAverageFrequency",value:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}]),e}(),sd=function(){function e(t,n,r){var i,a,o;switch(S(this,e),this.binding=t,this.valueSize=r,n){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*r),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*r);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*r)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}return M(e,[{key:"accumulate",value:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=t}else{var u=t/(a+=t);this._mixBufferRegion(n,i,0,u,r)}this.cumulativeWeight=a}},{key:"accumulateAdditive",value:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e}},{key:"apply",value:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var u=t*this._origIndex;this._mixBufferRegion(n,r,u,1-i,t)}a>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var s=t,l=t+t;s!==l;++s)if(n[s]!==n[s+t]){o.setValue(n,r);break}}},{key:"saveOriginalState",value:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,a=r;i!==a;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}},{key:"restoreOriginalState",value:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)}},{key:"_setAdditiveIdentityNumeric",value:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0}},{key:"_setAdditiveIdentityQuaternion",value:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}},{key:"_setAdditiveIdentityOther",value:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]}},{key:"_select",value:function(e,t,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)e[t+a]=e[n+a]}},{key:"_slerp",value:function(e,t,n,r){Hr.slerpFlat(e,t,e,t,e,n,r)}},{key:"_slerpAdditive",value:function(e,t,n,r,i){var a=this._workIndex*i;Hr.multiplyQuaternionsFlat(e,a,e,t,e,n),Hr.slerpFlat(e,t,e,t,e,a,r)}},{key:"_lerp",value:function(e,t,n,r,i){for(var a=1-r,o=0;o!==i;++o){var u=t+o;e[u]=e[u]*a+e[n+o]*r}}},{key:"_lerpAdditive",value:function(e,t,n,r,i){for(var a=0;a!==i;++a){var o=t+a;e[o]=e[o]+e[n+a]*r}}}]),e}(),ld="\\[\\]\\.:\\/",cd=new RegExp("[\\[\\]\\.:\\/]","g"),fd="[^\\[\\]\\.:\\/]",hd="[^"+ld.replace("\\.","")+"]",dd=/((?:WC+[\/:])*)/.source.replace("WC",fd),pd=/(WCOD+)?/.source.replace("WCOD",hd),vd=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",fd),md=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",fd),gd=new RegExp("^"+dd+pd+vd+md+"$"),yd=["material","materials","bones"],bd=function(){function e(t,n,r){S(this,e);var i=r||xd.parseTrackName(n);this._targetGroup=t,this._bindings=t.subscribe_(n,i)}return M(e,[{key:"getValue",value:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)}},{key:"setValue",value:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)}},{key:"bind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()}},{key:"unbind",value:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}]),e}(),xd=function(){function e(t,n,r){S(this,e),this.path=n,this.parsedPath=r||e.parseTrackName(n),this.node=e.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}return M(e,[{key:"_getValue_unavailable",value:function(){}},{key:"_setValue_unavailable",value:function(){}},{key:"_getValue_direct",value:function(e,t){e[t]=this.targetObject[this.propertyName]}},{key:"_getValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]}},{key:"_getValue_arrayElement",value:function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}},{key:"_getValue_toArray",value:function(e,t){this.resolvedProperty.toArray(e,t)}},{key:"_setValue_direct",value:function(e,t){this.targetObject[this.propertyName]=e[t]}},{key:"_setValue_direct_setNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_direct_setMatrixWorldNeedsUpdate",value:function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_array",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]}},{key:"_setValue_array_setNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0}},{key:"_setValue_array_setMatrixWorldNeedsUpdate",value:function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_arrayElement",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}},{key:"_setValue_arrayElement_setNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}},{key:"_setValue_arrayElement_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_setValue_fromArray",value:function(e,t){this.resolvedProperty.fromArray(e,t)}},{key:"_setValue_fromArray_setNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}},{key:"_setValue_fromArray_setMatrixWorldNeedsUpdate",value:function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}},{key:"_getValue_unbound",value:function(e,t){this.bind(),this.getValue(e,t)}},{key:"_setValue_unbound",value:function(e,t){this.bind(),this.setValue(e,t)}},{key:"bind",value:function(){var t=this.node,n=this.parsedPath,r=n.objectName,i=n.propertyName,a=n.propertyIndex;if(t||(t=e.findNode(this.rootNode,n.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(r){var o=n.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var u=0;u<t.length;u++)if(t[u].name===o){o=u;break}break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var s=t[i];if(void 0!==s){var l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==a){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[a]&&(a=t.morphTargetDictionary[a])}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=a}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var f=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+f+"."+i+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")}},{key:"unbind",value:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}],[{key:"create",value:function(t,n,r){return t&&t.isAnimationObjectGroup?new e.Composite(t,n,r):new e(t,n,r)}},{key:"sanitizeNodeName",value:function(e){return e.replace(/\s/g,"_").replace(cd,"")}},{key:"parseTrackName",value:function(e){var t=gd.exec(e);if(null===t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==yd.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n}},{key:"findNode",value:function(e,t){if(void 0===t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var a=e(i.children);if(a)return a}return null}(e.children);if(r)return r}return null}}]),e}();xd.Composite=bd,xd.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},xd.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},xd.prototype.GetterByBindingType=[xd.prototype._getValue_direct,xd.prototype._getValue_array,xd.prototype._getValue_arrayElement,xd.prototype._getValue_toArray],xd.prototype.SetterByBindingTypeAndVersioning=[[xd.prototype._setValue_direct,xd.prototype._setValue_direct_setNeedsUpdate,xd.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[xd.prototype._setValue_array,xd.prototype._setValue_array_setNeedsUpdate,xd.prototype._setValue_array_setMatrixWorldNeedsUpdate],[xd.prototype._setValue_arrayElement,xd.prototype._setValue_arrayElement_setNeedsUpdate,xd.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[xd.prototype._setValue_fromArray,xd.prototype._setValue_fromArray_setNeedsUpdate,xd.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var _d=function(){function e(){S(this,e),this.uuid=ir(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var n=0,r=arguments.length;n!==r;++n)t[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}return M(e,[{key:"add",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,a=i.length,o=void 0,u=e.length,s=this.nCachedObjects_,l=0,c=arguments.length;l!==c;++l){var f=arguments[l],h=f.uuid,d=t[h];if(void 0===d){d=u++,t[h]=d,e.push(f);for(var p=0,v=a;p!==v;++p)i[p].push(new xd(f,n[p],r[p]))}else if(d<s){o=e[d];var m=--s,g=e[m];t[g.uuid]=d,e[d]=g,t[h]=m,e[m]=f;for(var y=0,b=a;y!==b;++y){var x=i[y],_=x[m],w=x[d];x[d]=_,void 0===w&&(w=new xd(f,n[y],r[y])),x[m]=w}}else e[d]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=s}},{key:"remove",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=0,o=arguments.length;a!==o;++a){var u=arguments[a],s=u.uuid,l=t[s];if(void 0!==l&&l>=i){var c=i++,f=e[c];t[f.uuid]=l,e[l]=f,t[s]=c,e[c]=u;for(var h=0,d=r;h!==d;++h){var p=n[h],v=p[c],m=p[l];p[l]=v,p[c]=m}}}this.nCachedObjects_=i}},{key:"uncache",value:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,a=e.length,o=0,u=arguments.length;o!==u;++o){var s=arguments[o],l=s.uuid,c=t[l];if(void 0!==c)if(delete t[l],c<i){var f=--i,h=e[f],d=--a,p=e[d];t[h.uuid]=c,e[c]=h,t[p.uuid]=f,e[f]=p,e.pop();for(var v=0,m=r;v!==m;++v){var g=n[v],y=g[f],b=g[d];g[c]=y,g[f]=b,g.pop()}}else{var x=--a,_=e[x];x>0&&(t[_.uuid]=c),e[c]=_,e.pop();for(var w=0,S=r;w!==S;++w){var k=n[w];k[c]=k[x],k.pop()}}}this.nCachedObjects_=i}},{key:"subscribe_",value:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,u=this._objects,s=u.length,l=this.nCachedObjects_,c=new Array(s);r=i.length,n[e]=r,a.push(e),o.push(t),i.push(c);for(var f=l,h=u.length;f!==h;++f){var d=u[f];c[f]=new xd(d,e,t)}return c}},{key:"unsubscribe_",value:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,u=a[o];t[e[o]]=n,a[n]=u,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}}]),e}();_d.prototype.isAnimationObjectGroup=!0;var wd=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.blendMode;S(this,e),this._mixer=t,this._clip=n,this._localRoot=r,this.blendMode=i;for(var a=n.tracks,o=a.length,u=new Array(o),s={endingStart:un,endingEnd:un},l=0;l!==o;++l){var c=a[l].createInterpolant(null);u[l]=c,c.settings=s}this._interpolantSettings=s,this._interpolants=u,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=tn,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}return M(e,[{key:"play",value:function(){return this._mixer._activateAction(this),this}},{key:"stop",value:function(){return this._mixer._deactivateAction(this),this.reset()}},{key:"reset",value:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}},{key:"isRunning",value:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}},{key:"isScheduled",value:function(){return this._mixer._isActiveAction(this)}},{key:"startAt",value:function(e){return this._startTime=e,this}},{key:"setLoop",value:function(e,t){return this.loop=e,this.repetitions=t,this}},{key:"setEffectiveWeight",value:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}},{key:"getEffectiveWeight",value:function(){return this._effectiveWeight}},{key:"fadeIn",value:function(e){return this._scheduleFading(e,0,1)}},{key:"fadeOut",value:function(e){return this._scheduleFading(e,1,0)}},{key:"crossFadeFrom",value:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,a=i/r,o=r/i;e.warp(1,a,t),this.warp(o,1,t)}return this}},{key:"crossFadeTo",value:function(e,t,n){return e.crossFadeFrom(this,t,n)}},{key:"stopFading",value:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"setEffectiveTimeScale",value:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}},{key:"getEffectiveTimeScale",value:function(){return this._effectiveTimeScale}},{key:"setDuration",value:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}},{key:"syncWith",value:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}},{key:"halt",value:function(e){return this.warp(this._effectiveTimeScale,0,e)}},{key:"warp",value:function(e,t,n){var r=this._mixer,i=r.time,a=this.timeScale,o=this._timeScaleInterpolant;null===o&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);var u=o.parameterPositions,s=o.sampleValues;return u[0]=i,u[1]=i+n,s[0]=e/a,s[1]=t/a,this}},{key:"stopWarping",value:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}},{key:"getMixer",value:function(){return this._mixer}},{key:"getClip",value:function(){return this._clip}},{key:"getRoot",value:function(){return this._localRoot||this._mixer._root}},{key:"_update",value:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var a=(e-i)*n;if(a<0||0===n)return;this._startTime=null,t=n*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),u=this._updateWeight(e);if(u>0){var s=this._interpolants,l=this._propertyBindings;if(this.blendMode===fn)for(var c=0,f=s.length;c!==f;++c)s[c].evaluate(o),l[c].accumulateAdditive(u);else for(var h=0,d=s.length;h!==d;++h)s[h].evaluate(o),l[h].accumulate(r,u)}}else this._updateWeight(e)}},{key:"_updateWeight",value:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}},{key:"_updateTimeScale",value:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t}},{key:"_updateTime",value:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,a=n===nn;if(0===e)return-1===i?r:a&&1===(1&i)?t-r:r;if(n===en){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),r>=t||r<0){var o=Math.floor(r/t);r-=t*o,i+=Math.abs(o);var u=this.repetitions-i;if(u<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===u){var s=e<0;this._setEndings(s,!s,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&1===(1&i))return t-r}return r}},{key:"_setEndings",value:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=sn,r.endingEnd=sn):(r.endingStart=e?this.zeroSlopeAtStart?sn:un:ln,r.endingEnd=t?this.zeroSlopeAtEnd?sn:un:ln)}},{key:"_scheduleFading",value:function(e,t,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,u=a.sampleValues;return o[0]=i,u[0]=t,o[1]=i+e,u[1]=n,this}}]),e}(),Sd=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this))._root=e,r._initMemoryManager(),r._accuIndex=0,r.time=0,r.timeScale=1,r}return M(n,[{key:"_bindAction",value:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,a=e._propertyBindings,o=e._interpolants,u=n.uuid,s=this._bindingsByRootAndName,l=s[u];void 0===l&&(l={},s[u]=l);for(var c=0;c!==i;++c){var f=r[c],h=f.name,d=l[h];if(void 0!==d)++d.referenceCount,a[c]=d;else{if(void 0!==(d=a[c])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,u,h));continue}var p=t&&t._propertyBindings[c].binding.parsedPath;++(d=new sd(xd.create(n,h,p),f.ValueTypeName,f.getValueSize())).referenceCount,this._addInactiveBinding(d,u,h),a[c]=d}o[c].resultBuffer=d.buffer}}},{key:"_activateAction",value:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,a=0,o=i.length;a!==o;++a){var u=i[a];0===u.useCount++&&(this._lendBinding(u),u.saveOriginalState())}this._lendAction(e)}}},{key:"_deactivateAction",value:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}},{key:"_initMemoryManager",value:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}},{key:"_isActiveAction",value:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions}},{key:"_addInactiveAction",value:function(e,t,n){var r=this._actions,i=this._actionsByClip,a=i[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[n]=e}},{key:"_removeInactiveAction",value:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,a=this._actionsByClip,o=a[i],u=o.knownActions,s=u[u.length-1],l=e._byClipCacheIndex;s._byClipCacheIndex=l,u[l]=s,u.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===u.length&&delete a[i],this._removeInactiveBindingsForAction(e)}},{key:"_removeInactiveBindingsForAction",value:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}}},{key:"_lendAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackAction",value:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_addInactiveBinding",value:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,a=r[t];void 0===a&&(a={},r[t]=a),a[n]=e,e._cacheIndex=i.length,i.push(e)}},{key:"_removeInactiveBinding",value:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],u=t[t.length-1],s=e._cacheIndex;u._cacheIndex=s,t[s]=u,t.pop(),delete o[i],0===Object.keys(o).length&&delete a[r]}},{key:"_lendBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_takeBackBinding",value:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i}},{key:"_lendControlInterpolant",value:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new jf(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n}},{key:"_takeBackControlInterpolant",value:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i}},{key:"clipAction",value:function(e,t,n){var r=t||this._root,i=r.uuid,a="string"===typeof e?Kf.findByName(r,e):e,o=null!==a?a.uuid:e,u=this._actionsByClip[o],s=null;if(void 0===n&&(n=null!==a?a.blendMode:cn),void 0!==u){var l=u.actionByRoot[i];if(void 0!==l&&l.blendMode===n)return l;s=u.knownActions[0],null===a&&(a=s._clip)}if(null===a)return null;var c=new wd(this,a,t,n);return this._bindAction(c,s),this._addInactiveAction(c,o,i),c}},{key:"existingAction",value:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?Kf.findByName(n,e):e,a=i?i.uuid:e,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null}},{key:"stopAllAction",value:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this}},{key:"update",value:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),a=this._accuIndex^=1,o=0;o!==n;++o){t[o]._update(r,e,i,a)}for(var u=this._bindings,s=this._nActiveBindings,l=0;l!==s;++l)u[l].apply(a);return this}},{key:"setTime",value:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}},{key:"getRoot",value:function(){return this._root}},{key:"uncacheClip",value:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,u=a.length;o!==u;++o){var s=a[o];this._deactivateAction(s);var l=s._cacheIndex,c=t[t.length-1];s._cacheIndex=null,s._byClipCacheIndex=null,c._cacheIndex=l,t[l]=c,t.pop(),this._removeInactiveBindingsForAction(s)}delete r[n]}}},{key:"uncacheRoot",value:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var u=a[o];u.restoreOriginalState(),this._removeInactiveBinding(u)}}},{key:"uncacheAction",value:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}]),n}(Jn);Sd.prototype._controlInterpolantsResultBuffer=new Float32Array(1);var kd=function(){function e(t){S(this,e),"string"===typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}return M(e,[{key:"clone",value:function(){return new e(void 0===this.value.clone?this.value:this.value.clone())}}]),e}(),Md=function(e){E(n,e);var t=P(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return S(this,n),(i=t.call(this,e,r)).meshPerAttribute=a,i}return M(n,[{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e),this.meshPerAttribute=e.meshPerAttribute,this}},{key:"clone",value:function(e){var t=D(T(n.prototype),"clone",this).call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t}},{key:"toJSON",value:function(e){var t=D(T(n.prototype),"toJSON",this).call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}]),n}($s);Md.prototype.isInstancedInterleavedBuffer=!0;var Ed=function(){function e(t,n,r,i,a){S(this,e),this.buffer=t,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}return M(e,[{key:"needsUpdate",set:function(e){!0===e&&this.version++}},{key:"setBuffer",value:function(e){return this.buffer=e,this}},{key:"setType",value:function(e,t){return this.type=e,this.elementSize=t,this}},{key:"setItemSize",value:function(e){return this.itemSize=e,this}},{key:"setCount",value:function(e){return this.count=e,this}}]),e}();Ed.prototype.isGLBufferAttribute=!0;var Td=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;S(this,e),this.ray=new bi(t,n),this.near=r,this.far=i,this.camera=null,this.layers=new Pi,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}return M(e,[{key:"set",value:function(e,t){this.ray.set(e,t)}},{key:"setFromCamera",value:function(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}},{key:"intersectObject",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Cd(e,this,n,t),n.sort(Ad),n}},{key:"intersectObjects",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=0,i=e.length;r<i;r++)Cd(e[r],this,n,t);return n.sort(Ad),n}}]),e}();function Ad(e,t){return e.distance-t.distance}function Cd(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,a=0,o=i.length;a<o;a++)Cd(i[a],t,n,!0)}var Rd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return S(this,e),this.radius=t,this.phi=n,this.theta=r,this}return M(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}},{key:"makeSafe",value:function(){var e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(ar(t/this.radius,-1,1))),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Pd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return S(this,e),this.radius=t,this.theta=n,this.y=r,this}return M(e,[{key:"set",value:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}},{key:"copy",value:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}},{key:"setFromVector3",value:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}},{key:"setFromCartesianCoords",value:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),Ld=new hr,Od=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new hr(1/0,1/0),n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hr(-1/0,-1/0);S(this,e),this.min=t,this.max=n}return M(e,[{key:"set",value:function(e,t){return this.min.copy(e),this.max.copy(t),this}},{key:"setFromPoints",value:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}},{key:"setFromCenterAndSize",value:function(e,t){var n=Ld.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}},{key:"copy",value:function(e){return this.min.copy(e.min),this.max.copy(e.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y}},{key:"getCenter",value:function(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(e){return this.min.min(e),this.max.max(e),this}},{key:"expandByVector",value:function(e){return this.min.sub(e),this.max.add(e),this}},{key:"expandByScalar",value:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this}},{key:"containsPoint",value:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}},{key:"containsBox",value:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}},{key:"getParameter",value:function(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}},{key:"intersectsBox",value:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}},{key:"clampPoint",value:function(e,t){return t.copy(e).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(e){return Ld.copy(e).clamp(this.min,this.max).sub(e).length()}},{key:"intersect",value:function(e){return this.min.max(e.min),this.max.min(e.max),this}},{key:"union",value:function(e){return this.min.min(e.min),this.max.max(e.max),this}},{key:"translate",value:function(e){return this.min.add(e),this.max.add(e),this}},{key:"equals",value:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}]),e}();Od.prototype.isBox2=!0;var Id=new Zr,Dd=new Zr,Nd=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zr,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zr;S(this,e),this.start=t,this.end=n}return M(e,[{key:"set",value:function(e,t){return this.start.copy(e),this.end.copy(t),this}},{key:"copy",value:function(e){return this.start.copy(e.start),this.end.copy(e.end),this}},{key:"getCenter",value:function(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}},{key:"delta",value:function(e){return e.subVectors(this.end,this.start)}},{key:"distanceSq",value:function(){return this.start.distanceToSquared(this.end)}},{key:"distance",value:function(){return this.start.distanceTo(this.end)}},{key:"at",value:function(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}},{key:"closestPointToPointParameter",value:function(e,t){Id.subVectors(e,this.start),Dd.subVectors(this.end,this.start);var n=Dd.dot(Dd),r=Dd.dot(Id)/n;return t&&(r=ar(r,0,1)),r}},{key:"closestPointToPoint",value:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return this.delta(n).multiplyScalar(r).add(this.start)}},{key:"applyMatrix4",value:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}},{key:"equals",value:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),e}(),zd=new Zr,Fd=function(e){E(n,e);var t=P(n);function n(e,r){var i;S(this,n),(i=t.call(this)).light=e,i.light.updateMatrixWorld(),i.matrix=e.matrixWorld,i.matrixAutoUpdate=!1,i.color=r;for(var a=new Ea,o=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],u=0,s=1;u<32;u++,s++){var l=u/32*Math.PI*2,c=s/32*Math.PI*2;o.push(Math.cos(l),Math.sin(l),1,Math.cos(c),Math.sin(c),1)}a.setAttribute("position",new ga(o,3));var f=new Il({fog:!1,toneMapped:!1});return i.cone=new Zl(a,f),i.add(i.cone),i.update(),i}return M(n,[{key:"dispose",value:function(){this.cone.geometry.dispose(),this.cone.material.dispose()}},{key:"update",value:function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),zd.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(zd),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}]),n}(Wi),Bd=new Zr,Ud=new xi,jd=new xi,Hd=function(e){E(n,e);var t=P(n);function n(e){var r;S(this,n);for(var i=Zd(e),a=new Ea,o=[],u=[],s=new Cr(0,0,1),l=new Cr(0,1,0),c=0;c<i.length;c++){var f=i[c];f.parent&&f.parent.isBone&&(o.push(0,0,0),o.push(0,0,0),u.push(s.r,s.g,s.b),u.push(l.r,l.g,l.b))}a.setAttribute("position",new ga(o,3)),a.setAttribute("color",new ga(u,3));var h=new Il({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});return(r=t.call(this,a,h)).type="SkeletonHelper",r.isSkeletonHelper=!0,r.root=e,r.bones=i,r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r}return M(n,[{key:"updateMatrixWorld",value:function(e){var t=this.bones,r=this.geometry,i=r.getAttribute("position");jd.copy(this.root.matrixWorld).invert();for(var a=0,o=0;a<t.length;a++){var u=t[a];u.parent&&u.parent.isBone&&(Ud.multiplyMatrices(jd,u.matrixWorld),Bd.setFromMatrixPosition(Ud),i.setXYZ(o,Bd.x,Bd.y,Bd.z),Ud.multiplyMatrices(jd,u.parent.matrixWorld),Bd.setFromMatrixPosition(Ud),i.setXYZ(o+1,Bd.x,Bd.y,Bd.z),o+=2)}r.getAttribute("position").needsUpdate=!0,D(T(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(Zl);function Zd(e){var t=[];!0===e.isBone&&t.push(e);for(var n=0;n<e.children.length;n++)t.push.apply(t,Zd(e.children[n]));return t}var Gd=function(e){E(n,e);var t=P(n);function n(e,r,i){var a;S(this,n);var o=new bf(r,4,2),u=new aa({wireframe:!0,fog:!1,toneMapped:!1});return(a=t.call(this,o,u)).light=e,a.light.updateMatrixWorld(),a.color=i,a.type="PointLightHelper",a.matrix=a.light.matrixWorld,a.matrixAutoUpdate=!1,a.update(),a}return M(n,[{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}},{key:"update",value:function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}]),n}(Ga),Wd=new Zr,Vd=new Cr,qd=new Cr,Xd=function(e){E(n,e);var t=P(n);function n(e,r,i){var a;S(this,n),(a=t.call(this)).light=e,a.light.updateMatrixWorld(),a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i;var o=new mf(r);o.rotateY(.5*Math.PI),a.material=new aa({wireframe:!0,fog:!1,toneMapped:!1}),void 0===a.color&&(a.material.vertexColors=!0);var u=o.getAttribute("position"),s=new Float32Array(3*u.count);return o.setAttribute("color",new sa(s,3)),a.add(new Ga(o,a.material)),a.update(),a}return M(n,[{key:"dispose",value:function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}},{key:"update",value:function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");Vd.copy(this.light.color),qd.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?Vd:qd;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(Wd.setFromMatrixPosition(this.light.matrixWorld).negate())}}]),n}(Wi),$d=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4473924,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:8947848;S(this,n),a=new Cr(a),o=new Cr(o);for(var u=i/2,s=r/i,l=r/2,c=[],f=[],h=0,d=0,p=-l;h<=i;h++,p+=s){c.push(-l,0,p,l,0,p),c.push(p,0,-l,p,0,l);var v=h===u?a:o;v.toArray(f,d),d+=3,v.toArray(f,d),d+=3,v.toArray(f,d),d+=3,v.toArray(f,d),d+=3}var m=new Ea;m.setAttribute("position",new ga(c,3)),m.setAttribute("color",new ga(f,3));var g=new Il({vertexColors:!0,toneMapped:!1});return(e=t.call(this,m,g)).type="GridHelper",e}return M(n)}(Zl),Yd=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:64,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4473924,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:8947848;S(this,n),u=new Cr(u),s=new Cr(s);for(var l=[],c=[],f=0;f<=i;f++){var h=f/i*(2*Math.PI),d=Math.sin(h)*r,p=Math.cos(h)*r;l.push(0,0,0),l.push(d,0,p);var v=1&f?u:s;c.push(v.r,v.g,v.b),c.push(v.r,v.g,v.b)}for(var m=0;m<=a;m++)for(var g=1&m?u:s,y=r-r/a*m,b=0;b<o;b++){var x=b/o*(2*Math.PI),_=Math.sin(x)*y,w=Math.cos(x)*y;l.push(_,0,w),c.push(g.r,g.g,g.b),x=(b+1)/o*(2*Math.PI),_=Math.sin(x)*y,w=Math.cos(x)*y,l.push(_,0,w),c.push(g.r,g.g,g.b)}var k=new Ea;k.setAttribute("position",new ga(l,3)),k.setAttribute("color",new ga(c,3));var M=new Il({vertexColors:!0,toneMapped:!1});return(e=t.call(this,k,M)).type="PolarGridHelper",e}return M(n)}(Zl),Kd=new Zr,Jd=new Zr,Qd=new Zr,ep=function(e){E(n,e);var t=P(n);function n(e,r,i){var a;S(this,n),(a=t.call(this)).light=e,a.light.updateMatrixWorld(),a.matrix=e.matrixWorld,a.matrixAutoUpdate=!1,a.color=i,void 0===r&&(r=1);var o=new Ea;o.setAttribute("position",new ga([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var u=new Il({fog:!1,toneMapped:!1});return a.lightPlane=new Ul(o,u),a.add(a.lightPlane),(o=new Ea).setAttribute("position",new ga([0,0,0,0,0,1],3)),a.targetLine=new Ul(o,u),a.add(a.targetLine),a.update(),a}return M(n,[{key:"dispose",value:function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}},{key:"update",value:function(){Kd.setFromMatrixPosition(this.light.matrixWorld),Jd.setFromMatrixPosition(this.light.target.matrixWorld),Qd.subVectors(Jd,Kd),this.lightPlane.lookAt(Jd),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Jd),this.targetLine.scale.z=Qd.length()}}]),n}(Wi),tp=new Zr,np=new Ka,rp=function(e){E(n,e);var t=P(n);function n(e){var r;S(this,n);var i=new Ea,a=new Il({color:16777215,vertexColors:!0,toneMapped:!1}),o=[],u=[],s={},l=new Cr(16755200),c=new Cr(16711680),f=new Cr(43775),h=new Cr(16777215),d=new Cr(3355443);function p(e,t,n){v(e,n),v(t,n)}function v(e,t){o.push(0,0,0),u.push(t.r,t.g,t.b),void 0===s[e]&&(s[e]=[]),s[e].push(o.length/3-1)}return p("n1","n2",l),p("n2","n4",l),p("n4","n3",l),p("n3","n1",l),p("f1","f2",l),p("f2","f4",l),p("f4","f3",l),p("f3","f1",l),p("n1","f1",l),p("n2","f2",l),p("n3","f3",l),p("n4","f4",l),p("p","n1",c),p("p","n2",c),p("p","n3",c),p("p","n4",c),p("u1","u2",f),p("u2","u3",f),p("u3","u1",f),p("c","t",h),p("p","c",d),p("cn1","cn2",d),p("cn3","cn4",d),p("cf1","cf2",d),p("cf3","cf4",d),i.setAttribute("position",new ga(o,3)),i.setAttribute("color",new ga(u,3)),(r=t.call(this,i,a)).type="CameraHelper",r.camera=e,r.camera.updateProjectionMatrix&&r.camera.updateProjectionMatrix(),r.matrix=e.matrixWorld,r.matrixAutoUpdate=!1,r.pointMap=s,r.update(),r}return M(n,[{key:"update",value:function(){var e=this.geometry,t=this.pointMap;np.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ip("c",t,e,np,0,0,-1),ip("t",t,e,np,0,0,1),ip("n1",t,e,np,-1,-1,-1),ip("n2",t,e,np,1,-1,-1),ip("n3",t,e,np,-1,1,-1),ip("n4",t,e,np,1,1,-1),ip("f1",t,e,np,-1,-1,1),ip("f2",t,e,np,1,-1,1),ip("f3",t,e,np,-1,1,1),ip("f4",t,e,np,1,1,1),ip("u1",t,e,np,.7,1.1,-1),ip("u2",t,e,np,-.7,1.1,-1),ip("u3",t,e,np,0,2,-1),ip("cf1",t,e,np,-1,0,1),ip("cf2",t,e,np,1,0,1),ip("cf3",t,e,np,0,-1,1),ip("cf4",t,e,np,0,1,1),ip("cn1",t,e,np,-1,0,-1),ip("cn2",t,e,np,1,0,-1),ip("cn3",t,e,np,0,-1,-1),ip("cn4",t,e,np,0,1,-1),e.getAttribute("position").needsUpdate=!0}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Zl);function ip(e,t,n,r,i,a,o){tp.set(i,a,o).unproject(r);var u=t[e];if(void 0!==u)for(var s=n.getAttribute("position"),l=0,c=u.length;l<c;l++)s.setXYZ(u[l],tp.x,tp.y,tp.z)}for(var ap,op,up=new Vr,sp=function(e){E(n,e);var t=P(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;S(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=new Float32Array(24),u=new Ea;return u.setIndex(new sa(a,1)),u.setAttribute("position",new sa(o,3)),(r=t.call(this,u,new Il({color:i,toneMapped:!1}))).object=e,r.type="BoxHelper",r.matrixAutoUpdate=!1,r.update(),r}return M(n,[{key:"update",value:function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&up.setFromObject(this.object),!up.isEmpty()){var t=up.min,n=up.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}}},{key:"setFromObject",value:function(e){return this.object=e,this.update(),this}},{key:"copy",value:function(e){return Zl.prototype.copy.call(this,e),this.object=e.object,this}}]),n}(Zl),lp=function(e){E(n,e);var t=P(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16776960;S(this,n);var a=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),o=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],u=new Ea;return u.setIndex(new sa(a,1)),u.setAttribute("position",new ga(o,3)),(r=t.call(this,u,new Il({color:i,toneMapped:!1}))).box=e,r.type="Box3Helper",r.geometry.computeBoundingSphere(),r}return M(n,[{key:"updateMatrixWorld",value:function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),D(T(n.prototype),"updateMatrixWorld",this).call(this,e))}}]),n}(Zl),cp=function(e){E(n,e);var t=P(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16776960;S(this,n);var o=a,u=[1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],s=new Ea;s.setAttribute("position",new ga(u,3)),s.computeBoundingSphere(),(r=t.call(this,s,new Il({color:o,toneMapped:!1}))).type="PlaneHelper",r.plane=e,r.size=i;var l=[1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],c=new Ea;return c.setAttribute("position",new ga(l,3)),c.computeBoundingSphere(),r.add(new Ga(c,new aa({color:o,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1}))),r}return M(n,[{key:"updateMatrixWorld",value:function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?K:Y,this.lookAt(this.plane.normal),D(T(n.prototype),"updateMatrixWorld",this).call(this,e)}}]),n}(Ul),fp=new Zr,hp=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Zr(0,0,1),i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Zr(0,0,0),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:16776960,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.2*a,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:.2*u;return S(this,n),(e=t.call(this)).type="ArrowHelper",void 0===ap&&((ap=new Ea).setAttribute("position",new ga([0,0,0,0,1,0],3)),(op=new Tc(0,.5,1,5,1)).translate(0,-.5,0)),e.position.copy(i),e.line=new Ul(ap,new Il({color:o,toneMapped:!1})),e.line.matrixAutoUpdate=!1,e.add(e.line),e.cone=new Ga(op,new aa({color:o,toneMapped:!1})),e.cone.matrixAutoUpdate=!1,e.add(e.cone),e.setDirection(r),e.setLength(a,u,s),e}return M(n,[{key:"setDirection",value:function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{fp.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(fp,t)}}},{key:"setLength",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2*e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.2*t;this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}},{key:"setColor",value:function(e){this.line.material.color.set(e),this.cone.material.color.set(e)}},{key:"copy",value:function(e){return D(T(n.prototype),"copy",this).call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}}]),n}(Wi),dp=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;S(this,n);var i=[0,0,0,r,0,0,0,0,0,0,r,0,0,0,0,0,0,r],a=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],o=new Ea;o.setAttribute("position",new ga(i,3)),o.setAttribute("color",new ga(a,3));var u=new Il({vertexColors:!0,toneMapped:!1});return(e=t.call(this,o,u)).type="AxesHelper",e}return M(n,[{key:"setColors",value:function(e,t,n){var r=new Cr,i=this.geometry.attributes.color.array;return r.set(e),r.toArray(i,0),r.toArray(i,3),r.set(t),r.toArray(i,6),r.toArray(i,9),r.set(n),r.toArray(i,12),r.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}},{key:"dispose",value:function(){this.geometry.dispose(),this.material.dispose()}}]),n}(Zl),pp=function(){function e(){S(this,e),this.type="ShapePath",this.color=new Cr,this.subPaths=[],this.currentPath=null}return M(e,[{key:"moveTo",value:function(e,t){return this.currentPath=new Sc,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}},{key:"lineTo",value:function(e,t){return this.currentPath.lineTo(e,t),this}},{key:"quadraticCurveTo",value:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this}},{key:"bezierCurveTo",value:function(e,t,n,r,i,a){return this.currentPath.bezierCurveTo(e,t,n,r,i,a),this}},{key:"splineThru",value:function(e){return this.currentPath.splineThru(e),this}},{key:"toShapes",value:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],a=new Nc;a.curves=i.curves,t.push(a)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=t[i],u=t[a],s=u.x-o.x,l=u.y-o.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(o=t[a],s=-s,u=t[i],l=-l),e.y<o.y||e.y>u.y)continue;if(e.y===o.y){if(e.x===o.x)return!0}else{var c=l*(e.x-o.x)-s*(e.y-o.y);if(0===c)return!0;if(c<0)continue;r=!r}}else{if(e.y!==o.y)continue;if(u.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=u.x)return!0}}return r}var i,a,o,u=cf.isClockWise,s=this.subPaths;if(0===s.length)return[];if(!0===t)return n(s);var l=[];if(1===s.length)return a=s[0],(o=new Nc).curves=a.curves,l.push(o),l;var c=!u(s[0].getPoints());c=e?!c:c;var f,h,d=[],p=[],v=[],m=0;p[m]=void 0,v[m]=[];for(var g=0,y=s.length;g<y;g++)i=u(f=(a=s[g]).getPoints()),(i=e?!i:i)?(!c&&p[m]&&m++,p[m]={s:new Nc,p:f},p[m].s.curves=a.curves,c&&m++,v[m]=[]):v[m].push({h:a,p:f[0]});if(!p[0])return n(s);if(p.length>1){for(var b=!1,x=0,_=0,w=p.length;_<w;_++)d[_]=[];for(var S=0,k=p.length;S<k;S++)for(var M=v[S],E=0;E<M.length;E++){for(var T=M[E],A=!0,C=0;C<p.length;C++)r(T.p,p[C].p)&&(S!==C&&x++,A?(A=!1,d[C].push(T)):b=!0);A&&d[S].push(T)}x>0&&!1===b&&(v=d)}for(var R=0,P=p.length;R<P;R++){o=p[R].s,l.push(o);for(var L=0,O=(h=v[R]).length;L<O;L++)o.holes.push(h[L].h)}return l}}]),e}(),vp=function(){function e(){S(this,e)}return M(e,null,[{key:"toHalfFloat",value:function(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=ar(e,-65504,65504),gp[0]=e;var t=yp[0],n=t>>23&511;return bp[n]+((8388607&t)>>xp[n])}},{key:"fromHalfFloat",value:function(e){var t=e>>10;return yp[0]=Sp[Mp[t]+(1023&e)]+kp[t],gp[0]}}]),e}(),mp=new ArrayBuffer(4),gp=new Float32Array(mp),yp=new Uint32Array(mp),bp=new Uint32Array(512),xp=new Uint32Array(512),_p=0;_p<256;++_p){var wp=_p-127;wp<-27?(bp[_p]=0,bp[256|_p]=32768,xp[_p]=24,xp[256|_p]=24):wp<-14?(bp[_p]=1024>>-wp-14,bp[256|_p]=1024>>-wp-14|32768,xp[_p]=-wp-1,xp[256|_p]=-wp-1):wp<=15?(bp[_p]=wp+15<<10,bp[256|_p]=wp+15<<10|32768,xp[_p]=13,xp[256|_p]=13):wp<128?(bp[_p]=31744,bp[256|_p]=64512,xp[_p]=24,xp[256|_p]=24):(bp[_p]=31744,bp[256|_p]=64512,xp[_p]=13,xp[256|_p]=13)}for(var Sp=new Uint32Array(2048),kp=new Uint32Array(64),Mp=new Uint32Array(64),Ep=1;Ep<1024;++Ep){for(var Tp=Ep<<13,Ap=0;0===(8388608&Tp);)Tp<<=1,Ap-=8388608;Tp&=-8388609,Ap+=947912704,Sp[Ep]=Tp|Ap}for(var Cp=1024;Cp<2048;++Cp)Sp[Cp]=939524096+(Cp-1024<<13);for(var Rp=1;Rp<31;++Rp)kp[Rp]=Rp<<23;kp[31]=1199570944,kp[32]=2147483648;for(var Pp=33;Pp<63;++Pp)kp[Pp]=2147483648+(Pp-32<<23);kp[63]=3347054592;for(var Lp=1;Lp<64;++Lp)32!==Lp&&(Mp[Lp]=1024);var Op=0,Ip=1,Dp=0,Np=1,zp=2;function Fp(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function Bp(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}var Up=function(e){E(n,e);var t=P(n);function n(e,r){return S(this,n),console.warn("THREE.PointCloud has been renamed to THREE.Points."),t.call(this,e,r)}return M(n)}(Yl),jp=function(e){E(n,e);var t=P(n);function n(e){return S(this,n),console.warn("THREE.Particle has been renamed to THREE.Sprite."),t.call(this,e)}return M(n)}(hl),Hp=function(e){E(n,e);var t=P(n);function n(e,r){return S(this,n),console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),t.call(this,e,r)}return M(n)}(Yl),Zp=function(e){E(n,e);var t=P(n);function n(e){return S(this,n),console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),t.call(this,e)}return M(n)}(Wl),Gp=function(e){E(n,e);var t=P(n);function n(e){return S(this,n),console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),t.call(this,e)}return M(n)}(Wl),Wp=function(e){E(n,e);var t=P(n);function n(e){return S(this,n),console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),t.call(this,e)}return M(n)}(Wl),Vp=function(e){E(n,e);var t=P(n);function n(e,r,i){return S(this,n),console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),t.call(this,e,r,i)}return M(n)}(Zr),qp=function(e){E(n,e);var t=P(n);function n(e,r){var i;return S(this,n),console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),(i=t.call(this,e,r)).setUsage(jn),i}return M(n)}(sa),Xp=function(e){E(n,e);var t=P(n);function n(e,r){return S(this,n),console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),t.call(this,e,r)}return M(n)}(la),$p=function(e){E(n,e);var t=P(n);function n(e,r){return S(this,n),console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),t.call(this,e,r)}return M(n)}(ca),Yp=function(e){E(n,e);var t=P(n);function n(e,r){return S(this,n),console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),t.call(this,e,r)}return M(n)}(fa),Kp=function(e){E(n,e);var t=P(n);function n(e,r){return S(this,n),console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),t.call(this,e,r)}return M(n)}(ha),Jp=function(e){E(n,e);var t=P(n);function n(e,r){return S(this,n),console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),t.call(this,e,r)}return M(n)}(da),Qp=function(e){E(n,e);var t=P(n);function n(e,r){return S(this,n),console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),t.call(this,e,r)}return M(n)}(pa),ev=function(e){E(n,e);var t=P(n);function n(e,r){return S(this,n),console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),t.call(this,e,r)}return M(n)}(va),tv=function(e){E(n,e);var t=P(n);function n(e,r){return S(this,n),console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),t.call(this,e,r)}return M(n)}(ga),nv=function(e){E(n,e);var t=P(n);function n(e,r){return S(this,n),console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),t.call(this,e,r)}return M(n)}(ya);nc.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(nc.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Sc.prototype.fromPoints=function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)};var rv=function(e){E(n,e);var t=P(n);function n(e){return S(this,n),console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),t.call(this,e)}return M(n)}(dp),iv=function(e){E(n,e);var t=P(n);function n(e,r){return S(this,n),console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),t.call(this,e,r)}return M(n)}(sp),av=function(e){E(n,e);var t=P(n);function n(e,r){return S(this,n),console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),t.call(this,new Dc(e.geometry),new Il({color:void 0!==r?r:16777215}))}return M(n)}(Zl);$d.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Hd.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")};var ov=function(e){E(n,e);var t=P(n);function n(e,r){return S(this,n),console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),t.call(this,new kf(e.geometry),new Il({color:void 0!==r?r:16777215}))}return M(n)}(Zl);nh.prototype.extractUrlBase=function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Ph.extractUrlBase(e)},nh.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}};var uv=function(e){E(n,e);var t=P(n);function n(e){return S(this,n),console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),t.call(this,e)}return M(n)}(ih),sv=function(e){E(n,e);var t=P(n);function n(e){return S(this,n),console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),t.call(this,e)}return M(n)}(lh);Od.prototype.center=function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},Od.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Od.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Od.prototype.size=function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)},Vr.prototype.center=function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Vr.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},Vr.prototype.isIntersectionBox=function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},Vr.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},Vr.prototype.size=function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)},Ri.prototype.toVector3=function(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")},fi.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},lo.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},Nd.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},dr.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},dr.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},dr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},dr.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},dr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},dr.prototype.getInverse=function(e){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},xi.prototype.extractPosition=function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},xi.prototype.flattenToArrayOffset=function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},xi.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Zr).setFromMatrixColumn(this,3)},xi.prototype.setRotationFromQuaternion=function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},xi.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},xi.prototype.multiplyVector3=function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},xi.prototype.multiplyVector4=function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},xi.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},xi.prototype.rotateAxis=function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},xi.prototype.crossVector=function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},xi.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},xi.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},xi.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},xi.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},xi.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},xi.prototype.applyToBufferAttribute=function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},xi.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},xi.prototype.makeFrustum=function(e,t,n,r,i,a){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,a)},xi.prototype.getInverse=function(e){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(e).invert()},oo.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},Hr.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Hr.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},bi.prototype.isIntersectionBox=function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},bi.prototype.isIntersectionPlane=function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},bi.prototype.isIntersectionSphere=function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},na.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},na.prototype.barycoordFromPoint=function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},na.prototype.midpoint=function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},na.prototypenormal=function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},na.prototype.plane=function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)},na.barycoordFromPoint=function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),na.getBarycoord(e,t,n,r,i)},na.normal=function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),na.getNormal(e,t,n,r)},Nc.prototype.extractAllPoints=function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},Nc.prototype.extrude=function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new df(this,e)},Nc.prototype.makeGeometry=function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new yf(this,e)},hr.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},hr.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},hr.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Zr.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},Zr.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},Zr.prototype.getPositionFromMatrix=function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},Zr.prototype.getScaleFromMatrix=function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},Zr.prototype.getColumnFromMatrix=function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},Zr.prototype.applyProjection=function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},Zr.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},Zr.prototype.distanceToManhattan=function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},Zr.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Dr.prototype.fromAttribute=function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},Dr.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Wi.prototype.getChildByName=function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},Wi.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},Wi.prototype.translate=function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},Wi.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},Wi.prototype.applyMatrix=function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(Wi.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Ga.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(Ga.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),hn},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),wl.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Ja.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(fh.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(sa.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===jn},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(jn)}}}),sa.prototype.setDynamic=function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?jn:Un),this},sa.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},sa.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Ea.prototype.addIndex=function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},Ea.prototype.addAttribute=function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new sa(arguments[1],arguments[2])))},Ea.prototype.addDrawCall=function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},Ea.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},Ea.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},Ea.prototype.removeAttribute=function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},Ea.prototype.applyMatrix=function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)},Object.defineProperties(Ea.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),$s.prototype.setDynamic=function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?jn:Un),this},$s.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},df.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},df.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},df.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},Xs.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},kd.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(ia.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new Cr}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===Q}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(Ya.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Gs.prototype.clearTarget=function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},Gs.prototype.animate=function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},Gs.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},Gs.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},Gs.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},Gs.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},Gs.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},Gs.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},Gs.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},Gs.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},Gs.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},Gs.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},Gs.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},Gs.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},Gs.prototype.enableScissorTest=function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},Gs.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},Gs.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},Gs.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},Gs.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},Gs.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},Gs.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},Gs.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},Gs.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},Gs.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},Gs.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(Gs.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?mn:vn}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}},gammaFactor:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaFactor has been removed."),2},set:function(){console.warn("THREE.WebGLRenderer: .gammaFactor has been removed.")}}}),Object.defineProperties(Ls.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}});var lv=function(e){E(n,e);var t=P(n);function n(e,r,i){return S(this,n),console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),t.call(this,e,i)}return M(n)}(no);function cv(){console.error("THREE.CanvasRenderer has been removed")}function fv(){console.error("THREE.JSONLoader has been removed.")}Object.defineProperties(Nr.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),td.prototype.load=function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new jh).load(e,(function(e){t.setBuffer(e)})),this},ud.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},eo.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)},eo.prototype.clear=function(e,t,n,r){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(e,t,n,r)},Rr.crossOrigin=void 0,Rr.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new ch;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},Rr.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new sh;i.setCrossOrigin(this.crossOrigin);var a=i.load(e,n,void 0,r);return t&&(a.mapping=t),a},Rr.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Rr.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var hv={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function dv(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}var pv=function(e){E(n,e);var t=P(n);function n(){return S(this,n),console.error("THREE.ParametricGeometry has been moved to /examples/jsm/geometries/ParametricGeometry.js"),t.call(this)}return M(n)}(Ea),vv=function(e){E(n,e);var t=P(n);function n(){return S(this,n),console.error("THREE.TextGeometry has been moved to /examples/jsm/geometries/TextGeometry.js"),t.call(this)}return M(n)}(Ea);function mv(){console.error("THREE.FontLoader has been moved to /examples/jsm/loaders/FontLoader.js")}function gv(){console.error("THREE.Font has been moved to /examples/jsm/loaders/FontLoader.js")}function yv(){console.error("THREE.ImmediateRenderObject has been removed.")}var bv=function(e){E(n,e);var t=P(n);function n(e,r,i){var a;return S(this,n),console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),(a=t.call(this,e,r,i)).samples=4,a}return M(n)}(Nr),xv=function(e){E(n,e);var t=P(n);function n(e,r,i,a){return S(this,n),console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),t.call(this,e,r,i,a)}return M(n)}(zr),_v=function(e){E(n,e);var t=P(n);function n(e,r,i,a){return S(this,n),console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),t.call(this,e,r,i,a)}return M(n)}(Br);"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:B}})),"undefined"!==typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=B);var wv=n(4585);function Sv(e){var t,n=new Set,r=function(e,r){var i="function"===typeof e?e(t):e;if(i!==t){var a=t;t=r?i:Object.assign({},t,i),n.forEach((function(e){return e(t,a)}))}},i=function(){return t},a={setState:r,getState:i,subscribe:function(e,r,a){return r||a?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.is;console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");var o=r(t);function u(){var n=r(t);if(!a(o,n)){var i=o;e(o=n,i)}}return n.add(u),function(){return n.delete(u)}}(e,r,a):(n.add(e),function(){return n.delete(e)})},destroy:function(){return n.clear()}};return t=e(r,i,a),a}var kv="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?r.useEffect:r.useLayoutEffect;function Mv(e){var t="function"===typeof e?Sv(e):e,n=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.getState,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.is,a=(0,r.useReducer)((function(e){return e+1}),0),o=(0,c.Z)(a,2),u=o[1],s=t.getState(),l=(0,r.useRef)(s),f=(0,r.useRef)(n),h=(0,r.useRef)(i),d=(0,r.useRef)(!1),p=(0,r.useRef)();void 0===p.current&&(p.current=n(s));var v=!1;(l.current!==s||f.current!==n||h.current!==i||d.current)&&(e=n(s),v=!i(p.current,e)),kv((function(){v&&(p.current=e),l.current=s,f.current=n,h.current=i,d.current=!1}));var m=(0,r.useRef)(s);kv((function(){var e=function(){try{var e=t.getState(),n=f.current(e);h.current(p.current,n)||(l.current=e,p.current=n,u())}catch(r){d.current=!0,u()}},n=t.subscribe(e);return t.getState()!==m.current&&e(),n}),[]);var g=v?e:p.current;return(0,r.useDebugValue)(g),g};return Object.assign(n,t),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");var e=[n,t];return{next:function(){var t=e.length<=0;return{value:e.shift(),done:t}}}},n}var Ev=n(258),Tv=n.n(Ev),Av=n(5296);function Cv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};if(e===t)return!0;if(!e||!t)return!1;var r=e.length;if(t.length!==r)return!1;for(var i=0;i<r;i++)if(!n(e[i],t[i]))return!1;return!0}var Rv=[];function Pv(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=p(Rv);try{for(a.s();!(n=a.n()).done;){var u=n.value;if(Cv(t,u.keys,u.equal)){if(r)return;if(Object.prototype.hasOwnProperty.call(u,"error"))throw u.error;if(Object.prototype.hasOwnProperty.call(u,"response"))return u.response;if(!r)throw u.promise}}}catch(l){a.e(l)}finally{a.f()}var s={keys:t,equal:i.equal,promise:e.apply(void 0,(0,o.Z)(t)).then((function(e){return s.response=e})).then((function(){i.lifespan&&i.lifespan>0&&setTimeout((function(){var e=Rv.indexOf(s);-1!==e&&Rv.splice(e,1)}),i.lifespan)})).catch((function(e){return s.error=e}))};if(Rv.push(s),!r)throw s.promise}var Lv=function(e,t,n){return Pv(e,t,!1,n)},Ov=["children","key","ref"],Iv=["children","key","ref"],Dv=["args","attach"],Nv=["args","children"],zv=["args","children"],Fv=["params"],Bv=["events","size"],Uv=function(e){return e&&e.isOrthographicCamera},jv="undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)?r.useEffect:r.useLayoutEffect;function Hv(e){var t=r.useRef(e);return jv((function(){t.current=e}),[e]),t}function Zv(e){var t=e.set;return jv((function(){return t(new Promise((function(){return null}))),function(){return t(!1)}}),[t]),null}var Gv=function(e){E(n,e);var t=P(n);function n(){var e;S(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).state={error:!1},e}return M(n,[{key:"componentDidCatch",value:function(e){this.props.set(e)}},{key:"render",value:function(){return this.state.error?null:this.props.children}}]),n}(r.Component);Gv.getDerivedStateFromError=function(){return{error:!0}};var Wv="__default";function Vv(e){return Array.isArray(e)?Math.min(Math.max(e[0],window.devicePixelRatio),e[1]):e}var qv=function(e){var t;return null==(t=e.__r3f)?void 0:t.root.getState()},Xv={obj:function(e){return e===Object(e)&&!Xv.arr(e)&&"function"!==typeof e},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},boo:function(e){return"boolean"===typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.arrays,i=void 0===r?"shallow":r,a=n.objects,o=void 0===a?"reference":a,u=n.strict,s=void 0===u||u;if(typeof e!==typeof t||!!e!==!!t)return!1;if(Xv.str(e)||Xv.num(e))return e===t;var l=Xv.obj(e);if(l&&"reference"===o)return e===t;var c,f=Xv.arr(e);if(f&&"reference"===i)return e===t;if((f||l)&&e===t)return!0;for(c in e)if(!(c in t))return!1;for(c in s?t:e)if(e[c]!==t[c])return!1;if(Xv.und(c)){if(f&&0===e.length&&0===t.length)return!0;if(l&&0===Object.keys(e).length&&0===Object.keys(t).length)return!0;if(e!==t)return!1}return!0}};function $v(e){var t={nodes:{},materials:{}};return e&&e.traverse((function(e){e.name&&(t.nodes[e.name]=e),e.material&&!t.materials[e.material.name]&&(t.materials[e.material.name]=e.material)})),t}function Yv(e,t){var n=e;return(null!=t&&t.primitive||!n.__r3f)&&(n.__r3f=l({type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null},t)),e}function Kv(e,t){var n=e;if(t.includes("-")){var r=t.split("-"),i=r.pop();return n=r.reduce((function(e,t){return e[t]}),e),{target:n,key:i}}return{target:n,key:t}}var Jv=/-\d+$/;function Qv(e,t,n){if(Xv.str(n)){if(Jv.test(n)){var r=Kv(e,n.replace(Jv,"")),i=r.target,a=r.key;Array.isArray(i[a])||(i[a]=[])}var o=Kv(e,n),u=o.target,s=o.key;t.__r3f.previousAttach=u[s],u[s]=t}else t.__r3f.previousAttach=n(e,t)}function em(e,t,n){var r,i;if(Xv.str(n)){var a=Kv(e,n);a.target[a.key]=t.__r3f.previousAttach}else null==(r=t.__r3f)||null==r.previousAttach||r.previousAttach(e,t);null==(i=t.__r3f)||delete i.previousAttach}function tm(e,t){t.children,t.key,t.ref;var n,r=h(t,Ov),i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=(i.children,i.key,i.ref,h(i,Iv)),o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=null!=(n=null==e?void 0:e.__r3f)?n:{},s=Object.entries(r),f=[];if(o)for(var d=Object.keys(a),p=0;p<d.length;p++)r.hasOwnProperty(d[p])||s.unshift([d[p],Wv+"remove"]);s.forEach((function(t){var n,r=(0,c.Z)(t,2),i=r[0],o=r[1];if((null==(n=e.__r3f)||!n.primitive||"object"!==i)&&!Xv.equ(o,a[i])){if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(i))return f.push([i,o,!0,[]]);var u=[];i.includes("-")&&(u=i.split("-")),f.push([i,o,!1,u])}}));var v=l({},r);return u.memoizedProps&&u.memoizedProps.args&&(v.args=u.memoizedProps.args),u.memoizedProps&&u.memoizedProps.attach&&(v.attach=u.memoizedProps.attach),{memoized:v,changes:f}}function nm(e,t){var n,r,i,a=null!=(n=null==e?void 0:e.__r3f)?n:{},u=a.root,s=null!=(r=null==u||null==u.getState?void 0:u.getState())?r:{},l=(i=t)&&i.memoized&&i.changes?t:tm(e,t),f=l.memoized,h=l.changes,d=a.eventCount;if(e.__r3f&&(e.__r3f.memoizedProps=f),h.forEach((function(t){var n,r=(0,c.Z)(t,4),i=r[0],u=r[1],l=r[2],h=r[3],d=e,p=d[i];if(h.length&&(p=h.reduce((function(e,t){return e[t]}),e),!p||!p.set)){var v=w(h.reverse()),m=v[0];d=v.slice(1).reverse().reduce((function(e,t){return e[t]}),e),i=m}if(u===Wv+"remove")if(p&&p.constructor)u=g(p.constructor,(0,o.Z)(null!=(n=f.args)?n:[]));else if(d.constructor){var y,b=g(d.constructor,(0,o.Z)(null!=(y=d.__r3f.memoizedProps.args)?y:[]));u=b[p],b.dispose&&b.dispose()}else u=0;if(l)u?a.handlers[i]=u:delete a.handlers[i],a.eventCount=Object.keys(a.handlers).length;else if(p&&p.set&&(p.copy||p instanceof Pi)){var x;if(Array.isArray(u))p.fromArray?p.fromArray(u):(x=p).set.apply(x,(0,o.Z)(u));else if(p.copy&&u&&u.constructor&&p.constructor.name===u.constructor.name)p.copy(u);else if(void 0!==u){var _=p instanceof Cr;!_&&p.setScalar?p.setScalar(u):p instanceof Pi&&u instanceof Pi?p.mask=u.mask:p.set(u),_r||s.linear||!_||p.convertSRGBToLinear()}}else d[i]=u,!s.linear&&d[i]instanceof Ir&&(d[i].encoding=mn);rm(e)})),a.parent&&s.internal&&e.raycast&&d!==a.eventCount){var p=s.internal.interaction.indexOf(e);p>-1&&s.internal.interaction.splice(p,1),a.eventCount&&s.internal.interaction.push(e)}return h.length&&e.parent&&im(e),e}function rm(e){var t,n,r=null==(t=e.__r3f)||null==(n=t.root)||null==n.getState?void 0:n.getState();r&&0===r.internal.frames&&r.invalidate()}function im(e){null==e.onUpdate||e.onUpdate(e)}function am(e,t){e.manual||(Uv(e)?(e.left=t.width/-2,e.right=t.width/2,e.top=t.height/2,e.bottom=t.height/-2):e.aspect=t.width/t.height,e.updateProjectionMatrix(),e.updateMatrixWorld())}function om(e){return(e.eventObject||e.object).uuid+"/"+e.index+e.instanceId}function um(e,t,n,r){var i=n.get(t);i&&(n.delete(t),0===n.size&&(e.delete(r),i.target.releasePointerCapture(r)))}function sm(e){var t=new Zr;function n(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){var n;return null==(n=e.__r3f)?void 0:n.handlers["onPointer"+t]}))}))}function r(t){var n=e.getState().internal;Array.from(n.hovered.values()).forEach((function(e){if(!t.length||!t.find((function(t){return t.object===e.object&&t.index===e.index&&t.instanceId===e.instanceId}))){var r=e.eventObject.__r3f,i=null==r?void 0:r.handlers;if(n.hovered.delete(om(e)),null!=r&&r.eventCount){var a=l(l({},e),{},{intersections:t||[]});null==i.onPointerOut||i.onPointerOut(a),null==i.onPointerLeave||i.onPointerLeave(a)}}}))}function i(e,t){t.forEach((function(t){var n;return null==(n=t.__r3f)||null==n.handlers.onPointerMissed?void 0:n.handlers.onPointerMissed(e)}))}return{handlePointer:function(a){switch(a){case"onPointerLeave":case"onPointerCancel":return function(){return r([])};case"onLostPointerCapture":return function(t){var n=e.getState().internal;"pointerId"in t&&!n.capturedMap.has(t.pointerId)&&(n.capturedMap.delete(t.pointerId),r([]))}}return function(u){var s=e.getState(),c=s.onPointerMissed,f=s.internal;f.lastEvent.current=u;var h="onPointerMove"===a,d="onClick"===a||"onContextMenu"===a||"onDoubleClick"===a,v=function(t,n){var r=e.getState(),i=new Set,a=[],o=n?n(r.internal.interaction):r.internal.interaction;o.forEach((function(e){var t=qv(e);t&&(t.raycaster.camera=void 0)})),r.previousRoot||null==r.events.compute||r.events.compute(t,r);var u=o.flatMap((function(e){var n,r=qv(e);return r&&r.events.enabled&&null!==r.raycaster.camera?(void 0===r.raycaster.camera&&(null==r.events.compute||r.events.compute(t,r,null==(n=r.previousRoot)?void 0:n.getState()),void 0===r.raycaster.camera&&(r.raycaster.camera=null)),r.raycaster.camera?r.raycaster.intersectObject(e,!0):[]):[]})).sort((function(e,t){var n=qv(e.object),r=qv(t.object);return n&&r?r.events.priority-n.events.priority||e.distance-t.distance:0})).filter((function(e){var t=om(e);return!i.has(t)&&(i.add(t),!0)}));r.events.filter&&(u=r.events.filter(u,r));var s,c=p(u);try{for(c.s();!(s=c.n()).done;)for(var f=s.value,h=f.object;h;){var d;null!=(d=h.__r3f)&&d.eventCount&&a.push(l(l({},f),{},{eventObject:h})),h=h.parent}}catch(y){c.e(y)}finally{c.f()}if("pointerId"in t&&r.internal.capturedMap.has(t.pointerId)){var v,m=p(r.internal.capturedMap.get(t.pointerId).values());try{for(m.s();!(v=m.n()).done;){var g=v.value;a.push(g.intersection)}}catch(y){m.e(y)}finally{m.f()}}return a}(u,h?n:void 0),m=d?function(t){var n=e.getState().internal,r=t.offsetX-n.initialClick[0],i=t.offsetY-n.initialClick[1];return Math.round(Math.sqrt(r*r+i*i))}(u):0;"onPointerDown"===a&&(f.initialClick=[u.offsetX,u.offsetY],f.initialHits=v.map((function(e){return e.eventObject}))),d&&!v.length&&m<=2&&(i(u,f.interaction),c&&c(u)),h&&r(v),function(n,i,a,u){var s=e.getState(),c=s.raycaster,f=s.pointer,h=s.camera,d=s.internal;n.length&&function(){var e,s=t.set(f.x,f.y,0).unproject(h),v={stopped:!1},m=p(n);try{var g=function(){var t=e.value,p=function(e){var n,r;return null!=(n=null==(r=d.capturedMap.get(e))?void 0:r.has(t.eventObject))&&n},m=function(e){var n={intersection:t,target:i.target};d.capturedMap.has(e)?d.capturedMap.get(e).set(t.eventObject,n):d.capturedMap.set(e,new Map([[t.eventObject,n]])),i.target.setPointerCapture(e)},g=function(e){var n=d.capturedMap.get(e);n&&um(d.capturedMap,t.eventObject,n,e)},y={};for(var b in i){var x=i[b];"function"!==typeof x&&(y[b]=x)}var _=l(l(l({},t),y),{},{pointer:f,intersections:n,stopped:v.stopped,delta:a,unprojectedPoint:s,ray:c.ray,camera:h,stopPropagation:function(){var e="pointerId"in i&&d.capturedMap.get(i.pointerId);if((!e||e.has(t.eventObject))&&(_.stopped=v.stopped=!0,d.hovered.size&&Array.from(d.hovered.values()).find((function(e){return e.eventObject===t.eventObject})))){var a=n.slice(0,n.indexOf(t));r([].concat((0,o.Z)(a),[t]))}},target:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},currentTarget:{hasPointerCapture:p,setPointerCapture:m,releasePointerCapture:g},nativeEvent:i});if(u(_),!0===v.stopped)return"break"};for(m.s();!(e=m.n()).done&&"break"!==g(););}catch(y){m.e(y)}finally{m.f()}}()}(v,u,m,(function(e){var t=e.eventObject,n=t.__r3f,r=null==n?void 0:n.handlers;if(null!=n&&n.eventCount)if(h){if(r.onPointerOver||r.onPointerEnter||r.onPointerOut||r.onPointerLeave){var o=om(e),s=f.hovered.get(o);s?s.stopped&&e.stopPropagation():(f.hovered.set(o,e),null==r.onPointerOver||r.onPointerOver(e),null==r.onPointerEnter||r.onPointerEnter(e))}null==r.onPointerMove||r.onPointerMove(e)}else{var l=r[a];l?d&&!f.initialHits.includes(t)||(i(u,f.interaction.filter((function(e){return!f.initialHits.includes(e)}))),l(e)):d&&f.initialHits.includes(t)&&i(u,f.interaction.filter((function(e){return!f.initialHits.includes(e)})))}}))}}}}var lm={};var cm,fm=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],hm=function(e){return!(null==e||!e.render)},dm=r.createContext(null);var pm,vm,mm=[],gm=[],ym=[];function bm(e,t){for(cm=0;cm<e.length;cm++)e[cm](t)}function xm(e,t,n){var r=t.clock.getDelta();for("never"===t.frameloop&&"number"===typeof e&&(r=e-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=e),pm=t.internal.subscribers,cm=0;cm<pm.length;cm++)(vm=pm[cm]).ref.current(vm.store.getState(),r,n);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),"always"===t.frameloop?1:t.internal.frames}function _m(){var e=r.useContext(dm);if(!e)throw"R3F hooks can only be used within the Canvas component!";return e}function wm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e},t=arguments.length>1?arguments[1]:void 0;return _m()(e,t)}function Sm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=_m(),r=n.getState().internal.subscribe,i=Hv(e);return jv((function(){return r(i,t,n)}),[t,r,n]),null}function km(e,t){return function(n){var r=new n;e&&e(r);for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];return Promise.all(a.map((function(e){return new Promise((function(n,i){return r.load(e,(function(e){e.scene&&Object.assign(e,$v(e.scene)),n(e)}),t,(function(t){return i("Could not load ".concat(e,": ").concat(t.message))}))}))})))}}function Mm(e,t,n,r){var i=Array.isArray(t)?t:[t],a=Lv(km(n,r),[e].concat((0,o.Z)(i)),{equal:Xv.equ});return Array.isArray(t)?a:a[0]}Mm.preload=function(e,t,n){var r=Array.isArray(t)?t:[t];return function(e,t,n){Pv(e,t,!0,n)}(km(n),[e].concat((0,o.Z)(r)))},Mm.clear=function(e,t){var n=Array.isArray(t)?t:[t];return function(e){if(void 0===e||0===e.length)Rv.splice(0,Rv.length);else{var t=Rv.find((function(t){return Cv(e,t.keys,t.equal)}));if(t){var n=Rv.indexOf(t);-1!==n&&Rv.splice(n,1)}}}([e].concat((0,o.Z)(n)))};var Em=new Map,Tm=function(e){var t,n,r,i=!1;function a(o){if(n=requestAnimationFrame(a),i=!0,t=0,mm.length&&bm(mm,o),e.forEach((function(e){var n;!(r=e.store.getState()).internal.active||!("always"===r.frameloop||r.internal.frames>0)||null!=(n=r.gl.xr)&&n.isPresenting||(t+=xm(o,r))})),gm.length&&bm(gm,o),0===t)return ym.length&&bm(ym,o),i=!1,cancelAnimationFrame(n)}return{loop:a,invalidate:function t(n){var r;if(!n)return e.forEach((function(e){return t(e.store.getState())}));null!=(r=n.gl.xr)&&r.isPresenting||!n.internal.active||"never"===n.frameloop||(n.internal.frames=Math.min(60,n.internal.frames+1),i||(i=!0,requestAnimationFrame(a)))},advance:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;n&&bm(mm,t),r?xm(t,r,i):e.forEach((function(e){return xm(t,e.store.getState())})),n&&bm(gm,t)}}}(Em),Am=Tm.invalidate,Cm=Tm.advance,Rm=function(e,t){function n(e,t,n){var r,i=t.args,a=void 0===i?[]:i,u=t.attach,s=h(t,Dv),l="".concat(e[0].toUpperCase()).concat(e.slice(1));if(void 0===u&&(l.endsWith("Geometry")?u="geometry":l.endsWith("Material")&&(u="material")),"primitive"===e){if(void 0===s.object)throw"Primitives without 'object' are invalid!";r=Yv(s.object,{type:e,root:n,attach:u,primitive:!0})}else{var c=lm[l];if(!c)throw"".concat(l," is not part of the THREE namespace! Did you forget to extend? See: https://github.com/pmndrs/react-three-fiber/blob/master/markdown/api.md#using-3rd-party-objects-declaratively");if(!Array.isArray(a))throw"The args prop must be an array!";r=Yv(g(c,(0,o.Z)(a)),{type:e,root:n,attach:u,memoizedProps:{args:a}})}return"inject"!==l&&nm(r,s),r}function r(e,t){var n,r,i=!1;t&&(null!=(n=t.__r3f)&&n.attach?Qv(e,t,t.__r3f.attach):t.isObject3D&&e.isObject3D&&(e.add(t),i=!0),i||null==(r=e.__r3f)||r.objects.push(t),t.__r3f||Yv(t,{}),t.__r3f.parent=e,im(t),rm(t))}function i(e,t,n){var r=!1;if(t){var i,a;if(null!=(i=t.__r3f)&&i.attach)Qv(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});var u=e.children.filter((function(e){return e!==t})),s=u.indexOf(n);e.children=[].concat((0,o.Z)(u.slice(0,s)),[t],(0,o.Z)(u.slice(s))),r=!0}r||null==(a=e.__r3f)||a.objects.push(t),t.__r3f||Yv(t,{}),t.__r3f.parent=e,im(t),rm(t)}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e&&(0,o.Z)(e).forEach((function(e){return u(t,e,n)}))}function u(e,t,n){if(t){var r,i,o;if(t.__r3f&&(t.__r3f.parent=null),null!=(r=e.__r3f)&&r.objects&&(e.__r3f.objects=e.__r3f.objects.filter((function(e){return e!==t}))),null!=(i=t.__r3f)&&i.attach)em(e,t,t.__r3f.attach);else if(t.isObject3D&&e.isObject3D){var u;e.remove(t),null!=(u=t.__r3f)&&u.root&&function(e,t){var n=e.getState(),r=(n.events,n.internal);r.interaction=r.interaction.filter((function(e){return e!==t})),r.initialHits=r.initialHits.filter((function(e){return e!==t})),r.hovered.forEach((function(e,n){e.eventObject!==t&&e.object!==t||r.hovered.delete(n)})),r.capturedMap.forEach((function(e,n){um(r.capturedMap,t,e,n)}))}(t.__r3f.root,t)}var s,l=null==(o=t.__r3f)?void 0:o.primitive,c=void 0===n?null!==t.dispose&&!l:n;if(!l)a(null==(s=t.__r3f)?void 0:s.objects,t,c),a(t.children,t,c);t.__r3f&&(delete t.__r3f.root,delete t.__r3f.objects,delete t.__r3f.handlers,delete t.__r3f.memoizedProps,l||delete t.__r3f),c&&t.dispose&&"Scene"!==t.type&&(0,Av.unstable_scheduleCallback)(Av.unstable_IdlePriority,(function(){try{t.dispose()}catch(e){}})),rm(e)}}var s=Tv()({createInstance:n,removeChild:u,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMicrotask:!0,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,noTimeout:-1,appendChildToContainer:function(e,t){var n=e.getState().scene;n.__r3f.root=e,r(n,t)},removeChildFromContainer:function(e,t){return u(e.getState().scene,t)},insertInContainerBefore:function(e,t,n){return i(e.getState().scene,t,n)},getRootHostContext:function(){return null},getChildHostContext:function(e){return e},finalizeInitialChildren:function(e){var t;return!!(null!=(t=null==e?void 0:e.__r3f)?t:{}).handlers},prepareUpdate:function(e,t,n,r){if(e.__r3f.primitive&&r.object&&r.object!==e)return[!0];var i=r.args,a=void 0===i?[]:i,o=(r.children,h(r,Nv)),u=n.args,s=void 0===u?[]:u,l=(n.children,h(n,zv));if(!Array.isArray(a))throw"The args prop must be an array!";if(a.some((function(e,t){return e!==s[t]})))return[!0];var c=tm(e,o,l,!0);return c.changes.length?[!1,c]:null},commitUpdate:function(e,t,i,a,o,s){var l=(0,c.Z)(t,2),f=l[0],h=l[1];f?function(e,t,i,a){var o,s,l=null==(o=e.__r3f)?void 0:o.parent;if(l){var c=n(t,i,null==(s=e.__r3f)?void 0:s.root);"primitive"!==t&&e.children&&(e.children.forEach((function(e){return r(c,e)})),e.children=[]),e.__r3f.objects.forEach((function(e){return r(c,e)})),e.__r3f.objects=[],u(l,e),r(l,c),c.raycast&&c.__r3f.eventCount&&c.__r3f.root.getState().internal.interaction.push(c),[a,a.alternate].forEach((function(e){null!==e&&(e.stateNode=c,e.ref&&("function"===typeof e.ref?e.ref(c):e.ref.current=c))}))}}(e,i,o,s):nm(e,h)},commitMount:function(e,t,n,r){var i,a=null!=(i=null==e?void 0:e.__r3f)?i:{};e.raycast&&a.handlers&&a.eventCount&&e.__r3f.root.getState().internal.interaction.push(e)},getPublicInstance:function(e){return e},shouldDeprioritizeSubtree:function(){return!1},prepareForCommit:function(){return null},preparePortalMount:function(e){return Yv(e.getState().scene)},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1},clearContainer:function(){return!1},detachDeletedInstance:function(){},createTextInstance:function(){},hideInstance:function(e){var t,n=null!=(t=null==e?void 0:e.__r3f)?t:{},r=n.attach,i=n.parent;r&&i&&em(i,e,r),e.isObject3D&&(e.visible=!1),rm(e)},unhideInstance:function(e,t){var n,r=null!=(n=null==e?void 0:e.__r3f)?n:{},i=r.attach,a=r.parent;i&&a&&Qv(a,e,i),(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0),rm(e)},hideTextInstance:function(){throw new Error("Text is not allowed in the R3F tree.")},getCurrentEventPriority:function(){return t?t():wv.DefaultEventPriority},now:"undefined"!==typeof performance&&Xv.fun(performance.now)?performance.now:Xv.fun(Date.now)?Date.now:void 0,scheduleTimeout:Xv.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Xv.fun(clearTimeout)?clearTimeout:void 0,setTimeout:Xv.fun(setTimeout)?setTimeout:void 0,clearTimeout:Xv.fun(clearTimeout)?clearTimeout:void 0});return{reconciler:s,applyProps:nm}}(0,(function(){var e,t;switch(null==(e=window)||null==(t=e.event)?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return wv.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return wv.ContinuousEventPriority;default:return wv.DefaultEventPriority}})),Pm=Rm.reconciler,Lm=Rm.applyProps,Om={objects:"shallow",strict:!1},Im=function(e,t){var n="function"===typeof e?e(t):e;return hm(n)?n:new Gs(l({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0},e))};function Dm(e){var t=Em.get(e),n=null==t?void 0:t.fiber,i=null==t?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");var a,u=i||function(e,t){var n=Mv((function(n,i){var a=new Zr,u=new Zr,s=new Zr;function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i().camera,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i().size,r=n.width,l=n.height,c=r/l;t instanceof Zr?s.copy(t):s.set.apply(s,(0,o.Z)(t));var f=e.getWorldPosition(a).distanceTo(s);if(Uv(e))return{width:r/e.zoom,height:l/e.zoom,factor:1,distance:f,aspect:c};var h=e.fov*Math.PI/180,d=2*Math.tan(h/2)*f,p=d*(r/l);return{width:p,height:d,factor:r/p,distance:f,aspect:c}}var f=void 0,h=function(e){return n((function(t){return{performance:l(l({},t.performance),{},{current:e})}}))},d=new hr;return{set:n,get:i,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:function(){return e(i())},advance:function(e,n){return t(e,n,i())},legacy:!1,linear:!1,flat:!1,scene:Yv(new Xs),controls:null,clock:new Xh,pointer:d,mouse:d,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:function(){var e=i();f&&clearTimeout(f),e.performance.current!==e.performance.min&&h(e.performance.min),f=setTimeout((function(){return h(i().performance.max)}),e.performance.debounce)}},size:{width:0,height:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,aspect:0,distance:0,factor:0,getCurrentViewport:c},setEvents:function(e){return n((function(t){return l(l({},t),{},{events:l(l({},t.events),e)})}))},setSize:function(e,t){var r=i().camera,a={width:e,height:t};n((function(e){return{size:a,viewport:l(l({},e.viewport),c(r,u,a))}}))},setDpr:function(e){return n((function(t){var n=Vv(e);return{viewport:l(l({},t.viewport),{},{dpr:n,initialDpr:t.viewport.initialDpr||n})}}))},setFrameloop:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"always",t=i().clock;t.stop(),t.elapsedTime=0,"never"!==e&&(t.start(),t.elapsedTime=0),n((function(){return{frameloop:e}}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:r.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:function(e,t,r){return n((function(n){var i=n.internal;return{internal:l(l({},i),{},{priority:i.priority+(t>0?1:0),subscribers:[].concat((0,o.Z)(i.subscribers),[{ref:e,priority:t,store:r}]).sort((function(e,t){return e.priority-t.priority}))})}})),function(){n((function(n){var r=n.internal;return{internal:l(l({},r),{},{priority:r.priority-(t>0?1:0),subscribers:r.subscribers.filter((function(t){return t.ref!==e}))})}}))}}}}})),i=n.getState(),a=i.size,u=i.viewport.dpr;return n.subscribe((function(){var e=n.getState(),t=e.camera,r=e.size,i=e.viewport,o=e.gl;r===a&&i.dpr===u||(am(t,r),o.setPixelRatio(i.dpr),o.setSize(r.width,r.height),a=r,u=i.dpr)})),n.subscribe((function(t){return e(t)})),n}(Am,Cm),s=n||Pm.createContainer(u,wv.ConcurrentRoot,!1,null);t||Em.set(e,{fiber:s,store:u});var c=!1;return{configure:function(){var t,n,r,i,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=o.gl,f=o.size,d=o.events,p=o.onCreated,v=o.shadows,m=void 0!==v&&v,g=o.linear,y=void 0!==g&&g,b=o.flat,x=void 0!==b&&b,_=o.legacy,w=void 0!==_&&_,S=o.orthographic,k=void 0!==S&&S,M=o.frameloop,E=void 0===M?"always":M,T=o.dpr,A=void 0===T?[1,2]:T,C=o.performance,R=o.raycaster,P=o.camera,L=o.onPointerMissed,O=u.getState(),I=O.gl;O.gl||O.set({gl:I=Im(s,e)});var D=O.raycaster;D||O.set({raycaster:D=new Td});var N=R||{},z=N.params,F=h(N,Fv);if(Xv.equ(F,D,Om)||Lm(D,l({},F)),Xv.equ(z,D.params,Om)||Lm(D,{params:l(l({},D.params),z)}),!O.camera){var B=P instanceof Ka,U=B?P:k?new So(0,0,0,0,.1,1e3):new Ja(75,0,.1,1e3);B||(U.position.z=5,P&&Lm(U,P),null!=P&&P.rotation||U.lookAt(0,0,0)),O.set({camera:U})}if(!O.xr){var j=function(e,t){var n=u.getState();"never"!==n.frameloop&&Cm(e,!0,n,t)},H=function(){var e=u.getState().gl;e.xr.enabled=e.xr.isPresenting,e.xr.setAnimationLoop(e.xr.isPresenting?j:null)},Z={connect:function(){var e=u.getState().gl;e.xr.addEventListener("sessionstart",H),e.xr.addEventListener("sessionend",H)},disconnect:function(){var e=u.getState().gl;e.xr.removeEventListener("sessionstart",H),e.xr.removeEventListener("sessionend",H)}};I.xr&&Z.connect(),O.set({xr:Z})}if(I.shadowMap){var G=Xv.boo(m);if(G&&I.shadowMap.enabled!==m||!Xv.equ(m,I.shadowMap,Om)){var W=I.shadowMap.enabled;I.shadowMap.enabled=!!m,G?I.shadowMap.type=X:Object.assign(I.shadowMap,m),W!==I.shadowMap.enabled&&(I.shadowMap.needsUpdate=!0)}}_r&&(_r.legacyMode=w);var V=y?vn:mn,q=x?Ie:Fe;return I.outputEncoding!==V&&(I.outputEncoding=V),I.toneMapping!==q&&(I.toneMapping=q),O.legacy!==w&&O.set((function(){return{legacy:w}})),O.linear!==y&&O.set((function(){return{linear:y}})),O.flat!==x&&O.set((function(){return{flat:x}})),!s||Xv.fun(s)||hm(s)||Xv.equ(s,I,Om)||Lm(I,s),d&&!O.events.handlers&&O.set({events:d(u)}),A&&O.viewport.dpr!==Vv(A)&&O.setDpr(A),f=f||{width:null!=(t=null==(n=e.parentElement)?void 0:n.clientWidth)?t:0,height:null!=(r=null==(i=e.parentElement)?void 0:i.clientHeight)?r:0},Xv.equ(f,O.size,Om)||O.setSize(f.width,f.height),O.frameloop!==E&&O.setFrameloop(E),O.onPointerMissed||O.set({onPointerMissed:L}),C&&!Xv.equ(C,O.performance,Om)&&O.set((function(e){return{performance:l(l({},e.performance),C)}})),a=p,c=!0,this},render:function(t){return c||this.configure(),Pm.updateContainer(r.createElement(Nm,{store:u,children:t,onCreated:a,rootElement:e}),s,null,(function(){})),u},unmount:function(){zm(e)}}}function Nm(e){var t=e.store,n=e.children,i=e.onCreated,a=e.rootElement;return jv((function(){var e=t.getState();e.set((function(e){return{internal:l(l({},e.internal),{},{active:!0})}})),i&&i(e),t.getState().events.connected||null==e.events.connect||e.events.connect(a)}),[]),r.createElement(dm.Provider,{value:t},n)}function zm(e,t){var n=Em.get(e),r=null==n?void 0:n.fiber;if(r){var i=null==n?void 0:n.store.getState();i&&(i.internal.active=!1),Pm.updateContainer(null,r,null,(function(){i&&setTimeout((function(){try{var n,r,a,o;null==i.events.disconnect||i.events.disconnect(),null==(n=i.gl)||null==(r=n.renderLists)||null==r.dispose||r.dispose(),null==(a=i.gl)||null==a.forceContextLoss||a.forceContextLoss(),null!=(o=i.gl)&&o.xr&&i.xr.disconnect(),function(e){for(var t in e.dispose&&"Scene"!==e.type&&e.dispose(),e)null==t.dispose||t.dispose(),delete e[t]}(i),Em.delete(e),t&&t(e)}catch(u){}}),500)}))}}function Fm(e,t,n){return r.createElement(Bm,{key:t.uuid,children:e,container:t,state:n})}function Bm(e){var t=e.state,n=void 0===t?{}:t,i=e.children,a=e.container,o=n.events,u=n.size,s=h(n,Bv),f=_m(),d=r.useState((function(){return new Td})),p=(0,c.Z)(d,1)[0],v=r.useState((function(){return new hr})),m=(0,c.Z)(v,1)[0],g=r.useCallback((function(e,t){var n=l({},e);Object.keys(e).forEach((function(r){(fm.includes(r)||e[r]!==t[r])&&delete n[r]}));var r=void 0;if(t&&u){var i=t.camera;r=e.viewport.getCurrentViewport(i,new Zr,u),i!==e.camera&&am(i,u)}return l(l({},n),{},{scene:a,raycaster:p,pointer:m,mouse:m,previousRoot:f,events:l(l(l({},e.events),null==t?void 0:t.events),o),size:l(l({},e.size),u),viewport:l(l({},e.viewport),r)},s)}),[n]),y=r.useState((function(){var e=f.getState(),t=Mv((function(t,n){return l(l(l({},e),{},{scene:a,raycaster:p,pointer:m,mouse:m,previousRoot:f,events:l(l({},e.events),o),size:l(l({},e.size),u)},s),{},{set:t,get:n,setEvents:function(e){return t((function(t){return l(l({},t),{},{events:l(l({},t.events),e)})}))}})}));return t})),b=(0,c.Z)(y,1)[0];return r.useEffect((function(){var e=f.subscribe((function(e){return b.setState((function(t){return g(e,t)}))}));return function(){e(),b.destroy()}}),[]),r.useEffect((function(){b.setState((function(e){return g(f.getState(),e)}))}),[g]),r.createElement(r.Fragment,null,Pm.createPortal(r.createElement(dm.Provider,{value:b},i),b,null))}Pm.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:"18.0.0"});r.unstable_act;function Um(){return Um=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Um.apply(this,arguments)}var jm=function(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}},Hm=n(7494),Zm=n.n(Hm);function Gm(e){var t=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,n=t.debounce,i=t.scroll,a=t.polyfill,o=t.offsetSize,u=a||("undefined"===typeof window?M((function e(){S(this,e)})):window.ResizeObserver);if(!u)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var s=(0,r.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=(0,c.Z)(s,2),f=l[0],h=l[1],d=(0,r.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:f}),p=n?"number"===typeof n?n:n.scroll:null,v=n?"number"===typeof n?n:n.resize:null,m=(0,r.useRef)(!1);(0,r.useEffect)((function(){return m.current=!0,function(){m.current=!1}}));var g=(0,r.useMemo)((function(){var e=function(){if(d.current.element){var e=d.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};d.current.element instanceof HTMLElement&&o&&(t.height=d.current.element.offsetHeight,t.width=d.current.element.offsetWidth),Object.freeze(t),m.current&&!qm(d.current.lastBounds,t)&&h(d.current.lastBounds=t)}};return[e,v?Zm()(e,v):e,p?Zm()(e,p):e]}),[h,o,p,v]),y=(0,c.Z)(g,3),b=y[0],x=y[1],_=y[2];function w(){d.current.scrollContainers&&(d.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",_,!0)})),d.current.scrollContainers=null),d.current.resizeObserver&&(d.current.resizeObserver.disconnect(),d.current.resizeObserver=null)}function k(){d.current.element&&(d.current.resizeObserver=new u(_),d.current.resizeObserver.observe(d.current.element),i&&d.current.scrollContainers&&d.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",_,{capture:!0,passive:!0})})))}var E,T,A;return E=_,T=Boolean(i),(0,r.useEffect)((function(){if(T){var e=E;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",e,!0)}}}),[E,T]),A=x,(0,r.useEffect)((function(){var e=A;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[A]),(0,r.useEffect)((function(){w(),k()}),[i,_,x]),(0,r.useEffect)((function(){return w}),[]),[function(e){e&&e!==d.current.element&&(w(),d.current.element=e,d.current.scrollContainers=Wm(e),k())},f,b]}function Wm(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,(0,o.Z)(Wm(e.parentElement)))}var Vm=["x","y","top","bottom","left","right","width","height"],qm=function(e,t){return Vm.every((function(n){return e[n]===t[n]}))},Xm=["children","fallback","resize","style","gl","events","shadows","linear","flat","legacy","orthographic","frameloop","dpr","performance","raycaster","camera","onPointerMissed","onCreated"],$m={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Ym(e){var t=sm(e).handlePointer;return{priority:1,enabled:!0,compute:function(e,t,n){t.pointer.set(e.offsetX/t.size.width*2-1,-e.offsetY/t.size.height*2+1),t.raycaster.setFromCamera(t.pointer,t.camera)},connected:void 0,handlers:Object.keys($m).reduce((function(e,n){return l(l({},e),{},(0,u.Z)({},n,t(n)))}),{}),connect:function(t){var n,r=e.getState(),i=r.set,a=r.events;null==a.disconnect||a.disconnect(),i((function(e){return{events:l(l({},e.events),{},{connected:t})}})),Object.entries(null!=(n=null==a?void 0:a.handlers)?n:[]).forEach((function(e){var n=(0,c.Z)(e,2),r=n[0],i=n[1],a=(0,c.Z)($m[r],2),o=a[0],u=a[1];t.addEventListener(o,i,{passive:u})}))},disconnect:function(){var t,n=e.getState(),r=n.set,i=n.events;i.connected&&(Object.entries(null!=(t=i.handlers)?t:[]).forEach((function(e){var t=(0,c.Z)(e,2),n=t[0],r=t[1];if(i&&i.connected instanceof HTMLElement){var a=(0,c.Z)($m[n],1)[0];i.connected.removeEventListener(a,r)}})),r((function(e){return{events:l(l({},e.events),{},{connected:void 0})}})))}}}var Km=r.forwardRef((function(t,n){var i=t.children,a=t.fallback,o=t.resize,u=t.style,s=t.gl,f=t.events,d=void 0===f?Ym:f,p=t.shadows,v=t.linear,m=t.flat,g=t.legacy,y=t.orthographic,b=t.frameloop,x=t.dpr,_=t.performance,w=t.raycaster,S=t.camera,k=t.onPointerMissed,M=t.onCreated,E=h(t,Xm);r.useMemo((function(){return t=e,void(lm=l(l({},lm),t));var t}),[]);var T=Gm(l({scroll:!0,debounce:{scroll:50,resize:0}},o)),A=(0,c.Z)(T,2),C=A[0],R=A[1],P=R.width,L=R.height,O=r.useRef(null),I=r.useRef(null),D=r.useState(null),N=(0,c.Z)(D,2),z=N[0],F=N[1],B=Hv(k),U=r.useState(!1),j=(0,c.Z)(U,2),H=j[0],Z=j[1],G=r.useState(!1),W=(0,c.Z)(G,2),V=W[0],q=W[1];if(H)throw H;if(V)throw V;var X=r.useRef(null);return P>0&&L>0&&z&&(X.current||(X.current=Dm(z)),X.current.configure({gl:s,events:d,shadows:p,linear:v,flat:m,legacy:g,orthographic:y,frameloop:b,dpr:x,performance:_,raycaster:w,camera:S,size:{width:P,height:L},onPointerMissed:function(){return null==B.current?void 0:B.current.apply(B,arguments)},onCreated:function(e){null==e.events.connect||e.events.connect(I.current),null==M||M(e)}}),X.current.render(r.createElement(Gv,{set:q},r.createElement(r.Suspense,{fallback:r.createElement(Zv,{set:Z})},i)))),jv((function(){F(O.current)}),[]),r.useEffect((function(){if(z)return function(){return zm(z)}}),[z]),r.createElement("div",Um({ref:jm([I,C]),style:l({position:"relative",width:"100%",height:"100%",overflow:"hidden"},u)},E),r.createElement("canvas",{ref:jm([O,n]),style:{display:"block"}},a))})),Jm=n(7462),Qm=["makeDefault"],eg=r.forwardRef((function(e,t){var n=e.makeDefault,i=h(e,Qm),a=wm((function(e){return e.set})),o=wm((function(e){return e.camera})),u=wm((function(e){return e.size})),s=r.useRef();return r.useLayoutEffect((function(){s.current&&!i.manual&&s.current.updateProjectionMatrix()}),[u,i]),r.useLayoutEffect((function(){if(n&&s.current){var e=o;return a((function(){return{camera:s.current}})),function(){return a((function(){return{camera:e}}))}}}),[s,n,a]),r.createElement("orthographicCamera",(0,Jm.Z)({left:u.width/-2,right:u.width/2,top:u.height/2,bottom:u.height/-2,ref:jm([s,t])},i))})),tg=["children","eps","style","className","prepend","center","fullscreen","portal","distanceFactor","sprite","transform","occlude","onOcclude","zIndexRange","calculatePosition","as","wrapperClass","pointerEvents"],ng=new Zr,rg=new Zr,ig=new Zr;function ag(e,t,n){var r=ng.setFromMatrixPosition(e.matrixWorld);r.project(t);var i=n.width/2,a=n.height/2;return[r.x*i+i,-r.y*a+a]}var og=function(e){return Math.abs(e)<1e-10?0:e};function ug(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="matrix3d(",i=0;16!==i;i++)r+=og(t[i]*e.elements[i])+(15!==i?",":")");return n+r}var sg,lg=(sg=[1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1],function(e){return ug(e,sg)}),cg=function(e,t){return ug(e,function(e){return[1/e,1/e,1/e,1,-1/e,-1/e,-1/e,-1,1/e,1/e,1/e,1,1,1,1,1]}(t),"translate(-50%,-50%)")},fg=r.forwardRef((function(e,t){var n,i=e.children,o=e.eps,u=void 0===o?.001:o,s=e.style,f=e.className,d=e.prepend,p=e.center,v=e.fullscreen,m=e.portal,g=e.distanceFactor,y=e.sprite,b=void 0!==y&&y,x=e.transform,_=void 0!==x&&x,w=e.occlude,S=e.onOcclude,k=e.zIndexRange,M=void 0===k?[16777271,0]:k,E=e.calculatePosition,T=void 0===E?ag:E,A=e.as,C=void 0===A?"div":A,R=e.wrapperClass,P=e.pointerEvents,L=void 0===P?"auto":P,O=h(e,tg),I=wm((function(e){return e.gl})),D=wm((function(e){return e.camera})),N=wm((function(e){return e.scene})),z=wm((function(e){return e.size})),F=wm((function(e){return e.raycaster})),B=r.useState((function(){return document.createElement(C)})),U=(0,c.Z)(B,1)[0],j=r.useMemo((function(){return a.createRoot(U)}),[U]),H=r.useRef(null),Z=r.useRef(0),G=r.useRef([0,0]),W=r.useRef(null),V=r.useRef(null),q=null!==(n=null==m?void 0:m.current)&&void 0!==n?n:I.domElement.parentNode;r.useEffect((function(){if(H.current){if(N.updateMatrixWorld(),_)U.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{var e=T(H.current,D,z);U.style.cssText="position:absolute;top:0;left:0;transform:translate3d(".concat(e[0],"px,").concat(e[1],"px,0);transform-origin:0 0;")}return q&&(d?q.prepend(U):q.appendChild(U)),function(){q&&q.removeChild(U),j.unmount()}}}),[q,_]),r.useLayoutEffect((function(){R&&(U.className=R)}),[R]);var X=r.useMemo((function(){return _?{position:"absolute",top:0,left:0,width:z.width,height:z.height,transformStyle:"preserve-3d",pointerEvents:"none"}:l(l({position:"absolute",transform:p?"translate3d(-50%,-50%,0)":"none"},v&&{top:-z.height/2,left:-z.width/2,width:z.width,height:z.height}),s)}),[s,p,v,z,_]),$=r.useMemo((function(){return{position:"absolute",pointerEvents:L}}),[L]);r.useLayoutEffect((function(){_?j.render(r.createElement("div",{ref:W,style:X},r.createElement("div",{ref:V,style:$},r.createElement("div",{ref:t,className:f,style:s,children:i})))):j.render(r.createElement("div",{ref:t,style:X,className:f,children:i}))}));var Y=r.useRef(!0);return Sm((function(){if(H.current){D.updateMatrixWorld(),H.current.updateWorldMatrix(!0,!1);var e=_?G.current:T(H.current,D,z);if(_||Math.abs(Z.current-D.zoom)>u||Math.abs(G.current[0]-e[0])>u||Math.abs(G.current[1]-e[1])>u){var t=function(e,t){var n=ng.setFromMatrixPosition(e.matrixWorld),r=rg.setFromMatrixPosition(t.matrixWorld),i=n.sub(r),a=t.getWorldDirection(ig);return i.angleTo(a)>Math.PI/2}(H.current,D),n=!1;"boolean"===typeof w?!0===w&&(n=[N]):Array.isArray(w)&&(n=w.map((function(e){return e.current})));var r=Y.current;if(n){var i=function(e,t,n,r){var i=ng.setFromMatrixPosition(e.matrixWorld),a=i.clone();a.project(t),n.setFromCamera(a,t);var o=n.intersectObjects(r,!0);if(o.length){var u=o[0].distance;return i.distanceTo(n.ray.origin)<u}return!0}(H.current,D,F,n);Y.current=i&&!t}else Y.current=!t;if(r!==Y.current&&(S?S(!Y.current):U.style.display=Y.current?"block":"none"),U.style.zIndex="".concat(function(e,t,n){if(t instanceof Ja||t instanceof So){var r=ng.setFromMatrixPosition(e.matrixWorld),i=rg.setFromMatrixPosition(t.matrixWorld),a=r.distanceTo(i),o=(n[1]-n[0])/(t.far-t.near),u=n[1]-o*t.far;return Math.round(o*a+u)}}(H.current,D,M)),_){var a=z.width/2,o=z.height/2,s=D.projectionMatrix.elements[5]*o,l=D.isOrthographicCamera,c=D.top,f=D.left,h=D.bottom,d=D.right,p=lg(D.matrixWorldInverse),v=l?"scale(".concat(s,")translate(").concat(og(-(d+f)/2),"px,").concat(og((c+h)/2),"px)"):"translateZ(".concat(s,"px)"),m=H.current.matrixWorld;b&&((m=D.matrixWorldInverse.clone().transpose().copyPosition(m).scale(H.current.scale)).elements[3]=m.elements[7]=m.elements[11]=0,m.elements[15]=1),U.style.width=z.width+"px",U.style.height=z.height+"px",U.style.perspective=l?"":"".concat(s,"px"),W.current&&V.current&&(W.current.style.transform="".concat(v).concat(p,"translate(").concat(a,"px,").concat(o,"px)"),V.current.style.transform=cg(m,1/((g||10)/400)))}else{var y=void 0===g?1:function(e,t){if(t instanceof So)return t.zoom;if(t instanceof Ja){var n=ng.setFromMatrixPosition(e.matrixWorld),r=rg.setFromMatrixPosition(t.matrixWorld),i=t.fov*Math.PI/180,a=n.distanceTo(r);return 1/(2*Math.tan(i/2)*a)}return 1}(H.current,D)*g;U.style.transform="translate3d(".concat(e[0],"px,").concat(e[1],"px,0) scale(").concat(y,")")}G.current=e,Z.current=D.zoom}}})),r.createElement("group",(0,Jm.Z)({},O,{ref:H}))}));var hg=r.createContext({}),dg=function(){return r.useContext(hg)},pg=2*Math.PI,vg=new Wi,mg=new xi,gg=new Hr,yg=new Hr,bg=new Zr,xg=new Zr,_g=function(e){var t=e.alignment,n=void 0===t?"bottom-right":t,i=e.margin,a=void 0===i?[80,80]:i,o=e.renderPriority,u=void 0===o?0:o,s=e.autoClear,l=void 0===s||s,f=e.onUpdate,h=e.onTarget,d=e.children,p=wm((function(e){return e.size})),v=wm((function(e){return e.camera})),m=wm((function(e){return e.controls})),g=wm((function(e){return e.gl})),y=wm((function(e){return e.scene})),b=wm((function(e){return e.invalidate})),x=r.useRef(),_=r.useRef(),w=r.useRef(null),S=r.useState((function(){return new Xs})),k=(0,c.Z)(S,1)[0],M=r.useRef(!1),E=r.useRef(0),T=r.useRef(new Zr(0,0,0)),A=r.useCallback((function(e){M.current=!0,(m||h)&&(T.current=(null==m?void 0:m.target)||(null==h?void 0:h())),E.current=v.position.distanceTo(bg),gg.copy(v.quaternion),xg.copy(e).multiplyScalar(E.current).add(bg),vg.lookAt(xg),yg.copy(vg.quaternion),b()}),[m,v,h,b]);r.useEffect((function(){return y.background&&(x.current=y.background,y.background=null,k.background=x.current),function(){x.current&&(y.background=x.current)}}),[]),Sm((function(e,t){if(w.current&&_.current){var n;if(M.current)if(gg.angleTo(yg)<.01)M.current=!1;else{var r=t*pg;gg.rotateTowards(yg,r),v.position.set(0,0,1).applyQuaternion(gg).multiplyScalar(E.current).add(T.current),v.up.set(0,1,0).applyQuaternion(gg).normalize(),v.quaternion.copy(gg),f?f():m&&m.update(),b()}mg.copy(v.matrix).invert(),null==(n=_.current)||n.quaternion.setFromRotationMatrix(mg),l&&(g.autoClear=!1),g.clearDepth(),g.render(k,w.current)}}),u);var C=function(e,t){var n=wm((function(e){return e.pointer})),i=r.useState((function(){var r=new Td;return t&&Lm(r,t,{}),function(t,i){r.setFromCamera(n,e instanceof Ka?e:e.current);var a=this.constructor.prototype.raycast.bind(this);a&&a(r,i)}}));return(0,c.Z)(i,1)[0]}(w),R=r.useMemo((function(){return{tweenCamera:A,raycast:C}}),[A]),P=(0,c.Z)(a,2),L=P[0],O=P[1],I=n.endsWith("-left")?-p.width/2+L:p.width/2-L,D=n.startsWith("top-")?p.height/2-O:-p.height/2+O;return Fm(r.createElement(hg.Provider,{value:R},r.createElement(eg,{ref:w,position:[0,0,200]}),r.createElement("group",{ref:_,position:[I,D,0]},d)),k)},wg="#f0f0f0",Sg="#999",kg="black",Mg="black",Eg=["Right","Left","Top","Bottom","Front","Back"],Tg=function(e){return g(Zr,(0,o.Z)(e)).multiplyScalar(.38)},Ag=[[1,1,1],[1,1,-1],[1,-1,1],[1,-1,-1],[-1,1,1],[-1,1,-1],[-1,-1,1],[-1,-1,-1]].map(Tg),Cg=[.25,.25,.25],Rg=[[1,1,0],[1,0,1],[1,0,-1],[1,-1,0],[0,1,1],[0,1,-1],[0,-1,1],[0,-1,-1],[-1,1,0],[-1,0,1],[-1,0,-1],[-1,-1,0]].map(Tg),Pg=Rg.map((function(e){return e.toArray().map((function(e){return 0==e?.5:.25}))})),Lg=function(e){var t=e.hover,n=e.index,i=e.font,a=void 0===i?"20px Inter var, Arial, sans-serif":i,o=e.faces,u=void 0===o?Eg:o,s=e.color,l=void 0===s?wg:s,c=e.hoverColor,f=void 0===c?Sg:c,h=e.textColor,d=void 0===h?kg:h,p=e.strokeColor,v=void 0===p?Mg:p,m=e.opacity,g=void 0===m?1:m,y=wm((function(e){return e.gl})),b=r.useMemo((function(){var e=document.createElement("canvas");e.width=128,e.height=128;var t=e.getContext("2d");return t.fillStyle=l,t.fillRect(0,0,e.width,e.height),t.strokeStyle=v,t.strokeRect(0,0,e.width,e.height),t.font=a,t.textAlign="center",t.fillStyle=d,t.fillText(u[n].toUpperCase(),64,76),new tc(e)}),[n,u,a,l,d,v]);return r.createElement("meshLambertMaterial",{map:b,"map-encoding":y.outputEncoding,"map-anisotropy":y.capabilities.getMaxAnisotropy()||1,attach:"material-".concat(n),color:t?f:"white",transparent:!0,opacity:g})},Og=function(e){var t=dg(),n=t.tweenCamera,i=t.raycast,a=r.useState(null),u=(0,c.Z)(a,2),s=u[0],l=u[1];return r.createElement("mesh",{raycast:i,onPointerOut:function(e){e.stopPropagation(),l(null)},onPointerMove:function(e){e.stopPropagation(),l(Math.floor(e.faceIndex/2))},onClick:e.onClick||function(e){e.stopPropagation(),n(e.face.normal)}},(0,o.Z)(Array(6)).map((function(t,n){return r.createElement(Lg,(0,Jm.Z)({key:n,index:n,hover:s===n},e))})),r.createElement("boxGeometry",null))},Ig=function(e){var t=e.onClick,n=e.dimensions,i=e.position,a=e.hoverColor,o=void 0===a?Sg:a,u=dg(),s=u.tweenCamera,l=u.raycast,f=r.useState(!1),h=(0,c.Z)(f,2),d=h[0],p=h[1];return r.createElement("mesh",{scale:1.01,position:i,raycast:l,onPointerOver:function(e){e.stopPropagation(),p(!0)},onPointerOut:function(e){e.stopPropagation(),p(!1)},onClick:t||function(e){e.stopPropagation(),s(i)}},r.createElement("meshBasicMaterial",{color:d?o:"white",transparent:!0,opacity:.6,visible:d}),r.createElement("boxGeometry",{args:n}))},Dg=function(e){return r.createElement("group",{scale:[60,60,60]},r.createElement(Og,e),Rg.map((function(t,n){return r.createElement(Ig,(0,Jm.Z)({key:n,position:t,dimensions:Pg[n]},e))})),Ag.map((function(t,n){return r.createElement(Ig,(0,Jm.Z)({key:n,position:t,dimensions:Cg},e))})),r.createElement("ambientLight",{intensity:.5}),r.createElement("pointLight",{position:[10,10,10],intensity:.5}))},Ng=function(e){E(n,e);var t=P(n);function n(e){var r;return S(this,n),(r=t.call(this,e)).type=ht,r}return M(n,[{key:"parse",value:function(e){var t=function(e,t){switch(e){case 1:console.error("THREE.RGBELoader Read Error: "+(t||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(t||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(t||""));break;default:console.error("THREE.RGBELoader: Error: "+(t||""))}return-1},n=function(e,t,n){t=t||1024;for(var r=e.pos,i=-1,a=0,o="",u=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));0>(i=u.indexOf("\n"))&&a<t&&r<e.byteLength;)o+=u,a+=u.length,r+=128,u+=String.fromCharCode.apply(null,new Uint16Array(e.subarray(r,r+128)));return-1<i&&(!1!==n&&(e.pos+=a+i+1),o+u.slice(0,i))},r=function(e,t,n,r){var i=e[t+3],a=Math.pow(2,i-128)/255;n[r+0]=e[t+0]*a,n[r+1]=e[t+1]*a,n[r+2]=e[t+2]*a,n[r+3]=1},i=function(e,t,n,r){var i=e[t+3],a=Math.pow(2,i-128)/255;n[r+0]=vp.toHalfFloat(Math.min(e[t+0]*a,65504)),n[r+1]=vp.toHalfFloat(Math.min(e[t+1]*a,65504)),n[r+2]=vp.toHalfFloat(Math.min(e[t+2]*a,65504)),n[r+3]=vp.toHalfFloat(1)},a=new Uint8Array(e);a.pos=0;var o=function(e){var r,i,a=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,u=/^\s*FORMAT=(\S+)\s*$/,s=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,l={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(e.pos>=e.byteLength||!(r=n(e)))return t(1,"no header found");if(!(i=r.match(/^#\?(\S+)/)))return t(3,"bad initial token");for(l.valid|=1,l.programtype=i[1],l.string+=r+"\n";!1!==(r=n(e));)if(l.string+=r+"\n","#"!==r.charAt(0)){if((i=r.match(a))&&(l.gamma=parseFloat(i[1])),(i=r.match(o))&&(l.exposure=parseFloat(i[1])),(i=r.match(u))&&(l.valid|=2,l.format=i[1]),(i=r.match(s))&&(l.valid|=4,l.height=parseInt(i[1],10),l.width=parseInt(i[2],10)),2&l.valid&&4&l.valid)break}else l.comments+=r+"\n";return 2&l.valid?4&l.valid?l:t(3,"missing image size specifier"):t(3,"missing format specifier")}(a);if(-1!==o){var u=o.width,s=o.height,l=function(e,n,r){var i=n;if(i<8||i>32767||2!==e[0]||2!==e[1]||128&e[2])return new Uint8Array(e);if(i!==(e[2]<<8|e[3]))return t(3,"wrong scanline width");var a=new Uint8Array(4*n*r);if(!a.length)return t(4,"unable to allocate buffer space");for(var o=0,u=0,s=4*i,l=new Uint8Array(4),c=new Uint8Array(s),f=r;f>0&&u<e.byteLength;){if(u+4>e.byteLength)return t(1);if(l[0]=e[u++],l[1]=e[u++],l[2]=e[u++],l[3]=e[u++],2!=l[0]||2!=l[1]||(l[2]<<8|l[3])!=i)return t(3,"bad rgbe scanline format");for(var h=0,d=void 0;h<s&&u<e.byteLength;){var p=(d=e[u++])>128;if(p&&(d-=128),0===d||h+d>s)return t(3,"bad scanline data");if(p)for(var v=e[u++],m=0;m<d;m++)c[h++]=v;else c.set(e.subarray(u,u+d),h),h+=d,u+=d}for(var g=i,y=0;y<g;y++){var b=0;a[o]=c[y+b],b+=i,a[o+1]=c[y+b],b+=i,a[o+2]=c[y+b],b+=i,a[o+3]=c[y+b],o+=4}f--}return a}(a.subarray(a.pos),u,s);if(-1!==l){var c,f,h;switch(this.type){case ft:h=l.length/4;for(var d=new Float32Array(4*h),p=0;p<h;p++)r(l,4*p,d,4*p);c=d,f=ft;break;case ht:h=l.length/4;for(var v=new Uint16Array(4*h),m=0;m<h;m++)i(l,4*m,v,4*m);c=v,f=ht;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:u,height:s,data:c,header:o.string,gamma:o.gamma,exposure:o.exposure,format:undefined,type:f}}}return null}},{key:"setDataType",value:function(e){return this.type=e,this}},{key:"load",value:function(e,t,r,i){return D(T(n.prototype),"load",this).call(this,e,(function(e,n){switch(e.type){case ft:case ht:e.encoding=vn,e.minFilter=et,e.magFilter=et,e.generateMipmaps=!1,e.flipY=!0}t&&t(e,n)}),r,i)}}]),n}(lh),zg={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},Fg=["args","children"];function Bg(e){var t=e+"BufferGeometry";return r.forwardRef((function(e,n){var i=e.args,a=e.children,o=h(e,Fg);return r.createElement("mesh",(0,Jm.Z)({ref:n},o),r.createElement(t,{attach:"geometry",args:i}),a)}))}Bg("box"),Bg("circle"),Bg("cone"),Bg("cylinder"),Bg("sphere"),Bg("plane"),Bg("tube"),Bg("torus"),Bg("torusKnot"),Bg("tetrahedron"),Bg("ring"),Bg("polyhedron");var Ug=Bg("icosahedron"),jg=(Bg("octahedron"),Bg("dodecahedron"),Bg("extrude"),Bg("lathe"),["background","scene"]),Hg=function(e){return(t=e).current&&t.current.isScene?e.current:e;var t};function Zg(e){var t=e.scene,n=e.background,i=void 0!==n&&n,a=e.map,o=wm((function(e){return e.scene}));return r.useLayoutEffect((function(){if(a){var e=Hg(t||o),n=e.background,r=e.environment;return"only"!==i&&(e.environment=a),i&&(e.background=a),function(){"only"!==i&&(e.environment=r),i&&(e.background=n)}}}),[o,t,a,i]),null}function Gg(e){var t=e.files,n=void 0===t?["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"]:t,r=e.path,i=void 0===r?"":r,a=e.preset,o=void 0===a?void 0:a,u=e.extensions;if(o){if(!(o in zg))throw new Error("Preset must be one of: "+Object.keys(zg).join(", "));n=zg[o],i="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/"}var s=Array.isArray(n),l=Mm(s?sh:Ng,s?[n]:n,(function(e){e.setPath(i),u&&u(e)})),c=s?l[0]:l;return c.mapping=s?je:Ze,c}function Wg(e){var t=e.background,n=void 0!==t&&t,i=e.scene,a=Gg(h(e,jg)),o=wm((function(e){return e.scene}));return r.useLayoutEffect((function(){var e=Hg(i||o),t=e.background,r=e.environment;return"only"!==n&&(e.environment=a),n&&(e.background=a),function(){"only"!==n&&(e.environment=r),n&&(e.background=t)}}),[a,n,i,o]),null}function Vg(e){var t=e.children,n=e.near,i=void 0===n?1:n,a=e.far,o=void 0===a?1e3:a,u=e.resolution,s=void 0===u?256:u,l=e.frames,f=void 0===l?1:l,h=e.map,d=e.background,p=void 0!==d&&d,v=e.scene,m=e.files,g=e.path,y=e.preset,b=void 0===y?void 0:y,x=e.extensions,_=wm((function(e){return e.gl})),w=wm((function(e){return e.scene})),S=r.useRef(null),k=r.useState((function(){return new Xs})),M=(0,c.Z)(k,1)[0],E=r.useMemo((function(){var e=new no(s);return e.texture.type=ht,e}),[s]);r.useLayoutEffect((function(){1===f&&S.current.update(_,M);var e=Hg(v||w),t=e.background,n=e.environment;return"only"!==p&&(e.environment=E.texture),p&&(e.background=E.texture),function(){"only"!==p&&(e.environment=n),p&&(e.background=t)}}),[t,M,E.texture,v,w,p,f,_]);var T=1;return Sm((function(){(f===1/0||T<f)&&(S.current.update(_,M),T++)})),r.createElement(r.Fragment,null,Fm(r.createElement(r.Fragment,null,t,r.createElement("cubeCamera",{ref:S,args:[i,o,E]}),m||b?r.createElement(Wg,{background:!0,files:m,preset:b,path:g,extensions:x}):h?r.createElement(Zg,{background:!0,map:h,extensions:x}):null),M))}function qg(e){var t,n,i,a,o,u=Gg(e),s=e.map||u,l=(o=s)&&o.isCubeTexture,c=r.useMemo((function(){var e,t,n=(null!==(e=l?null==(t=s.image[0])?void 0:t.width:s.image.width)&&void 0!==e?e:1024)/4,r=Math.floor(Math.log2(n)),i=Math.pow(2,r),a=3*Math.max(i,112),o=4*i;return[l?"#define ENVMAP_TYPE_CUBE":"","#define CUBEUV_TEXEL_WIDTH ".concat(1/a),"#define CUBEUV_TEXEL_HEIGHT ".concat(1/o),"#define CUBEUV_MAX_MIP ".concat(r,".0"),""]}),[]),f=r.useMemo((function(){return c.join("\n")+"#define GLSLIFY 1\n#define ENVMAP_TYPE_CUBE_UV\nvarying vec3 vWorldPosition;uniform float radius;uniform float height;\n#ifdef ENVMAP_TYPE_CUBE\nuniform samplerCube cubemap;\n#else\nuniform sampler2D cubemap;\n#endif\nfloat diskIntersect(in vec3 ro,in vec3 rd,vec3 c,vec3 n,float r){vec3 o=ro-c;float t=-dot(n,o)/dot(rd,n);vec3 q=o+rd*t;return(dot(q,q)<r*r)? t : 1e6;}float sphereIntersect(in vec3 ro,in vec3 rd,in vec3 ce,float ra){vec3 oc=ro-ce;float b=dot(oc,rd);float c=dot(oc,oc)-ra*ra;float h=b*b-c;if(h<0.0)-1.0;h=sqrt(h);return-b+h;}vec3 project(){vec3 p=normalize(vWorldPosition);vec3 camPos=cameraPosition;camPos.y-=height;float intersection=sphereIntersect(camPos,p,vec3(0.),radius);if(intersection>0.){vec3 h=vec3(0.0,-height,0.0);float intersection2=diskIntersect(camPos,p,h,vec3(0.0,-1.0,0.0),radius);p=(camPos+min(intersection,intersection2)*p)/radius;}else{p=vec3(0.0,1.0,0.0);}return p;}\n#include <common>\n#include <cube_uv_reflection_fragment>\nvoid main(){vec3 projectedWorldPosition=project();\n#ifdef ENVMAP_TYPE_CUBE\nvec3 outcolor=textureCube(cubemap,projectedWorldPosition).rgb;\n#else\nvec3 direction=normalize(projectedWorldPosition);vec2 uv=equirectUv(direction);vec3 outcolor=texture2D(cubemap,uv).rgb;\n#endif\ngl_FragColor=vec4(outcolor,1.0);\n#include <tonemapping_fragment>\n#include <encodings_fragment>\n}"}),[c]),h=r.useMemo((function(){return{cubemap:{value:null},height:{value:15},radius:{value:60}}}),[]),d=r.useRef(null),p=null==(t=e.ground)?void 0:t.height,v=null==(n=e.ground)?void 0:n.radius,m=null!==(i=null==(a=e.ground)?void 0:a.scale)&&void 0!==i?i:1e3;return r.useEffect((function(){p&&(d.current.uniforms.height.value=p)}),[p]),r.useEffect((function(){v&&(d.current.uniforms.radius.value=v)}),[v]),r.useEffect((function(){d.current.uniforms.cubemap.value=s}),[s]),r.createElement(r.Fragment,null,r.createElement(Zg,(0,Jm.Z)({},e,{map:s})),r.createElement(Ug,{scale:m,args:[1,16]},r.createElement("shaderMaterial",{ref:d,side:K,vertexShader:"#define GLSLIFY 1\nvarying vec3 vWorldPosition;void main(){vec4 worldPosition=modelMatrix*vec4(position,1.0);vWorldPosition=worldPosition.xyz;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);}",fragmentShader:f,uniforms:h})))}function Xg(e){return e.ground?r.createElement(qg,e):e.map?r.createElement(Zg,e):e.children?r.createElement(Vg,e):r.createElement(Wg,e)}var $g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yg="object"===("undefined"===typeof window?"undefined":$g(window))&&"object"===("undefined"===typeof document?"undefined":$g(document))&&9===document.nodeType;function Kg(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,v(e,t)}var Jg={}.constructor;function Qg(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(Qg);if(e.constructor!==Jg)return e;var t={};for(var n in e)t[n]=Qg(e[n]);return t}function ey(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=Qg(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var ty=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},ny=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=ty(e[r]," ");else n=ty(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function ry(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function iy(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function ay(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var u=ry(n),s=u.linebreak,l=u.space;if(e&&a++,o)if(Array.isArray(o))for(var c=0;c<o.length;c++){var f=o[c];for(var h in f){var d=f[h];null!=d&&(r&&(r+=s),r+=iy(h+":"+l+ny(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=s),r+=iy(p+":"+l+ny(v)+";",a))}for(var m in t){var g=t[m];null!=g&&"fallbacks"!==m&&(r&&(r+=s),r+=iy(m+":"+l+ny(g)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+s+r+s),iy(""+e+l+"{"+r,--a)+iy("}",a)):r}var oy=/([[\].#*$><+~=|^:(),"'`\s])/g,uy="undefined"!==typeof CSS&&CSS.escape,sy=function(e){return uy?uy(e):e.replace(oy,"\\$1")},ly=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var u=a&&o;if(u?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var s=this.options.sheet;return s&&s.attached,this},e}(),cy=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,u=r.sheet,s=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=s(C(C(i)),u),i.selectorText="."+sy(i.id)),i}Kg(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=ny(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,Jm.Z)({},e,{allowEmpty:!0}):e;return ay(this.selectorText,this.style,n)},M(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(ly),fy={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new cy(e,t,n)}},hy={indent:1,children:!0},dy=/@([\w-]+)/,py=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(dy);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new Fy((0,Jm.Z)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=hy);var t=ry(e).linebreak;if(null==e.indent&&(e.indent=hy.indent),null==e.children&&(e.children=hy.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),vy=/@media|@supports\s+/,my={onCreateRule:function(e,t,n){return vy.test(e)?new py(e,t,n):null}},gy={indent:1,children:!0},yy=/@keyframes\s+([\w-]+)/,by=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(yy);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,a=n.sheet,o=n.generateId;for(var u in this.id=!1===i?this.name:sy(o(this,a)),this.rules=new Fy((0,Jm.Z)({},n,{parent:this})),t)this.rules.add(u,t[u],(0,Jm.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=gy);var t=ry(e).linebreak;if(null==e.indent&&(e.indent=gy.indent),null==e.children&&(e.children=gy.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),xy=/@keyframes\s+/,_y=/\$([\w-]+)/g,wy=function(e,t){return"string"===typeof e?e.replace(_y,(function(e,n){return n in t?t[n]:e})):e},Sy=function(e,t,n){var r=e[t],i=wy(r,n);i!==r&&(e[t]=i)},ky={onCreateRule:function(e,t,n){return"string"===typeof e&&xy.test(e)?new by(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&Sy(e,"animation-name",n.keyframes),"animation"in e&&Sy(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return wy(e,r.keyframes);default:return e}}},My=function(e){function t(){return e.apply(this,arguments)||this}return Kg(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,Jm.Z)({},e,{allowEmpty:!0}):e;return ay(this.key,this.style,n)},t}(ly),Ey={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new My(e,t,n):null}},Ty=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=ry(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=ay(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return ay(this.at,this.style,e)},e}(),Ay=/@font-face/,Cy={onCreateRule:function(e,t,n){return Ay.test(e)?new Ty(e,t,n):null}},Ry=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return ay(this.key,this.style,e)},e}(),Py={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new Ry(e,t,n):null}},Ly=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Oy={"@charset":!0,"@import":!0,"@namespace":!0},Iy={onCreateRule:function(e,t,n){return e in Oy?new Ly(e,t,n):null}},Dy=[fy,my,ky,Ey,Cy,Py,Iy],Ny={process:!0},zy={force:!0,process:!0},Fy=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,a=r.sheet,o=r.jss,u=r.Renderer,s=r.generateId,l=r.scoped,c=(0,Jm.Z)({classes:this.classes,parent:i,sheet:a,jss:o,Renderer:u,generateId:s,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),f=e;e in this.raw&&(f=e+"-d"+this.counter++),this.raw[f]=t,f in this.classes&&(c.selector="."+sy(this.classes[f]));var h=ey(f,t,c);if(!h)return null;this.register(h);var d=void 0===c.index?this.index.length:c.index;return this.index.splice(d,0,h),h},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==i&&(a=(0,Jm.Z)({},n,{index:i})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof cy?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof by&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof cy?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof by&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=Ny);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var u=t.style;if(a.onUpdate(n,t,o,r),r.process&&u&&u!==t.style){for(var s in a.onProcessStyle(t.style,t,o),t.style){var l=t.style[s];l!==u[s]&&t.prop(s,l,zy)}for(var c in u){var f=t.style[c],h=u[c];null==f&&f!==h&&t.prop(c,null,zy)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=ry(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),By=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,Jm.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new Fy(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Uy=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),jy=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,f.Z)(t,["attached"]),i=ry(r).linebreak,a="",o=0;o<this.registry.length;o++){var u=this.registry[o];null!=n&&u.attached!==n||(a&&(a+=i),a+=u.toString(r))}return a},M(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),Hy=new jy,Zy="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),Gy="2f1acc6c3a606b082e5eef5e54414ffb";null==Zy[Gy]&&(Zy[Gy]=0);var Wy=Zy[Gy]++,Vy=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+Wy+i+t:a+n.key+"-"+Wy+(i?"-"+i:"")+"-"+t}},qy=function(e){var t;return function(){return t||(t=e()),t}},Xy=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},$y=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=ny(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},Yy=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},Ky=function(e,t){return e.selectorText=t,e.selectorText===t},Jy=qy((function(){return document.querySelector("head")}));function Qy(e){var t=Hy.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=Jy(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var eb=qy((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),tb=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},nb=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},rb=function(){function e(e){this.getPropertyValue=Xy,this.setProperty=$y,this.removeProperty=Yy,this.setSelector=Ky,this.hasInsertedRules=!1,this.cssRules=[],e&&Hy.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=eb();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=Qy(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else Jy().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=nb(n,t);if(!1===(i=tb(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var u=nb(n,t),s=tb(n,o,u);return!1!==s&&(this.hasInsertedRules=!0,this.refCssRule(e,u,s),s)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof By&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),ib=0,ab=function(){function e(e){this.id=ib++,this.version="10.9.0",this.plugins=new Uy,this.options={id:{minify:!1},createGenerateId:Vy,Renderer:Yg?rb:null,plugins:[]},this.generateId=Vy({minify:!1});for(var t=0;t<Dy.length;t++)this.plugins.use(Dy[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,Jm.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===Hy.index?0:Hy.index+1);var r=new By(e,(0,Jm.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),Hy.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=(0,Jm.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=ey(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),ob=function(e){return new ab(e)},ub="object"===typeof CSS&&null!=CSS&&"number"in CSS;function sb(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=sb(r);a&&(t||(t={}),t[n]=a)}}return t}ob();function lb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=(0,Jm.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var cb={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},fb=cb,hb=n(9598),db="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",pb=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var vb=Date.now(),mb="fnValues"+vb,gb="fnStyle"+ ++vb,yb=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=ey(e,{},n);return r[gb]=t,r},onProcessStyle:function(e,t){if(mb in t||gb in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[mb]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[gb];a&&(i.style=a(e)||{});var o=i[mb];if(o)for(var u in o)i.prop(u,o[u](e),r)}}},bb="@global",xb="@global ",_b=function(){function e(e,t,n){for(var r in this.type="global",this.at=bb,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new Fy((0,Jm.Z)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),wb=function(){function e(e,t,n){this.type="global",this.at=bb,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(xb.length);this.rule=n.jss.createRule(r,t,(0,Jm.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Sb=/\s*,\s*/g;function kb(e,t){for(var n=e.split(Sb),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Mb=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===bb)return new _b(e,t,n);if("@"===e[0]&&e.substr(0,xb.length)===xb)return new wb(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[bb]:null;if(i){for(var a in i)t.addRule(a,i[a],(0,Jm.Z)({},n,{selector:kb(a,e.selector)}));delete r[bb]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,bb.length)===bb){var a=kb(i.substr(bb.length),e.selector);t.addRule(a,r[i],(0,Jm.Z)({},n,{selector:a})),delete r[i]}}(e,t))}}},Eb=/\s*,\s*/g,Tb=/&/g,Ab=/\$([\w-]+)/g;var Cb=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Eb),r=e.split(Eb),i="",a=0;a<n.length;a++)for(var o=n[a],u=0;u<r.length;u++){var s=r[u];i&&(i+=", "),i+=-1!==s.indexOf("&")?s.replace(Tb,o):o+" "+s}return i}function n(e,t,n){if(n)return(0,Jm.Z)({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=(0,Jm.Z)({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var o,u,s=i,l=s.options.parent;for(var c in r){var f=-1!==c.indexOf("&"),h="@"===c[0];if(f||h){if(o=n(s,l,o),f){var d=t(c,s.selector);u||(u=e(l,a)),d=d.replace(Ab,u);var p=s.key+"-"+c;"replaceRule"in l?l.replaceRule(p,r[c],(0,Jm.Z)({},o,{selector:d})):l.addRule(p,r[c],(0,Jm.Z)({},o,{selector:d}))}else h&&l.addRule(c,{},o).addRule(s.key,r[c],{selector:s.selector});delete r[c]}}return r}}},Rb=/[A-Z]/g,Pb=/^ms-/,Lb={};function Ob(e){return"-"+e.toLowerCase()}var Ib=function(e){if(Lb.hasOwnProperty(e))return Lb[e];var t=e.replace(Rb,Ob);return Lb[e]=Pb.test(t)?"-"+t:t};function Db(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Ib(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Db):t.fallbacks=Db(e.fallbacks)),t}var Nb=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Db(e[t]);return e}return Db(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=Ib(t);return t===r?e:(n.prop(r,e),null)}}},zb=ub&&CSS?CSS.px:"px",Fb=ub&&CSS?CSS.ms:"ms",Bb=ub&&CSS?CSS.percent:"%";function Ub(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var jb=Ub({"animation-delay":Fb,"animation-duration":Fb,"background-position":zb,"background-position-x":zb,"background-position-y":zb,"background-size":zb,border:zb,"border-bottom":zb,"border-bottom-left-radius":zb,"border-bottom-right-radius":zb,"border-bottom-width":zb,"border-left":zb,"border-left-width":zb,"border-radius":zb,"border-right":zb,"border-right-width":zb,"border-top":zb,"border-top-left-radius":zb,"border-top-right-radius":zb,"border-top-width":zb,"border-width":zb,"border-block":zb,"border-block-end":zb,"border-block-end-width":zb,"border-block-start":zb,"border-block-start-width":zb,"border-block-width":zb,"border-inline":zb,"border-inline-end":zb,"border-inline-end-width":zb,"border-inline-start":zb,"border-inline-start-width":zb,"border-inline-width":zb,"border-start-start-radius":zb,"border-start-end-radius":zb,"border-end-start-radius":zb,"border-end-end-radius":zb,margin:zb,"margin-bottom":zb,"margin-left":zb,"margin-right":zb,"margin-top":zb,"margin-block":zb,"margin-block-end":zb,"margin-block-start":zb,"margin-inline":zb,"margin-inline-end":zb,"margin-inline-start":zb,padding:zb,"padding-bottom":zb,"padding-left":zb,"padding-right":zb,"padding-top":zb,"padding-block":zb,"padding-block-end":zb,"padding-block-start":zb,"padding-inline":zb,"padding-inline-end":zb,"padding-inline-start":zb,"mask-position-x":zb,"mask-position-y":zb,"mask-size":zb,height:zb,width:zb,"min-height":zb,"max-height":zb,"min-width":zb,"max-width":zb,bottom:zb,left:zb,top:zb,right:zb,inset:zb,"inset-block":zb,"inset-block-end":zb,"inset-block-start":zb,"inset-inline":zb,"inset-inline-end":zb,"inset-inline-start":zb,"box-shadow":zb,"text-shadow":zb,"column-gap":zb,"column-rule":zb,"column-rule-width":zb,"column-width":zb,"font-size":zb,"font-size-delta":zb,"letter-spacing":zb,"text-decoration-thickness":zb,"text-indent":zb,"text-stroke":zb,"text-stroke-width":zb,"word-spacing":zb,motion:zb,"motion-offset":zb,outline:zb,"outline-offset":zb,"outline-width":zb,perspective:zb,"perspective-origin-x":Bb,"perspective-origin-y":Bb,"transform-origin":Bb,"transform-origin-x":Bb,"transform-origin-y":Bb,"transform-origin-z":Bb,"transition-delay":Fb,"transition-duration":Fb,"vertical-align":zb,"flex-basis":zb,"shape-margin":zb,size:zb,gap:zb,grid:zb,"grid-gap":zb,"row-gap":zb,"grid-row-gap":zb,"grid-column-gap":zb,"grid-template-rows":zb,"grid-template-columns":zb,"grid-auto-rows":zb,"grid-auto-columns":zb,"box-shadow-x":zb,"box-shadow-y":zb,"box-shadow-blur":zb,"box-shadow-spread":zb,"font-line-height":zb,"text-shadow-x":zb,"text-shadow-y":zb,"text-shadow-blur":zb});function Hb(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=Hb(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=Hb(i,t[i],n);else for(var a in t)t[a]=Hb(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||jb[e];return!o||0===t&&o===zb?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var Zb=function(e){void 0===e&&(e={});var t=Ub(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=Hb(r,e[r],t);return e},onChangeValue:function(e,n){return Hb(n,e,t)}}},Gb="",Wb="",Vb="",qb="",Xb=Yg&&"ontouchstart"in document.documentElement;if(Yg){var $b={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},Yb=document.createElement("p").style;for(var Kb in $b)if(Kb+"Transform"in Yb){Gb=Kb,Wb=$b[Kb];break}"Webkit"===Gb&&"msHyphens"in Yb&&(Gb="ms",Wb=$b.ms,qb="edge"),"Webkit"===Gb&&"-apple-trailing-word"in Yb&&(Vb="apple")}var Jb=Gb,Qb=Wb,ex=Vb,tx=qb,nx=Xb;var rx={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===Jb?"-webkit-"+e:Qb+e)}},ix={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===Jb?Qb+"print-"+e:e)}},ax=/[-\s]+(.)?/g;function ox(e,t){return t?t.toUpperCase():""}function ux(e){return e.replace(ax,ox)}function sx(e){return ux("-"+e)}var lx,cx={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===Jb){var n="mask-image";if(ux(n)in t)return e;if(Jb+sx(n)in t)return Qb+e}return e}},fx={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==ex||nx?e:Qb+e)}},hx={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:Qb+e)}},dx={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:Qb+e)}},px={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===Jb||"ms"===Jb&&"edge"!==tx?Qb+e:e)}},vx={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===Jb||"ms"===Jb||"apple"===ex?Qb+e:e)}},mx={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===Jb?"WebkitColumn"+sx(e)in t&&Qb+"column-"+e:"Moz"===Jb&&("page"+sx(e)in t&&"page-"+e))}},gx={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===Jb)return e;var n=e.replace("-inline","");return Jb+sx(n)in t&&Qb+n}},yx={supportedProperty:function(e,t){return ux(e)in t&&e}},bx={supportedProperty:function(e,t){var n=sx(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:Jb+n in t?Qb+e:"Webkit"!==Jb&&"Webkit"+n in t&&"-webkit-"+e}},xx={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===Jb?""+Qb+e:e)}},_x={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===Jb?Qb+"scroll-chaining":e)}},wx={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Sx={supportedProperty:function(e,t){var n=wx[e];return!!n&&(Jb+sx(n)in t&&Qb+n)}},kx={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Mx=Object.keys(kx),Ex=function(e){return Qb+e},Tx={supportedProperty:function(e,t,n){var r=n.multiple;if(Mx.indexOf(e)>-1){var i=kx[e];if(!Array.isArray(i))return Jb+sx(i)in t&&Qb+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(Jb+sx(i[0])in t))return!1;return i.map(Ex)}return!1}},Ax=[rx,ix,cx,fx,hx,dx,px,vx,mx,gx,yx,bx,xx,_x,Sx,Tx],Cx=Ax.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Rx=Ax.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,o.Z)(t.noPrefill)),e}),[]),Px={};if(Yg){lx=document.createElement("p");var Lx=window.getComputedStyle(document.documentElement,"");for(var Ox in Lx)isNaN(Ox)||(Px[Lx[Ox]]=Lx[Ox]);Rx.forEach((function(e){return delete Px[e]}))}function Ix(e,t){if(void 0===t&&(t={}),!lx)return e;if(null!=Px[e])return Px[e];"transition"!==e&&"transform"!==e||(t[e]=e in lx.style);for(var n=0;n<Cx.length&&(Px[e]=Cx[n](e,lx.style,t),!Px[e]);n++);try{lx.style[e]=""}catch(r){return!1}return Px[e]}var Dx,Nx={},zx={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Fx=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Bx(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Ix(t):", "+Ix(n);return r||(t||n)}function Ux(e,t){var n=t;if(!Dx||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Nx[r])return Nx[r];try{Dx.style[e]=n}catch(i){return Nx[r]=!1,!1}if(zx[e])n=n.replace(Fx,Bx);else if(""===Dx.style[e]&&("-ms-flex"===(n=Qb+n)&&(Dx.style[e]="-ms-flexbox"),Dx.style[e]=n,""===Dx.style[e]))return Nx[r]=!1,!1;return Dx.style[e]="",Nx[r]=n,Nx[r]}Yg&&(Dx=document.createElement("p"));var jx=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=Ix(n);a&&a!==n&&(i=!0);var o=!1,u=Ux(a,ny(r));u&&u!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=u||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===Jb?e:"@"+Qb+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Ux(t,ny(e))||e}}};var Hx=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var Zx=n(184),Gx=ob({plugins:[yb(),Mb(),Cb(),Nb(),Zb(),"undefined"===typeof window?null:jx(),Hx()]}),Wx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,u=""===o?"":"".concat(o,"-"),s=0,l=function(){return s+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==pb.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(u).concat(r,"-").concat(e.key);return t.options.theme[db]&&""===o?"".concat(a,"-").concat(l()):a}return"".concat(u).concat(i).concat(l())}}(),Vx={disableGeneration:!1,generateClassName:Wx,jss:Gx,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},qx=r.createContext(Vx);var Xx=-1e9;function $x(){return Xx+=1}var Yx=n(2466),Kx=n(7312),Jx=["variant"];function Qx(e){return 0===e.length}function e_(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(s){throw s}if(!r||!n.components||!n.components[r]||!n.components[r].styleOverrides&&!n.components[r].variants)return i;var a=n.components[r].styleOverrides||{},o=n.components[r].variants||[],u=(0,Jm.Z)({},i);return Object.keys(a).forEach((function(e){u[e]=(0,Yx.Z)(u[e]||{},a[e])})),o.forEach((function(e){var t=function(e){var t=e.variant,n=(0,f.Z)(e,Jx),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?Qx(r)?e[t]:(0,Kx.Z)(e[t]):"".concat(Qx(r)?t:(0,Kx.Z)(t)).concat((0,Kx.Z)(e[t].toString()))})),r}(e.props);u[t]=(0,Yx.Z)(u[t]||{},e.style)})),u},options:{}}}var t_={},n_=["name","classNamePrefix","Component","defaultTheme"];function r_(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=lb({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function i_(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,a=e.stylesCreator,o=e.name;if(!i.disableGeneration){var u=fb.get(i.sheetsManager,a,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},fb.set(i.sheetsManager,a,r,u));var s=(0,Jm.Z)({},a.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});s.generateId=s.serverGenerateClassName||s.generateClassName;var l=i.sheetsRegistry;if(0===u.refs){var c;i.sheetsCache&&(c=fb.get(i.sheetsCache,a,r));var f=a.create(r,o);c||((c=i.jss.createStyleSheet(f,(0,Jm.Z)({link:!1},s))).attach(),i.sheetsCache&&fb.set(i.sheetsCache,a,r,c)),l&&l.add(c),u.staticSheet=c,u.dynamicStyles=sb(f)}if(u.dynamicStyles){var h=i.jss.createStyleSheet(u.dynamicStyles,(0,Jm.Z)({link:!0},s));h.update(t),h.attach(),n.dynamicSheet=h,n.classes=lb({baseClasses:u.staticSheet.classes,newClasses:h.classes}),l&&l.add(h)}else n.classes=u.staticSheet.classes;u.refs+=1}}function a_(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function o_(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=fb.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(fb.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function u_(e,t){var n,i=r.useRef([]),a=r.useMemo((function(){return{}}),t);i.current!==a&&(i.current=a,n=e()),r.useEffect((function(){return function(){n&&n()}}),[a])}function s_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,i=t.classNamePrefix,a=t.Component,o=t.defaultTheme,u=void 0===o?t_:o,s=(0,f.Z)(t,n_),l=e_(e),c=n||i||"makeStyles";l.options={index:$x(),name:n,meta:c,classNamePrefix:c};var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,hb.Z)()||u,i=(0,Jm.Z)({},r.useContext(qx),s),o=r.useRef(),c=r.useRef();u_((function(){var r={name:n,state:{},stylesCreator:l,stylesOptions:i,theme:t};return i_(r,e),c.current=!1,o.current=r,function(){o_(r)}}),[t,l]),r.useEffect((function(){c.current&&a_(o.current,e),c.current=!0}));var f=r_(o.current,e.classes,a);return f};return h}var l_=["data","selectService","size","timeGap","adjustscale","getKey","stackOption","onUserhighlight","onReleaseUserhighlight"],c_=new Zr,f_=new xi,h_=new Wi,d_=new Cr,p_=s_({tooltip:{background:"rgba(0,0,0,0.66)",fontSize:"70%",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 255, 255, .3)",color:"white",padding:5,width:"300px"}});function v_(e){var t=e.data,n=void 0===t?[]:t,i=e.selectService,a=void 0===i?0:i,u=e.size,s=void 0===u?[.4,.1,.01]:u,l=e.timeGap,f=void 0===l?0:l,d=e.adjustscale,p=void 0===d?function(e){return e}:d,v=e.getKey,m=void 0===v?function(e,t){return t}:v,g=(e.stackOption,e.onUserhighlight),y=e.onReleaseUserhighlight,b=(h(e,l_),p_()),x=(0,r.useState)(),_=(0,c.Z)(x,2),w=_[0],S=_[1],k=(0,r.useState)(!1),M=(0,c.Z)(k,2),E=M[0],T=M[1],A=function(e){var t=(0,r.useRef)();return(0,r.useEffect)((function(){t.current=e})),t.current}(n),C=(0,r.useRef)(),R=(0,r.useMemo)((function(){return T(!1),S(void 0),Float32Array.from(new Array(n.length).fill().flatMap((function(e,t){var r;return[].concat((0,o.Z)(d_.set(null!==(r=n[t].color)&&void 0!==r?r:"red").toArray()),[1])})))}),[n,a]),P=(0,r.useMemo)((function(){var e={};return A&&A.forEach((function(t,n){C.current.getMatrixAt(n,f_),e[m(t,n)]=f_.clone()})),{first:!0,tracker:e}}),[n,m,f]);Sm((function(e,t){var r=void 0===w,i="string"===typeof a;P.first?(n.forEach((function(e,t){var n=P.tracker[m(e,t)];n?C.current.setMatrixAt(t,n):(h_.position.set(e[0],e[1],e[2]),h_.scale.set(0,0,0),h_.updateMatrix(),C.current.setMatrixAt(t,h_.matrix))})),C.current.instanceMatrix.needsUpdate=!0,P.first=!1,P.time=0):P.time<1?(P.time=Math.min(1,P.time+t),n.forEach((function(e,t){C.current.getMatrixAt(t,f_),c_.setFromMatrixPosition(f_);var o,u=[1,1,1];e.size&&(u[0]=e.size[0]/s[0],u[1]=e.size[1]/s[1],u[2]=(i?.5:p(null!==(o=e.data.values[a])&&void 0!==o?o:0))*f/s[2]);e._pos=[e[0],e[1],e[2]+u[2]*s[2]/2],h_.position.x=fr.lerp(c_.x,e[0],P.time),h_.position.y=fr.lerp(c_.y,e[1],P.time),h_.position.z=fr.lerp(c_.z,e[2]+u[2]*s[2]/2,P.time),c_.setFromMatrixScale(f_),h_.scale.x=fr.lerp(c_.x,u[0],P.time),h_.scale.y=fr.lerp(c_.y,u[1],P.time),h_.scale.z=fr.lerp(c_.z,u[2]||1e-4,P.time),R[4*t+3]=r||e.data.key===n[w].data.key?1:0,C.current.geometry.attributes.color.needsUpdate=!0,h_.updateMatrix(),C.current.setMatrixAt(t,h_.matrix)})),C.current.instanceMatrix.needsUpdate=!0):n.forEach((function(e,t){R[4*t+3]=r||e.data.key===n[w].data.key?1:.001,C.current.geometry.attributes.color.needsUpdate=!0}))}));var L=(0,r.useCallback)((function(e){var t;return null!==(t=e._pos)&&void 0!==t?t:null}),[f]);return(0,Zx.jsxs)(Zx.Fragment,{children:[(0,Zx.jsxs)("instancedMesh",{ref:C,args:[null,null,n.length],onClick:function(e){T(!E),E&&S(void 0)},onPointerMove:function(e){if(e.stopPropagation(),!E){S(e.instanceId);var t={};t[n[e.instanceId].data.user]=!0,g(t,n[e.instanceId])}},onPointerOut:function(e){e.stopPropagation(),E||(S(void 0),y())},children:[(0,Zx.jsx)("boxGeometry",{args:s,children:(0,Zx.jsx)("instancedBufferAttribute",{attach:"attributes-color",args:[R,4]})}),(0,Zx.jsx)("meshStandardMaterial",{vertexColors:!0,toneMapped:!1,transparent:!0,alphaTest:0})]}),(0,Zx.jsx)(fg,{scaleFactor:1,position:void 0!==w&&n[w]?L(n[w]):void 0,className:b.tooltip,style:{pointerEvents:"none",display:void 0!==w?"block":"none"},children:(0,Zx.jsx)("div",{children:n[w]&&n[w].data.toolTip})})]})}n(7119);function m_(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function g_(e){var t=e,n=e,r=e;function i(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==n(t,t))return a;do{var o=i+a>>>1;r(e[o],t)<0?i=o+1:a=o}while(i<a)}return i}return 2!==e.length&&(t=function(t,n){return e(t)-n},n=m_,r=function(t,n){return m_(e(t),n)}),{left:i,center:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length,o=i(e,n,r,a-1);return o>r&&t(e[o-1],n)>-t(e[o],n)?o-1:o},right:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==n(t,t))return a;do{var o=i+a>>>1;r(e[o],t)<=0?i=o+1:a=o}while(i<a)}return i}}}var y_=z.mark(x_);function b_(e){return null===e?NaN:+e}function x_(e,t){var n,r,i,a,o,u,s;return z.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(void 0!==t){l.next=21;break}n=p(e),l.prev=2,n.s();case 4:if((r=n.n()).done){l.next=11;break}if(!(null!=(i=r.value)&&(i=+i)>=i)){l.next=9;break}return l.next=9,i;case 9:l.next=4;break;case 11:l.next=16;break;case 13:l.prev=13,l.t0=l.catch(2),n.e(l.t0);case 16:return l.prev=16,n.f(),l.finish(16);case 19:l.next=40;break;case 21:a=-1,o=p(e),l.prev=23,o.s();case 25:if((u=o.n()).done){l.next=32;break}if(s=u.value,!(null!=(s=t(s,++a,e))&&(s=+s)>=s)){l.next=30;break}return l.next=30,s;case 30:l.next=25;break;case 32:l.next=37;break;case 34:l.prev=34,l.t1=l.catch(23),o.e(l.t1);case 37:return l.prev=37,o.f(),l.finish(37);case 40:case"end":return l.stop()}}),y_,null,[[2,13,16,19],[23,34,37,40]])}var __=g_(m_),w_=__.right,S_=__.left,k_=g_(b_).center,M_=w_;function E_(e,t){var n=0;if(void 0===t){var r,i=p(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(a=+a)>=a&&++n}}catch(c){i.e(c)}finally{i.f()}}else{var o,u=-1,s=p(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;null!=(l=t(l,++u,e))&&(l=+l)>=l&&++n}}catch(c){s.e(c)}finally{s.f()}}return n}function T_(e){return 0|e.length}function A_(e){return!(e>0)}function C_(e){return"object"!==typeof e||"length"in e?e:Array.from(e)}function R_(e){return function(t){return e.apply(void 0,(0,o.Z)(t))}}function P_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r="function"===typeof t[t.length-1]&&R_(t.pop()),i=(t=t.map(C_)).map(T_),a=t.length-1,o=new Array(a+1).fill(0),u=[];if(a<0||i.some(A_))return u;for(;;){u.push(o.map((function(e,n){return t[n][e]})));for(var s=a;++o[s]===i[s];){if(0===s)return r?u.map(r):u;o[s--]=0}}}function L_(e,t){var n=0,r=0;return Float64Array.from(e,void 0===t?function(e){return n+=+e||0}:function(i){return n+=+t(i,r++,e)||0})}function O_(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function I_(e,t){var n,r=0,i=0,a=0;if(void 0===t){var o,u=p(e);try{for(u.s();!(o=u.n()).done;){var s=o.value;null!=s&&(s=+s)>=s&&(a+=(n=s-i)*(s-(i+=n/++r)))}}catch(d){u.e(d)}finally{u.f()}}else{var l,c=-1,f=p(e);try{for(f.s();!(l=f.n()).done;){var h=l.value;null!=(h=t(h,++c,e))&&(h=+h)>=h&&(a+=(n=h-i)*(h-(i+=n/++r)))}}catch(d){f.e(d)}finally{f.f()}}if(r>1)return a/(r-1)}function D_(e,t){var n=I_(e,t);return n?Math.sqrt(n):n}function N_(e,t){var n,r;if(void 0===t){var i,a=p(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}}catch(f){a.e(f)}finally{a.f()}}else{var u,s=-1,l=p(e);try{for(l.s();!(u=l.n()).done;){var c=u.value;null!=(c=t(c,++s,e))&&(void 0===n?c>=c&&(n=r=c):(n>c&&(n=c),r<c&&(r=c)))}}catch(f){l.e(f)}finally{l.f()}}return[n,r]}var z_=function(){function e(){S(this,e),this._partials=new Float64Array(32),this._n=0}return M(e,[{key:"add",value:function(e){for(var t=this._partials,n=0,r=0;r<this._n&&r<32;r++){var i=t[r],a=e+i,o=Math.abs(e)<Math.abs(i)?e-(a-i):i-(a-e);o&&(t[n++]=o),e=a}return t[n]=e,this._n=n+1,this}},{key:"valueOf",value:function(){var e,t,n,r=this._partials,i=this._n,a=0;if(i>0){for(a=r[--i];i>0&&(e=a,!(n=(t=r[--i])-((a=e+t)-e))););i>0&&(n<0&&r[i-1]<0||n>0&&r[i-1]>0)&&(t=2*n)==(e=a+t)-a&&(a=e)}return a}}]),e}();function F_(e,t){var n=new z_;if(void 0===t){var r,i=p(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;(a=+a)&&n.add(a)}}catch(c){i.e(c)}finally{i.f()}}else{var o,u=-1,s=p(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;(l=+t(l,++u,e))&&n.add(l)}}catch(c){s.e(c)}finally{s.f()}}return+n}function B_(e,t){var n=new z_,r=-1;return Float64Array.from(e,void 0===t?function(e){return n.add(+e||0)}:function(i){return n.add(+t(i,++r,e)||0)})}function U_(e){var t="function"===typeof Map?new Map:void 0;return U_=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return g(e,arguments,T(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),v(r,e)},U_(e)}var j_=function(e){E(n,e);var t=P(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V_;if(S(this,n),r=t.call(this),Object.defineProperties(C(r),{_intern:{value:new Map},_key:{value:i}}),null!=e){var a,o=p(e);try{for(o.s();!(a=o.n()).done;){var u=(0,c.Z)(a.value,2),s=u[0],l=u[1];r.set(s,l)}}catch(f){o.e(f)}finally{o.f()}}return r}return M(n,[{key:"get",value:function(e){return D(T(n.prototype),"get",this).call(this,Z_(this,e))}},{key:"has",value:function(e){return D(T(n.prototype),"has",this).call(this,Z_(this,e))}},{key:"set",value:function(e,t){return D(T(n.prototype),"set",this).call(this,G_(this,e),t)}},{key:"delete",value:function(e){return D(T(n.prototype),"delete",this).call(this,W_(this,e))}}]),n}(U_(Map)),H_=function(e){E(n,e);var t=P(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:V_;if(S(this,n),r=t.call(this),Object.defineProperties(C(r),{_intern:{value:new Map},_key:{value:i}}),null!=e){var a,o=p(e);try{for(o.s();!(a=o.n()).done;){var u=a.value;r.add(u)}}catch(s){o.e(s)}finally{o.f()}}return r}return M(n,[{key:"has",value:function(e){return D(T(n.prototype),"has",this).call(this,Z_(this,e))}},{key:"add",value:function(e){return D(T(n.prototype),"add",this).call(this,G_(this,e))}},{key:"delete",value:function(e){return D(T(n.prototype),"delete",this).call(this,W_(this,e))}}]),n}(U_(Set));function Z_(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):t}function G_(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)?n.get(r):(n.set(r,t),t)}function W_(e,t){var n=e._intern,r=(0,e._key)(t);return n.has(r)&&(t=n.get(r),n.delete(r)),t}function V_(e){return null!==e&&"object"===typeof e?e.valueOf():e}function q_(e){return e}function X_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return iw(e,q_,q_,n)}function $_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return iw(e,Array.from,q_,n)}function Y_(e,t){for(var n=1,r=t.length;n<r;++n)e=e.flatMap((function(e){return e.pop().map((function(t){var n=(0,c.Z)(t,2),r=n[0],i=n[1];return[].concat((0,o.Z)(e),[r,i])}))}));return e}function K_(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Y_($_.apply(void 0,[e].concat(n)),n)}function J_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return Y_(ew.apply(void 0,[e,t].concat(r)),r)}function Q_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return iw(e,q_,t,r)}function ew(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return iw(e,Array.from,t,r)}function tw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return iw(e,q_,rw,n)}function nw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return iw(e,Array.from,rw,n)}function rw(e){if(1!==e.length)throw new Error("duplicate key");return e[0]}function iw(e,t,n,r){return function e(i,a){if(a>=r.length)return n(i);var o,u=new j_,s=r[a++],l=-1,f=p(i);try{for(f.s();!(o=f.n()).done;){var h=o.value,d=s(h,++l,i),v=u.get(d);v?v.push(h):u.set(d,[h])}}catch(_){f.e(_)}finally{f.f()}var m,g=p(u);try{for(g.s();!(m=g.n()).done;){var y=(0,c.Z)(m.value,2),b=y[0],x=y[1];u.set(b,e(x,a))}}catch(_){g.e(_)}finally{g.f()}return t(u)}(e,0)}function aw(e,t){return Array.from(t,(function(t){return e[t]}))}function ow(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");e=Array.from(e);var i=n,a=(0,c.Z)(i,1),o=a[0];if(o&&2!==o.length||n.length>1){var u=Uint32Array.from(e,(function(e,t){return t}));return n.length>1?(n=n.map((function(t){return e.map(t)})),u.sort((function(e,t){var r,i=p(n);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=sw(a[e],a[t]);if(o)return o}}catch(u){i.e(u)}finally{i.f()}}))):(o=e.map(o),u.sort((function(e,t){return sw(o[e],o[t])}))),aw(e,u)}return e.sort(uw(o))}function uw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m_;if(e===m_)return sw;if("function"!==typeof e)throw new TypeError("compare is not a function");return function(t,n){var r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function sw(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function lw(e,t,n){return(2!==t.length?ow(Q_(e,t,n),(function(e,t){var n=(0,c.Z)(e,2),r=n[0],i=n[1],a=(0,c.Z)(t,2),o=a[0];return m_(i,a[1])||m_(r,o)})):ow(X_(e,n),(function(e,n){var r=(0,c.Z)(e,2),i=r[0],a=r[1],o=(0,c.Z)(n,2),u=o[0],s=o[1];return t(a,s)||m_(i,u)}))).map((function(e){return(0,c.Z)(e,1)[0]}))}var cw=Array.prototype,fw=cw.slice;cw.map;function hw(e){return function(){return e}}var dw=Math.sqrt(50),pw=Math.sqrt(10),vw=Math.sqrt(2);function mw(e,t,n){var r,i,a,o,u=-1;if(n=+n,(e=+e)===(t=+t)&&n>0)return[e];if((r=t<e)&&(i=e,e=t,t=i),0===(o=gw(e,t,n))||!isFinite(o))return[];if(o>0){var s=Math.round(e/o),l=Math.round(t/o);for(s*o<e&&++s,l*o>t&&--l,a=new Array(i=l-s+1);++u<i;)a[u]=(s+u)*o}else{o=-o;var c=Math.round(e*o),f=Math.round(t*o);for(c/o<e&&++c,f/o>t&&--f,a=new Array(i=f-c+1);++u<i;)a[u]=(c+u)/o}return r&&a.reverse(),a}function gw(e,t,n){var r=(t-e)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),a=r/Math.pow(10,i);return i>=0?(a>=dw?10:a>=pw?5:a>=vw?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=dw?10:a>=pw?5:a>=vw?2:1)}function yw(e,t,n){var r=Math.abs(t-e)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),a=r/i;return a>=dw?i*=10:a>=pw?i*=5:a>=vw&&(i*=2),t<e?-i:i}function bw(e,t,n){for(var r;;){var i=gw(e,t,n);if(i===r||0===i||!isFinite(i))return[e,t];i>0?(e=Math.floor(e/i)*i,t=Math.ceil(t/i)*i):i<0&&(e=Math.ceil(e*i)/i,t=Math.floor(t*i)/i),r=i}}function xw(e){return Math.ceil(Math.log(E_(e))/Math.LN2)+1}function _w(){var e=q_,t=N_,n=xw;function r(r){Array.isArray(r)||(r=Array.from(r));var i,a,o=r.length,u=new Array(o);for(i=0;i<o;++i)u[i]=e(r[i],i,r);var s=t(u),l=s[0],f=s[1],h=n(u,l,f);if(!Array.isArray(h)){var d=f,p=+h;if(t===N_){var v=bw(l,f,p),m=(0,c.Z)(v,2);l=m[0],f=m[1]}if((h=mw(l,f,p))[h.length-1]>=f)if(d>=f&&t===N_){var g=gw(l,f,p);isFinite(g)&&(g>0?f=(Math.floor(f/g)+1)*g:g<0&&(f=(Math.ceil(f*-g)+1)/-g))}else h.pop()}for(var y=h.length;h[0]<=l;)h.shift(),--y;for(;h[y-1]>f;)h.pop(),--y;var b,x=new Array(y+1);for(i=0;i<=y;++i)(b=x[i]=[]).x0=i>0?h[i-1]:l,b.x1=i<y?h[i]:f;for(i=0;i<o;++i)null!=(a=u[i])&&l<=a&&a<=f&&x[M_(h,a,0,y)].push(r[i]);return x}return r.value=function(t){return arguments.length?(e="function"===typeof t?t:hw(t),r):e},r.domain=function(e){return arguments.length?(t="function"===typeof e?e:hw([e[0],e[1]]),r):t},r.thresholds=function(e){return arguments.length?(n="function"===typeof e?e:Array.isArray(e)?hw(fw.call(e)):hw(e),r):n},r}function ww(e,t){var n;if(void 0===t){var r,i=p(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n<a||void 0===n&&a>=a)&&(n=a)}}catch(c){i.e(c)}finally{i.f()}}else{var o,u=-1,s=p(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;null!=(l=t(l,++u,e))&&(n<l||void 0===n&&l>=l)&&(n=l)}}catch(c){s.e(c)}finally{s.f()}}return n}function Sw(e,t){var n;if(void 0===t){var r,i=p(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n>a||void 0===n&&a>=a)&&(n=a)}}catch(c){i.e(c)}finally{i.f()}}else{var o,u=-1,s=p(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;null!=(l=t(l,++u,e))&&(n>l||void 0===n&&l>=l)&&(n=l)}}catch(c){s.e(c)}finally{s.f()}}return n}function kw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,i=arguments.length>4?arguments[4]:void 0;for(i=void 0===i?sw:uw(i);r>n;){if(r-n>600){var a=r-n+1,o=t-n+1,u=Math.log(a),s=.5*Math.exp(2*u/3),l=.5*Math.sqrt(u*s*(a-s)/a)*(o-a/2<0?-1:1),c=Math.max(n,Math.floor(t-o*s/a+l)),f=Math.min(r,Math.floor(t+(a-o)*s/a+l));kw(e,t,c,f,i)}var h=e[t],d=n,p=r;for(Mw(e,n,t),i(e[r],h)>0&&Mw(e,n,r);d<p;){for(Mw(e,d,p),++d,--p;i(e[d],h)<0;)++d;for(;i(e[p],h)>0;)--p}0===i(e[n],h)?Mw(e,n,p):Mw(e,++p,r),p<=t&&(n=p+1),t<=p&&(r=p-1)}return e}function Mw(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Ew(e,t,n){if(r=(e=Float64Array.from(x_(e,n))).length){if((t=+t)<=0||r<2)return Sw(e);if(t>=1)return ww(e);var r,i=(r-1)*t,a=Math.floor(i),o=ww(kw(e,a).subarray(0,a+1));return o+(Sw(e.subarray(a+1))-o)*(i-a)}}function Tw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b_;if(r=e.length){if((t=+t)<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return o+(u-o)*(i-a)}}function Aw(e,t,n){return Math.ceil((n-t)/(2*(Ew(e,.75)-Ew(e,.25))*Math.pow(E_(e),-1/3)))}function Cw(e,t,n){return Math.ceil((n-t)/(3.5*D_(e)*Math.pow(E_(e),-1/3)))}function Rw(e,t){var n,r=-1,i=-1;if(void 0===t){var a,o=p(e);try{for(o.s();!(a=o.n()).done;){var u=a.value;++i,null!=u&&(n<u||void 0===n&&u>=u)&&(n=u,r=i)}}catch(f){o.e(f)}finally{o.f()}}else{var s,l=p(e);try{for(l.s();!(s=l.n()).done;){var c=s.value;null!=(c=t(c,++i,e))&&(n<c||void 0===n&&c>=c)&&(n=c,r=i)}}catch(f){l.e(f)}finally{l.f()}}return r}function Pw(e,t){var n=0,r=0;if(void 0===t){var i,a=p(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&(o=+o)>=o&&(++n,r+=o)}}catch(f){a.e(f)}finally{a.f()}}else{var u,s=-1,l=p(e);try{for(l.s();!(u=l.n()).done;){var c=u.value;null!=(c=t(c,++s,e))&&(c=+c)>=c&&(++n,r+=c)}}catch(f){l.e(f)}finally{l.f()}}if(n)return r/n}function Lw(e,t){return Ew(e,.5,t)}var Ow=z.mark(Iw);function Iw(e){var t,n,r;return z.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t=p(e),i.prev=1,t.s();case 3:if((n=t.n()).done){i.next=8;break}return r=n.value,i.delegateYield(r,"t0",6);case 6:i.next=3;break;case 8:i.next=13;break;case 10:i.prev=10,i.t1=i.catch(1),t.e(i.t1);case 13:return i.prev=13,t.f(),i.finish(13);case 16:case"end":return i.stop()}}),Ow,null,[[1,10,13,16]])}function Dw(e){return Array.from(Iw(e))}function Nw(e,t){var n,r=-1,i=-1;if(void 0===t){var a,o=p(e);try{for(o.s();!(a=o.n()).done;){var u=a.value;++i,null!=u&&(n>u||void 0===n&&u>=u)&&(n=u,r=i)}}catch(f){o.e(f)}finally{o.f()}}else{var s,l=p(e);try{for(l.s();!(s=l.n()).done;){var c=s.value;null!=(c=t(c,++i,e))&&(n>c||void 0===n&&c>=c)&&(n=c,r=i)}}catch(f){l.e(f)}finally{l.f()}}return r}function zw(e,t){var n,r=new j_;if(void 0===t){var i,a=p(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;null!=o&&o>=o&&r.set(o,(r.get(o)||0)+1)}}catch(b){a.e(b)}finally{a.f()}}else{var u,s=-1,l=p(e);try{for(l.s();!(u=l.n()).done;){var f=u.value;null!=(f=t(f,++s,e))&&f>=f&&r.set(f,(r.get(f)||0)+1)}}catch(b){l.e(b)}finally{l.f()}}var h,d=0,v=p(r);try{for(v.s();!(h=v.n()).done;){var m=(0,c.Z)(h.value,2),g=m[0],y=m[1];y>d&&(d=y,n=g)}}catch(b){v.e(b)}finally{v.f()}return n}function Fw(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Bw,i=[],a=!1,o=p(e);try{for(o.s();!(n=o.n()).done;){var u=n.value;a&&i.push(r(t,u)),t=u,a=!0}}catch(s){o.e(s)}finally{o.f()}return i}function Bw(e,t){return[e,t]}function Uw(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}function jw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m_;if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");var n=Array.from(e),r=new Float64Array(n.length);2!==t.length&&(n=n.map(t),t=m_);var i,a,o=function(e,r){return t(n[e],n[r])};return Uint32Array.from(n,(function(e,t){return t})).sort(t===m_?function(e,t){return sw(n[e],n[t])}:uw(o)).forEach((function(e,t){var n=o(e,void 0===i?e:i);n>=0?((void 0===i||n>0)&&(i=e,a=t),r[e]=a):r[e]=NaN})),r}function Hw(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m_,r=!1;if(1===n.length){var i,a,o=p(e);try{for(o.s();!(a=o.n()).done;){var u=a.value,s=n(u);(r?m_(s,i)<0:0===m_(s,s))&&(t=u,i=s,r=!0)}}catch(h){o.e(h)}finally{o.f()}}else{var l,c=p(e);try{for(c.s();!(l=c.n()).done;){var f=l.value;(r?n(f,t)<0:0===n(f,f))&&(t=f,r=!0)}}catch(h){c.e(h)}finally{c.f()}}return t}function Zw(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m_;if(1===n.length)return Nw(e,n);var r,i=-1,a=-1,o=p(e);try{for(o.s();!(r=o.n()).done;){var u=r.value;++a,(i<0?0===n(u,u):n(u,t)<0)&&(t=u,i=a)}}catch(s){o.e(s)}finally{o.f()}return i}function Gw(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m_,r=!1;if(1===n.length){var i,a,o=p(e);try{for(o.s();!(a=o.n()).done;){var u=a.value,s=n(u);(r?m_(s,i)>0:0===m_(s,s))&&(t=u,i=s,r=!0)}}catch(h){o.e(h)}finally{o.f()}}else{var l,c=p(e);try{for(c.s();!(l=c.n()).done;){var f=l.value;(r?n(f,t)>0:0===n(f,f))&&(t=f,r=!0)}}catch(h){c.e(h)}finally{c.f()}}return t}function Ww(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m_;if(1===n.length)return Rw(e,n);var r,i=-1,a=-1,o=p(e);try{for(o.s();!(r=o.n()).done;){var u=r.value;++a,(i<0?0===n(u,u):n(u,t)>0)&&(t=u,i=a)}}catch(s){o.e(s)}finally{o.f()}return i}function Vw(e,t){var n=Zw(e,t);return n<0?void 0:n}var qw=Xw(Math.random);function Xw(e){return function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i=r-(n=+n);i;){var a=e()*i--|0,o=t[i+n];t[i+n]=t[a+n],t[a+n]=o}return t}}function $w(e,t){var n=0;if(void 0===t){var r,i=p(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;(a=+a)&&(n+=a)}}catch(c){i.e(c)}finally{i.f()}}else{var o,u=-1,s=p(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;(l=+t(l,++u,e))&&(n+=l)}}catch(c){s.e(c)}finally{s.f()}}return n}function Yw(e){if(!(i=e.length))return[];for(var t=-1,n=Sw(e,Kw),r=new Array(n);++t<n;)for(var i,a=-1,o=r[t]=new Array(i);++a<i;)o[a]=e[a][t];return r}function Kw(e){return e.length}function Jw(){return Yw(arguments)}function Qw(e,t){if("function"!==typeof t)throw new TypeError("test is not a function");var n,r=-1,i=p(e);try{for(i.s();!(n=i.n()).done;){if(!t(n.value,++r,e))return!1}}catch(a){i.e(a)}finally{i.f()}return!0}function eS(e,t){if("function"!==typeof t)throw new TypeError("test is not a function");var n,r=-1,i=p(e);try{for(i.s();!(n=i.n()).done;){if(t(n.value,++r,e))return!0}}catch(a){i.e(a)}finally{i.f()}return!1}function tS(e,t){if("function"!==typeof t)throw new TypeError("test is not a function");var n,r=[],i=-1,a=p(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;t(o,++i,e)&&r.push(o)}}catch(u){a.e(u)}finally{a.f()}return r}function nS(e,t){if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");if("function"!==typeof t)throw new TypeError("mapper is not a function");return Array.from(e,(function(n,r){return t(n,r,e)}))}function rS(e,t,n){if("function"!==typeof t)throw new TypeError("reducer is not a function");var r,i,a=e[Symbol.iterator](),o=-1;if(arguments.length<3){var u=a.next();if(r=u.done,n=u.value,r)return;++o}for(;r=(s=a.next()).done,i=s.value,!r;){var s;n=t(n,i,++o,e)}return n}function iS(e){if("function"!==typeof e[Symbol.iterator])throw new TypeError("values is not iterable");return Array.from(e).reverse()}function aS(e){e=new H_(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o,u=a[i],s=p(u);try{for(s.s();!(o=s.n()).done;){var l=o.value;e.delete(l)}}catch(c){s.e(c)}finally{s.f()}}return e}function oS(e,t){var n,r=t[Symbol.iterator](),i=new H_,a=p(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;if(i.has(o))return!1;for(var u=void 0,s=void 0;u=(l=r.next()).value,s=l.done,l;){var l;if(s)break;if(Object.is(o,u))return!1;i.add(u)}}}catch(c){a.e(c)}finally{a.f()}return!0}function uS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=new H_(e),n=n.map(sS);var i,a=p(e);try{e:for(a.s();!(i=a.n()).done;){var o,u=i.value,s=p(n);try{for(s.s();!(o=s.n()).done;){var l=o.value;if(!l.has(u)){e.delete(u);continue e}}}catch(c){s.e(c)}finally{s.f()}}}catch(c){a.e(c)}finally{a.f()}return e}function sS(e){return e instanceof H_?e:new H_(e)}function lS(e,t){var n,r=e[Symbol.iterator](),i=new Set,a=p(t);try{for(a.s();!(n=a.n()).done;){var o=cS(n.value);if(!i.has(o))for(var u=void 0,s=void 0;u=(l=r.next()).value,s=l.done,l;){var l;if(s)return!1;var c=cS(u);if(i.add(c),Object.is(o,c))break}}}catch(f){a.e(f)}finally{a.f()}return!0}function cS(e){return null!==e&&"object"===typeof e?e.valueOf():e}function fS(e,t){return lS(t,e)}function hS(){for(var e=new H_,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o,u=a[i],s=p(u);try{for(s.s();!(o=s.n()).done;){var l=o.value;e.add(l)}}catch(c){s.e(c)}finally{s.f()}}return e}function dS(e){return e}var pS=1e-6;function vS(e){return"translate("+e+",0)"}function mS(e){return"translate(0,"+e+")"}function gS(e){return function(t){return+e(t)}}function yS(e,t){return t=Math.max(0,e.bandwidth()-2*t)/2,e.round()&&(t=Math.round(t)),function(n){return+e(n)+t}}function bS(){return!this.__axis}function xS(e,t){var n=[],r=null,i=null,a=6,o=6,u=3,s="undefined"!==typeof window&&window.devicePixelRatio>1?0:.5,l=1===e||4===e?-1:1,c=4===e||2===e?"x":"y",f=1===e||3===e?vS:mS;function h(h){var d=null==r?t.ticks?t.ticks.apply(t,n):t.domain():r,p=null==i?t.tickFormat?t.tickFormat.apply(t,n):dS:i,v=Math.max(a,0)+u,m=t.range(),g=+m[0]+s,y=+m[m.length-1]+s,b=(t.bandwidth?yS:gS)(t.copy(),s),x=h.selection?h.selection():h,_=x.selectAll(".domain").data([null]),w=x.selectAll(".tick").data(d,t).order(),S=w.exit(),k=w.enter().append("g").attr("class","tick"),M=w.select("line"),E=w.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(k),M=M.merge(k.append("line").attr("stroke","currentColor").attr(c+"2",l*a)),E=E.merge(k.append("text").attr("fill","currentColor").attr(c,l*v).attr("dy",1===e?"0em":3===e?"0.71em":"0.32em")),h!==x&&(_=_.transition(h),w=w.transition(h),M=M.transition(h),E=E.transition(h),S=S.transition(h).attr("opacity",pS).attr("transform",(function(e){return isFinite(e=b(e))?f(e+s):this.getAttribute("transform")})),k.attr("opacity",pS).attr("transform",(function(e){var t=this.parentNode.__axis;return f((t&&isFinite(t=t(e))?t:b(e))+s)}))),S.remove(),_.attr("d",4===e||2===e?o?"M"+l*o+","+g+"H"+s+"V"+y+"H"+l*o:"M"+s+","+g+"V"+y:o?"M"+g+","+l*o+"V"+s+"H"+y+"V"+l*o:"M"+g+","+s+"H"+y),w.attr("opacity",1).attr("transform",(function(e){return f(b(e)+s)})),M.attr(c+"2",l*a),E.attr(c,l*v).text(p),x.filter(bS).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===e?"start":4===e?"end":"middle"),x.each((function(){this.__axis=b}))}return h.scale=function(e){return arguments.length?(t=e,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(e){return arguments.length?(n=null==e?[]:Array.from(e),h):n.slice()},h.tickValues=function(e){return arguments.length?(r=null==e?null:Array.from(e),h):r&&r.slice()},h.tickFormat=function(e){return arguments.length?(i=e,h):i},h.tickSize=function(e){return arguments.length?(a=o=+e,h):a},h.tickSizeInner=function(e){return arguments.length?(a=+e,h):a},h.tickSizeOuter=function(e){return arguments.length?(o=+e,h):o},h.tickPadding=function(e){return arguments.length?(u=+e,h):u},h.offset=function(e){return arguments.length?(s=+e,h):s},h}function _S(e){return xS(1,e)}function wS(e){return xS(2,e)}function SS(e){return xS(3,e)}function kS(e){return xS(4,e)}var MS={value:function(){}};function ES(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new TS(r)}function TS(e){this._=e}function AS(e,t){return e.trim().split(/^|\s+/).map((function(e){var n="",r=e.indexOf(".");if(r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}}))}function CS(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function RS(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=MS,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}TS.prototype=ES.prototype={constructor:TS,on:function(e,t){var n,r=this._,i=AS(e+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++a<o;)if(n=(e=i[a]).type)r[n]=RS(r[n],e.name,t);else if(null==t)for(n in r)r[n]=RS(r[n],e.name,null);return this}for(;++a<o;)if((n=(e=i[a]).type)&&(n=CS(r[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new TS(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=0,n=(r=this._[e]).length;a<n;++a)r[a].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};var PS=ES;function LS(){}function OS(e){return null==e?LS:function(){return this.querySelector(e)}}function IS(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}function DS(){return[]}function NS(e){return null==e?DS:function(){return this.querySelectorAll(e)}}function zS(e){return function(){return this.matches(e)}}function FS(e){return function(t){return t.matches(e)}}var BS=Array.prototype.find;function US(){return this.firstElementChild}var jS=Array.prototype.filter;function HS(){return Array.from(this.children)}function ZS(e){return new Array(e.length)}function GS(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function WS(e){return function(){return e}}function VS(e,t,n,r,i,a){for(var o,u=0,s=t.length,l=a.length;u<l;++u)(o=t[u])?(o.__data__=a[u],r[u]=o):n[u]=new GS(e,a[u]);for(;u<s;++u)(o=t[u])&&(i[u]=o)}function qS(e,t,n,r,i,a,o){var u,s,l,c=new Map,f=t.length,h=a.length,d=new Array(f);for(u=0;u<f;++u)(s=t[u])&&(d[u]=l=o.call(s,s.__data__,u,t)+"",c.has(l)?i[u]=s:c.set(l,s));for(u=0;u<h;++u)l=o.call(e,a[u],u,a)+"",(s=c.get(l))?(r[u]=s,s.__data__=a[u],c.delete(l)):n[u]=new GS(e,a[u]);for(u=0;u<f;++u)(s=t[u])&&c.get(d[u])===s&&(i[u]=s)}function XS(e){return e.__data__}function $S(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function YS(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}GS.prototype={constructor:GS,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var KS="http://www.w3.org/1999/xhtml",JS={svg:"http://www.w3.org/2000/svg",xhtml:KS,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function QS(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),JS.hasOwnProperty(t)?{space:JS[t],local:e}:e}function ek(e){return function(){this.removeAttribute(e)}}function tk(e){return function(){this.removeAttributeNS(e.space,e.local)}}function nk(e,t){return function(){this.setAttribute(e,t)}}function rk(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ik(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function ak(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ok(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function uk(e){return function(){this.style.removeProperty(e)}}function sk(e,t,n){return function(){this.style.setProperty(e,t,n)}}function lk(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ck(e,t){return e.style.getPropertyValue(t)||ok(e).getComputedStyle(e,null).getPropertyValue(t)}function fk(e){return function(){delete this[e]}}function hk(e,t){return function(){this[e]=t}}function dk(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function pk(e){return e.trim().split(/^|\s+/)}function vk(e){return e.classList||new mk(e)}function mk(e){this._node=e,this._names=pk(e.getAttribute("class")||"")}function gk(e,t){for(var n=vk(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function yk(e,t){for(var n=vk(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function bk(e){return function(){gk(this,e)}}function xk(e){return function(){yk(this,e)}}function _k(e,t){return function(){(t.apply(this,arguments)?gk:yk)(this,e)}}function wk(){this.textContent=""}function Sk(e){return function(){this.textContent=e}}function kk(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Mk(){this.innerHTML=""}function Ek(e){return function(){this.innerHTML=e}}function Tk(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Ak(){this.nextSibling&&this.parentNode.appendChild(this)}function Ck(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Rk(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===KS&&t.documentElement.namespaceURI===KS?t.createElement(e):t.createElementNS(n,e)}}function Pk(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Lk(e){var t=QS(e);return(t.local?Pk:Rk)(t)}function Ok(){return null}function Ik(){var e=this.parentNode;e&&e.removeChild(this)}function Dk(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Nk(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function zk(e){return e.trim().split(/^|\s+/).map((function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}))}function Fk(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,a=t.length;r<a;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function Bk(e,t,n){return function(){var r,i=this.__on,a=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,u=i.length;o<u;++o)if((r=i[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=t);this.addEventListener(e.type,a,n),r={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(r):this.__on=[r]}}function Uk(e,t,n){var r=ok(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function jk(e,t){return function(){return Uk(this,e,t)}}function Hk(e,t){return function(){return Uk(this,e,t.apply(this,arguments))}}mk.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var Zk=z.mark(Gk);function Gk(){var e,t,n,r,i,a,o;return z.wrap((function(u){for(;;)switch(u.prev=u.next){case 0:e=this._groups,t=0,n=e.length;case 1:if(!(t<n)){u.next=13;break}r=e[t],i=0,a=r.length;case 3:if(!(i<a)){u.next=10;break}if(!(o=r[i])){u.next=7;break}return u.next=7,o;case 7:++i,u.next=3;break;case 10:++t,u.next=1;break;case 13:case"end":return u.stop()}}),Zk,this)}var Wk=[null];function Vk(e,t){this._groups=e,this._parents=t}function qk(){return new Vk([[document.documentElement]],Wk)}Vk.prototype=qk.prototype=(0,u.Z)({constructor:Vk,select:function(e){"function"!==typeof e&&(e=OS(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o,u=t[i],s=u.length,l=r[i]=new Array(s),c=0;c<s;++c)(a=u[c])&&(o=e.call(a,a.__data__,c,u))&&("__data__"in a&&(o.__data__=a.__data__),l[c]=o);return new Vk(r,this._parents)},selectAll:function(e){e="function"===typeof e?function(e){return function(){return IS(e.apply(this,arguments))}}(e):NS(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o,u=t[a],s=u.length,l=0;l<s;++l)(o=u[l])&&(r.push(e.call(o,o.__data__,l,u)),i.push(o));return new Vk(r,i)},selectChild:function(e){return this.select(null==e?US:function(e){return function(){return BS.call(this.children,e)}}("function"===typeof e?e:FS(e)))},selectChildren:function(e){return this.selectAll(null==e?HS:function(e){return function(){return jS.call(this.children,e)}}("function"===typeof e?e:FS(e)))},filter:function(e){"function"!==typeof e&&(e=zS(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],u=o.length,s=r[i]=[],l=0;l<u;++l)(a=o[l])&&e.call(a,a.__data__,l,o)&&s.push(a);return new Vk(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,XS);var n=t?qS:VS,r=this._parents,i=this._groups;"function"!==typeof e&&(e=WS(e));for(var a=i.length,o=new Array(a),u=new Array(a),s=new Array(a),l=0;l<a;++l){var c=r[l],f=i[l],h=f.length,d=$S(e.call(c,c&&c.__data__,l,r)),p=d.length,v=u[l]=new Array(p),m=o[l]=new Array(p),g=s[l]=new Array(h);n(c,f,v,m,g,d,t);for(var y,b,x=0,_=0;x<p;++x)if(y=v[x]){for(x>=_&&(_=x+1);!(b=m[_])&&++_<p;);y._next=b||null}}return(o=new Vk(o,r))._enter=u,o._exit=s,o},enter:function(){return new Vk(this._enter||this._groups.map(ZS),this._parents)},exit:function(){return new Vk(this._exit||this._groups.map(ZS),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,a=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),u=new Array(i),s=0;s<o;++s)for(var l,c=n[s],f=r[s],h=c.length,d=u[s]=new Array(h),p=0;p<h;++p)(l=c[p]||f[p])&&(d[p]=l);for(;s<i;++s)u[s]=n[s];return new Vk(u,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=YS);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,u=n[a],s=u.length,l=i[a]=new Array(s),c=0;c<s;++c)(o=u[c])&&(l[c]=o);l.sort(t)}return new Vk(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},size:function(){var e,t=0,n=p(this);try{for(n.s();!(e=n.n()).done;){e.value;++t}}catch(r){n.e(r)}finally{n.f()}return t},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,a=t[n],o=0,u=a.length;o<u;++o)(i=a[o])&&e.call(i,i.__data__,o,a);return this},attr:function(e,t){var n=QS(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?tk:ek:"function"===typeof t?n.local?ak:ik:n.local?rk:nk)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?uk:"function"===typeof t?lk:sk)(e,t,null==n?"":n)):ck(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?fk:"function"===typeof t?dk:hk)(e,t)):this.node()[e]},classed:function(e,t){var n=pk(e+"");if(arguments.length<2){for(var r=vk(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?_k:t?bk:xk)(n,t))},text:function(e){return arguments.length?this.each(null==e?wk:("function"===typeof e?kk:Sk)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Mk:("function"===typeof e?Tk:Ek)(e)):this.node().innerHTML},raise:function(){return this.each(Ak)},lower:function(){return this.each(Ck)},append:function(e){var t="function"===typeof e?e:Lk(e);return this.select((function(){return this.appendChild(t.apply(this,arguments))}))},insert:function(e,t){var n="function"===typeof e?e:Lk(e),r=null==t?Ok:"function"===typeof t?t:OS(t);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ik)},clone:function(e){return this.select(e?Nk:Dk)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,a=zk(e+""),o=a.length;if(!(arguments.length<2)){for(u=t?Bk:Fk,r=0;r<o;++r)this.each(u(a[r],t,n));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<o;++r)if((i=a[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(e,t){return this.each(("function"===typeof t?Hk:jk)(e,t))}},Symbol.iterator,Gk);var Xk=qk;function $k(e){return"string"===typeof e?new Vk([[document.querySelector(e)]],[document.documentElement]):new Vk([[e]],Wk)}var Yk={passive:!1},Kk={capture:!0,passive:!1};function Jk(e){e.stopImmediatePropagation()}function Qk(e){e.preventDefault(),e.stopImmediatePropagation()}function eM(e){var t=e.document.documentElement,n=$k(e).on("dragstart.drag",Qk,Kk);"onselectstart"in t?n.on("selectstart.drag",Qk,Kk):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function tM(e,t){var n=e.document.documentElement,r=$k(e).on("dragstart.drag",null);t&&(r.on("click.drag",Qk,Kk),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function nM(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function rM(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function iM(){}var aM=.7,oM=1/aM,uM="\\s*([+-]?\\d+)\\s*",sM="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",lM="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cM=/^#([0-9a-f]{3,8})$/,fM=new RegExp("^rgb\\("+[uM,uM,uM]+"\\)$"),hM=new RegExp("^rgb\\("+[lM,lM,lM]+"\\)$"),dM=new RegExp("^rgba\\("+[uM,uM,uM,sM]+"\\)$"),pM=new RegExp("^rgba\\("+[lM,lM,lM,sM]+"\\)$"),vM=new RegExp("^hsl\\("+[sM,lM,lM]+"\\)$"),mM=new RegExp("^hsla\\("+[sM,lM,lM,sM]+"\\)$"),gM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function yM(){return this.rgb().formatHex()}function bM(){return this.rgb().formatRgb()}function xM(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=cM.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?_M(t):3===n?new MM(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?wM(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?wM(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=fM.exec(e))?new MM(t[1],t[2],t[3],1):(t=hM.exec(e))?new MM(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=dM.exec(e))?wM(t[1],t[2],t[3],t[4]):(t=pM.exec(e))?wM(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=vM.exec(e))?CM(t[1],t[2]/100,t[3]/100,1):(t=mM.exec(e))?CM(t[1],t[2]/100,t[3]/100,t[4]):gM.hasOwnProperty(e)?_M(gM[e]):"transparent"===e?new MM(NaN,NaN,NaN,0):null}function _M(e){return new MM(e>>16&255,e>>8&255,255&e,1)}function wM(e,t,n,r){return r<=0&&(e=t=n=NaN),new MM(e,t,n,r)}function SM(e){return e instanceof iM||(e=xM(e)),e?new MM((e=e.rgb()).r,e.g,e.b,e.opacity):new MM}function kM(e,t,n,r){return 1===arguments.length?SM(e):new MM(e,t,n,null==r?1:r)}function MM(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function EM(){return"#"+AM(this.r)+AM(this.g)+AM(this.b)}function TM(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===e?")":", "+e+")")}function AM(e){return((e=Math.max(0,Math.min(255,Math.round(e)||0)))<16?"0":"")+e.toString(16)}function CM(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new LM(e,t,n,r)}function RM(e){if(e instanceof LM)return new LM(e.h,e.s,e.l,e.opacity);if(e instanceof iM||(e=xM(e)),!e)return new LM;if(e instanceof LM)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,u=a-i,s=(a+i)/2;return u?(o=t===a?(n-r)/u+6*(n<r):n===a?(r-t)/u+2:(t-n)/u+4,u/=s<.5?a+i:2-a-i,o*=60):u=s>0&&s<1?0:o,new LM(o,u,s,e.opacity)}function PM(e,t,n,r){return 1===arguments.length?RM(e):new LM(e,t,n,null==r?1:r)}function LM(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function OM(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function IM(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function DM(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,u=r<t-1?e[r+2]:2*a-i;return IM((n-r/t)*t,o,i,a,u)}}function NM(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],u=e[(r+2)%t];return IM((n-r/t)*t,i,a,o,u)}}nM(iM,xM,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:yM,formatHex:yM,formatHsl:function(){return RM(this).formatHsl()},formatRgb:bM,toString:bM}),nM(MM,kM,rM(iM,{brighter:function(e){return e=null==e?oM:Math.pow(oM,e),new MM(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=null==e?aM:Math.pow(aM,e),new MM(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EM,formatHex:EM,formatRgb:TM,toString:TM})),nM(LM,PM,rM(iM,{brighter:function(e){return e=null==e?oM:Math.pow(oM,e),new LM(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?aM:Math.pow(aM,e),new LM(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new MM(OM(e>=240?e-240:e+120,i,r),OM(e,i,r),OM(e<120?e+240:e-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return(1===(e=isNaN(e)?1:Math.max(0,Math.min(1,e)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===e?")":", "+e+")")}}));var zM=function(e){return function(){return e}};function FM(e,t){return function(n){return e+n*t}}function BM(e,t){var n=t-e;return n?FM(e,n>180||n<-180?n-360*Math.round(n/360):n):zM(isNaN(e)?t:e)}function UM(e){return 1===(e=+e)?jM:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):zM(isNaN(t)?n:t)}}function jM(e,t){var n=t-e;return n?FM(e,n):zM(isNaN(e)?t:e)}var HM=function e(t){var n=UM(t);function r(e,t){var r=n((e=kM(e)).r,(t=kM(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=jM(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function ZM(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),u=new Array(i);for(n=0;n<i;++n)r=kM(t[n]),a[n]=r.r||0,o[n]=r.g||0,u[n]=r.b||0;return a=e(a),o=e(o),u=e(u),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=u(e),r+""}}}var GM=ZM(DM),WM=ZM(NM);function VM(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function qM(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function XM(e,t){return(qM(t)?VM:$M)(e,t)}function $M(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=nE(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function YM(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function KM(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function JM(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=nE(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var QM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,eE=new RegExp(QM.source,"g");function tE(e,t){var n,r,i,a=QM.lastIndex=eE.lastIndex=0,o=-1,u=[],s=[];for(e+="",t+="";(n=QM.exec(e))&&(r=eE.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),u[o]?u[o]+=i:u[++o]=i),(n=n[0])===(r=r[0])?u[o]?u[o]+=r:u[++o]=r:(u[++o]=null,s.push({i:o,x:KM(n,r)})),a=eE.lastIndex;return a<t.length&&(i=t.slice(a),u[o]?u[o]+=i:u[++o]=i),u.length<2?s[0]?function(e){return function(t){return e(t)+""}}(s[0].x):function(e){return function(){return e}}(t):(t=s.length,function(e){for(var n,r=0;r<t;++r)u[(n=s[r]).i]=n.x(e);return u.join("")})}function nE(e,t){var n,r=typeof t;return null==t||"boolean"===r?zM(t):("number"===r?KM:"string"===r?(n=xM(t))?(t=n,HM):tE:t instanceof xM?HM:t instanceof Date?YM:qM(t)?VM:Array.isArray(t)?$M:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?JM:KM)(e,t)}function rE(e){for(var t;t=e.sourceEvent;)e=t;return e}function iE(e,t){if(e=rE(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}var aE,oE,uE=0,sE=0,lE=0,cE=0,fE=0,hE=0,dE="object"===typeof performance&&performance.now?performance:Date,pE="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function vE(){return fE||(pE(mE),fE=dE.now()+hE)}function mE(){fE=0}function gE(){this._call=this._time=this._next=null}function yE(e,t,n){var r=new gE;return r.restart(e,t,n),r}function bE(){vE(),++uE;for(var e,t=aE;t;)(e=fE-t._time)>=0&&t._call.call(void 0,e),t=t._next;--uE}function xE(){fE=(cE=dE.now())+hE,uE=sE=0;try{bE()}finally{uE=0,function(){var e,t,n=aE,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:aE=t);oE=e,wE(r)}(),fE=0}}function _E(){var e=dE.now(),t=e-cE;t>1e3&&(hE-=t,cE=e)}function wE(e){uE||(sE&&(sE=clearTimeout(sE)),e-fE>24?(e<1/0&&(sE=setTimeout(xE,e-dE.now()-hE)),lE&&(lE=clearInterval(lE))):(lE||(cE=dE.now(),lE=setInterval(_E,1e3)),uE=1,pE(xE)))}function SE(e,t,n){var r=new gE;return t=null==t?0:+t,r.restart((function(n){r.stop(),e(n+t)}),t,n),r}gE.prototype=yE.prototype={constructor:gE,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?vE():+n)+(null==t?0:+t),this._next||oE===this||(oE?oE._next=this:aE=this,oE=this),this._call=e,this._time=n,wE()},stop:function(){this._call&&(this._call=null,this._time=1/0,wE())}};var kE=PS("start","end","cancel","interrupt"),ME=[];function EE(e,t,n,r,i,a){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function a(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(a){var l,c,f,h;if(1!==n.state)return s();for(l in i)if((h=i[l]).name===n.name){if(3===h.state)return SE(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete i[l]):+l<t&&(h.state=6,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete i[l])}if(SE((function(){3===n.state&&(n.state=4,n.timer.restart(u,n.delay,n.time),u(a))})),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(f=n.tween.length),l=0,c=-1;l<f;++l)(h=n.tween[l].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=h);r.length=c+1}}function u(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(s),n.state=5,1),a=-1,o=r.length;++a<o;)r[a].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=yE(a,0,n.time)}(e,n,{name:t,index:r,group:i,on:kE,tween:ME,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:0})}function TE(e,t){var n=CE(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function AE(e,t){var n=CE(e,t);if(n.state>3)throw new Error("too late; already running");return n}function CE(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function RE(e,t){var n,r,i,a=e.__transition,o=!0;if(a){for(i in t=null==t?null:t+"",a)(n=a[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete e.__transition}}var PE,LE=180/Math.PI,OE={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function IE(e,t,n,r,i,a){var o,u,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*LE,skewX:Math.atan(s)*LE,scaleX:o,scaleY:u}}function DE(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(a,o){var u=[],s=[];return a=e(a),o=e(o),function(e,r,i,a,o,u){if(e!==i||r!==a){var s=o.push("translate(",null,t,null,n);u.push({i:s-4,x:KM(e,i)},{i:s-2,x:KM(r,a)})}else(i||a)&&o.push("translate("+i+t+a+n)}(a.translateX,a.translateY,o.translateX,o.translateY,u,s),function(e,t,n,a){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:KM(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(a.rotate,o.rotate,u,s),function(e,t,n,a){e!==t?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:KM(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(a.skewX,o.skewX,u,s),function(e,t,n,r,a,o){if(e!==n||t!==r){var u=a.push(i(a)+"scale(",null,",",null,")");o.push({i:u-4,x:KM(e,n)},{i:u-2,x:KM(t,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,u,s),a=o=null,function(e){for(var t,n=-1,r=s.length;++n<r;)u[(t=s[n]).i]=t.x(e);return u.join("")}}}var NE=DE((function(e){var t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?OE:IE(t.a,t.b,t.c,t.d,t.e,t.f)}),"px, ","px)","deg)"),zE=DE((function(e){return null==e?OE:(PE||(PE=document.createElementNS("http://www.w3.org/2000/svg","g")),PE.setAttribute("transform",e),(e=PE.transform.baseVal.consolidate())?IE((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):OE)}),", ",")",")");function FE(e,t){var n,r;return function(){var i=AE(this,e),a=i.tween;if(a!==n)for(var o=0,u=(r=n=a).length;o<u;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function BE(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var a=AE(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var u={name:t,value:n},s=0,l=i.length;s<l;++s)if(i[s].name===t){i[s]=u;break}s===l&&i.push(u)}a.tween=i}}function UE(e,t,n){var r=e._id;return e.each((function(){var e=AE(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)})),function(e){return CE(e,r).value[t]}}function jE(e,t){var n;return("number"===typeof t?KM:t instanceof xM?HM:(n=xM(t))?(t=n,HM):tE)(e,t)}function HE(e){return function(){this.removeAttribute(e)}}function ZE(e){return function(){this.removeAttributeNS(e.space,e.local)}}function GE(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttribute(e);return o===a?null:o===r?i:i=t(r=o,n)}}function WE(e,t,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===r?i:i=t(r=o,n)}}function VE(e,t,n){var r,i,a;return function(){var o,u,s=n(this);if(null!=s)return(o=this.getAttribute(e))===(u=s+"")?null:o===r&&u===i?a:(i=u,a=t(r=o,s));this.removeAttribute(e)}}function qE(e,t,n){var r,i,a;return function(){var o,u,s=n(this);if(null!=s)return(o=this.getAttributeNS(e.space,e.local))===(u=s+"")?null:o===r&&u===i?a:(i=u,a=t(r=o,s));this.removeAttributeNS(e.space,e.local)}}function XE(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function $E(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function YE(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&$E(e,i)),n}return i._value=t,i}function KE(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&XE(e,i)),n}return i._value=t,i}function JE(e,t){return function(){TE(this,e).delay=+t.apply(this,arguments)}}function QE(e,t){return t=+t,function(){TE(this,e).delay=t}}function eT(e,t){return function(){AE(this,e).duration=+t.apply(this,arguments)}}function tT(e,t){return t=+t,function(){AE(this,e).duration=t}}function nT(e,t){if("function"!==typeof t)throw new Error;return function(){AE(this,e).ease=t}}function rT(e,t,n){var r,i,a=function(e){return(e+"").trim().split(/^|\s+/).every((function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e}))}(t)?TE:AE;return function(){var o=a(this,e),u=o.on;u!==r&&(i=(r=u).copy()).on(t,n),o.on=i}}var iT=Xk.prototype.constructor;function aT(e){return function(){this.style.removeProperty(e)}}function oT(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function uT(e,t,n){var r,i;function a(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&oT(e,a,n)),r}return a._value=t,a}function sT(e){return function(t){this.textContent=e.call(this,t)}}function lT(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&sT(r)),t}return r._value=e,r}var cT=0;function fT(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function hT(e){return Xk().transition(e)}function dT(){return++cT}var pT=Xk.prototype;function vT(e){return e*e*e}function mT(e){return--e*e*e+1}function gT(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}fT.prototype=hT.prototype=(0,u.Z)({constructor:fT,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=OS(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var u,s,l=r[o],c=l.length,f=a[o]=new Array(c),h=0;h<c;++h)(u=l[h])&&(s=e.call(u,u.__data__,h,l))&&("__data__"in u&&(s.__data__=u.__data__),f[h]=s,EE(f[h],t,n,h,f,CE(u,n)));return new fT(a,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=NS(e));for(var r=this._groups,i=r.length,a=[],o=[],u=0;u<i;++u)for(var s,l=r[u],c=l.length,f=0;f<c;++f)if(s=l[f]){for(var h,d=e.call(s,s.__data__,f,l),p=CE(s,n),v=0,m=d.length;v<m;++v)(h=d[v])&&EE(h,t,n,v,d,p);a.push(d),o.push(s)}return new fT(a,o,t,n)},selectChild:pT.selectChild,selectChildren:pT.selectChildren,filter:function(e){"function"!==typeof e&&(e=zS(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a,o=t[i],u=o.length,s=r[i]=[],l=0;l<u;++l)(a=o[l])&&e.call(a,a.__data__,l,o)&&s.push(a);return new fT(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var s,l=t[u],c=n[u],f=l.length,h=o[u]=new Array(f),d=0;d<f;++d)(s=l[d]||c[d])&&(h[d]=s);for(;u<r;++u)o[u]=t[u];return new fT(o,this._parents,this._name,this._id)},selection:function(){return new iT(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=dT(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,u=r[a],s=u.length,l=0;l<s;++l)if(o=u[l]){var c=CE(o,t);EE(o,e,n,l,u,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new fT(r,this._parents,e,n)},call:pT.call,nodes:pT.nodes,node:pT.node,size:pT.size,empty:pT.empty,each:pT.each,on:function(e,t){var n=this._id;return arguments.length<2?CE(this.node(),n).on.on(e):this.each(rT(n,e,t))},attr:function(e,t){var n=QS(e),r="transform"===n?zE:jE;return this.attrTween(e,"function"===typeof t?(n.local?qE:VE)(n,r,UE(this,"attr."+e,t)):null==t?(n.local?ZE:HE)(n):(n.local?WE:GE)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=QS(e);return this.tween(n,(r.local?YE:KE)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?NE:jE;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var a=ck(this,e),o=(this.style.removeProperty(e),ck(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}(e,r)).on("end.style."+e,aT(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,i,a;return function(){var o=ck(this,e),u=n(this),s=u+"";return null==u&&(this.style.removeProperty(e),s=u=ck(this,e)),o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,u))}}(e,r,UE(this,"style."+e,t))).each(function(e,t){var n,r,i,a,o="style."+t,u="end."+o;return function(){var s=AE(this,e),l=s.on,c=null==s.value[o]?a||(a=aT(t)):void 0;l===n&&i===c||(r=(n=l).copy()).on(u,i=c),s.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,a=n+"";return function(){var o=ck(this,e);return o===a?null:o===r?i:i=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,uT(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(UE(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,lT(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=CE(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===e)return r.value;return null}return this.each((null==t?FE:BE)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?JE:QE)(t,e)):CE(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?eT:tT)(t,e)):CE(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(nT(t,e)):CE(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;AE(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var u={value:o},s={value:function(){0===--i&&a()}};n.each((function(){var n=AE(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(u),t._.interrupt.push(u),t._.end.push(s)),n.on=t})),0===i&&a()}))}},Symbol.iterator,pT[Symbol.iterator]);var yT={time:null,delay:0,duration:250,ease:gT};function bT(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}Xk.prototype.interrupt=function(e){return this.each((function(){RE(this,e)}))},Xk.prototype.transition=function(e){var t,n;e instanceof fT?(t=e._id,e=e._name):(t=dT(),(n=yT).time=vE(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,u=r[a],s=u.length,l=0;l<s;++l)(o=u[l])&&EE(o,e,t,l,u,n||bT(o,t));return new fT(r,this._parents,e,t)};var xT=[null];function _T(e,t){var n,r,i=e.__transition;if(i)for(r in t=null==t?null:t+"",i)if((n=i[r]).state>1&&n.name===t)return new fT([[e]],xT,t,+r);return null}var wT=function(e){return function(){return e}};function ST(e,t){var n=t.sourceEvent,r=t.target,i=t.selection,a=t.mode,o=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},selection:{value:i,enumerable:!0,configurable:!0},mode:{value:a,enumerable:!0,configurable:!0},_:{value:o}})}function kT(e){e.stopImmediatePropagation()}function MT(e){e.preventDefault(),e.stopImmediatePropagation()}var ET={name:"drag"},TT={name:"space"},AT={name:"handle"},CT={name:"center"},RT=Math.abs,PT=Math.max,LT=Math.min;function OT(e){return[+e[0],+e[1]]}function IT(e){return[OT(e[0]),OT(e[1])]}var DT={name:"x",handles:["w","e"].map(ZT),input:function(e,t){return null==e?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},NT={name:"y",handles:["n","s"].map(ZT),input:function(e,t){return null==e?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},zT={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(ZT),input:function(e){return null==e?null:IT(e)},output:function(e){return e}},FT={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},BT={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},UT={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},jT={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},HT={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function ZT(e){return{type:e}}function GT(e){return!e.ctrlKey&&!e.button}function WT(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function VT(){return navigator.maxTouchPoints||"ontouchstart"in this}function qT(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function XT(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function $T(e){var t=e.__brush;return t?t.dim.output(t.selection):null}function YT(){return QT(DT)}function KT(){return QT(NT)}function JT(){return QT(zT)}function QT(e){var t,n=WT,r=GT,i=VT,a=!0,o=PS("start","brush","end"),u=6;function s(t){var n=t.property("__brush",m).selectAll(".overlay").data([ZT("overlay")]);n.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",FT.overlay).merge(n).each((function(){var e=qT(this).extent;$k(this).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1])})),t.selectAll(".selection").data([ZT("selection")]).enter().append("rect").attr("class","selection").attr("cursor",FT.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=t.selectAll(".handle").data(e.handles,(function(e){return e.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(e){return"handle handle--"+e.type})).attr("cursor",(function(e){return FT[e.type]})),t.each(l).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function l(){var e=$k(this),t=qT(this).selection;t?(e.selectAll(".selection").style("display",null).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1]),e.selectAll(".handle").style("display",null).attr("x",(function(e){return"e"===e.type[e.type.length-1]?t[1][0]-u/2:t[0][0]-u/2})).attr("y",(function(e){return"s"===e.type[0]?t[1][1]-u/2:t[0][1]-u/2})).attr("width",(function(e){return"n"===e.type||"s"===e.type?t[1][0]-t[0][0]+u:u})).attr("height",(function(e){return"e"===e.type||"w"===e.type?t[1][1]-t[0][1]+u:u}))):e.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function c(e,t,n){var r=e.__brush.emitter;return!r||n&&r.clean?new f(e,t,n):r}function f(e,t,n){this.that=e,this.args=t,this.state=e.__brush,this.active=0,this.clean=n}function h(n){if((!t||n.touches)&&r.apply(this,arguments)){var i,o,u,s,f,h,d,v,m,g,y,b=this,x=n.target.__data__.type,_="selection"===(a&&n.metaKey?x="overlay":x)?ET:a&&n.altKey?CT:AT,w=e===NT?null:jT[x],S=e===DT?null:HT[x],k=qT(b),M=k.extent,E=k.selection,T=M[0][0],A=M[0][1],C=M[1][0],R=M[1][1],P=0,L=0,O=w&&S&&a&&n.shiftKey,I=Array.from(n.touches||[n],(function(e){var t=e.identifier;return(e=iE(e,b)).point0=e.slice(),e.identifier=t,e}));RE(b);var D=c(b,arguments,!0).beforestart();if("overlay"===x){E&&(m=!0);var N=[I[0],I[1]||I[0]];k.selection=E=[[i=e===NT?T:LT(N[0][0],N[1][0]),u=e===DT?A:LT(N[0][1],N[1][1])],[f=e===NT?C:PT(N[0][0],N[1][0]),d=e===DT?R:PT(N[0][1],N[1][1])]],I.length>1&&j(n)}else i=E[0][0],u=E[0][1],f=E[1][0],d=E[1][1];o=i,s=u,h=f,v=d;var z=$k(b).attr("pointer-events","none"),F=z.selectAll(".overlay").attr("cursor",FT[x]);if(n.touches)D.moved=U,D.ended=H;else{var B=$k(n.view).on("mousemove.brush",U,!0).on("mouseup.brush",H,!0);a&&B.on("keydown.brush",Z,!0).on("keyup.brush",G,!0),eM(n.view)}l.call(b),D.start(n,_.name)}function U(e){var t,n=p(e.changedTouches||[e]);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,a=p(I);try{for(a.s();!(r=a.n()).done;){var o=r.value;o.identifier===i.identifier&&(o.cur=iE(i,b))}}catch(f){a.e(f)}finally{a.f()}}}catch(f){n.e(f)}finally{n.f()}if(O&&!g&&!y&&1===I.length){var u=I[0];RT(u.cur[0]-u[0])>RT(u.cur[1]-u[1])?y=!0:g=!0}var s,l=p(I);try{for(l.s();!(s=l.n()).done;){var c=s.value;c.cur&&(c[0]=c.cur[0],c[1]=c.cur[1])}}catch(f){l.e(f)}finally{l.f()}m=!0,MT(e),j(e)}function j(e){var t,n=I[0],r=n.point0;switch(P=n[0]-r[0],L=n[1]-r[1],_){case TT:case ET:w&&(P=PT(T-i,LT(C-f,P)),o=i+P,h=f+P),S&&(L=PT(A-u,LT(R-d,L)),s=u+L,v=d+L);break;case AT:I[1]?(w&&(o=PT(T,LT(C,I[0][0])),h=PT(T,LT(C,I[1][0])),w=1),S&&(s=PT(A,LT(R,I[0][1])),v=PT(A,LT(R,I[1][1])),S=1)):(w<0?(P=PT(T-i,LT(C-i,P)),o=i+P,h=f):w>0&&(P=PT(T-f,LT(C-f,P)),o=i,h=f+P),S<0?(L=PT(A-u,LT(R-u,L)),s=u+L,v=d):S>0&&(L=PT(A-d,LT(R-d,L)),s=u,v=d+L));break;case CT:w&&(o=PT(T,LT(C,i-P*w)),h=PT(T,LT(C,f+P*w))),S&&(s=PT(A,LT(R,u-L*S)),v=PT(A,LT(R,d+L*S)))}h<o&&(w*=-1,t=i,i=f,f=t,t=o,o=h,h=t,x in BT&&F.attr("cursor",FT[x=BT[x]])),v<s&&(S*=-1,t=u,u=d,d=t,t=s,s=v,v=t,x in UT&&F.attr("cursor",FT[x=UT[x]])),k.selection&&(E=k.selection),g&&(o=E[0][0],h=E[1][0]),y&&(s=E[0][1],v=E[1][1]),E[0][0]===o&&E[0][1]===s&&E[1][0]===h&&E[1][1]===v||(k.selection=[[o,s],[h,v]],l.call(b),D.brush(e,_.name))}function H(e){if(kT(e),e.touches){if(e.touches.length)return;t&&clearTimeout(t),t=setTimeout((function(){t=null}),500)}else tM(e.view,m),B.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);z.attr("pointer-events","all"),F.attr("cursor",FT.overlay),k.selection&&(E=k.selection),XT(E)&&(k.selection=null,l.call(b)),D.end(e,_.name)}function Z(e){switch(e.keyCode){case 16:O=w&&S;break;case 18:_===AT&&(w&&(f=h-P*w,i=o+P*w),S&&(d=v-L*S,u=s+L*S),_=CT,j(e));break;case 32:_!==AT&&_!==CT||(w<0?f=h-P:w>0&&(i=o-P),S<0?d=v-L:S>0&&(u=s-L),_=TT,F.attr("cursor",FT.selection),j(e));break;default:return}MT(e)}function G(e){switch(e.keyCode){case 16:O&&(g=y=O=!1,j(e));break;case 18:_===CT&&(w<0?f=h:w>0&&(i=o),S<0?d=v:S>0&&(u=s),_=AT,j(e));break;case 32:_===TT&&(e.altKey?(w&&(f=h-P*w,i=o+P*w),S&&(d=v-L*S,u=s+L*S),_=CT):(w<0?f=h:w>0&&(i=o),S<0?d=v:S>0&&(u=s),_=AT),F.attr("cursor",FT[x]),j(e));break;default:return}MT(e)}}function d(e){c(this,arguments).moved(e)}function v(e){c(this,arguments).ended(e)}function m(){var t=this.__brush||{selection:null};return t.extent=IT(n.apply(this,arguments)),t.dim=e,t}return s.move=function(t,n,r){t.tween?t.on("start.brush",(function(e){c(this,arguments).beforestart().start(e)})).on("interrupt.brush end.brush",(function(e){c(this,arguments).end(e)})).tween("brush",(function(){var t=this,r=t.__brush,i=c(t,arguments),a=r.selection,o=e.input("function"===typeof n?n.apply(this,arguments):n,r.extent),u=nE(a,o);function s(e){r.selection=1===e&&null===o?null:u(e),l.call(t),i.brush()}return null!==a&&null!==o?s:s(1)})):t.each((function(){var t=this,i=arguments,a=t.__brush,o=e.input("function"===typeof n?n.apply(t,i):n,a.extent),u=c(t,i).beforestart();RE(t),a.selection=null===o?null:o,l.call(t),u.start(r).brush(r).end(r)}))},s.clear=function(e,t){s.move(e,null,t)},f.prototype={beforestart:function(){return 1===++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(e,t){return this.starting?(this.starting=!1,this.emit("start",e,t)):this.emit("brush",e),this},brush:function(e,t){return this.emit("brush",e,t),this},end:function(e,t){return 0===--this.active&&(delete this.state.emitter,this.emit("end",e,t)),this},emit:function(t,n,r){var i=$k(this.that).datum();o.call(t,this.that,new ST(t,{sourceEvent:n,target:s,selection:e.output(this.state.selection),mode:r,dispatch:o}),i)}},s.extent=function(e){return arguments.length?(n="function"===typeof e?e:wT(IT(e)),s):n},s.filter=function(e){return arguments.length?(r="function"===typeof e?e:wT(!!e),s):r},s.touchable=function(e){return arguments.length?(i="function"===typeof e?e:wT(!!e),s):i},s.handleSize=function(e){return arguments.length?(u=+e,s):u},s.keyModifiers=function(e){return arguments.length?(a=!!e,s):a},s.on=function(){var e=o.on.apply(o,arguments);return e===o?s:e},s}var eA=Math.abs,tA=Math.cos,nA=Math.sin,rA=Math.PI,iA=rA/2,aA=2*rA,oA=Math.max,uA=1e-12;function sA(e,t){return Array.from({length:t-e},(function(t,n){return e+n}))}function lA(e){return function(t,n){return e(t.source.value+t.target.value,n.source.value+n.target.value)}}function cA(){return dA(!1,!1)}function fA(){return dA(!1,!0)}function hA(){return dA(!0,!1)}function dA(e,t){var n=0,r=null,i=null,a=null;function o(o){var u,s=o.length,l=new Array(s),c=sA(0,s),f=new Array(s*s),h=new Array(s),d=0;o=Float64Array.from({length:s*s},t?function(e,t){return o[t%s][t/s|0]}:function(e,t){return o[t/s|0][t%s]});for(var v=0;v<s;++v){for(var m=0,g=0;g<s;++g)m+=o[v*s+g]+e*o[g*s+v];d+=l[v]=m}d=oA(0,aA-n*s)/d,u=d?n:aA/s;var y=0;r&&c.sort((function(e,t){return r(l[e],l[t])}));var b,x=p(c);try{var _=function(){var t=b.value,n=y;if(e){var r=sA(1+~s,s).filter((function(e){return e<0?o[~e*s+t]:o[t*s+e]}));i&&r.sort((function(e,n){return i(e<0?-o[~e*s+t]:o[t*s+e],n<0?-o[~n*s+t]:o[t*s+n])}));var a,c=p(r);try{for(c.s();!(a=c.n()).done;){var v=a.value;if(v<0)(f[~v*s+t]||(f[~v*s+t]={source:null,target:null})).target={index:t,startAngle:y,endAngle:y+=o[~v*s+t]*d,value:o[~v*s+t]};else(f[t*s+v]||(f[t*s+v]={source:null,target:null})).source={index:t,startAngle:y,endAngle:y+=o[t*s+v]*d,value:o[t*s+v]}}}catch(k){c.e(k)}finally{c.f()}h[t]={index:t,startAngle:n,endAngle:y,value:l[t]}}else{var m=sA(0,s).filter((function(e){return o[t*s+e]||o[e*s+t]}));i&&m.sort((function(e,n){return i(o[t*s+e],o[t*s+n])}));var g,x=p(m);try{for(x.s();!(g=x.n()).done;){var _=g.value,w=void 0;if(t<_?(w=f[t*s+_]||(f[t*s+_]={source:null,target:null})).source={index:t,startAngle:y,endAngle:y+=o[t*s+_]*d,value:o[t*s+_]}:((w=f[_*s+t]||(f[_*s+t]={source:null,target:null})).target={index:t,startAngle:y,endAngle:y+=o[t*s+_]*d,value:o[t*s+_]},t===_&&(w.source=w.target)),w.source&&w.target&&w.source.value<w.target.value){var S=w.source;w.source=w.target,w.target=S}}}catch(k){x.e(k)}finally{x.f()}h[t]={index:t,startAngle:n,endAngle:y,value:l[t]}}y+=u};for(x.s();!(b=x.n()).done;)_()}catch(w){x.e(w)}finally{x.f()}return(f=Object.values(f)).groups=h,a?f.sort(a):f}return o.padAngle=function(e){return arguments.length?(n=oA(0,e),o):n},o.sortGroups=function(e){return arguments.length?(r=e,o):r},o.sortSubgroups=function(e){return arguments.length?(i=e,o):i},o.sortChords=function(e){return arguments.length?(null==e?a=null:(a=lA(e))._=e,o):a&&a._},o}var pA=Math.PI,vA=2*pA,mA=1e-6,gA=vA-mA;function yA(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function bA(){return new yA}yA.prototype=bA.prototype={constructor:yA,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,n,r){this._+="Q"+ +e+","+ +t+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(e,t,n,r,i,a){this._+="C"+ +e+","+ +t+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(e,t,n,r,i){e=+e,t=+t,n=+n,r=+r,i=+i;var a=this._x1,o=this._y1,u=n-e,s=r-t,l=a-e,c=o-t,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(f>mA)if(Math.abs(c*u-s*l)>mA&&i){var h=n-a,d=r-o,p=u*u+s*s,v=h*h+d*d,m=Math.sqrt(p),g=Math.sqrt(f),y=i*Math.tan((pA-Math.acos((p+f-v)/(2*m*g)))/2),b=y/g,x=y/m;Math.abs(b-1)>mA&&(this._+="L"+(e+b*l)+","+(t+b*c)),this._+="A"+i+","+i+",0,0,"+ +(c*h>l*d)+","+(this._x1=e+x*u)+","+(this._y1=t+x*s)}else this._+="L"+(this._x1=e)+","+(this._y1=t);else;},arc:function(e,t,n,r,i,a){e=+e,t=+t,a=!!a;var o=(n=+n)*Math.cos(r),u=n*Math.sin(r),s=e+o,l=t+u,c=1^a,f=a?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+l:(Math.abs(this._x1-s)>mA||Math.abs(this._y1-l)>mA)&&(this._+="L"+s+","+l),n&&(f<0&&(f=f%vA+vA),f>gA?this._+="A"+n+","+n+",0,1,"+c+","+(e-o)+","+(t-u)+"A"+n+","+n+",0,1,"+c+","+(this._x1=s)+","+(this._y1=l):f>mA&&(this._+="A"+n+","+n+",0,"+ +(f>=pA)+","+c+","+(this._x1=e+n*Math.cos(i))+","+(this._y1=t+n*Math.sin(i))))},rect:function(e,t,n,r){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var xA=bA,_A=Array.prototype.slice;function wA(e){return function(){return e}}function SA(e){return e.source}function kA(e){return e.target}function MA(e){return e.radius}function EA(e){return e.startAngle}function TA(e){return e.endAngle}function AA(){return 0}function CA(){return 10}function RA(e){var t=SA,n=kA,r=MA,i=MA,a=EA,o=TA,u=AA,s=null;function l(){var l,c=t.apply(this,arguments),f=n.apply(this,arguments),h=u.apply(this,arguments)/2,d=_A.call(arguments),p=+r.apply(this,(d[0]=c,d)),v=a.apply(this,d)-iA,m=o.apply(this,d)-iA,g=+i.apply(this,(d[0]=f,d)),y=a.apply(this,d)-iA,b=o.apply(this,d)-iA;if(s||(s=l=xA()),h>uA&&(eA(m-v)>2*h+uA?m>v?(v+=h,m-=h):(v-=h,m+=h):v=m=(v+m)/2,eA(b-y)>2*h+uA?b>y?(y+=h,b-=h):(y-=h,b+=h):y=b=(y+b)/2),s.moveTo(p*tA(v),p*nA(v)),s.arc(0,0,p,v,m),v!==y||m!==b)if(e){var x=+e.apply(this,arguments),_=g-x,w=(y+b)/2;s.quadraticCurveTo(0,0,_*tA(y),_*nA(y)),s.lineTo(g*tA(w),g*nA(w)),s.lineTo(_*tA(b),_*nA(b))}else s.quadraticCurveTo(0,0,g*tA(y),g*nA(y)),s.arc(0,0,g,y,b);if(s.quadraticCurveTo(0,0,p*tA(v),p*nA(v)),s.closePath(),l)return s=null,l+""||null}return e&&(l.headRadius=function(t){return arguments.length?(e="function"===typeof t?t:wA(+t),l):e}),l.radius=function(e){return arguments.length?(r=i="function"===typeof e?e:wA(+e),l):r},l.sourceRadius=function(e){return arguments.length?(r="function"===typeof e?e:wA(+e),l):r},l.targetRadius=function(e){return arguments.length?(i="function"===typeof e?e:wA(+e),l):i},l.startAngle=function(e){return arguments.length?(a="function"===typeof e?e:wA(+e),l):a},l.endAngle=function(e){return arguments.length?(o="function"===typeof e?e:wA(+e),l):o},l.padAngle=function(e){return arguments.length?(u="function"===typeof e?e:wA(+e),l):u},l.source=function(e){return arguments.length?(t=e,l):t},l.target=function(e){return arguments.length?(n=e,l):n},l.context=function(e){return arguments.length?(s=null==e?null:e,l):s},l}function PA(){return RA()}function LA(){return RA(CA)}var OA=Math.PI/180,IA=180/Math.PI,DA=.96422,NA=.82521,zA=4/29,FA=6/29,BA=3*FA*FA;function UA(e){if(e instanceof ZA)return new ZA(e.l,e.a,e.b,e.opacity);if(e instanceof KA)return JA(e);e instanceof MM||(e=SM(e));var t,n,r=qA(e.r),i=qA(e.g),a=qA(e.b),o=GA((.2225045*r+.7168786*i+.0606169*a)/1);return r===i&&i===a?t=n=o:(t=GA((.4360747*r+.3850649*i+.1430804*a)/DA),n=GA((.0139322*r+.0971045*i+.7141733*a)/NA)),new ZA(116*o-16,500*(t-o),200*(o-n),e.opacity)}function jA(e,t){return new ZA(e,0,0,null==t?1:t)}function HA(e,t,n,r){return 1===arguments.length?UA(e):new ZA(e,t,n,null==r?1:r)}function ZA(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}function GA(e){return e>.008856451679035631?Math.pow(e,1/3):e/BA+zA}function WA(e){return e>FA?e*e*e:BA*(e-zA)}function VA(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function qA(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function XA(e){if(e instanceof KA)return new KA(e.h,e.c,e.l,e.opacity);if(e instanceof ZA||(e=UA(e)),0===e.a&&0===e.b)return new KA(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*IA;return new KA(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function $A(e,t,n,r){return 1===arguments.length?XA(e):new KA(n,t,e,null==r?1:r)}function YA(e,t,n,r){return 1===arguments.length?XA(e):new KA(e,t,n,null==r?1:r)}function KA(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function JA(e){if(isNaN(e.h))return new ZA(e.l,0,0,e.opacity);var t=e.h*OA;return new ZA(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}nM(ZA,HA,rM(iM,{brighter:function(e){return new ZA(this.l+18*(null==e?1:e),this.a,this.b,this.opacity)},darker:function(e){return new ZA(this.l-18*(null==e?1:e),this.a,this.b,this.opacity)},rgb:function(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return new MM(VA(3.1338561*(t=DA*WA(t))-1.6168667*(e=1*WA(e))-.4906146*(n=NA*WA(n))),VA(-.9787684*t+1.9161415*e+.033454*n),VA(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}})),nM(KA,YA,rM(iM,{brighter:function(e){return new KA(this.h,this.c,this.l+18*(null==e?1:e),this.opacity)},darker:function(e){return new KA(this.h,this.c,this.l-18*(null==e?1:e),this.opacity)},rgb:function(){return JA(this).rgb()}}));var QA=-.14861,eC=1.78277,tC=-.29227,nC=-.90649,rC=1.97294,iC=rC*nC,aC=rC*eC,oC=eC*tC-nC*QA;function uC(e){if(e instanceof lC)return new lC(e.h,e.s,e.l,e.opacity);e instanceof MM||(e=SM(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(oC*r+iC*t-aC*n)/(oC+iC-aC),a=r-i,o=(rC*(n-i)-tC*a)/nC,u=Math.sqrt(o*o+a*a)/(rC*i*(1-i)),s=u?Math.atan2(o,a)*IA-120:NaN;return new lC(s<0?s+360:s,u,i,e.opacity)}function sC(e,t,n,r){return 1===arguments.length?uC(e):new lC(e,t,n,null==r?1:r)}function lC(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}nM(lC,sC,rM(iM,{brighter:function(e){return e=null==e?oM:Math.pow(oM,e),new lC(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=null==e?aM:Math.pow(aM,e),new lC(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=isNaN(this.h)?0:(this.h+120)*OA,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new MM(255*(t+n*(QA*r+eC*i)),255*(t+n*(tC*r+nC*i)),255*(t+n*(rC*r)),this.opacity)}}));var cC=Array.prototype.slice;function fC(e,t){return e-t}var hC=function(e){return function(){return e}};function dC(e,t){for(var n,r=-1,i=t.length;++r<i;)if(n=pC(e,t[r]))return n;return 0}function pC(e,t){for(var n=t[0],r=t[1],i=-1,a=0,o=e.length,u=o-1;a<o;u=a++){var s=e[a],l=s[0],c=s[1],f=e[u],h=f[0],d=f[1];if(vC(s,f,t))return 0;c>r!==d>r&&n<(h-l)*(r-c)/(d-c)+l&&(i=-i)}return i}function vC(e,t,n){var r;return function(e,t,n){return(t[0]-e[0])*(n[1]-e[1])===(n[0]-e[0])*(t[1]-e[1])}(e,t,n)&&function(e,t,n){return e<=t&&t<=n||n<=t&&t<=e}(e[r=+(e[0]===t[0])],n[r],t[r])}function mC(){}var gC=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]];function yC(){var e=1,t=1,n=xw,r=u;function i(e){var t=n(e);if(Array.isArray(t))t=t.slice().sort(fC);else{var r=N_(e),i=yw(r[0],r[1],t);t=mw(Math.floor(r[0]/i)*i,Math.floor(r[1]/i-1)*i,t)}return t.map((function(t){return a(e,t)}))}function a(n,i){var a=[],u=[];return function(n,r,i){var a,u,s,l,c,f,h=new Array,d=new Array;a=u=-1,l=n[0]>=r,gC[l<<1].forEach(p);for(;++a<e-1;)s=l,l=n[a+1]>=r,gC[s|l<<1].forEach(p);gC[l<<0].forEach(p);for(;++u<t-1;){for(a=-1,l=n[u*e+e]>=r,c=n[u*e]>=r,gC[l<<1|c<<2].forEach(p);++a<e-1;)s=l,l=n[u*e+e+a+1]>=r,f=c,c=n[u*e+a+1]>=r,gC[s|l<<1|c<<2|f<<3].forEach(p);gC[l|c<<3].forEach(p)}a=-1,c=n[u*e]>=r,gC[c<<2].forEach(p);for(;++a<e-1;)f=c,c=n[u*e+a+1]>=r,gC[c<<2|f<<3].forEach(p);function p(e){var t,n,r=[e[0][0]+a,e[0][1]+u],s=[e[1][0]+a,e[1][1]+u],l=o(r),c=o(s);(t=d[l])?(n=h[c])?(delete d[t.end],delete h[n.start],t===n?(t.ring.push(s),i(t.ring)):h[t.start]=d[n.end]={start:t.start,end:n.end,ring:t.ring.concat(n.ring)}):(delete d[t.end],t.ring.push(s),d[t.end=c]=t):(t=h[c])?(n=d[l])?(delete h[t.start],delete d[n.end],t===n?(t.ring.push(s),i(t.ring)):h[n.start]=d[t.end]={start:n.start,end:t.end,ring:n.ring.concat(t.ring)}):(delete h[t.start],t.ring.unshift(r),h[t.start=l]=t):h[l]=d[c]={start:l,end:c,ring:[r,s]}}gC[c<<3].forEach(p)}(n,i,(function(e){r(e,n,i),function(e){for(var t=0,n=e.length,r=e[n-1][1]*e[0][0]-e[n-1][0]*e[0][1];++t<n;)r+=e[t-1][1]*e[t][0]-e[t-1][0]*e[t][1];return r}(e)>0?a.push([e]):u.push(e)})),u.forEach((function(e){for(var t,n=0,r=a.length;n<r;++n)if(-1!==dC((t=a[n])[0],e))return void t.push(e)})),{type:"MultiPolygon",value:i,coordinates:a}}function o(t){return 2*t[0]+t[1]*(e+1)*4}function u(n,r,i){n.forEach((function(n){var a,o=n[0],u=n[1],s=0|o,l=0|u,c=r[l*e+s];o>0&&o<e&&s===o&&(a=r[l*e+s-1],n[0]=o+(i-a)/(c-a)-.5),u>0&&u<t&&l===u&&(a=r[(l-1)*e+s],n[1]=u+(i-a)/(c-a)-.5)}))}return i.contour=a,i.size=function(n){if(!arguments.length)return[e,t];var r=Math.floor(n[0]),a=Math.floor(n[1]);if(!(r>=0&&a>=0))throw new Error("invalid size");return e=r,t=a,i},i.thresholds=function(e){return arguments.length?(n="function"===typeof e?e:Array.isArray(e)?hC(cC.call(e)):hC(e),i):n},i.smooth=function(e){return arguments.length?(r=e?u:mC,i):r===u},i}function bC(e,t,n){for(var r=e.width,i=e.height,a=1+(n<<1),o=0;o<i;++o)for(var u=0,s=0;u<r+n;++u)u<r&&(s+=e.data[u+o*r]),u>=n&&(u>=a&&(s-=e.data[u-a+o*r]),t.data[u-n+o*r]=s/Math.min(u+1,r-1+a-u,a))}function xC(e,t,n){for(var r=e.width,i=e.height,a=1+(n<<1),o=0;o<r;++o)for(var u=0,s=0;u<i+n;++u)u<i&&(s+=e.data[o+u*r]),u>=n&&(u>=a&&(s-=e.data[o+(u-a)*r]),t.data[o+(u-n)*r]=s/Math.min(u+1,i-1+a-u,a))}function _C(e){return e[0]}function wC(e){return e[1]}function SC(){return 1}function kC(){var e=_C,t=wC,n=SC,r=960,i=500,a=20,o=2,u=3*a,s=r+2*u>>o,l=i+2*u>>o,c=hC(20);function f(r){var i=new Float32Array(s*l),f=new Float32Array(s*l),d=Math.pow(2,-o);r.forEach((function(r,a,o){var c=(e(r,a,o)+u)*d,f=(t(r,a,o)+u)*d,h=+n(r,a,o);if(c>=0&&c<s&&f>=0&&f<l){var p=Math.floor(c),v=Math.floor(f),m=c-p-.5,g=f-v-.5;i[p+v*s]+=(1-m)*(1-g)*h,i[p+1+v*s]+=m*(1-g)*h,i[p+1+(v+1)*s]+=m*g*h,i[p+(v+1)*s]+=(1-m)*g*h}})),bC({width:s,height:l,data:i},{width:s,height:l,data:f},a>>o),xC({width:s,height:l,data:f},{width:s,height:l,data:i},a>>o),bC({width:s,height:l,data:i},{width:s,height:l,data:f},a>>o),xC({width:s,height:l,data:f},{width:s,height:l,data:i},a>>o),bC({width:s,height:l,data:i},{width:s,height:l,data:f},a>>o),xC({width:s,height:l,data:f},{width:s,height:l,data:i},a>>o);var p=c(i);if(!Array.isArray(p)){var v=ww(i);p=yw(0,v,p),(p=Uw(0,Math.floor(v/p)*p,p)).shift()}return yC().thresholds(p).size([s,l])(i).map(h)}function h(e){return e.value*=Math.pow(2,-2*o),e.coordinates.forEach(d),e}function d(e){e.forEach(p)}function p(e){e.forEach(v)}function v(e){e[0]=e[0]*Math.pow(2,o)-u,e[1]=e[1]*Math.pow(2,o)-u}function m(){return s=r+2*(u=3*a)>>o,l=i+2*u>>o,f}return f.x=function(t){return arguments.length?(e="function"===typeof t?t:hC(+t),f):e},f.y=function(e){return arguments.length?(t="function"===typeof e?e:hC(+e),f):t},f.weight=function(e){return arguments.length?(n="function"===typeof e?e:hC(+e),f):n},f.size=function(e){if(!arguments.length)return[r,i];var t=+e[0],n=+e[1];if(!(t>=0&&n>=0))throw new Error("invalid size");return r=t,i=n,m()},f.cellSize=function(e){if(!arguments.length)return 1<<o;if(!((e=+e)>=1))throw new Error("invalid cell size");return o=Math.floor(Math.log(e)/Math.LN2),m()},f.thresholds=function(e){return arguments.length?(c="function"===typeof e?e:Array.isArray(e)?hC(cC.call(e)):hC(e),f):c},f.bandwidth=function(e){if(!arguments.length)return Math.sqrt(a*(a+1));if(!((e=+e)>=0))throw new Error("invalid bandwidth");return a=Math.round((Math.sqrt(4*e*e+1)-1)/2),m()},f}var MC=134217729;function EC(e,t,n,r,i){var a,o,u,s,l=t[0],c=r[0],f=0,h=0;c>l===c>-l?(a=l,l=t[++f]):(a=c,c=r[++h]);var d=0;if(f<e&&h<n)for(c>l===c>-l?(u=a-((o=l+a)-l),l=t[++f]):(u=a-((o=c+a)-c),c=r[++h]),a=o,0!==u&&(i[d++]=u);f<e&&h<n;)c>l===c>-l?(u=a-((o=a+l)-(s=o-a))+(l-s),l=t[++f]):(u=a-((o=a+c)-(s=o-a))+(c-s),c=r[++h]),a=o,0!==u&&(i[d++]=u);for(;f<e;)u=a-((o=a+l)-(s=o-a))+(l-s),l=t[++f],a=o,0!==u&&(i[d++]=u);for(;h<n;)u=a-((o=a+c)-(s=o-a))+(c-s),c=r[++h],a=o,0!==u&&(i[d++]=u);return 0===a&&0!==d||(i[d++]=a),d}function TC(e){return new Float64Array(e)}var AC=TC(4),CC=TC(8),RC=TC(12),PC=TC(16),LC=TC(4);function OC(e,t,n,r,i,a){var o=(t-a)*(n-i),u=(e-i)*(r-a),s=o-u;if(0===o||0===u||o>0!==u>0)return s;var l=Math.abs(o+u);return Math.abs(s)>=33306690738754716e-32*l?s:-function(e,t,n,r,i,a,o){var u,s,l,c,f,h,d,p,v,m,g,y,b,x,_,w,S,k,M=e-i,E=n-i,T=t-a,A=r-a;f=(_=(p=M-(d=(h=MC*M)-(h-M)))*(m=A-(v=(h=MC*A)-(h-A)))-((x=M*A)-d*v-p*v-d*m))-(g=_-(S=(p=T-(d=(h=MC*T)-(h-T)))*(m=E-(v=(h=MC*E)-(h-E)))-((w=T*E)-d*v-p*v-d*m))),AC[0]=_-(g+f)+(f-S),f=(b=x-((y=x+g)-(f=y-x))+(g-f))-(g=b-w),AC[1]=b-(g+f)+(f-w),f=(k=y+g)-y,AC[2]=y-(k-f)+(g-f),AC[3]=k;var C=function(e,t){for(var n=t[0],r=1;r<e;r++)n+=t[r];return n}(4,AC),R=22204460492503146e-32*o;if(C>=R||-C>=R)return C;if(u=e-(M+(f=e-M))+(f-i),l=n-(E+(f=n-E))+(f-i),s=t-(T+(f=t-T))+(f-a),c=r-(A+(f=r-A))+(f-a),0===u&&0===s&&0===l&&0===c)return C;if(R=11093356479670487e-47*o+33306690738754706e-32*Math.abs(C),(C+=M*c+A*u-(T*l+E*s))>=R||-C>=R)return C;f=(_=(p=u-(d=(h=MC*u)-(h-u)))*(m=A-(v=(h=MC*A)-(h-A)))-((x=u*A)-d*v-p*v-d*m))-(g=_-(S=(p=s-(d=(h=MC*s)-(h-s)))*(m=E-(v=(h=MC*E)-(h-E)))-((w=s*E)-d*v-p*v-d*m))),LC[0]=_-(g+f)+(f-S),f=(b=x-((y=x+g)-(f=y-x))+(g-f))-(g=b-w),LC[1]=b-(g+f)+(f-w),f=(k=y+g)-y,LC[2]=y-(k-f)+(g-f),LC[3]=k;var P=EC(4,AC,4,LC,CC);f=(_=(p=M-(d=(h=MC*M)-(h-M)))*(m=c-(v=(h=MC*c)-(h-c)))-((x=M*c)-d*v-p*v-d*m))-(g=_-(S=(p=T-(d=(h=MC*T)-(h-T)))*(m=l-(v=(h=MC*l)-(h-l)))-((w=T*l)-d*v-p*v-d*m))),LC[0]=_-(g+f)+(f-S),f=(b=x-((y=x+g)-(f=y-x))+(g-f))-(g=b-w),LC[1]=b-(g+f)+(f-w),f=(k=y+g)-y,LC[2]=y-(k-f)+(g-f),LC[3]=k;var L=EC(P,CC,4,LC,RC);f=(_=(p=u-(d=(h=MC*u)-(h-u)))*(m=c-(v=(h=MC*c)-(h-c)))-((x=u*c)-d*v-p*v-d*m))-(g=_-(S=(p=s-(d=(h=MC*s)-(h-s)))*(m=l-(v=(h=MC*l)-(h-l)))-((w=s*l)-d*v-p*v-d*m))),LC[0]=_-(g+f)+(f-S),f=(b=x-((y=x+g)-(f=y-x))+(g-f))-(g=b-w),LC[1]=b-(g+f)+(f-w),f=(k=y+g)-y,LC[2]=y-(k-f)+(g-f),LC[3]=k;var O=EC(L,RC,4,LC,PC);return PC[O-1]}(e,t,n,r,i,a,l)}TC(4),TC(4),TC(4),TC(4),TC(4),TC(4),TC(4),TC(4),TC(4),TC(8),TC(8),TC(8),TC(4),TC(8),TC(8),TC(8),TC(12),TC(192),TC(192);TC(4),TC(4),TC(4),TC(4),TC(4),TC(4),TC(4),TC(4),TC(8),TC(8),TC(8),TC(8),TC(8),TC(8),TC(8),TC(8),TC(8),TC(4),TC(4),TC(4),TC(8),TC(16),TC(16),TC(16),TC(32),TC(32),TC(48),TC(64),TC(1152),TC(1152);TC(4),TC(4),TC(4),TC(4),TC(4),TC(4),TC(4),TC(4),TC(4),TC(4),TC(24),TC(24),TC(24),TC(24),TC(24),TC(24),TC(24),TC(24),TC(24),TC(24),TC(1152),TC(1152),TC(1152),TC(1152),TC(1152),TC(2304),TC(2304),TC(3456),TC(5760),TC(8),TC(8),TC(8),TC(16),TC(24),TC(48),TC(48),TC(96),TC(192),TC(384),TC(384),TC(384),TC(768);TC(96),TC(96),TC(96),TC(1152);var IC=Math.pow(2,-52),DC=new Uint32Array(512),NC=function(){function e(t){S(this,e);var n=t.length>>1;if(n>0&&"number"!==typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;var r=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*r),this._halfedges=new Int32Array(3*r),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}return M(e,[{key:"update",value:function(){for(var e=this.coords,t=this._hullPrev,n=this._hullNext,r=this._hullTri,i=this._hullHash,a=e.length>>1,o=1/0,u=1/0,s=-1/0,l=-1/0,c=0;c<a;c++){var f=e[2*c],h=e[2*c+1];f<o&&(o=f),h<u&&(u=h),f>s&&(s=f),h>l&&(l=h),this._ids[c]=c}for(var d,p,v,m=(o+s)/2,g=(u+l)/2,y=1/0,b=0;b<a;b++){var x=zC(m,g,e[2*b],e[2*b+1]);x<y&&(d=b,y=x)}var _=e[2*d],w=e[2*d+1];y=1/0;for(var S=0;S<a;S++)if(S!==d){var k=zC(_,w,e[2*S],e[2*S+1]);k<y&&k>0&&(p=S,y=k)}for(var M=e[2*p],E=e[2*p+1],T=1/0,A=0;A<a;A++)if(A!==d&&A!==p){var C=BC(_,w,M,E,e[2*A],e[2*A+1]);C<T&&(v=A,T=C)}var R=e[2*v],P=e[2*v+1];if(T===1/0){for(var L=0;L<a;L++)this._dists[L]=e[2*L]-e[0]||e[2*L+1]-e[1];UC(this._ids,this._dists,0,a-1);for(var O=new Uint32Array(a),I=0,D=0,N=-1/0;D<a;D++){var z=this._ids[D];this._dists[z]>N&&(O[I++]=z,N=this._dists[z])}return this.hull=O.subarray(0,I),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(OC(_,w,M,E,R,P)<0){var F=p,B=M,U=E;p=v,M=R,E=P,v=F,R=B,P=U}var j=function(e,t,n,r,i,a){var o=n-e,u=r-t,s=i-e,l=a-t,c=o*o+u*u,f=s*s+l*l,h=.5/(o*l-u*s);return{x:e+(l*c-u*f)*h,y:t+(o*f-s*c)*h}}(_,w,M,E,R,P);this._cx=j.x,this._cy=j.y;for(var H=0;H<a;H++)this._dists[H]=zC(e[2*H],e[2*H+1],j.x,j.y);UC(this._ids,this._dists,0,a-1),this._hullStart=d;var Z=3;n[d]=t[v]=p,n[p]=t[d]=v,n[v]=t[p]=d,r[d]=0,r[p]=1,r[v]=2,i.fill(-1),i[this._hashKey(_,w)]=d,i[this._hashKey(M,E)]=p,i[this._hashKey(R,P)]=v,this.trianglesLen=0,this._addTriangle(d,p,v,-1,-1,-1);for(var G,W,V=0;V<this._ids.length;V++){var q=this._ids[V],X=e[2*q],$=e[2*q+1];if(!(V>0&&Math.abs(X-G)<=IC&&Math.abs($-W)<=IC)&&(G=X,W=$,q!==d&&q!==p&&q!==v)){for(var Y=0,K=0,J=this._hashKey(X,$);K<this._hashSize&&(-1===(Y=i[(J+K)%this._hashSize])||Y===n[Y]);K++);for(var Q=Y=t[Y],ee=void 0;ee=n[Q],OC(X,$,e[2*Q],e[2*Q+1],e[2*ee],e[2*ee+1])>=0;)if((Q=ee)===Y){Q=-1;break}if(-1!==Q){var te=this._addTriangle(Q,q,n[Q],-1,-1,r[Q]);r[q]=this._legalize(te+2),r[Q]=te,Z++;for(var ne=n[Q];ee=n[ne],OC(X,$,e[2*ne],e[2*ne+1],e[2*ee],e[2*ee+1])<0;)te=this._addTriangle(ne,q,ee,r[q],-1,r[ne]),r[q]=this._legalize(te+2),n[ne]=ne,Z--,ne=ee;if(Q===Y)for(;OC(X,$,e[2*(ee=t[Q])],e[2*ee+1],e[2*Q],e[2*Q+1])<0;)te=this._addTriangle(ee,q,Q,-1,r[Q],r[ee]),this._legalize(te+2),r[ee]=te,n[Q]=Q,Z--,Q=ee;this._hullStart=t[q]=Q,n[Q]=t[ne]=q,n[q]=ne,i[this._hashKey(X,$)]=q,i[this._hashKey(e[2*Q],e[2*Q+1])]=Q}}}this.hull=new Uint32Array(Z);for(var re=0,ie=this._hullStart;re<Z;re++)this.hull[re]=ie,ie=n[ie];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}},{key:"_hashKey",value:function(e,t){return Math.floor(function(e,t){var n=e/(Math.abs(e)+Math.abs(t));return(t>0?3-n:1+n)/4}(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}},{key:"_legalize",value:function(e){for(var t=this._triangles,n=this._halfedges,r=this.coords,i=0,a=0;;){var o=n[e],u=e-e%3;if(a=u+(e+2)%3,-1!==o){var s=o-o%3,l=u+(e+1)%3,c=s+(o+2)%3,f=t[a],h=t[e],d=t[l],p=t[c];if(FC(r[2*f],r[2*f+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){t[e]=p,t[o]=f;var v=n[c];if(-1===v){var m=this._hullStart;do{if(this._hullTri[m]===c){this._hullTri[m]=e;break}m=this._hullPrev[m]}while(m!==this._hullStart)}this._link(e,v),this._link(o,n[a]),this._link(a,c);var g=s+(o+1)%3;i<DC.length&&(DC[i++]=g)}else{if(0===i)break;e=DC[--i]}}else{if(0===i)break;e=DC[--i]}}return a}},{key:"_link",value:function(e,t){this._halfedges[e]=t,-1!==t&&(this._halfedges[t]=e)}},{key:"_addTriangle",value:function(e,t,n,r,i,a){var o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=n,this._link(o,r),this._link(o+1,i),this._link(o+2,a),this.trianglesLen+=3,o}}],[{key:"from",value:function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:HC,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ZC,i=t.length,a=new Float64Array(2*i),o=0;o<i;o++){var u=t[o];a[2*o]=n(u),a[2*o+1]=r(u)}return new e(a)}}]),e}();function zC(e,t,n,r){var i=e-n,a=t-r;return i*i+a*a}function FC(e,t,n,r,i,a,o,u){var s=e-o,l=t-u,c=n-o,f=r-u,h=i-o,d=a-u,p=c*c+f*f,v=h*h+d*d;return s*(f*v-p*d)-l*(c*v-p*h)+(s*s+l*l)*(c*d-f*h)<0}function BC(e,t,n,r,i,a){var o=n-e,u=r-t,s=i-e,l=a-t,c=o*o+u*u,f=s*s+l*l,h=.5/(o*l-u*s),d=(l*c-u*f)*h,p=(o*f-s*c)*h;return d*d+p*p}function UC(e,t,n,r){if(r-n<=20)for(var i=n+1;i<=r;i++){for(var a=e[i],o=t[a],u=i-1;u>=n&&t[e[u]]>o;)e[u+1]=e[u--];e[u+1]=a}else{var s=n+1,l=r;jC(e,n+r>>1,s),t[e[n]]>t[e[r]]&&jC(e,n,r),t[e[s]]>t[e[r]]&&jC(e,s,r),t[e[n]]>t[e[s]]&&jC(e,n,s);for(var c=e[s],f=t[c];;){do{s++}while(t[e[s]]<f);do{l--}while(t[e[l]]>f);if(l<s)break;jC(e,s,l)}e[n+1]=e[l],e[l]=c,r-s+1>=l-n?(UC(e,t,s,r),UC(e,t,n,l-1)):(UC(e,t,n,l-1),UC(e,t,s,r))}}function jC(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function HC(e){return e[0]}function ZC(e){return e[1]}var GC=1e-6,WC=function(){function e(){S(this,e),this._x0=this._y0=this._x1=this._y1=null,this._=""}return M(e,[{key:"moveTo",value:function(e,t){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t)}},{key:"closePath",value:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}},{key:"lineTo",value:function(e,t){this._+="L".concat(this._x1=+e,",").concat(this._y1=+t)}},{key:"arc",value:function(e,t,n){var r=(e=+e)+(n=+n),i=t=+t;if(n<0)throw new Error("negative radius");null===this._x1?this._+="M".concat(r,",").concat(i):(Math.abs(this._x1-r)>GC||Math.abs(this._y1-i)>GC)&&(this._+="L"+r+","+i),n&&(this._+="A".concat(n,",").concat(n,",0,1,1,").concat(e-n,",").concat(t,"A").concat(n,",").concat(n,",0,1,1,").concat(this._x1=r,",").concat(this._y1=i))}},{key:"rect",value:function(e,t,n,r){this._+="M".concat(this._x0=this._x1=+e,",").concat(this._y0=this._y1=+t,"h").concat(+n,"v").concat(+r,"h").concat(-n,"Z")}},{key:"value",value:function(){return this._||null}}]),e}(),VC=function(){function e(){S(this,e),this._=[]}return M(e,[{key:"moveTo",value:function(e,t){this._.push([e,t])}},{key:"closePath",value:function(){this._.push(this._[0].slice())}},{key:"lineTo",value:function(e,t){this._.push([e,t])}},{key:"value",value:function(){return this._.length?this._:null}}]),e}(),qC=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,960,500],r=(0,c.Z)(n,4),i=r[0],a=r[1],o=r[2],u=r[3];if(S(this,e),!((o=+o)>=(i=+i))||!((u=+u)>=(a=+a)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=o,this.xmin=i,this.ymax=u,this.ymin=a,this._init()}return M(e,[{key:"update",value:function(){return this.delaunay.update(),this._init(),this}},{key:"_init",value:function(){for(var e,t,n=this.delaunay,r=n.points,i=n.hull,a=n.triangles,o=this.vectors,u=this.circumcenters=this._circumcenters.subarray(0,a.length/3*2),s=0,l=0,c=a.length;s<c;s+=3,l+=2){var f=2*a[s],h=2*a[s+1],d=2*a[s+2],p=r[f],v=r[f+1],m=r[h],g=r[h+1],y=r[d],b=r[d+1],x=m-p,_=g-v,w=y-p,S=b-v,k=2*(x*S-_*w);if(Math.abs(k)<1e-9){var M=1e9,E=2*a[0];e=(p+y)/2-(M*=Math.sign((r[E]-p)*S-(r[E+1]-v)*w))*S,t=(v+b)/2+M*w}else{var T=1/k,A=x*x+_*_,C=w*w+S*S;e=p+(S*A-_*C)*T,t=v+(x*C-w*A)*T}u[l]=e,u[l+1]=t}var R,P,L,O=i[i.length-1],I=4*O,D=r[2*O],N=r[2*O+1];o.fill(0);for(var z=0;z<i.length;++z)R=I,P=D,L=N,I=4*(O=i[z]),D=r[2*O],N=r[2*O+1],o[R+2]=o[I]=L-N,o[R+3]=o[I+1]=D-P}},{key:"render",value:function(e){var t=null==e?e=new WC:void 0,n=this.delaunay,r=n.halfedges,i=n.inedges,a=n.hull,o=this.circumcenters,u=this.vectors;if(a.length<=1)return null;for(var s=0,l=r.length;s<l;++s){var c=r[s];if(!(c<s)){var f=2*Math.floor(s/3),h=2*Math.floor(c/3),d=o[f],p=o[f+1],v=o[h],m=o[h+1];this._renderSegment(d,p,v,m,e)}}for(var g,y=a[a.length-1],b=0;b<a.length;++b){g=y,y=a[b];var x=2*Math.floor(i[y]/3),_=o[x],w=o[x+1],S=4*g,k=this._project(_,w,u[S+2],u[S+3]);k&&this._renderSegment(_,w,k[0],k[1],e)}return t&&t.value()}},{key:"renderBounds",value:function(e){var t=null==e?e=new WC:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}},{key:"renderCell",value:function(e,t){var n=null==t?t=new WC:void 0,r=this._clip(e);if(null!==r&&r.length){t.moveTo(r[0],r[1]);for(var i=r.length;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(var a=2;a<i;a+=2)r[a]===r[a-2]&&r[a+1]===r[a-1]||t.lineTo(r[a],r[a+1]);return t.closePath(),n&&n.value()}}},{key:"cellPolygons",value:z.mark((function e(){var t,n,r,i;return z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.delaunay.points,n=0,r=t.length/2;case 2:if(!(n<r)){e.next=11;break}if(!(i=this.cellPolygon(n))){e.next=8;break}return i.index=n,e.next=8,i;case 8:++n,e.next=2;break;case 11:case"end":return e.stop()}}),e,this)}))},{key:"cellPolygon",value:function(e){var t=new VC;return this.renderCell(e,t),t.value()}},{key:"_renderSegment",value:function(e,t,n,r,i){var a,o=this._regioncode(e,t),u=this._regioncode(n,r);0===o&&0===u?(i.moveTo(e,t),i.lineTo(n,r)):(a=this._clipSegment(e,t,n,r,o,u))&&(i.moveTo(a[0],a[1]),i.lineTo(a[2],a[3]))}},{key:"contains",value:function(e,t,n){return(t=+t)===t&&(n=+n)===n&&this.delaunay._step(e,t,n)===e}},{key:"neighbors",value:z.mark((function e(t){var n,r,i,a,o,u,s,l,c;return z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this._clip(t))){e.next=33;break}r=p(this.delaunay.neighbors(t)),e.prev=3,r.s();case 5:if((i=r.n()).done){e.next=25;break}if(a=i.value,!(o=this._clip(a))){e.next=23;break}u=0,s=n.length;case 10:if(!(u<s)){e.next=23;break}l=0,c=o.length;case 12:if(!(l<c)){e.next=20;break}if(n[u]!=o[l]||n[u+1]!=o[l+1]||n[(u+2)%s]!=o[(l+c-2)%c]||n[(u+3)%s]!=o[(l+c-1)%c]){e.next=17;break}return e.next=16,a;case 16:return e.abrupt("break",23);case 17:l+=2,e.next=12;break;case 20:u+=2,e.next=10;break;case 23:e.next=5;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(3),r.e(e.t0);case 30:return e.prev=30,r.f(),e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[3,27,30,33]])}))},{key:"_cell",value:function(e){var t=this.circumcenters,n=this.delaunay,r=n.inedges,i=n.halfedges,a=n.triangles,o=r[e];if(-1===o)return null;var u=[],s=o;do{var l=Math.floor(s/3);if(u.push(t[2*l],t[2*l+1]),a[s=s%3===2?s-2:s+1]!==e)break;s=i[s]}while(s!==o&&-1!==s);return u}},{key:"_clip",value:function(e){if(0===e&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];var t=this._cell(e);if(null===t)return null;var n=this.vectors,r=4*e;return n[r]||n[r+1]?this._clipInfinite(e,t,n[r],n[r+1],n[r+2],n[r+3]):this._clipFinite(e,t)}},{key:"_clipFinite",value:function(e,t){for(var n,r,i,a,o=t.length,u=null,s=t[o-2],l=t[o-1],f=this._regioncode(s,l),h=0,d=0;d<o;d+=2)if(n=s,r=l,s=t[d],l=t[d+1],i=f,f=this._regioncode(s,l),0===i&&0===f)a=h,h=0,u?u.push(s,l):u=[s,l];else{var p=void 0,v=void 0,m=void 0,g=void 0,y=void 0;if(0===i){if(null===(p=this._clipSegment(n,r,s,l,i,f)))continue;var b=p,x=(0,c.Z)(b,4);v=x[0],m=x[1],g=x[2],y=x[3]}else{if(null===(p=this._clipSegment(s,l,n,r,f,i)))continue;var _=p,w=(0,c.Z)(_,4);g=w[0],y=w[1],v=w[2],m=w[3],a=h,h=this._edgecode(v,m),a&&h&&this._edge(e,a,h,u,u.length),u?u.push(v,m):u=[v,m]}a=h,h=this._edgecode(g,y),a&&h&&this._edge(e,a,h,u,u.length),u?u.push(g,y):u=[g,y]}if(u)a=h,h=this._edgecode(u[0],u[1]),a&&h&&this._edge(e,a,h,u,u.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return u}},{key:"_clipSegment",value:function(e,t,n,r,i,a){for(;;){if(0===i&&0===a)return[e,t,n,r];if(i&a)return null;var o=void 0,u=void 0,s=i||a;8&s?(o=e+(n-e)*(this.ymax-t)/(r-t),u=this.ymax):4&s?(o=e+(n-e)*(this.ymin-t)/(r-t),u=this.ymin):2&s?(u=t+(r-t)*(this.xmax-e)/(n-e),o=this.xmax):(u=t+(r-t)*(this.xmin-e)/(n-e),o=this.xmin),i?(e=o,t=u,i=this._regioncode(e,t)):(n=o,r=u,a=this._regioncode(n,r))}}},{key:"_clipInfinite",value:function(e,t,n,r,i,a){var o,u=Array.from(t);if((o=this._project(u[0],u[1],n,r))&&u.unshift(o[0],o[1]),(o=this._project(u[u.length-2],u[u.length-1],i,a))&&u.push(o[0],o[1]),u=this._clipFinite(e,u))for(var s,l=0,c=u.length,f=this._edgecode(u[c-2],u[c-1]);l<c;l+=2)s=f,f=this._edgecode(u[l],u[l+1]),s&&f&&(l=this._edge(e,s,f,u,l),c=u.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(u=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return u}},{key:"_edge",value:function(e,t,n,r,i){for(;t!==n;){var a=void 0,o=void 0;switch(t){case 5:t=4;continue;case 4:t=6,a=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,a=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,a=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,a=this.xmin,o=this.ymin}r[i]===a&&r[i+1]===o||!this.contains(e,a,o)||(r.splice(i,0,a,o),i+=2)}if(r.length>4)for(var u=0;u<r.length;u+=2){var s=(u+2)%r.length,l=(u+4)%r.length;(r[u]===r[s]&&r[s]===r[l]||r[u+1]===r[s+1]&&r[s+1]===r[l+1])&&(r.splice(s,2),u-=2)}return i}},{key:"_project",value:function(e,t,n,r){var i,a,o,u=1/0;if(r<0){if(t<=this.ymin)return null;(i=(this.ymin-t)/r)<u&&(o=this.ymin,a=e+(u=i)*n)}else if(r>0){if(t>=this.ymax)return null;(i=(this.ymax-t)/r)<u&&(o=this.ymax,a=e+(u=i)*n)}if(n>0){if(e>=this.xmax)return null;(i=(this.xmax-e)/n)<u&&(a=this.xmax,o=t+(u=i)*r)}else if(n<0){if(e<=this.xmin)return null;(i=(this.xmin-e)/n)<u&&(a=this.xmin,o=t+(u=i)*r)}return[a,o]}},{key:"_edgecode",value:function(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}},{key:"_regioncode",value:function(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}}]),e}(),XC=z.mark(nR),$C=2*Math.PI,YC=Math.pow;function KC(e){return e[0]}function JC(e){return e[1]}function QC(e,t,n){return[e+Math.sin(e+t)*n,t+Math.cos(e-t)*n]}var eR=function(){function e(t){S(this,e),this._delaunator=new NC(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}return M(e,[{key:"update",value:function(){return this._delaunator.update(),this._init(),this}},{key:"_init",value:function(){var e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&function(e){for(var t=e.triangles,n=e.coords,r=0;r<t.length;r+=3){var i=2*t[r],a=2*t[r+1],o=2*t[r+2];if((n[o]-n[i])*(n[a+1]-n[i+1])-(n[a]-n[i])*(n[o+1]-n[i+1])>1e-10)return!1}return!0}(e)){this.collinear=Int32Array.from({length:t.length/2},(function(e,t){return t})).sort((function(e,n){return t[2*e]-t[2*n]||t[2*e+1]-t[2*n+1]}));for(var n=this.collinear[0],r=this.collinear[this.collinear.length-1],i=[t[2*n],t[2*n+1],t[2*r],t[2*r+1]],a=1e-8*Math.hypot(i[3]-i[1],i[2]-i[0]),o=0,u=t.length/2;o<u;++o){var s=QC(t[2*o],t[2*o+1],a);t[2*o]=s[0],t[2*o+1]=s[1]}this._delaunator=new NC(t)}else delete this.collinear;for(var l=this.halfedges=this._delaunator.halfedges,c=this.hull=this._delaunator.hull,f=this.triangles=this._delaunator.triangles,h=this.inedges.fill(-1),d=this._hullIndex.fill(-1),p=0,v=l.length;p<v;++p){var m=f[p%3===2?p-2:p+1];-1!==l[p]&&-1!==h[m]||(h[m]=p)}for(var g=0,y=c.length;g<y;++g)d[c[g]]=g;c.length<=2&&c.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=c[0],h[c[0]]=1,2===c.length&&(h[c[1]]=0,this.triangles[1]=c[1],this.triangles[2]=c[1]))}},{key:"voronoi",value:function(e){return new qC(this,e)}},{key:"neighbors",value:z.mark((function e(t){var n,r,i,a,o,u,s,l,c,f,h;return z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.inedges,r=this.hull,i=this._hullIndex,a=this.halfedges,o=this.triangles,!(u=this.collinear)){e.next=10;break}if(!((s=u.indexOf(t))>0)){e.next=6;break}return e.next=6,u[s-1];case 6:if(!(s<u.length-1)){e.next=9;break}return e.next=9,u[s+1];case 9:return e.abrupt("return");case 10:if(-1!==(l=n[t])){e.next=13;break}return e.abrupt("return");case 13:c=l,f=-1;case 14:return e.next=16,f=o[c];case 16:if(o[c=c%3===2?c-2:c+1]===t){e.next=19;break}return e.abrupt("return");case 19:if(-1!==(c=a[c])){e.next=26;break}if((h=r[(i[t]+1)%r.length])===f){e.next=25;break}return e.next=25,h;case 25:return e.abrupt("return");case 26:if(c!==l){e.next=14;break}case 27:case"end":return e.stop()}}),e,this)}))},{key:"find",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if((e=+e)!==e||(t=+t)!==t)return-1;for(var r,i=n;(r=this._step(n,e,t))>=0&&r!==n&&r!==i;)n=r;return r}},{key:"_step",value:function(e,t,n){var r=this.inedges,i=this.hull,a=this._hullIndex,o=this.halfedges,u=this.triangles,s=this.points;if(-1===r[e]||!s.length)return(e+1)%(s.length>>1);var l=e,c=YC(t-s[2*e],2)+YC(n-s[2*e+1],2),f=r[e],h=f;do{var d=u[h],p=YC(t-s[2*d],2)+YC(n-s[2*d+1],2);if(p<c&&(c=p,l=d),u[h=h%3===2?h-2:h+1]!==e)break;if(-1===(h=o[h])){if((h=i[(a[e]+1)%i.length])!==d&&YC(t-s[2*h],2)+YC(n-s[2*h+1],2)<c)return h;break}}while(h!==f);return l}},{key:"render",value:function(e){for(var t=null==e?e=new WC:void 0,n=this.points,r=this.halfedges,i=this.triangles,a=0,o=r.length;a<o;++a){var u=r[a];if(!(u<a)){var s=2*i[a],l=2*i[u];e.moveTo(n[s],n[s+1]),e.lineTo(n[l],n[l+1])}}return this.renderHull(e),t&&t.value()}},{key:"renderPoints",value:function(e,t){void 0!==t||e&&"function"===typeof e.moveTo||(t=e,e=null),t=void 0==t?2:+t;for(var n=null==e?e=new WC:void 0,r=this.points,i=0,a=r.length;i<a;i+=2){var o=r[i],u=r[i+1];e.moveTo(o+t,u),e.arc(o,u,t,0,$C)}return n&&n.value()}},{key:"renderHull",value:function(e){var t=null==e?e=new WC:void 0,n=this.hull,r=this.points,i=2*n[0],a=n.length;e.moveTo(r[i],r[i+1]);for(var o=1;o<a;++o){var u=2*n[o];e.lineTo(r[u],r[u+1])}return e.closePath(),t&&t.value()}},{key:"hullPolygon",value:function(){var e=new VC;return this.renderHull(e),e.value()}},{key:"renderTriangle",value:function(e,t){var n=null==t?t=new WC:void 0,r=this.points,i=this.triangles,a=2*i[e*=3],o=2*i[e+1],u=2*i[e+2];return t.moveTo(r[a],r[a+1]),t.lineTo(r[o],r[o+1]),t.lineTo(r[u],r[u+1]),t.closePath(),n&&n.value()}},{key:"trianglePolygons",value:z.mark((function e(){var t,n,r;return z.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.triangles,n=0,r=t.length/3;case 2:if(!(n<r)){e.next=8;break}return e.next=5,this.trianglePolygon(n);case 5:++n,e.next=2;break;case 8:case"end":return e.stop()}}),e,this)}))},{key:"trianglePolygon",value:function(e){var t=new VC;return this.renderTriangle(e,t),t.value()}}],[{key:"from",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:KC,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:JC,i=arguments.length>3?arguments[3]:void 0;return new e("length"in t?tR(t,n,r,i):Float64Array.from(nR(t,n,r,i)))}}]),e}();function tR(e,t,n,r){for(var i=e.length,a=new Float64Array(2*i),o=0;o<i;++o){var u=e[o];a[2*o]=t.call(r,u,o,e),a[2*o+1]=n.call(r,u,o,e)}return a}function nR(e,t,n,r){var i,a,o,u;return z.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:i=0,a=p(e),s.prev=2,a.s();case 4:if((o=a.n()).done){s.next=13;break}return u=o.value,s.next=8,t.call(r,u,i,e);case 8:return s.next=10,n.call(r,u,i,e);case 10:++i;case 11:s.next=4;break;case 13:s.next=18;break;case 15:s.prev=15,s.t0=s.catch(2),a.e(s.t0);case 18:return s.prev=18,a.f(),s.finish(18);case 21:case"end":return s.stop()}}),XC,null,[[2,15,18,21]])}var rR=function(e){return function(){return e}};function iR(e,t){var n=t.sourceEvent,r=t.subject,i=t.target,a=t.identifier,o=t.active,u=t.x,s=t.y,l=t.dx,c=t.dy,f=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:f}})}function aR(e){return!e.ctrlKey&&!e.button}function oR(){return this.parentNode}function uR(e,t){return null==t?{x:e.x,y:e.y}:t}function sR(){return navigator.maxTouchPoints||"ontouchstart"in this}function lR(){var e,t,n,r,i=aR,a=oR,o=uR,u=sR,s={},l=PS("start","drag","end"),c=0,f=0;function h(e){e.on("mousedown.drag",d).filter(u).on("touchstart.drag",m).on("touchmove.drag",g,Yk).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(o,u){if(!r&&i.call(this,o,u)){var s=b(this,a.call(this,o,u),o,u,"mouse");s&&($k(o.view).on("mousemove.drag",p,Kk).on("mouseup.drag",v,Kk),eM(o.view),Jk(o),n=!1,e=o.clientX,t=o.clientY,s("start",o))}}function p(r){if(Qk(r),!n){var i=r.clientX-e,a=r.clientY-t;n=i*i+a*a>f}s.mouse("drag",r)}function v(e){$k(e.view).on("mousemove.drag mouseup.drag",null),tM(e.view,n),Qk(e),s.mouse("end",e)}function m(e,t){if(i.call(this,e,t)){var n,r,o=e.changedTouches,u=a.call(this,e,t),s=o.length;for(n=0;n<s;++n)(r=b(this,u,e,t,o[n].identifier,o[n]))&&(Jk(e),r("start",e,o[n]))}}function g(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=s[r[t].identifier])&&(Qk(e),n("drag",e,r[t]))}function y(e){var t,n,i=e.changedTouches,a=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<a;++t)(n=s[i[t].identifier])&&(Jk(e),n("end",e,i[t]))}function b(e,t,n,r,i,a){var u,f,d,p=l.copy(),v=iE(a||n,t);if(null!=(d=o.call(e,new iR("beforestart",{sourceEvent:n,target:h,identifier:i,active:c,x:v[0],y:v[1],dx:0,dy:0,dispatch:p}),r)))return u=d.x-v[0]||0,f=d.y-v[1]||0,function n(a,o,l){var m,g=v;switch(a){case"start":s[i]=n,m=c++;break;case"end":delete s[i],--c;case"drag":v=iE(l||o,t),m=c}p.call(a,e,new iR(a,{sourceEvent:o,subject:d,target:h,identifier:i,active:m,x:v[0]+u,y:v[1]+f,dx:v[0]-g[0],dy:v[1]-g[1],dispatch:p}),r)}}return h.filter=function(e){return arguments.length?(i="function"===typeof e?e:rR(!!e),h):i},h.container=function(e){return arguments.length?(a="function"===typeof e?e:rR(e),h):a},h.subject=function(e){return arguments.length?(o="function"===typeof e?e:rR(e),h):o},h.touchable=function(e){return arguments.length?(u="function"===typeof e?e:rR(!!e),h):u},h.on=function(){var e=l.on.apply(l,arguments);return e===l?h:e},h.clickDistance=function(e){return arguments.length?(f=(e=+e)*e,h):Math.sqrt(f)},h}iR.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var cR={},fR={};function hR(e){return new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+'] || ""'})).join(",")+"}")}function dR(e){var t=Object.create(null),n=[];return e.forEach((function(e){for(var r in e)r in t||n.push(t[r]=r)})),n}function pR(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function vR(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":function(e){return e<0?"-"+pR(-e,6):e>9999?"+"+pR(e,6):pR(e,4)}(e.getUTCFullYear())+"-"+pR(e.getUTCMonth()+1,2)+"-"+pR(e.getUTCDate(),2)+(i?"T"+pR(t,2)+":"+pR(n,2)+":"+pR(r,2)+"."+pR(i,3)+"Z":r?"T"+pR(t,2)+":"+pR(n,2)+":"+pR(r,2)+"Z":n||t?"T"+pR(t,2)+":"+pR(n,2)+"Z":"")}function mR(e){var t=new RegExp('["'+e+"\n\r]"),n=e.charCodeAt(0);function r(e,t){var r,i=[],a=e.length,o=0,u=0,s=a<=0,l=!1;function c(){if(s)return fR;if(l)return l=!1,cR;var t,r,i=o;if(34===e.charCodeAt(i)){for(;o++<a&&34!==e.charCodeAt(o)||34===e.charCodeAt(++o););return(t=o)>=a?s=!0:10===(r=e.charCodeAt(o++))?l=!0:13===r&&(l=!0,10===e.charCodeAt(o)&&++o),e.slice(i+1,t-1).replace(/""/g,'"')}for(;o<a;){if(10===(r=e.charCodeAt(t=o++)))l=!0;else if(13===r)l=!0,10===e.charCodeAt(o)&&++o;else if(r!==n)continue;return e.slice(i,t)}return s=!0,e.slice(i,a)}for(10===e.charCodeAt(a-1)&&--a,13===e.charCodeAt(a-1)&&--a;(r=c())!==fR;){for(var f=[];r!==cR&&r!==fR;)f.push(r),r=c();t&&null==(f=t(f,u++))||i.push(f)}return i}function i(t,n){return t.map((function(t){return n.map((function(e){return o(t[e])})).join(e)}))}function a(t){return t.map(o).join(e)}function o(e){return null==e?"":e instanceof Date?vR(e):t.test(e+="")?'"'+e.replace(/"/g,'""')+'"':e}return{parse:function(e,t){var n,i,a=r(e,(function(e,r){if(n)return n(e,r-1);i=e,n=t?function(e,t){var n=hR(e);return function(r,i){return t(n(r),i,e)}}(e,t):hR(e)}));return a.columns=i||[],a},parseRows:r,format:function(t,n){return null==n&&(n=dR(t)),[n.map(o).join(e)].concat(i(t,n)).join("\n")},formatBody:function(e,t){return null==t&&(t=dR(e)),i(e,t).join("\n")},formatRows:function(e){return e.map(a).join("\n")},formatRow:a,formatValue:o}}var gR=mR(","),yR=gR.parse,bR=gR.parseRows,xR=gR.format,_R=gR.formatBody,wR=gR.formatRows,SR=gR.formatRow,kR=gR.formatValue,MR=mR("\t"),ER=MR.parse,TR=MR.parseRows,AR=MR.format,CR=MR.formatBody,RR=MR.formatRows,PR=MR.formatRow,LR=MR.formatValue;function OR(e){for(var t in e){var n,r,i=e[t].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(n=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;IR&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=n;else i=null;e[t]=i}return e}var IR=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),DR=function(e){return+e};function NR(e){return e*e}function zR(e){return e*(2-e)}function FR(e){return((e*=2)<=1?e*e:--e*(2-e)+1)/2}var BR=function e(t){function n(e){return Math.pow(e,t)}return t=+t,n.exponent=e,n}(3),UR=function e(t){function n(e){return 1-Math.pow(1-e,t)}return t=+t,n.exponent=e,n}(3),jR=function e(t){function n(e){return((e*=2)<=1?Math.pow(e,t):2-Math.pow(2-e,t))/2}return t=+t,n.exponent=e,n}(3),HR=Math.PI,ZR=HR/2;function GR(e){return 1===+e?1:1-Math.cos(e*ZR)}function WR(e){return Math.sin(e*ZR)}function VR(e){return(1-Math.cos(HR*e))/2}function qR(e){return 1.0009775171065494*(Math.pow(2,-10*e)-.0009765625)}function XR(e){return qR(1-+e)}function $R(e){return 1-qR(e)}function YR(e){return((e*=2)<=1?qR(1-e):2-qR(e-1))/2}function KR(e){return 1-Math.sqrt(1-e*e)}function JR(e){return Math.sqrt(1- --e*e)}function QR(e){return((e*=2)<=1?1-Math.sqrt(1-e*e):Math.sqrt(1-(e-=2)*e)+1)/2}var eP=4/11,tP=7.5625;function nP(e){return 1-rP(1-e)}function rP(e){return(e=+e)<eP?tP*e*e:e<.7272727272727273?tP*(e-=.5454545454545454)*e+.75:e<.9090909090909091?tP*(e-=.8181818181818182)*e+.9375:tP*(e-=.9545454545454546)*e+.984375}function iP(e){return((e*=2)<=1?1-rP(1-e):rP(e-1)+1)/2}var aP=1.70158,oP=function e(t){function n(e){return(e=+e)*e*(t*(e-1)+e)}return t=+t,n.overshoot=e,n}(aP),uP=function e(t){function n(e){return--e*e*((e+1)*t+e)+1}return t=+t,n.overshoot=e,n}(aP),sP=function e(t){function n(e){return((e*=2)<1?e*e*((t+1)*e-t):(e-=2)*e*((t+1)*e+t)+2)/2}return t=+t,n.overshoot=e,n}(aP),lP=2*Math.PI,cP=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=lP);function i(e){return t*qR(- --e)*Math.sin((r-e)/n)}return i.amplitude=function(t){return e(t,n*lP)},i.period=function(n){return e(t,n)},i}(1,.3),fP=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=lP);function i(e){return 1-t*qR(e=+e)*Math.sin((e+r)/n)}return i.amplitude=function(t){return e(t,n*lP)},i.period=function(n){return e(t,n)},i}(1,.3),hP=function e(t,n){var r=Math.asin(1/(t=Math.max(1,t)))*(n/=lP);function i(e){return((e=2*e-1)<0?t*qR(-e)*Math.sin((r-e)/n):2-t*qR(e)*Math.sin((r+e)/n))/2}return i.amplitude=function(t){return e(t,n*lP)},i.period=function(n){return e(t,n)},i}(1,.3);function dP(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.blob()}function pP(e,t){return fetch(e,t).then(dP)}function vP(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.arrayBuffer()}function mP(e,t){return fetch(e,t).then(vP)}function gP(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function yP(e,t){return fetch(e,t).then(gP)}function bP(e){return function(t,n,r){return 2===arguments.length&&"function"===typeof n&&(r=n,n=void 0),yP(t,n).then((function(t){return e(t,r)}))}}function xP(e,t,n,r){3===arguments.length&&"function"===typeof n&&(r=n,n=void 0);var i=mR(e);return yP(t,n).then((function(e){return i.parse(e,r)}))}var _P=bP(yR),wP=bP(ER);function SP(e,t){return new Promise((function(n,r){var i=new Image;for(var a in t)i[a]=t[a];i.onerror=r,i.onload=function(){n(i)},i.src=e}))}function kP(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);if(204!==e.status&&205!==e.status)return e.json()}function MP(e,t){return fetch(e,t).then(kP)}function EP(e){return function(t,n){return yP(t,n).then((function(t){return(new DOMParser).parseFromString(t,e)}))}}var TP=EP("application/xml"),AP=EP("text/html"),CP=EP("image/svg+xml");function RP(e,t){var n,r=1;function i(){var i,a,o=n.length,u=0,s=0;for(i=0;i<o;++i)u+=(a=n[i]).x,s+=a.y;for(u=(u/o-e)*r,s=(s/o-t)*r,i=0;i<o;++i)(a=n[i]).x-=u,a.y-=s}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.strength=function(e){return arguments.length?(r=+e,i):r},i}function PP(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,a,o,u,s,l,c,f,h,d=e._root,p={data:r},v=e._x0,m=e._y0,g=e._x1,y=e._y1;if(!d)return e._root=p,e;for(;d.length;)if((l=t>=(a=(v+g)/2))?v=a:g=a,(c=n>=(o=(m+y)/2))?m=o:y=o,i=d,!(d=d[f=c<<1|l]))return i[f]=p,e;if(u=+e._x.call(null,d.data),s=+e._y.call(null,d.data),t===u&&n===s)return p.next=d,i?i[f]=p:e._root=p,e;do{i=i?i[f]=new Array(4):e._root=new Array(4),(l=t>=(a=(v+g)/2))?v=a:g=a,(c=n>=(o=(m+y)/2))?m=o:y=o}while((f=c<<1|l)===(h=(s>=o)<<1|u>=a));return i[h]=d,i[f]=p,e}function LP(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function OP(e){return e[0]}function IP(e){return e[1]}function DP(e,t,n){var r=new NP(null==t?OP:t,null==n?IP:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function NP(e,t,n,r,i,a){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function zP(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}var FP=DP.prototype=NP.prototype;function BP(e){return function(){return e}}function UP(e){return 1e-6*(e()-.5)}function jP(e){return e.x+e.vx}function HP(e){return e.y+e.vy}function ZP(e){var t,n,r,i=1,a=1;function o(){for(var e,o,s,l,c,f,h,d=t.length,p=0;p<a;++p)for(o=DP(t,jP,HP).visitAfter(u),e=0;e<d;++e)s=t[e],f=n[s.index],h=f*f,l=s.x+s.vx,c=s.y+s.vy,o.visit(v);function v(e,t,n,a,o){var u=e.data,d=e.r,p=f+d;if(!u)return t>l+p||a<l-p||n>c+p||o<c-p;if(u.index>s.index){var v=l-u.x-u.vx,m=c-u.y-u.vy,g=v*v+m*m;g<p*p&&(0===v&&(g+=(v=UP(r))*v),0===m&&(g+=(m=UP(r))*m),g=(p-(g=Math.sqrt(g)))/g*i,s.vx+=(v*=g)*(p=(d*=d)/(h+d)),s.vy+=(m*=g)*p,u.vx-=v*(p=1-p),u.vy-=m*p)}}}function u(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function s(){if(t){var r,i,a=t.length;for(n=new Array(a),r=0;r<a;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!==typeof e&&(e=BP(null==e?1:+e)),o.initialize=function(e,n){t=e,r=n,s()},o.iterations=function(e){return arguments.length?(a=+e,o):a},o.strength=function(e){return arguments.length?(i=+e,o):i},o.radius=function(t){return arguments.length?(e="function"===typeof t?t:BP(+t),s(),o):e},o}function GP(e){return e.index}function WP(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}function VP(e){var t,n,r,i,a,o,u=GP,s=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},l=BP(30),c=1;function f(r){for(var i=0,u=e.length;i<c;++i)for(var s,l,f,h,d,p,v,m=0;m<u;++m)l=(s=e[m]).source,h=(f=s.target).x+f.vx-l.x-l.vx||UP(o),d=f.y+f.vy-l.y-l.vy||UP(o),h*=p=((p=Math.sqrt(h*h+d*d))-n[m])/p*r*t[m],d*=p,f.vx-=h*(v=a[m]),f.vy-=d*v,l.vx+=h*(v=1-v),l.vy+=d*v}function h(){if(r){var o,s,l=r.length,c=e.length,f=new Map(r.map((function(e,t){return[u(e,t,r),e]})));for(o=0,i=new Array(l);o<c;++o)(s=e[o]).index=o,"object"!==typeof s.source&&(s.source=WP(f,s.source)),"object"!==typeof s.target&&(s.target=WP(f,s.target)),i[s.source.index]=(i[s.source.index]||0)+1,i[s.target.index]=(i[s.target.index]||0)+1;for(o=0,a=new Array(c);o<c;++o)s=e[o],a[o]=i[s.source.index]/(i[s.source.index]+i[s.target.index]);t=new Array(c),d(),n=new Array(c),p()}}function d(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+s(e[n],n,e)}function p(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+l(e[t],t,e)}return null==e&&(e=[]),f.initialize=function(e,t){r=e,o=t,h()},f.links=function(t){return arguments.length?(e=t,h(),f):e},f.id=function(e){return arguments.length?(u=e,f):u},f.iterations=function(e){return arguments.length?(c=+e,f):c},f.strength=function(e){return arguments.length?(s="function"===typeof e?e:BP(+e),d(),f):s},f.distance=function(e){return arguments.length?(l="function"===typeof e?e:BP(+e),p(),f):l},f}FP.copy=function(){var e,t,n=new NP(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=zP(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=zP(t));return n},FP.add=function(e){var t=+this._x.call(null,e),n=+this._y.call(null,e);return PP(this.cover(t,n),t,n,e)},FP.addAll=function(e){var t,n,r,i,a=e.length,o=new Array(a),u=new Array(a),s=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=r,u[n]=i,r<s&&(s=r),r>c&&(c=r),i<l&&(l=i),i>f&&(f=i));if(s>c||l>f)return this;for(this.cover(s,l).cover(c,f),n=0;n<a;++n)PP(this,o[n],u[n],e[n]);return this},FP.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,a=(r=Math.floor(t))+1;else{for(var o,u,s=i-n||1,l=this._root;n>e||e>=i||r>t||t>=a;)switch(u=(t<r)<<1|e<n,(o=new Array(4))[u]=l,l=o,s*=2,u){case 0:i=n+s,a=r+s;break;case 1:n=i-s,a=r+s;break;case 2:i=n+s,r=a-s;break;case 3:n=i-s,r=a-s}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},FP.data=function(){var e=[];return this.visit((function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)})),e},FP.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},FP.find=function(e,t,n){var r,i,a,o,u,s,l,c=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],v=this._root;for(v&&p.push(new LP(v,c,f,h,d)),null==n?n=1/0:(c=e-n,f=t-n,h=e+n,d=t+n,n*=n);s=p.pop();)if(!(!(v=s.node)||(i=s.x0)>h||(a=s.y0)>d||(o=s.x1)<c||(u=s.y1)<f))if(v.length){var m=(i+o)/2,g=(a+u)/2;p.push(new LP(v[3],m,g,o,u),new LP(v[2],i,g,m,u),new LP(v[1],m,a,o,g),new LP(v[0],i,a,m,g)),(l=(t>=g)<<1|e>=m)&&(s=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=s)}else{var y=e-+this._x.call(null,v.data),b=t-+this._y.call(null,v.data),x=y*y+b*b;if(x<n){var _=Math.sqrt(n=x);c=e-_,f=t-_,h=e+_,d=t+_,r=v.data}}return r},FP.remove=function(e){if(isNaN(a=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,a,o,u,s,l,c,f,h,d=this._root,p=this._x0,v=this._y0,m=this._x1,g=this._y1;if(!d)return this;if(d.length)for(;;){if((l=a>=(u=(p+m)/2))?p=u:m=u,(c=o>=(s=(v+g)/2))?v=s:g=s,t=d,!(d=d[f=c<<1|l]))return this;if(!d.length)break;(t[f+1&3]||t[f+2&3]||t[f+3&3])&&(n=t,h=f)}for(;d.data!==e;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):t?(i?t[f]=i:delete t[f],(d=t[0]||t[1]||t[2]||t[3])&&d===(t[3]||t[2]||t[1]||t[0])&&!d.length&&(n?n[h]=d:this._root=d),this):(this._root=i,this)},FP.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},FP.root=function(){return this._root},FP.size=function(){var e=0;return this.visit((function(t){if(!t.length)do{++e}while(t=t.next)})),e},FP.visit=function(e){var t,n,r,i,a,o,u=[],s=this._root;for(s&&u.push(new LP(s,this._x0,this._y0,this._x1,this._y1));t=u.pop();)if(!e(s=t.node,r=t.x0,i=t.y0,a=t.x1,o=t.y1)&&s.length){var l=(r+a)/2,c=(i+o)/2;(n=s[3])&&u.push(new LP(n,l,c,a,o)),(n=s[2])&&u.push(new LP(n,r,c,l,o)),(n=s[1])&&u.push(new LP(n,l,i,a,c)),(n=s[0])&&u.push(new LP(n,r,i,l,c))}return this},FP.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new LP(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var a,o=t.x0,u=t.y0,s=t.x1,l=t.y1,c=(o+s)/2,f=(u+l)/2;(a=i[0])&&n.push(new LP(a,o,u,c,f)),(a=i[1])&&n.push(new LP(a,c,u,s,f)),(a=i[2])&&n.push(new LP(a,o,f,c,l)),(a=i[3])&&n.push(new LP(a,c,f,s,l))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},FP.x=function(e){return arguments.length?(this._x=e,this):this._x},FP.y=function(e){return arguments.length?(this._y=e,this):this._y};var qP=4294967296;function XP(e){return e.x}function $P(e){return e.y}var YP=Math.PI*(3-Math.sqrt(5));function KP(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,u=new Map,s=yE(f),l=PS("tick","end"),c=function(){var e=1;return function(){return(e=(1664525*e+1013904223)%qP)/qP}}();function f(){h(),l.call("tick",t),n<r&&(s.stop(),l.call("end",t))}function h(r){var s,l,c=e.length;void 0===r&&(r=1);for(var f=0;f<r;++f)for(n+=(a-n)*i,u.forEach((function(e){e(n)})),s=0;s<c;++s)null==(l=e[s]).fx?l.x+=l.vx*=o:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=o:(l.y=l.fy,l.vy=0);return t}function d(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+n),a=n*YP;t.x=i*Math.cos(a),t.y=i*Math.sin(a)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,c),t}return null==e&&(e=[]),d(),t={tick:h,restart:function(){return s.restart(f),t},stop:function(){return s.stop(),t},nodes:function(n){return arguments.length?(e=n,d(),u.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(a=+e,t):a},velocityDecay:function(e){return arguments.length?(o=1-e,t):1-o},randomSource:function(e){return arguments.length?(c=e,u.forEach(p),t):c},force:function(e,n){return arguments.length>1?(null==n?u.delete(e):u.set(e,p(n)),t):u.get(e)},find:function(t,n,r){var i,a,o,u,s,l=0,c=e.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)(o=(i=t-(u=e[l]).x)*i+(a=n-u.y)*a)<r&&(s=u,r=o);return s},on:function(e,n){return arguments.length>1?(l.on(e,n),t):l.on(e)}}}function JP(){var e,t,n,r,i,a=BP(-30),o=1,u=1/0,s=.81;function l(n){var i,a=e.length,o=DP(e,XP,$P).visitAfter(f);for(r=n,i=0;i<a;++i)t=e[i],o.visit(h)}function c(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+a(n,t,e)}}function f(e){var t,n,r,a,o,u=0,s=0;if(e.length){for(r=a=o=0;o<4;++o)(t=e[o])&&(n=Math.abs(t.value))&&(u+=t.value,s+=n,r+=n*t.x,a+=n*t.y);e.x=r/s,e.y=a/s}else{(t=e).x=t.data.x,t.y=t.data.y;do{u+=i[t.data.index]}while(t=t.next)}e.value=u}function h(e,a,l,c){if(!e.value)return!0;var f=e.x-t.x,h=e.y-t.y,d=c-a,p=f*f+h*h;if(d*d/s<p)return p<u&&(0===f&&(p+=(f=UP(n))*f),0===h&&(p+=(h=UP(n))*h),p<o&&(p=Math.sqrt(o*p)),t.vx+=f*e.value*r/p,t.vy+=h*e.value*r/p),!0;if(!(e.length||p>=u)){(e.data!==t||e.next)&&(0===f&&(p+=(f=UP(n))*f),0===h&&(p+=(h=UP(n))*h),p<o&&(p=Math.sqrt(o*p)));do{e.data!==t&&(d=i[e.data.index]*r/p,t.vx+=f*d,t.vy+=h*d)}while(e=e.next)}}return l.initialize=function(t,r){e=t,n=r,c()},l.strength=function(e){return arguments.length?(a="function"===typeof e?e:BP(+e),c(),l):a},l.distanceMin=function(e){return arguments.length?(o=e*e,l):Math.sqrt(o)},l.distanceMax=function(e){return arguments.length?(u=e*e,l):Math.sqrt(u)},l.theta=function(e){return arguments.length?(s=e*e,l):Math.sqrt(s)},l}function QP(e,t,n){var r,i,a,o=BP(.1);function u(e){for(var o=0,u=r.length;o<u;++o){var s=r[o],l=s.x-t||1e-6,c=s.y-n||1e-6,f=Math.sqrt(l*l+c*c),h=(a[o]-f)*i[o]*e/f;s.vx+=l*h,s.vy+=c*h}}function s(){if(r){var t,n=r.length;for(i=new Array(n),a=new Array(n),t=0;t<n;++t)a[t]=+e(r[t],t,r),i[t]=isNaN(a[t])?0:+o(r[t],t,r)}}return"function"!==typeof e&&(e=BP(+e)),null==t&&(t=0),null==n&&(n=0),u.initialize=function(e){r=e,s()},u.strength=function(e){return arguments.length?(o="function"===typeof e?e:BP(+e),s(),u):o},u.radius=function(t){return arguments.length?(e="function"===typeof t?t:BP(+t),s(),u):e},u.x=function(e){return arguments.length?(t=+e,u):t},u.y=function(e){return arguments.length?(n=+e,u):n},u}function eL(e){var t,n,r,i=BP(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vx+=(r[a]-i.x)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!==typeof e&&(e=BP(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"===typeof e?e:BP(+e),o(),a):i},a.x=function(t){return arguments.length?(e="function"===typeof t?t:BP(+t),o(),a):e},a}function tL(e){var t,n,r,i=BP(.1);function a(e){for(var i,a=0,o=t.length;a<o;++a)(i=t[a]).vy+=(r[a]-i.y)*n[a]*e}function o(){if(t){var a,o=t.length;for(n=new Array(o),r=new Array(o),a=0;a<o;++a)n[a]=isNaN(r[a]=+e(t[a],a,t))?0:+i(t[a],a,t)}}return"function"!==typeof e&&(e=BP(null==e?0:+e)),a.initialize=function(e){t=e,o()},a.strength=function(e){return arguments.length?(i="function"===typeof e?e:BP(+e),o(),a):i},a.y=function(t){return arguments.length?(e="function"===typeof t?t:BP(+t),o(),a):e},a}function nL(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function rL(e){return(e=nL(Math.abs(e)))?e[1]:NaN}var iL,aL=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function oL(e){if(!(t=aL.exec(e)))throw new Error("invalid format: "+e);var t;return new uL({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function uL(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function sL(e,t){var n=nL(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}oL.prototype=uL.prototype,uL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var lL={"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return sL(100*e,t)},r:sL,s:function(e,t){var n=nL(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(iL=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+nL(e,Math.max(0,t+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function cL(e){return e}var fL,hL,dL,pL=Array.prototype.map,vL=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function mL(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?cL:(t=pL.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,u=t[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),a.push(e.substring(i-=u,i+u)),!((s+=u+1)>r));)u=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",u=void 0===e.numerals?cL:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(pL.call(e.numerals,String)),s=void 0===e.percent?"%":e.percent+"",l=void 0===e.minus?"\u2212":e.minus+"",c=void 0===e.nan?"NaN":e.nan+"";function f(e){var t=(e=oL(e)).fill,n=e.align,f=e.sign,h=e.symbol,d=e.zero,p=e.width,v=e.comma,m=e.precision,g=e.trim,y=e.type;"n"===y?(v=!0,y="g"):lL[y]||(void 0===m&&(m=12),g=!0,y="g"),(d||"0"===t&&"="===n)&&(d=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===h?a:/[%p]/.test(y)?s:"",_=lL[y],w=/[defgprs%]/.test(y);function S(e){var i,a,s,h=b,S=x;if("c"===y)S=_(e)+S,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?c:_(Math.abs(e),m),g&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==f&&(k=!1),h=(k?"("===f?f:l:"-"===f||"("===f?"":f)+h,S=("s"===y?vL[8+iL/3]:"")+S+(k&&"("===f?")":""),w)for(i=-1,a=e.length;++i<a;)if(48>(s=e.charCodeAt(i))||s>57){S=(46===s?o+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}v&&!d&&(e=r(e,1/0));var M=h.length+e.length+S.length,E=M<p?new Array(p-M+1).join(t):"";switch(v&&d&&(e=r(E+e,E.length?p-S.length:1/0),E=""),n){case"<":e=h+e+S+E;break;case"=":e=h+E+e+S;break;case"^":e=E.slice(0,M=E.length>>1)+h+e+S+E.slice(M);break;default:e=E+h+e+S}return u(e)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),S.toString=function(){return e+""},S}return{format:f,formatPrefix:function(e,t){var n=f(((e=oL(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(rL(t)/3))),i=Math.pow(10,-r),a=vL[8+r/3];return function(e){return n(i*e)+a}}}}function gL(e){return fL=mL(e),hL=fL.format,dL=fL.formatPrefix,fL}function yL(e){return Math.max(0,-rL(Math.abs(e)))}function bL(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(rL(t)/3)))-rL(Math.abs(e)))}function xL(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,rL(t)-rL(e))+1}gL({thousands:",",grouping:[3],currency:["$",""]});var _L=1e-6,wL=1e-12,SL=Math.PI,kL=SL/2,ML=SL/4,EL=2*SL,TL=180/SL,AL=SL/180,CL=Math.abs,RL=Math.atan,PL=Math.atan2,LL=Math.cos,OL=Math.ceil,IL=Math.exp,DL=(Math.floor,Math.hypot),NL=Math.log,zL=Math.pow,FL=Math.sin,BL=Math.sign||function(e){return e>0?1:e<0?-1:0},UL=Math.sqrt,jL=Math.tan;function HL(e){return e>1?0:e<-1?SL:Math.acos(e)}function ZL(e){return e>1?kL:e<-1?-kL:Math.asin(e)}function GL(e){return(e=FL(e/2))*e}function WL(){}function VL(e,t){e&&XL.hasOwnProperty(e.type)&&XL[e.type](e,t)}var qL={Feature:function(e,t){VL(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)VL(n[r].geometry,t)}},XL={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){$L(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)$L(n[r],t,0)},Polygon:function(e,t){YL(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)YL(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)VL(n[r],t)}};function $L(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function YL(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)$L(e[n],t,1);t.polygonEnd()}function KL(e,t){e&&qL.hasOwnProperty(e.type)?qL[e.type](e,t):VL(e,t)}var JL,QL,eO,tO,nO,rO,iO,aO,oO,uO,sO,lO,cO,fO,hO,dO,pO=new z_,vO=new z_,mO={point:WL,lineStart:WL,lineEnd:WL,polygonStart:function(){pO=new z_,mO.lineStart=gO,mO.lineEnd=yO},polygonEnd:function(){var e=+pO;vO.add(e<0?EL+e:e),this.lineStart=this.lineEnd=this.point=WL},sphere:function(){vO.add(EL)}};function gO(){mO.point=bO}function yO(){xO(JL,QL)}function bO(e,t){mO.point=xO,JL=e,QL=t,eO=e*=AL,tO=LL(t=(t*=AL)/2+ML),nO=FL(t)}function xO(e,t){var n=(e*=AL)-eO,r=n>=0?1:-1,i=r*n,a=LL(t=(t*=AL)/2+ML),o=FL(t),u=nO*o,s=tO*a+u*LL(i),l=u*r*FL(i);pO.add(PL(l,s)),eO=e,tO=a,nO=o}function _O(e){return vO=new z_,KL(e,mO),2*vO}function wO(e){return[PL(e[1],e[0]),ZL(e[2])]}function SO(e){var t=e[0],n=e[1],r=LL(n);return[r*LL(t),r*FL(t),FL(n)]}function kO(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function MO(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function EO(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function TO(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function AO(e){var t=UL(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}var CO,RO,PO,LO,OO,IO,DO,NO,zO,FO,BO,UO,jO,HO,ZO,GO,WO={point:VO,lineStart:XO,lineEnd:$O,polygonStart:function(){WO.point=YO,WO.lineStart=KO,WO.lineEnd=JO,fO=new z_,mO.polygonStart()},polygonEnd:function(){mO.polygonEnd(),WO.point=VO,WO.lineStart=XO,WO.lineEnd=$O,pO<0?(rO=-(aO=180),iO=-(oO=90)):fO>_L?oO=90:fO<-1e-6&&(iO=-90),dO[0]=rO,dO[1]=aO},sphere:function(){rO=-(aO=180),iO=-(oO=90)}};function VO(e,t){hO.push(dO=[rO=e,aO=e]),t<iO&&(iO=t),t>oO&&(oO=t)}function qO(e,t){var n=SO([e*AL,t*AL]);if(cO){var r=MO(cO,n),i=MO([r[1],-r[0],0],r);AO(i),i=wO(i);var a,o=e-uO,u=o>0?1:-1,s=i[0]*TL*u,l=CL(o)>180;l^(u*uO<s&&s<u*e)?(a=i[1]*TL)>oO&&(oO=a):l^(u*uO<(s=(s+360)%360-180)&&s<u*e)?(a=-i[1]*TL)<iO&&(iO=a):(t<iO&&(iO=t),t>oO&&(oO=t)),l?e<uO?QO(rO,e)>QO(rO,aO)&&(aO=e):QO(e,aO)>QO(rO,aO)&&(rO=e):aO>=rO?(e<rO&&(rO=e),e>aO&&(aO=e)):e>uO?QO(rO,e)>QO(rO,aO)&&(aO=e):QO(e,aO)>QO(rO,aO)&&(rO=e)}else hO.push(dO=[rO=e,aO=e]);t<iO&&(iO=t),t>oO&&(oO=t),cO=n,uO=e}function XO(){WO.point=qO}function $O(){dO[0]=rO,dO[1]=aO,WO.point=VO,cO=null}function YO(e,t){if(cO){var n=e-uO;fO.add(CL(n)>180?n+(n>0?360:-360):n)}else sO=e,lO=t;mO.point(e,t),qO(e,t)}function KO(){mO.lineStart()}function JO(){YO(sO,lO),mO.lineEnd(),CL(fO)>_L&&(rO=-(aO=180)),dO[0]=rO,dO[1]=aO,cO=null}function QO(e,t){return(t-=e)<0?t+360:t}function eI(e,t){return e[0]-t[0]}function tI(e,t){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}function nI(e){var t,n,r,i,a,o,u;if(oO=aO=-(rO=iO=1/0),hO=[],KL(e,WO),n=hO.length){for(hO.sort(eI),t=1,a=[r=hO[0]];t<n;++t)tI(r,(i=hO[t])[0])||tI(r,i[1])?(QO(r[0],i[1])>QO(r[0],r[1])&&(r[1]=i[1]),QO(i[0],r[1])>QO(r[0],r[1])&&(r[0]=i[0])):a.push(r=i);for(o=-1/0,t=0,r=a[n=a.length-1];t<=n;r=i,++t)i=a[t],(u=QO(r[1],i[0]))>o&&(o=u,rO=i[0],aO=r[1])}return hO=dO=null,rO===1/0||iO===1/0?[[NaN,NaN],[NaN,NaN]]:[[rO,iO],[aO,oO]]}var rI={sphere:WL,point:iI,lineStart:oI,lineEnd:lI,polygonStart:function(){rI.lineStart=cI,rI.lineEnd=fI},polygonEnd:function(){rI.lineStart=oI,rI.lineEnd=lI}};function iI(e,t){e*=AL;var n=LL(t*=AL);aI(n*LL(e),n*FL(e),FL(t))}function aI(e,t,n){++CO,PO+=(e-PO)/CO,LO+=(t-LO)/CO,OO+=(n-OO)/CO}function oI(){rI.point=uI}function uI(e,t){e*=AL;var n=LL(t*=AL);HO=n*LL(e),ZO=n*FL(e),GO=FL(t),rI.point=sI,aI(HO,ZO,GO)}function sI(e,t){e*=AL;var n=LL(t*=AL),r=n*LL(e),i=n*FL(e),a=FL(t),o=PL(UL((o=ZO*a-GO*i)*o+(o=GO*r-HO*a)*o+(o=HO*i-ZO*r)*o),HO*r+ZO*i+GO*a);RO+=o,IO+=o*(HO+(HO=r)),DO+=o*(ZO+(ZO=i)),NO+=o*(GO+(GO=a)),aI(HO,ZO,GO)}function lI(){rI.point=iI}function cI(){rI.point=hI}function fI(){dI(UO,jO),rI.point=iI}function hI(e,t){UO=e,jO=t,e*=AL,t*=AL,rI.point=dI;var n=LL(t);HO=n*LL(e),ZO=n*FL(e),GO=FL(t),aI(HO,ZO,GO)}function dI(e,t){e*=AL;var n=LL(t*=AL),r=n*LL(e),i=n*FL(e),a=FL(t),o=ZO*a-GO*i,u=GO*r-HO*a,s=HO*i-ZO*r,l=DL(o,u,s),c=ZL(l),f=l&&-c/l;zO.add(f*o),FO.add(f*u),BO.add(f*s),RO+=c,IO+=c*(HO+(HO=r)),DO+=c*(ZO+(ZO=i)),NO+=c*(GO+(GO=a)),aI(HO,ZO,GO)}function pI(e){CO=RO=PO=LO=OO=IO=DO=NO=0,zO=new z_,FO=new z_,BO=new z_,KL(e,rI);var t=+zO,n=+FO,r=+BO,i=DL(t,n,r);return i<wL&&(t=IO,n=DO,r=NO,RO<_L&&(t=PO,n=LO,r=OO),(i=DL(t,n,r))<wL)?[NaN,NaN]:[PL(n,t)*TL,ZL(r/i)*TL]}function vI(e){return function(){return e}}function mI(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function gI(e,t){return[CL(e)>SL?e+Math.round(-e/EL)*EL:e,t]}function yI(e,t,n){return(e%=EL)?t||n?mI(xI(e),_I(t,n)):xI(e):t||n?_I(t,n):gI}function bI(e){return function(t,n){return[(t+=e)>SL?t-EL:t<-SL?t+EL:t,n]}}function xI(e){var t=bI(e);return t.invert=bI(-e),t}function _I(e,t){var n=LL(e),r=FL(e),i=LL(t),a=FL(t);function o(e,t){var o=LL(t),u=LL(e)*o,s=FL(e)*o,l=FL(t),c=l*n+u*r;return[PL(s*i-c*a,u*n-l*r),ZL(c*i+s*a)]}return o.invert=function(e,t){var o=LL(t),u=LL(e)*o,s=FL(e)*o,l=FL(t),c=l*i-s*a;return[PL(s*i+l*a,u*n+c*r),ZL(c*n-u*r)]},o}function wI(e){function t(t){return(t=e(t[0]*AL,t[1]*AL))[0]*=TL,t[1]*=TL,t}return e=yI(e[0]*AL,e[1]*AL,e.length>2?e[2]*AL:0),t.invert=function(t){return(t=e.invert(t[0]*AL,t[1]*AL))[0]*=TL,t[1]*=TL,t},t}function SI(e,t,n,r,i,a){if(n){var o=LL(t),u=FL(t),s=r*n;null==i?(i=t+r*EL,a=t-s/2):(i=kI(o,i),a=kI(o,a),(r>0?i<a:i>a)&&(i+=r*EL));for(var l,c=i;r>0?c>a:c<a;c-=s)l=wO([o,-u*LL(c),-u*FL(c)]),e.point(l[0],l[1])}}function kI(e,t){(t=SO(t))[0]-=e,AO(t);var n=HL(-t[1]);return((-t[2]<0?-n:n)+EL-_L)%EL}function MI(){var e,t,n=vI([0,0]),r=vI(90),i=vI(6),a={point:function(n,r){e.push(n=t(n,r)),n[0]*=TL,n[1]*=TL}};function o(){var o=n.apply(this,arguments),u=r.apply(this,arguments)*AL,s=i.apply(this,arguments)*AL;return e=[],t=yI(-o[0]*AL,-o[1]*AL,0).invert,SI(a,u,s,1),o={type:"Polygon",coordinates:[e]},e=t=null,o}return o.center=function(e){return arguments.length?(n="function"===typeof e?e:vI([+e[0],+e[1]]),o):n},o.radius=function(e){return arguments.length?(r="function"===typeof e?e:vI(+e),o):r},o.precision=function(e){return arguments.length?(i="function"===typeof e?e:vI(+e),o):i},o}function EI(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:WL,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function TI(e,t){return CL(e[0]-t[0])<_L&&CL(e[1]-t[1])<_L}function AI(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function CI(e,t,n,r,i){var a,o,u=[],s=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],o=e[t];if(TI(r,o)){if(!r[2]&&!o[2]){for(i.lineStart(),a=0;a<t;++a)i.point((r=e[a])[0],r[1]);return void i.lineEnd()}o[0]+=2e-6}u.push(n=new AI(r,e,null,!0)),s.push(n.o=new AI(r,null,n,!1)),u.push(n=new AI(o,e,null,!1)),s.push(n.o=new AI(o,null,n,!0))}})),u.length){for(s.sort(t),RI(u),RI(s),a=0,o=s.length;a<o;++a)s[a].e=n=!n;for(var l,c,f=u[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;l=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(a=0,o=l.length;a<o;++a)i.point((c=l[a])[0],c[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(l=h.p.z,a=l.length-1;a>=0;--a)i.point((c=l[a])[0],c[1]);else r(h.x,h.p.x,-1,i);h=h.p}l=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}}function RI(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function PI(e){return CL(e[0])<=SL?e[0]:BL(e[0])*((CL(e[0])+SL)%EL-SL)}function LI(e,t){var n=PI(t),r=t[1],i=FL(r),a=[FL(n),-LL(n),0],o=0,u=0,s=new z_;1===i?r=kL+_L:-1===i&&(r=-kL-_L);for(var l=0,c=e.length;l<c;++l)if(h=(f=e[l]).length)for(var f,h,d=f[h-1],p=PI(d),v=d[1]/2+ML,m=FL(v),g=LL(v),y=0;y<h;++y,p=x,m=w,g=S,d=b){var b=f[y],x=PI(b),_=b[1]/2+ML,w=FL(_),S=LL(_),k=x-p,M=k>=0?1:-1,E=M*k,T=E>SL,A=m*w;if(s.add(PL(A*M*FL(E),g*S+A*LL(E))),o+=T?k+M*EL:k,T^p>=n^x>=n){var C=MO(SO(d),SO(b));AO(C);var R=MO(a,C);AO(R);var P=(T^k>=0?-1:1)*ZL(R[2]);(r>P||r===P&&(C[0]||C[1]))&&(u+=T^k>=0?1:-1)}}return(o<-1e-6||o<_L&&s<-1e-12)^1&u}function OI(e,t,n,r){return function(i){var a,o,u,s=t(i),l=EI(),c=t(l),f=!1,h={point:d,lineStart:v,lineEnd:m,polygonStart:function(){h.point=g,h.lineStart=y,h.lineEnd=b,o=[],a=[]},polygonEnd:function(){h.point=d,h.lineStart=v,h.lineEnd=m,o=Dw(o);var e=LI(a,r);o.length?(f||(i.polygonStart(),f=!0),CI(o,DI,e,n,i)):e&&(f||(i.polygonStart(),f=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),f&&(i.polygonEnd(),f=!1),o=a=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(t,n){e(t,n)&&i.point(t,n)}function p(e,t){s.point(e,t)}function v(){h.point=p,s.lineStart()}function m(){h.point=d,s.lineEnd()}function g(e,t){u.push([e,t]),c.point(e,t)}function y(){c.lineStart(),u=[]}function b(){g(u[0][0],u[0][1]),c.lineEnd();var e,t,n,r,s=c.clean(),h=l.result(),d=h.length;if(u.pop(),a.push(u),u=null,d)if(1&s){if((t=(n=h[0]).length-1)>0){for(f||(i.polygonStart(),f=!0),i.lineStart(),e=0;e<t;++e)i.point((r=n[e])[0],r[1]);i.lineEnd()}}else d>1&&2&s&&h.push(h.pop().concat(h.shift())),o.push(h.filter(II))}return h}}function II(e){return e.length>1}function DI(e,t){return((e=e.x)[0]<0?e[1]-kL-_L:kL-e[1])-((t=t.x)[0]<0?t[1]-kL-_L:kL-t[1])}gI.invert=gI;var NI=OI((function(){return!0}),(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var u=a>0?SL:-SL,s=CL(a-n);CL(s-SL)<_L?(e.point(n,r=(r+o)/2>0?kL:-kL),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(u,r),e.point(a,r),t=0):i!==u&&s>=SL&&(CL(n-i)<_L&&(n-=i*_L),CL(a-u)<_L&&(a-=u*_L),r=function(e,t,n,r){var i,a,o=FL(e-n);return CL(o)>_L?RL((FL(t)*(a=LL(r))*FL(n)-FL(r)*(i=LL(t))*FL(e))/(i*a*o)):(t+r)/2}(n,r,a,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(u,r),t=0),e.point(n=a,r=o),i=u},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*kL,r.point(-SL,i),r.point(0,i),r.point(SL,i),r.point(SL,0),r.point(SL,-i),r.point(0,-i),r.point(-SL,-i),r.point(-SL,0),r.point(-SL,i);else if(CL(e[0]-t[0])>_L){var a=e[0]<t[0]?SL:-SL;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}),[-SL,-kL]);function zI(e){var t=LL(e),n=6*AL,r=t>0,i=CL(t)>_L;function a(e,n){return LL(e)*LL(n)>t}function o(e,n,r){var i=[1,0,0],a=MO(SO(e),SO(n)),o=kO(a,a),u=a[0],s=o-u*u;if(!s)return!r&&e;var l=t*o/s,c=-t*u/s,f=MO(i,a),h=TO(i,l);EO(h,TO(a,c));var d=f,p=kO(h,d),v=kO(d,d),m=p*p-v*(kO(h,h)-1);if(!(m<0)){var g=UL(m),y=TO(d,(-p-g)/v);if(EO(y,h),y=wO(y),!r)return y;var b,x=e[0],_=n[0],w=e[1],S=n[1];_<x&&(b=x,x=_,_=b);var k=_-x,M=CL(k-SL)<_L;if(!M&&S<w&&(b=w,w=S,S=b),M||k<_L?M?w+S>0^y[1]<(CL(y[0]-x)<_L?w:S):w<=y[1]&&y[1]<=S:k>SL^(x<=y[0]&&y[0]<=_)){var E=TO(d,(-p+g)/v);return EO(E,h),[y,wO(E)]}}}function u(t,n){var i=r?e:SL-e,a=0;return t<-i?a|=1:t>i&&(a|=2),n<-i?a|=4:n>i&&(a|=8),a}return OI(a,(function(e){var t,n,s,l,c;return{lineStart:function(){l=s=!1,c=1},point:function(f,h){var d,p=[f,h],v=a(f,h),m=r?v?0:u(f,h):v?u(f+(f<0?SL:-SL),h):0;if(!t&&(l=s=v)&&e.lineStart(),v!==s&&(!(d=o(t,p))||TI(t,d)||TI(p,d))&&(p[2]=1),v!==s)c=0,v?(e.lineStart(),d=o(p,t),e.point(d[0],d[1])):(d=o(t,p),e.point(d[0],d[1],2),e.lineEnd()),t=d;else if(i&&t&&r^v){var g;m&n||!(g=o(p,t,!0))||(c=0,r?(e.lineStart(),e.point(g[0][0],g[0][1]),e.point(g[1][0],g[1][1]),e.lineEnd()):(e.point(g[1][0],g[1][1]),e.lineEnd(),e.lineStart(),e.point(g[0][0],g[0][1],3)))}!v||t&&TI(t,p)||e.point(p[0],p[1]),t=p,s=v,n=m},lineEnd:function(){s&&e.lineEnd(),t=null},clean:function(){return c|(l&&s)<<1}}}),(function(t,r,i,a){SI(a,e,n,i,t,r)}),r?[0,-e]:[-SL,e-SL])}var FI,BI,UI,jI,HI=1e9,ZI=-HI;function GI(e,t,n,r){function i(i,a){return e<=i&&i<=n&&t<=a&&a<=r}function a(i,a,u,l){var c=0,f=0;if(null==i||(c=o(i,u))!==(f=o(a,u))||s(i,a)<0^u>0)do{l.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+u+4)%4)!==f);else l.point(a[0],a[1])}function o(r,i){return CL(r[0]-e)<_L?i>0?0:3:CL(r[0]-n)<_L?i>0?2:1:CL(r[1]-t)<_L?i>0?1:0:i>0?3:2}function u(e,t){return s(e.x,t.x)}function s(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){var s,l,c,f,h,d,p,v,m,g,y,b=o,x=EI(),_={point:w,lineStart:function(){_.point=S,l&&l.push(c=[]);g=!0,m=!1,p=v=NaN},lineEnd:function(){s&&(S(f,h),d&&m&&x.rejoin(),s.push(x.result()));_.point=w,m&&b.lineEnd()},polygonStart:function(){b=x,s=[],l=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,i=l.length;n<i;++n)for(var a,o,u=l[n],s=1,c=u.length,f=u[0],h=f[0],d=f[1];s<c;++s)a=h,o=d,h=(f=u[s])[0],d=f[1],o<=r?d>r&&(h-a)*(r-o)>(d-o)*(e-a)&&++t:d<=r&&(h-a)*(r-o)<(d-o)*(e-a)&&--t;return t}(),n=y&&t,i=(s=Dw(s)).length;(n||i)&&(o.polygonStart(),n&&(o.lineStart(),a(null,null,1,o),o.lineEnd()),i&&CI(s,u,t,a,o),o.polygonEnd());b=o,s=l=c=null}};function w(e,t){i(e,t)&&b.point(e,t)}function S(a,o){var u=i(a,o);if(l&&c.push([a,o]),g)f=a,h=o,d=u,g=!1,u&&(b.lineStart(),b.point(a,o));else if(u&&m)b.point(a,o);else{var s=[p=Math.max(ZI,Math.min(HI,p)),v=Math.max(ZI,Math.min(HI,v))],x=[a=Math.max(ZI,Math.min(HI,a)),o=Math.max(ZI,Math.min(HI,o))];!function(e,t,n,r,i,a){var o,u=e[0],s=e[1],l=0,c=1,f=t[0]-u,h=t[1]-s;if(o=n-u,f||!(o>0)){if(o/=f,f<0){if(o<l)return;o<c&&(c=o)}else if(f>0){if(o>c)return;o>l&&(l=o)}if(o=i-u,f||!(o<0)){if(o/=f,f<0){if(o>c)return;o>l&&(l=o)}else if(f>0){if(o<l)return;o<c&&(c=o)}if(o=r-s,h||!(o>0)){if(o/=h,h<0){if(o<l)return;o<c&&(c=o)}else if(h>0){if(o>c)return;o>l&&(l=o)}if(o=a-s,h||!(o<0)){if(o/=h,h<0){if(o>c)return;o>l&&(l=o)}else if(h>0){if(o<l)return;o<c&&(c=o)}return l>0&&(e[0]=u+l*f,e[1]=s+l*h),c<1&&(t[0]=u+c*f,t[1]=s+c*h),!0}}}}}(s,x,e,t,n,r)?u&&(b.lineStart(),b.point(a,o),y=!1):(m||(b.lineStart(),b.point(s[0],s[1])),b.point(x[0],x[1]),u||b.lineEnd(),y=!1)}p=a,v=o,m=u}return _}}function WI(){var e,t,n,r=0,i=0,a=960,o=500;return n={stream:function(n){return e&&t===n?e:e=GI(r,i,a,o)(t=n)},extent:function(u){return arguments.length?(r=+u[0][0],i=+u[0][1],a=+u[1][0],o=+u[1][1],e=t=null,n):[[r,i],[a,o]]}}}var VI={sphere:WL,point:WL,lineStart:function(){VI.point=XI,VI.lineEnd=qI},lineEnd:WL,polygonStart:WL,polygonEnd:WL};function qI(){VI.point=VI.lineEnd=WL}function XI(e,t){BI=e*=AL,UI=FL(t*=AL),jI=LL(t),VI.point=$I}function $I(e,t){e*=AL;var n=FL(t*=AL),r=LL(t),i=CL(e-BI),a=LL(i),o=r*FL(i),u=jI*n-UI*r*a,s=UI*n+jI*r*a;FI.add(PL(UL(o*o+u*u),s)),BI=e,UI=n,jI=r}function YI(e){return FI=new z_,KL(e,VI),+FI}var KI=[null,null],JI={type:"LineString",coordinates:KI};function QI(e,t){return KI[0]=e,KI[1]=t,YI(JI)}var eD={Feature:function(e,t){return nD(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)if(nD(n[r].geometry,t))return!0;return!1}},tD={Sphere:function(){return!0},Point:function(e,t){return rD(e.coordinates,t)},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(rD(n[r],t))return!0;return!1},LineString:function(e,t){return iD(e.coordinates,t)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(iD(n[r],t))return!0;return!1},Polygon:function(e,t){return aD(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)if(aD(n[r],t))return!0;return!1},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)if(nD(n[r],t))return!0;return!1}};function nD(e,t){return!(!e||!tD.hasOwnProperty(e.type))&&tD[e.type](e,t)}function rD(e,t){return 0===QI(e,t)}function iD(e,t){for(var n,r,i,a=0,o=e.length;a<o;a++){if(0===(r=QI(e[a],t)))return!0;if(a>0&&(i=QI(e[a],e[a-1]))>0&&n<=i&&r<=i&&(n+r-i)*(1-Math.pow((n-r)/i,2))<wL*i)return!0;n=r}return!1}function aD(e,t){return!!LI(e.map(oD),uD(t))}function oD(e){return(e=e.map(uD)).pop(),e}function uD(e){return[e[0]*AL,e[1]*AL]}function sD(e,t){return(e&&eD.hasOwnProperty(e.type)?eD[e.type]:nD)(e,t)}function lD(e,t,n){var r=Uw(e,t-_L,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function cD(e,t,n){var r=Uw(e,t-_L,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function fD(){var e,t,n,r,i,a,o,u,s,l,c,f,h=10,d=h,p=90,v=360,m=2.5;function g(){return{type:"MultiLineString",coordinates:y()}}function y(){return Uw(OL(r/p)*p,n,p).map(c).concat(Uw(OL(u/v)*v,o,v).map(f)).concat(Uw(OL(t/h)*h,e,h).filter((function(e){return CL(e%p)>_L})).map(s)).concat(Uw(OL(a/d)*d,i,d).filter((function(e){return CL(e%v)>_L})).map(l))}return g.lines=function(){return y().map((function(e){return{type:"LineString",coordinates:e}}))},g.outline=function(){return{type:"Polygon",coordinates:[c(r).concat(f(o).slice(1),c(n).reverse().slice(1),f(u).reverse().slice(1))]}},g.extent=function(e){return arguments.length?g.extentMajor(e).extentMinor(e):g.extentMinor()},g.extentMajor=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],u=+e[0][1],o=+e[1][1],r>n&&(e=r,r=n,n=e),u>o&&(e=u,u=o,o=e),g.precision(m)):[[r,u],[n,o]]},g.extentMinor=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],a=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),a>i&&(n=a,a=i,i=n),g.precision(m)):[[t,a],[e,i]]},g.step=function(e){return arguments.length?g.stepMajor(e).stepMinor(e):g.stepMinor()},g.stepMajor=function(e){return arguments.length?(p=+e[0],v=+e[1],g):[p,v]},g.stepMinor=function(e){return arguments.length?(h=+e[0],d=+e[1],g):[h,d]},g.precision=function(h){return arguments.length?(m=+h,s=lD(a,i,90),l=cD(t,e,m),c=lD(u,o,90),f=cD(r,n,m),g):m},g.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function hD(){return fD()()}function dD(e,t){var n=e[0]*AL,r=e[1]*AL,i=t[0]*AL,a=t[1]*AL,o=LL(r),u=FL(r),s=LL(a),l=FL(a),c=o*LL(n),f=o*FL(n),h=s*LL(i),d=s*FL(i),p=2*ZL(UL(GL(a-r)+o*s*GL(i-n))),v=FL(p),m=p?function(e){var t=FL(e*=p)/v,n=FL(p-e)/v,r=n*c+t*h,i=n*f+t*d,a=n*u+t*l;return[PL(i,r)*TL,PL(a,UL(r*r+i*i))*TL]}:function(){return[n*TL,r*TL]};return m.distance=p,m}var pD,vD,mD,gD,yD=function(e){return e},bD=new z_,xD=new z_,_D={point:WL,lineStart:WL,lineEnd:WL,polygonStart:function(){_D.lineStart=wD,_D.lineEnd=MD},polygonEnd:function(){_D.lineStart=_D.lineEnd=_D.point=WL,bD.add(CL(xD)),xD=new z_},result:function(){var e=bD/2;return bD=new z_,e}};function wD(){_D.point=SD}function SD(e,t){_D.point=kD,pD=mD=e,vD=gD=t}function kD(e,t){xD.add(gD*e-mD*t),mD=e,gD=t}function MD(){kD(pD,vD)}var ED=_D,TD=1/0,AD=TD,CD=-TD,RD=CD,PD={point:function(e,t){e<TD&&(TD=e);e>CD&&(CD=e);t<AD&&(AD=t);t>RD&&(RD=t)},lineStart:WL,lineEnd:WL,polygonStart:WL,polygonEnd:WL,result:function(){var e=[[TD,AD],[CD,RD]];return CD=RD=-(AD=TD=1/0),e}};var LD,OD,ID,DD,ND=PD,zD=0,FD=0,BD=0,UD=0,jD=0,HD=0,ZD=0,GD=0,WD=0,VD={point:qD,lineStart:XD,lineEnd:KD,polygonStart:function(){VD.lineStart=JD,VD.lineEnd=QD},polygonEnd:function(){VD.point=qD,VD.lineStart=XD,VD.lineEnd=KD},result:function(){var e=WD?[ZD/WD,GD/WD]:HD?[UD/HD,jD/HD]:BD?[zD/BD,FD/BD]:[NaN,NaN];return zD=FD=BD=UD=jD=HD=ZD=GD=WD=0,e}};function qD(e,t){zD+=e,FD+=t,++BD}function XD(){VD.point=$D}function $D(e,t){VD.point=YD,qD(ID=e,DD=t)}function YD(e,t){var n=e-ID,r=t-DD,i=UL(n*n+r*r);UD+=i*(ID+e)/2,jD+=i*(DD+t)/2,HD+=i,qD(ID=e,DD=t)}function KD(){VD.point=qD}function JD(){VD.point=eN}function QD(){tN(LD,OD)}function eN(e,t){VD.point=tN,qD(LD=ID=e,OD=DD=t)}function tN(e,t){var n=e-ID,r=t-DD,i=UL(n*n+r*r);UD+=i*(ID+e)/2,jD+=i*(DD+t)/2,HD+=i,ZD+=(i=DD*e-ID*t)*(ID+e),GD+=i*(DD+t),WD+=3*i,qD(ID=e,DD=t)}var nN=VD;function rN(e){this._context=e}rN.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,EL)}},result:WL};var iN,aN,oN,uN,sN,lN=new z_,cN={point:WL,lineStart:function(){cN.point=fN},lineEnd:function(){iN&&hN(aN,oN),cN.point=WL},polygonStart:function(){iN=!0},polygonEnd:function(){iN=null},result:function(){var e=+lN;return lN=new z_,e}};function fN(e,t){cN.point=hN,aN=uN=e,oN=sN=t}function hN(e,t){uN-=e,sN-=t,lN.add(UL(uN*uN+sN*sN)),uN=e,sN=t}var dN=cN;function pN(){this._string=[]}function vN(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function mN(e,t){var n,r,i=4.5;function a(e){return e&&("function"===typeof i&&r.pointRadius(+i.apply(this,arguments)),KL(e,n(r))),r.result()}return a.area=function(e){return KL(e,n(ED)),ED.result()},a.measure=function(e){return KL(e,n(dN)),dN.result()},a.bounds=function(e){return KL(e,n(ND)),ND.result()},a.centroid=function(e){return KL(e,n(nN)),nN.result()},a.projection=function(t){return arguments.length?(n=null==t?(e=null,yD):(e=t).stream,a):e},a.context=function(e){return arguments.length?(r=null==e?(t=null,new pN):new rN(t=e),"function"!==typeof i&&r.pointRadius(i),a):t},a.pointRadius=function(e){return arguments.length?(i="function"===typeof e?e:(r.pointRadius(+e),+e),a):i},a.projection(e).context(t)}function gN(e){return{stream:yN(e)}}function yN(e){return function(t){var n=new bN;for(var r in e)n[r]=e[r];return n.stream=t,n}}function bN(){}function xN(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),KL(n,e.stream(ND)),t(ND.result()),null!=r&&e.clipExtent(r),e}function _N(e,t,n){return xN(e,(function(n){var r=t[1][0]-t[0][0],i=t[1][1]-t[0][1],a=Math.min(r/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),o=+t[0][0]+(r-a*(n[1][0]+n[0][0]))/2,u=+t[0][1]+(i-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([o,u])}),n)}function wN(e,t,n){return _N(e,[[0,0],t],n)}function SN(e,t,n){return xN(e,(function(n){var r=+t,i=r/(n[1][0]-n[0][0]),a=(r-i*(n[1][0]+n[0][0]))/2,o=-i*n[0][1];e.scale(150*i).translate([a,o])}),n)}function kN(e,t,n){return xN(e,(function(n){var r=+t,i=r/(n[1][1]-n[0][1]),a=-i*n[0][0],o=(r-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([a,o])}),n)}pN.prototype={_radius:4.5,_circle:vN(4.5),pointRadius:function(e){return(e=+e)!==this._radius&&(this._radius=e,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._string.push("M",e,",",t),this._point=1;break;case 1:this._string.push("L",e,",",t);break;default:null==this._circle&&(this._circle=vN(this._radius)),this._string.push("M",e,",",t,this._circle)}},result:function(){if(this._string.length){var e=this._string.join("");return this._string=[],e}return null}},bN.prototype={constructor:bN,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var MN=LL(30*AL);function EN(e,t){return+t?function(e,t){function n(r,i,a,o,u,s,l,c,f,h,d,p,v,m){var g=l-r,y=c-i,b=g*g+y*y;if(b>4*t&&v--){var x=o+h,_=u+d,w=s+p,S=UL(x*x+_*_+w*w),k=ZL(w/=S),M=CL(CL(w)-1)<_L||CL(a-f)<_L?(a+f)/2:PL(_,x),E=e(M,k),T=E[0],A=E[1],C=T-r,R=A-i,P=y*C-g*R;(P*P/b>t||CL((g*C+y*R)/b-.5)>.3||o*h+u*d+s*p<MN)&&(n(r,i,a,o,u,s,T,A,M,x/=S,_/=S,w,v,m),m.point(T,A),n(T,A,M,x,_,w,l,c,f,h,d,p,v,m))}}return function(t){var r,i,a,o,u,s,l,c,f,h,d,p,v={point:m,lineStart:g,lineEnd:b,polygonStart:function(){t.polygonStart(),v.lineStart=x},polygonEnd:function(){t.polygonEnd(),v.lineStart=g}};function m(n,r){n=e(n,r),t.point(n[0],n[1])}function g(){c=NaN,v.point=y,t.lineStart()}function y(r,i){var a=SO([r,i]),o=e(r,i);n(c,f,l,h,d,p,c=o[0],f=o[1],l=r,h=a[0],d=a[1],p=a[2],16,t),t.point(c,f)}function b(){v.point=m,t.lineEnd()}function x(){g(),v.point=_,v.lineEnd=w}function _(e,t){y(r=e,t),i=c,a=f,o=h,u=d,s=p,v.point=y}function w(){n(c,f,l,h,d,p,i,a,r,o,u,s,16,t),v.lineEnd=b,b()}return v}}(e,t):function(e){return yN({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var TN=yN({point:function(e,t){this.stream.point(e*AL,t*AL)}});function AN(e,t,n,r,i,a){if(!a)return function(e,t,n,r,i){function a(a,o){return[t+e*(a*=r),n-e*(o*=i)]}return a.invert=function(a,o){return[(a-t)/e*r,(n-o)/e*i]},a}(e,t,n,r,i);var o=LL(a),u=FL(a),s=o*e,l=u*e,c=o/e,f=u/e,h=(u*n-o*t)/e,d=(u*t+o*n)/e;function p(e,a){return[s*(e*=r)-l*(a*=i)+t,n-l*e-s*a]}return p.invert=function(e,t){return[r*(c*e-f*t+h),i*(d-f*e-c*t)]},p}function CN(e){return RN((function(){return e}))()}function RN(e){var t,n,r,i,a,o,u,s,l,c,f=150,h=480,d=250,p=0,v=0,m=0,g=0,y=0,b=0,x=1,_=1,w=null,S=NI,k=null,M=yD,E=.5;function T(e){return s(e[0]*AL,e[1]*AL)}function A(e){return(e=s.invert(e[0],e[1]))&&[e[0]*TL,e[1]*TL]}function C(){var e=AN(f,0,0,x,_,b).apply(null,t(p,v)),r=AN(f,h-e[0],d-e[1],x,_,b);return n=yI(m,g,y),u=mI(t,r),s=mI(n,u),o=EN(u,E),R()}function R(){return l=c=null,T}return T.stream=function(e){return l&&c===e?l:l=TN(function(e){return yN({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(S(o(M(c=e)))))},T.preclip=function(e){return arguments.length?(S=e,w=void 0,R()):S},T.postclip=function(e){return arguments.length?(M=e,k=r=i=a=null,R()):M},T.clipAngle=function(e){return arguments.length?(S=+e?zI(w=e*AL):(w=null,NI),R()):w*TL},T.clipExtent=function(e){return arguments.length?(M=null==e?(k=r=i=a=null,yD):GI(k=+e[0][0],r=+e[0][1],i=+e[1][0],a=+e[1][1]),R()):null==k?null:[[k,r],[i,a]]},T.scale=function(e){return arguments.length?(f=+e,C()):f},T.translate=function(e){return arguments.length?(h=+e[0],d=+e[1],C()):[h,d]},T.center=function(e){return arguments.length?(p=e[0]%360*AL,v=e[1]%360*AL,C()):[p*TL,v*TL]},T.rotate=function(e){return arguments.length?(m=e[0]%360*AL,g=e[1]%360*AL,y=e.length>2?e[2]%360*AL:0,C()):[m*TL,g*TL,y*TL]},T.angle=function(e){return arguments.length?(b=e%360*AL,C()):b*TL},T.reflectX=function(e){return arguments.length?(x=e?-1:1,C()):x<0},T.reflectY=function(e){return arguments.length?(_=e?-1:1,C()):_<0},T.precision=function(e){return arguments.length?(o=EN(u,E=e*e),R()):UL(E)},T.fitExtent=function(e,t){return _N(T,e,t)},T.fitSize=function(e,t){return wN(T,e,t)},T.fitWidth=function(e,t){return SN(T,e,t)},T.fitHeight=function(e,t){return kN(T,e,t)},function(){return t=e.apply(this,arguments),T.invert=t.invert&&A,C()}}function PN(e){var t=0,n=SL/3,r=RN(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*AL,n=e[1]*AL):[t*TL,n*TL]},i}function LN(e,t){var n=FL(e),r=(n+FL(t))/2;if(CL(r)<_L)return function(e){var t=LL(e);function n(e,n){return[e*t,FL(n)/t]}return n.invert=function(e,n){return[e/t,ZL(n*t)]},n}(e);var i=1+n*(2*r-n),a=UL(i)/r;function o(e,t){var n=UL(i-2*r*FL(t))/r;return[n*FL(e*=r),a-n*LL(e)]}return o.invert=function(e,t){var n=a-t,o=PL(e,CL(n))*BL(n);return n*r<0&&(o-=SL*BL(e)*BL(n)),[o/r,ZL((i-(e*e+n*n)*r*r)/(2*r))]},o}function ON(){return PN(LN).scale(155.424).center([0,33.6442])}function IN(){return ON().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function DN(){var e,t,n,r,i,a,o=IN(),u=ON().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=ON().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,t){a=[e,t]}};function c(e){var t=e[0],o=e[1];return a=null,n.point(t,o),a||(r.point(t,o),a)||(i.point(t,o),a)}function f(){return e=t=null,c}return c.invert=function(e){var t=o.scale(),n=o.translate(),r=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?u:i>=.166&&i<.234&&r>=-.214&&r<-.115?s:o).invert(e)},c.stream=function(n){return e&&t===n?e:e=function(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}([o.stream(t=n),u.stream(n),s.stream(n)])},c.precision=function(e){return arguments.length?(o.precision(e),u.precision(e),s.precision(e),f()):o.precision()},c.scale=function(e){return arguments.length?(o.scale(e),u.scale(.35*e),s.scale(e),c.translate(o.translate())):o.scale()},c.translate=function(e){if(!arguments.length)return o.translate();var t=o.scale(),a=+e[0],c=+e[1];return n=o.translate(e).clipExtent([[a-.455*t,c-.238*t],[a+.455*t,c+.238*t]]).stream(l),r=u.translate([a-.307*t,c+.201*t]).clipExtent([[a-.425*t+_L,c+.12*t+_L],[a-.214*t-_L,c+.234*t-_L]]).stream(l),i=s.translate([a-.205*t,c+.212*t]).clipExtent([[a-.214*t+_L,c+.166*t+_L],[a-.115*t-_L,c+.234*t-_L]]).stream(l),f()},c.fitExtent=function(e,t){return _N(c,e,t)},c.fitSize=function(e,t){return wN(c,e,t)},c.fitWidth=function(e,t){return SN(c,e,t)},c.fitHeight=function(e,t){return kN(c,e,t)},c.scale(1070)}function NN(e){return function(t,n){var r=LL(t),i=LL(n),a=e(r*i);return a===1/0?[2,0]:[a*i*FL(t),a*FL(n)]}}function zN(e){return function(t,n){var r=UL(t*t+n*n),i=e(r),a=FL(i),o=LL(i);return[PL(t*a,r*o),ZL(r&&n*a/r)]}}var FN=NN((function(e){return UL(2/(1+e))}));function BN(){return CN(FN).scale(124.75).clipAngle(179.999)}FN.invert=zN((function(e){return 2*ZL(e/2)}));var UN=NN((function(e){return(e=HL(e))&&e/FL(e)}));function jN(){return CN(UN).scale(79.4188).clipAngle(179.999)}function HN(e,t){return[e,NL(jL((kL+t)/2))]}function ZN(){return GN(HN).scale(961/EL)}function GN(e){var t,n,r,i=CN(e),a=i.center,o=i.scale,u=i.translate,s=i.clipExtent,l=null;function c(){var a=SL*o(),u=i(wI(i.rotate()).invert([0,0]));return s(null==l?[[u[0]-a,u[1]-a],[u[0]+a,u[1]+a]]:e===HN?[[Math.max(u[0]-a,l),t],[Math.min(u[0]+a,n),r]]:[[l,Math.max(u[1]-a,t)],[n,Math.min(u[1]+a,r)]])}return i.scale=function(e){return arguments.length?(o(e),c()):o()},i.translate=function(e){return arguments.length?(u(e),c()):u()},i.center=function(e){return arguments.length?(a(e),c()):a()},i.clipExtent=function(e){return arguments.length?(null==e?l=t=n=r=null:(l=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),c()):null==l?null:[[l,t],[n,r]]},c()}function WN(e){return jL((kL+e)/2)}function VN(e,t){var n=LL(e),r=e===t?FL(e):NL(n/LL(t))/NL(WN(t)/WN(e)),i=n*zL(WN(e),r)/r;if(!r)return HN;function a(e,t){i>0?t<-kL+_L&&(t=-kL+_L):t>kL-_L&&(t=kL-_L);var n=i/zL(WN(t),r);return[n*FL(r*e),i-n*LL(r*e)]}return a.invert=function(e,t){var n=i-t,a=BL(r)*UL(e*e+n*n),o=PL(e,CL(n))*BL(n);return n*r<0&&(o-=SL*BL(e)*BL(n)),[o/r,2*RL(zL(i/a,1/r))-kL]},a}function qN(){return PN(VN).scale(109.5).parallels([30,30])}function XN(e,t){return[e,t]}function $N(){return CN(XN).scale(152.63)}function YN(e,t){var n=LL(e),r=e===t?FL(e):(n-LL(t))/(t-e),i=n/r+e;if(CL(r)<_L)return XN;function a(e,t){var n=i-t,a=r*e;return[n*FL(a),i-n*LL(a)]}return a.invert=function(e,t){var n=i-t,a=PL(e,CL(n))*BL(n);return n*r<0&&(a-=SL*BL(e)*BL(n)),[a/r,i-BL(r)*UL(e*e+n*n)]},a}function KN(){return PN(YN).scale(131.154).center([0,13.9389])}UN.invert=zN((function(e){return e})),HN.invert=function(e,t){return[e,2*RL(IL(t))-kL]},XN.invert=XN;var JN=1.340264,QN=-.081106,ez=893e-6,tz=.003796,nz=UL(3)/2;function rz(e,t){var n=ZL(nz*FL(t)),r=n*n,i=r*r*r;return[e*LL(n)/(nz*(JN+3*QN*r+i*(7*ez+9*tz*r))),n*(JN+QN*r+i*(ez+tz*r))]}function iz(){return CN(rz).scale(177.158)}function az(e,t){var n=LL(t),r=LL(e)*n;return[n*FL(e)/r,FL(t)/r]}function oz(){return CN(az).scale(144.049).clipAngle(60)}function uz(){var e,t,n,r,i,a,o,u=1,s=0,l=0,c=1,f=1,h=0,d=null,p=1,v=1,m=yN({point:function(e,t){var n=b([e,t]);this.stream.point(n[0],n[1])}}),g=yD;function y(){return p=u*c,v=u*f,a=o=null,b}function b(n){var r=n[0]*p,i=n[1]*v;if(h){var a=i*e-r*t;r=r*e+i*t,i=a}return[r+s,i+l]}return b.invert=function(n){var r=n[0]-s,i=n[1]-l;if(h){var a=i*e+r*t;r=r*e-i*t,i=a}return[r/p,i/v]},b.stream=function(e){return a&&o===e?a:a=m(g(o=e))},b.postclip=function(e){return arguments.length?(g=e,d=n=r=i=null,y()):g},b.clipExtent=function(e){return arguments.length?(g=null==e?(d=n=r=i=null,yD):GI(d=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),y()):null==d?null:[[d,n],[r,i]]},b.scale=function(e){return arguments.length?(u=+e,y()):u},b.translate=function(e){return arguments.length?(s=+e[0],l=+e[1],y()):[s,l]},b.angle=function(n){return arguments.length?(t=FL(h=n%360*AL),e=LL(h),y()):h*TL},b.reflectX=function(e){return arguments.length?(c=e?-1:1,y()):c<0},b.reflectY=function(e){return arguments.length?(f=e?-1:1,y()):f<0},b.fitExtent=function(e,t){return _N(b,e,t)},b.fitSize=function(e,t){return wN(b,e,t)},b.fitWidth=function(e,t){return SN(b,e,t)},b.fitHeight=function(e,t){return kN(b,e,t)},b}function sz(e,t){var n=t*t,r=n*n;return[e*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),t*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function lz(){return CN(sz).scale(175.295)}function cz(e,t){return[LL(t)*FL(e),FL(t)]}function fz(){return CN(cz).scale(249.5).clipAngle(90.000001)}function hz(e,t){var n=LL(t),r=1+LL(e)*n;return[n*FL(e)/r,FL(t)/r]}function dz(){return CN(hz).scale(250).clipAngle(142)}function pz(e,t){return[NL(jL((kL+t)/2)),-e]}function vz(){var e=GN(pz),t=e.center,n=e.rotate;return e.center=function(e){return arguments.length?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return arguments.length?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90]).scale(159.155)}function mz(e,t){return e.parent===t.parent?1:2}function gz(e,t){return e+t.x}function yz(e,t){return Math.max(e,t.y)}function bz(){var e=mz,t=1,n=1,r=!1;function i(i){var a,o=0;i.eachAfter((function(t){var n=t.children;n?(t.x=function(e){return e.reduce(gz,0)/e.length}(n),t.y=function(e){return 1+e.reduce(yz,0)}(n)):(t.x=a?o+=e(t,a):0,t.y=0,a=t)}));var u=function(e){for(var t;t=e.children;)e=t[0];return e}(i),s=function(e){for(var t;t=e.children;)e=t[t.length-1];return e}(i),l=u.x-e(u,s)/2,c=s.x+e(s,u)/2;return i.eachAfter(r?function(e){e.x=(e.x-i.x)*t,e.y=(i.y-e.y)*n}:function(e){e.x=(e.x-l)/(c-l)*t,e.y=(1-(i.y?e.y/i.y:1))*n})}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}function xz(e){var t=0,n=e.children,r=n&&n.length;if(r)for(;--r>=0;)t+=n[r].value;else t=1;e.value=t}rz.invert=function(e,t){for(var n,r=t,i=r*r,a=i*i*i,o=0;o<12&&(a=(i=(r-=n=(r*(JN+QN*i+a*(ez+tz*i))-t)/(JN+3*QN*i+a*(7*ez+9*tz*i)))*r)*i*i,!(CL(n)<wL));++o);return[nz*e*(JN+3*QN*i+a*(7*ez+9*tz*i))/LL(r),ZL(FL(r)/nz)]},az.invert=zN(RL),sz.invert=function(e,t){var n,r=t,i=25;do{var a=r*r,o=a*a;r-=n=(r*(1.007226+a*(.015085+o*(.028874*a-.044475-.005916*o)))-t)/(1.007226+a*(.045255+o*(.259866*a-.311325-.005916*11*o)))}while(CL(n)>_L&&--i>0);return[e/(.8707+(a=r*r)*(a*(a*a*a*(.003971-.001529*a)-.013791)-.131979)),r]},cz.invert=zN(ZL),hz.invert=zN((function(e){return 2*RL(e)})),pz.invert=function(e,t){return[-t,2*RL(IL(e))-kL]};var _z=z.mark(wz);function wz(){var e,t,n,r,i,a;return z.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=[e=this];case 1:t=n.reverse(),n=[];case 2:if(!(e=t.pop())){o.next=8;break}return o.next=5,e;case 5:if(r=e.children)for(i=0,a=r.length;i<a;++i)n.push(r[i]);o.next=2;break;case 8:if(n.length){o.next=1;break}case 9:case"end":return o.stop()}}),_z,this)}function Sz(e,t){e instanceof Map?(e=[void 0,e],void 0===t&&(t=Mz)):void 0===t&&(t=kz);for(var n,r,i,a,o,u=new Az(e),s=[u];n=s.pop();)if((i=t(n.data))&&(o=(i=Array.from(i)).length))for(n.children=i,a=o-1;a>=0;--a)s.push(r=i[a]=new Az(i[a])),r.parent=n,r.depth=n.depth+1;return u.eachBefore(Tz)}function kz(e){return e.children}function Mz(e){return Array.isArray(e)?e[1]:null}function Ez(e){void 0!==e.data.value&&(e.value=e.data.value),e.data=e.data.data}function Tz(e){var t=0;do{e.height=t}while((e=e.parent)&&e.height<++t)}function Az(e){this.data=e,this.depth=this.height=0,this.parent=null}function Cz(e){for(var t,n,r=0,i=(e=function(e){for(var t,n,r=e.length;r;)n=Math.random()*r--|0,t=e[r],e[r]=e[n],e[n]=t;return e}(Array.from(e))).length,a=[];r<i;)t=e[r],n&&Lz(n,t)?++r:(n=Iz(a=Rz(a,t)),r=0);return n}function Rz(e,t){var n,r;if(Oz(t,e))return[t];for(n=0;n<e.length;++n)if(Pz(t,e[n])&&Oz(Dz(e[n],t),e))return[e[n],t];for(n=0;n<e.length-1;++n)for(r=n+1;r<e.length;++r)if(Pz(Dz(e[n],e[r]),t)&&Pz(Dz(e[n],t),e[r])&&Pz(Dz(e[r],t),e[n])&&Oz(Nz(e[n],e[r],t),e))return[e[n],e[r],t];throw new Error}function Pz(e,t){var n=e.r-t.r,r=t.x-e.x,i=t.y-e.y;return n<0||n*n<r*r+i*i}function Lz(e,t){var n=e.r-t.r+1e-9*Math.max(e.r,t.r,1),r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Oz(e,t){for(var n=0;n<t.length;++n)if(!Lz(e,t[n]))return!1;return!0}function Iz(e){switch(e.length){case 1:return function(e){return{x:e.x,y:e.y,r:e.r}}(e[0]);case 2:return Dz(e[0],e[1]);case 3:return Nz(e[0],e[1],e[2])}}function Dz(e,t){var n=e.x,r=e.y,i=e.r,a=t.x,o=t.y,u=t.r,s=a-n,l=o-r,c=u-i,f=Math.sqrt(s*s+l*l);return{x:(n+a+s/f*c)/2,y:(r+o+l/f*c)/2,r:(f+i+u)/2}}function Nz(e,t,n){var r=e.x,i=e.y,a=e.r,o=t.x,u=t.y,s=t.r,l=n.x,c=n.y,f=n.r,h=r-o,d=r-l,p=i-u,v=i-c,m=s-a,g=f-a,y=r*r+i*i-a*a,b=y-o*o-u*u+s*s,x=y-l*l-c*c+f*f,_=d*p-h*v,w=(p*x-v*b)/(2*_)-r,S=(v*m-p*g)/_,k=(d*b-h*x)/(2*_)-i,M=(h*g-d*m)/_,E=S*S+M*M-1,T=2*(a+w*S+k*M),A=w*w+k*k-a*a,C=-(E?(T+Math.sqrt(T*T-4*E*A))/(2*E):A/T);return{x:r+w+S*C,y:i+k+M*C,r:C}}function zz(e,t,n){var r,i,a,o,u=e.x-t.x,s=e.y-t.y,l=u*u+s*s;l?(i=t.r+n.r,i*=i,o=e.r+n.r,i>(o*=o)?(r=(l+o-i)/(2*l),a=Math.sqrt(Math.max(0,o/l-r*r)),n.x=e.x-r*u-a*s,n.y=e.y-r*s+a*u):(r=(l+i-o)/(2*l),a=Math.sqrt(Math.max(0,i/l-r*r)),n.x=t.x+r*u-a*s,n.y=t.y+r*s+a*u)):(n.x=t.x+n.r,n.y=t.y)}function Fz(e,t){var n=e.r+t.r-1e-6,r=t.x-e.x,i=t.y-e.y;return n>0&&n*n>r*r+i*i}function Bz(e){var t=e._,n=e.next._,r=t.r+n.r,i=(t.x*n.r+n.x*t.r)/r,a=(t.y*n.r+n.y*t.r)/r;return i*i+a*a}function Uz(e){this._=e,this.next=null,this.previous=null}function jz(e){if(!(i=(e=function(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}(e)).length))return 0;var t,n,r,i,a,o,u,s,l,c,f;if((t=e[0]).x=0,t.y=0,!(i>1))return t.r;if(n=e[1],t.x=-n.r,n.x=t.r,n.y=0,!(i>2))return t.r+n.r;zz(n,t,r=e[2]),t=new Uz(t),n=new Uz(n),r=new Uz(r),t.next=r.previous=n,n.next=t.previous=r,r.next=n.previous=t;e:for(u=3;u<i;++u){zz(t._,n._,r=e[u]),r=new Uz(r),s=n.next,l=t.previous,c=n._.r,f=t._.r;do{if(c<=f){if(Fz(s._,r._)){n=s,t.next=n,n.previous=t,--u;continue e}c+=s._.r,s=s.next}else{if(Fz(l._,r._)){(t=l).next=n,n.previous=t,--u;continue e}f+=l._.r,l=l.previous}}while(s!==l.next);for(r.previous=t,r.next=n,t.next=n.previous=n=r,a=Bz(t);(r=r.next)!==n;)(o=Bz(r))<a&&(t=r,a=o);n=t.next}for(t=[n._],r=n;(r=r.next)!==n;)t.push(r._);for(r=Cz(t),u=0;u<i;++u)(t=e[u]).x-=r.x,t.y-=r.y;return r.r}function Hz(e){return jz(e),e}function Zz(e){return null==e?null:Gz(e)}function Gz(e){if("function"!==typeof e)throw new Error;return e}function Wz(){return 0}function Vz(e){return function(){return e}}function qz(e){return Math.sqrt(e.value)}function Xz(){var e=null,t=1,n=1,r=Wz;function i(i){return i.x=t/2,i.y=n/2,e?i.eachBefore($z(e)).eachAfter(Yz(r,.5)).eachBefore(Kz(1)):i.eachBefore($z(qz)).eachAfter(Yz(Wz,1)).eachAfter(Yz(r,i.r/Math.min(t,n))).eachBefore(Kz(Math.min(t,n)/(2*i.r))),i}return i.radius=function(t){return arguments.length?(e=Zz(t),i):e},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(e){return arguments.length?(r="function"===typeof e?e:Vz(+e),i):r},i}function $z(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Yz(e,t){return function(n){if(r=n.children){var r,i,a,o=r.length,u=e(n)*t||0;if(u)for(i=0;i<o;++i)r[i].r+=u;if(a=jz(r),u)for(i=0;i<o;++i)r[i].r-=u;n.r=a+u}}}function Kz(e){return function(t){var n=t.parent;t.r*=e,n&&(t.x=n.x+e*t.x,t.y=n.y+e*t.y)}}function Jz(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function Qz(e,t,n,r,i){for(var a,o=e.children,u=-1,s=o.length,l=e.value&&(r-t)/e.value;++u<s;)(a=o[u]).y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*l}function eF(){var e=1,t=1,n=0,r=!1;function i(i){var a=i.height+1;return i.x0=i.y0=n,i.x1=e,i.y1=t/a,i.eachBefore(function(e,t){return function(r){r.children&&Qz(r,r.x0,e*(r.depth+1)/t,r.x1,e*(r.depth+2)/t);var i=r.x0,a=r.y0,o=r.x1-n,u=r.y1-n;o<i&&(i=o=(i+o)/2),u<a&&(a=u=(a+u)/2),r.x0=i,r.y0=a,r.x1=o,r.y1=u}}(t,a)),r&&i.eachBefore(Jz),i}return i.round=function(e){return arguments.length?(r=!!e,i):r},i.size=function(n){return arguments.length?(e=+n[0],t=+n[1],i):[e,t]},i.padding=function(e){return arguments.length?(n=+e,i):n},i}Az.prototype=Sz.prototype=(0,u.Z)({constructor:Az,count:function(){return this.eachAfter(xz)},each:function(e,t){var n,r=-1,i=p(this);try{for(i.s();!(n=i.n()).done;){var a=n.value;e.call(t,a,++r,this)}}catch(o){i.e(o)}finally{i.f()}return this},eachAfter:function(e,t){for(var n,r,i,a=this,o=[a],u=[],s=-1;a=o.pop();)if(u.push(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r]);for(;a=u.pop();)e.call(t,a,++s,this);return this},eachBefore:function(e,t){for(var n,r,i=this,a=[i],o=-1;i=a.pop();)if(e.call(t,i,++o,this),n=i.children)for(r=n.length-1;r>=0;--r)a.push(n[r]);return this},find:function(e,t){var n,r=-1,i=p(this);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(e.call(t,a,++r,this))return a}}catch(o){i.e(o)}finally{i.f()}},sum:function(e){return this.eachAfter((function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n}))},sort:function(e){return this.eachBefore((function(t){t.children&&t.children.sort(e)}))},path:function(e){for(var t=this,n=function(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;e=n.pop(),t=r.pop();for(;e===t;)i=e,e=n.pop(),t=r.pop();return i}(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r},ancestors:function(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t},descendants:function(){return Array.from(this)},leaves:function(){var e=[];return this.eachBefore((function(t){t.children||e.push(t)})),e},links:function(){var e=this,t=[];return e.each((function(n){n!==e&&t.push({source:n.parent,target:n})})),t},copy:function(){return Sz(this).eachBefore(Ez)}},Symbol.iterator,wz);var tF={depth:-1},nF={},rF={};function iF(e){return e.id}function aF(e){return e.parentId}function oF(){var e,t=iF,n=aF;function r(r){var i,a,o,u,s,l,c,f,h=Array.from(r),d=t,v=n,m=new Map;if(null!=e){var g,y=h.map((function(t,n){return function(e){var t=(e="".concat(e)).length;sF(e,t-1)&&!sF(e,t-2)&&(e=e.slice(0,-1));return"/"===e[0]?e:"/".concat(e)}(e(t,n,r))})),b=y.map(uF),x=new Set(y).add(""),_=p(b);try{for(_.s();!(g=_.n()).done;){var w=g.value;x.has(w)||(x.add(w),y.push(w),b.push(uF(w)),h.push(rF))}}catch(k){_.e(k)}finally{_.f()}d=function(e,t){return y[t]},v=function(e,t){return b[t]}}for(o=0,i=h.length;o<i;++o)a=h[o],l=h[o]=new Az(a),null!=(c=d(a,o,r))&&(c+="")&&(f=l.id=c,m.set(f,m.has(f)?nF:l)),null!=(c=v(a,o,r))&&(c+="")&&(l.parent=c);for(o=0;o<i;++o)if(c=(l=h[o]).parent){if(!(s=m.get(c)))throw new Error("missing: "+c);if(s===nF)throw new Error("ambiguous: "+c);s.children?s.children.push(l):s.children=[l],l.parent=s}else{if(u)throw new Error("multiple roots");u=l}if(!u)throw new Error("no root");if(null!=e){for(;u.data===rF&&1===u.children.length;)u=u.children[0],--i;for(var S=h.length-1;S>=0&&(l=h[S]).data===rF;--S)l.data=null}if(u.parent=tF,u.eachBefore((function(e){e.depth=e.parent.depth+1,--i})).eachBefore(Tz),u.parent=null,i>0)throw new Error("cycle");return u}return r.id=function(e){return arguments.length?(t=Zz(e),r):t},r.parentId=function(e){return arguments.length?(n=Zz(e),r):n},r.path=function(t){return arguments.length?(e=Zz(t),r):e},r}function uF(e){var t=e.length;if(t<2)return"";for(;--t>1&&!sF(e,t););return e.slice(0,t)}function sF(e,t){if("/"===e[t]){for(var n=0;t>0&&"\\"===e[--t];)++n;if(0===(1&n))return!0}return!1}function lF(e,t){return e.parent===t.parent?1:2}function cF(e){var t=e.children;return t?t[0]:e.t}function fF(e){var t=e.children;return t?t[t.length-1]:e.t}function hF(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function dF(e,t,n){return e.a.parent===t.parent?e.a:n}function pF(e,t){this._=e,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=t}function vF(){var e=lF,t=1,n=1,r=null;function i(i){var s=function(e){for(var t,n,r,i,a,o=new pF(e,0),u=[o];t=u.pop();)if(r=t._.children)for(t.children=new Array(a=r.length),i=a-1;i>=0;--i)u.push(n=t.children[i]=new pF(r[i],i)),n.parent=t;return(o.parent=new pF(null,0)).children=[o],o}(i);if(s.eachAfter(a),s.parent.m=-s.z,s.eachBefore(o),r)i.eachBefore(u);else{var l=i,c=i,f=i;i.eachBefore((function(e){e.x<l.x&&(l=e),e.x>c.x&&(c=e),e.depth>f.depth&&(f=e)}));var h=l===c?1:e(l,c)/2,d=h-l.x,p=t/(c.x+h+d),v=n/(f.depth||1);i.eachBefore((function(e){e.x=(e.x+d)*p,e.y=e.depth*v}))}return i}function a(t){var n=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(n){!function(e){for(var t,n=0,r=0,i=e.children,a=i.length;--a>=0;)(t=i[a]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(t);var a=(n[0].z+n[n.length-1].z)/2;i?(t.z=i.z+e(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+e(t._,i._));t.parent.A=function(t,n,r){if(n){for(var i,a=t,o=t,u=n,s=a.parent.children[0],l=a.m,c=o.m,f=u.m,h=s.m;u=fF(u),a=cF(a),u&&a;)s=cF(s),(o=fF(o)).a=t,(i=u.z+f-a.z-l+e(u._,a._))>0&&(hF(dF(u,t,r),t,i),l+=i,c+=i),f+=u.m,l+=a.m,h+=s.m,c+=o.m;u&&!fF(o)&&(o.t=u,o.m+=f-c),a&&!cF(s)&&(s.t=a,s.m+=l-h,r=t)}return r}(t,i,t.parent.A||r[0])}function o(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function u(e){e.x*=t,e.y=e.depth*n}return i.separation=function(t){return arguments.length?(e=t,i):e},i.size=function(e){return arguments.length?(r=!1,t=+e[0],n=+e[1],i):r?null:[t,n]},i.nodeSize=function(e){return arguments.length?(r=!0,t=+e[0],n=+e[1],i):r?[t,n]:null},i}function mF(e,t,n,r,i){for(var a,o=e.children,u=-1,s=o.length,l=e.value&&(i-n)/e.value;++u<s;)(a=o[u]).x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*l}pF.prototype=Object.create(Az.prototype);var gF=(1+Math.sqrt(5))/2;function yF(e,t,n,r,i,a){for(var o,u,s,l,c,f,h,d,p,v,m,g=[],y=t.children,b=0,x=0,_=y.length,w=t.value;b<_;){s=i-n,l=a-r;do{c=y[x++].value}while(!c&&x<_);for(f=h=c,m=c*c*(v=Math.max(l/s,s/l)/(w*e)),p=Math.max(h/m,m/f);x<_;++x){if(c+=u=y[x].value,u<f&&(f=u),u>h&&(h=u),m=c*c*v,(d=Math.max(h/m,m/f))>p){c-=u;break}p=d}g.push(o={value:c,dice:s<l,children:y.slice(b,x)}),o.dice?Qz(o,n,r,i,w?r+=l*c/w:a):mF(o,n,r,w?n+=s*c/w:i,a),w-=c,b=x}return g}var bF=function e(t){function n(e,n,r,i,a){yF(t,e,n,r,i,a)}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(gF);function xF(){var e=bF,t=!1,n=1,r=1,i=[0],a=Wz,o=Wz,u=Wz,s=Wz,l=Wz;function c(e){return e.x0=e.y0=0,e.x1=n,e.y1=r,e.eachBefore(f),i=[0],t&&e.eachBefore(Jz),e}function f(t){var n=i[t.depth],r=t.x0+n,c=t.y0+n,f=t.x1-n,h=t.y1-n;f<r&&(r=f=(r+f)/2),h<c&&(c=h=(c+h)/2),t.x0=r,t.y0=c,t.x1=f,t.y1=h,t.children&&(n=i[t.depth+1]=a(t)/2,r+=l(t)-n,c+=o(t)-n,(f-=u(t)-n)<r&&(r=f=(r+f)/2),(h-=s(t)-n)<c&&(c=h=(c+h)/2),e(t,r,c,f,h))}return c.round=function(e){return arguments.length?(t=!!e,c):t},c.size=function(e){return arguments.length?(n=+e[0],r=+e[1],c):[n,r]},c.tile=function(t){return arguments.length?(e=Gz(t),c):e},c.padding=function(e){return arguments.length?c.paddingInner(e).paddingOuter(e):c.paddingInner()},c.paddingInner=function(e){return arguments.length?(a="function"===typeof e?e:Vz(+e),c):a},c.paddingOuter=function(e){return arguments.length?c.paddingTop(e).paddingRight(e).paddingBottom(e).paddingLeft(e):c.paddingTop()},c.paddingTop=function(e){return arguments.length?(o="function"===typeof e?e:Vz(+e),c):o},c.paddingRight=function(e){return arguments.length?(u="function"===typeof e?e:Vz(+e),c):u},c.paddingBottom=function(e){return arguments.length?(s="function"===typeof e?e:Vz(+e),c):s},c.paddingLeft=function(e){return arguments.length?(l="function"===typeof e?e:Vz(+e),c):l},c}function _F(e,t,n,r,i){var a,o,u=e.children,s=u.length,l=new Array(s+1);for(l[0]=o=a=0;a<s;++a)l[a+1]=o+=u[a].value;!function e(t,n,r,i,a,o,s){if(t>=n-1){var c=u[t];return c.x0=i,c.y0=a,c.x1=o,void(c.y1=s)}var f=l[t],h=r/2+f,d=t+1,p=n-1;for(;d<p;){var v=d+p>>>1;l[v]<h?d=v+1:p=v}h-l[d-1]<l[d]-h&&t+1<d&&--d;var m=l[d]-f,g=r-m;if(o-i>s-a){var y=r?(i*g+o*m)/r:o;e(t,d,m,i,a,y,s),e(d,n,g,y,a,o,s)}else{var b=r?(a*g+s*m)/r:s;e(t,d,m,i,a,o,b),e(d,n,g,i,b,o,s)}}(0,s,e.value,t,n,r,i)}function wF(e,t,n,r,i){(1&e.depth?mF:Qz)(e,t,n,r,i)}var SF=function e(t){function n(e,n,r,i,a){if((o=e._squarify)&&o.ratio===t)for(var o,u,s,l,c,f=-1,h=o.length,d=e.value;++f<h;){for(s=(u=o[f]).children,l=u.value=0,c=s.length;l<c;++l)u.value+=s[l].value;u.dice?Qz(u,n,r,i,d?r+=(a-r)*u.value/d:a):mF(u,n,r,d?n+=(i-n)*u.value/d:i,a),d-=u.value}else e._squarify=o=yF(t,e,n,r,i,a),o.ratio=t}return n.ratio=function(t){return e((t=+t)>1?t:1)},n}(gF);function kF(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}function MF(e,t){var n=BM(+e,+t);return function(e){var t=n(e);return t-360*Math.floor(t/360)}}function EF(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function TF(e){return((e=Math.exp(e))+1/e)/2}var AF=function e(t,n,r){function i(e,i){var a,o,u=e[0],s=e[1],l=e[2],c=i[0],f=i[1],h=i[2],d=c-u,p=f-s,v=d*d+p*p;if(v<1e-12)o=Math.log(h/l)/t,a=function(e){return[u+e*d,s+e*p,l*Math.exp(t*e*o)]};else{var m=Math.sqrt(v),g=(h*h-l*l+r*v)/(2*l*n*m),y=(h*h-l*l-r*v)/(2*h*n*m),b=Math.log(Math.sqrt(g*g+1)-g),x=Math.log(Math.sqrt(y*y+1)-y);o=(x-b)/t,a=function(e){var r=e*o,i=TF(b),a=l/(n*m)*(i*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*r+b)-function(e){return((e=Math.exp(e))-1/e)/2}(b));return[u+a*d,s+a*p,l*i/TF(t*r+b)]}}return a.duration=1e3*o*t/Math.SQRT2,a}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4);function CF(e){return function(t,n){var r=e((t=PM(t)).h,(n=PM(n)).h),i=jM(t.s,n.s),a=jM(t.l,n.l),o=jM(t.opacity,n.opacity);return function(e){return t.h=r(e),t.s=i(e),t.l=a(e),t.opacity=o(e),t+""}}}var RF=CF(BM),PF=CF(jM);function LF(e,t){var n=jM((e=HA(e)).l,(t=HA(t)).l),r=jM(e.a,t.a),i=jM(e.b,t.b),a=jM(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=a(t),e+""}}function OF(e){return function(t,n){var r=e((t=YA(t)).h,(n=YA(n)).h),i=jM(t.c,n.c),a=jM(t.l,n.l),o=jM(t.opacity,n.opacity);return function(e){return t.h=r(e),t.c=i(e),t.l=a(e),t.opacity=o(e),t+""}}}var IF=OF(BM),DF=OF(jM);function NF(e){return function t(n){function r(t,r){var i=e((t=sC(t)).h,(r=sC(r)).h),a=jM(t.s,r.s),o=jM(t.l,r.l),u=jM(t.opacity,r.opacity);return function(e){return t.h=i(e),t.s=a(e),t.l=o(Math.pow(e,n)),t.opacity=u(e),t+""}}return n=+n,r.gamma=t,r}(1)}var zF=NF(BM),FF=NF(jM);function BF(e,t){void 0===t&&(t=e,e=nE);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}function UF(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}function jF(e){for(var t,n=-1,r=e.length,i=e[r-1],a=0;++n<r;)t=i,i=e[n],a+=t[1]*i[0]-t[0]*i[1];return a/2}function HF(e){for(var t,n,r=-1,i=e.length,a=0,o=0,u=e[i-1],s=0;++r<i;)t=u,u=e[r],s+=n=t[0]*u[1]-u[0]*t[1],a+=(t[0]+u[0])*n,o+=(t[1]+u[1])*n;return[a/(s*=3),o/s]}function ZF(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function GF(e,t){return e[0]-t[0]||e[1]-t[1]}function WF(e){var t,n=e.length,r=[0,1],i=2;for(t=2;t<n;++t){for(;i>1&&ZF(e[r[i-2]],e[r[i-1]],e[t])<=0;)--i;r[i++]=t}return r.slice(0,i)}function VF(e){if((n=e.length)<3)return null;var t,n,r=new Array(n),i=new Array(n);for(t=0;t<n;++t)r[t]=[+e[t][0],+e[t][1],t];for(r.sort(GF),t=0;t<n;++t)i[t]=[r[t][0],-r[t][1]];var a=WF(r),o=WF(i),u=o[0]===a[0],s=o[o.length-1]===a[a.length-1],l=[];for(t=a.length-1;t>=0;--t)l.push(e[r[a[t]][2]]);for(t=+u;t<o.length-s;++t)l.push(e[r[o[t]][2]]);return l}function qF(e,t){for(var n,r,i=e.length,a=e[i-1],o=t[0],u=t[1],s=a[0],l=a[1],c=!1,f=0;f<i;++f)n=(a=e[f])[0],(r=a[1])>u!==l>u&&o<(s-n)*(u-r)/(l-r)+n&&(c=!c),s=n,l=r;return c}function XF(e){for(var t,n,r=-1,i=e.length,a=e[i-1],o=a[0],u=a[1],s=0;++r<i;)t=o,n=u,t-=o=(a=e[r])[0],n-=u=a[1],s+=Math.hypot(t,n);return s}var $F=Math.random,YF=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,1===arguments.length?(n=e,e=0):n-=e,function(){return t()*n+e}}return n.source=e,n}($F),KF=function e(t){function n(e,n){return arguments.length<2&&(n=e,e=0),e=Math.floor(e),n=Math.floor(n)-e,function(){return Math.floor(t()*n+e)}}return n.source=e,n}($F),JF=function e(t){function n(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var a;if(null!=r)a=r,r=null;else do{r=2*t()-1,a=2*t()-1,i=r*r+a*a}while(!i||i>1);return e+n*a*Math.sqrt(-2*Math.log(i)/i)}}return n.source=e,n}($F),QF=function e(t){var n=JF.source(t);function r(){var e=n.apply(this,arguments);return function(){return Math.exp(e())}}return r.source=e,r}($F),eB=function e(t){function n(e){return(e=+e)<=0?function(){return 0}:function(){for(var n=0,r=e;r>1;--r)n+=t();return n+r*t()}}return n.source=e,n}($F),tB=function e(t){var n=eB.source(t);function r(e){if(0===(e=+e))return t;var r=n(e);return function(){return r()/e}}return r.source=e,r}($F),nB=function e(t){function n(e){return function(){return-Math.log1p(-t())/e}}return n.source=e,n}($F),rB=function e(t){function n(e){if((e=+e)<0)throw new RangeError("invalid alpha");return e=1/-e,function(){return Math.pow(1-t(),e)}}return n.source=e,n}($F),iB=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return function(){return Math.floor(t()+e)}}return n.source=e,n}($F),aB=function e(t){function n(e){if((e=+e)<0||e>1)throw new RangeError("invalid p");return 0===e?function(){return 1/0}:1===e?function(){return 1}:(e=Math.log1p(-e),function(){return 1+Math.floor(Math.log1p(-t())/e)})}return n.source=e,n}($F),oB=function e(t){var n=JF.source(t)();function r(e,r){if((e=+e)<0)throw new RangeError("invalid k");if(0===e)return function(){return 0};if(r=null==r?1:+r,1===e)return function(){return-Math.log1p(-t())*r};var i=(e<1?e+1:e)-1/3,a=1/(3*Math.sqrt(i)),o=e<1?function(){return Math.pow(t(),1/e)}:function(){return 1};return function(){do{do{var e=n(),u=1+a*e}while(u<=0);u*=u*u;var s=1-t()}while(s>=1-.0331*e*e*e*e&&Math.log(s)>=.5*e*e+i*(1-u+Math.log(u)));return i*u*o()*r}}return r.source=e,r}($F),uB=function e(t){var n=oB.source(t);function r(e,t){var r=n(e),i=n(t);return function(){var e=r();return 0===e?0:e/(e+i())}}return r.source=e,r}($F),sB=function e(t){var n=aB.source(t),r=uB.source(t);function i(e,t){return e=+e,(t=+t)>=1?function(){return e}:t<=0?function(){return 0}:function(){for(var i=0,a=e,o=t;a*o>16&&a*(1-o)>16;){var u=Math.floor((a+1)*o),s=r(u,a-u+1)();s<=o?(i+=u,a-=u,o=(o-s)/(1-s)):(a=u-1,o/=s)}for(var l=o<.5,c=n(l?o:1-o),f=c(),h=0;f<=a;++h)f+=c();return i+(l?h:a-h)}}return i.source=e,i}($F),lB=function e(t){function n(e,n,r){var i;return 0===(e=+e)?i=function(e){return-Math.log(e)}:(e=1/e,i=function(t){return Math.pow(t,e)}),n=null==n?0:+n,r=null==r?1:+r,function(){return n+r*i(-Math.log1p(-t()))}}return n.source=e,n}($F),cB=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){return e+n*Math.tan(Math.PI*t())}}return n.source=e,n}($F),fB=function e(t){function n(e,n){return e=null==e?0:+e,n=null==n?1:+n,function(){var r=t();return e+n*Math.log(r/(1-r))}}return n.source=e,n}($F),hB=function e(t){var n=oB.source(t),r=sB.source(t);function i(e){return function(){for(var i=0,a=e;a>16;){var o=Math.floor(.875*a),u=n(o)();if(u>a)return i+r(o-1,a/u)();i+=o,a-=u}for(var s=-Math.log1p(-t()),l=0;s<=a;++l)s-=Math.log1p(-t());return i+l}}return i.source=e,i}($F),dB=1664525,pB=1013904223,vB=1/4294967296;function mB(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.random(),t=0|(0<=e&&e<1?e/vB:Math.abs(e));return function(){return vB*((t=dB*t+pB|0)>>>0)}}function gB(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function yB(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}var bB=Symbol("implicit");function xB(){var e=new j_,t=[],n=[],r=bB;function i(i){var a=e.get(i);if(void 0===a){if(r!==bB)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new j_;var r,a=p(n);try{for(a.s();!(r=a.n()).done;){var o=r.value;e.has(o)||e.set(o,t.push(o)-1)}}catch(u){a.e(u)}finally{a.f()}return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return xB(t,n).unknown(r)},gB.apply(i,arguments),i}function _B(){var e,t,n=xB().unknown(void 0),r=n.domain,i=n.range,a=0,o=1,u=!1,s=0,l=0,f=.5;function h(){var n=r().length,c=o<a,h=c?o:a,d=c?a:o;e=(d-h)/Math.max(1,n-s+2*l),u&&(e=Math.floor(e)),h+=(d-h-e*(n-s))*f,t=e*(1-s),u&&(h=Math.round(h),t=Math.round(t));var p=Uw(n).map((function(t){return h+e*t}));return i(c?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),h()):r()},n.range=function(e){var t,n;return arguments.length?(t=e,n=(0,c.Z)(t,2),a=n[0],o=n[1],a=+a,o=+o,h()):[a,o]},n.rangeRound=function(e){var t,n;return t=e,n=(0,c.Z)(t,2),a=n[0],o=n[1],a=+a,o=+o,u=!0,h()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(u=!!e,h()):u},n.padding=function(e){return arguments.length?(s=Math.min(1,l=+e),h()):s},n.paddingInner=function(e){return arguments.length?(s=Math.min(1,e),h()):s},n.paddingOuter=function(e){return arguments.length?(l=+e,h()):l},n.align=function(e){return arguments.length?(f=Math.max(0,Math.min(1,e)),h()):f},n.copy=function(){return _B(r(),[a,o]).round(u).paddingInner(s).paddingOuter(l).align(f)},gB.apply(h(),arguments)}function wB(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return wB(t())},e}function SB(){return wB(_B.apply(null,arguments).paddingInner(1))}function kB(e){return+e}var MB=[0,1];function EB(e){return e}function TB(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function AB(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=TB(i,r),a=n(o,a)):(r=TB(r,i),a=n(a,o)),function(e){return a(r(e))}}function CB(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=TB(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=M_(e,t,1,r)-1;return a[n](i[n](t))}}function RB(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function PB(){var e,t,n,r,i,a,o=MB,u=MB,s=nE,l=EB;function c(){var e=Math.min(o.length,u.length);return l!==EB&&(l=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?CB:AB,i=a=null,f}function f(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),u,s)))(e(l(t)))}return f.invert=function(n){return l(t((a||(a=r(u,o.map(e),KM)))(n)))},f.domain=function(e){return arguments.length?(o=Array.from(e,kB),c()):o.slice()},f.range=function(e){return arguments.length?(u=Array.from(e),c()):u.slice()},f.rangeRound=function(e){return u=Array.from(e),s=EF,c()},f.clamp=function(e){return arguments.length?(l=!!e||EB,c()):l!==EB},f.interpolate=function(e){return arguments.length?(s=e,c()):s},f.unknown=function(e){return arguments.length?(n=e,f):n},function(n,r){return e=n,t=r,c()}}function LB(){return PB()(EB,EB)}function OB(e,t,n,r){var i,a=yw(e,t,n);switch((r=oL(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=bL(a,o))||(r.precision=i),dL(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=xL(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=yL(a))||(r.precision=i-2*("%"===r.type))}return hL(r)}function IB(e){var t=e.domain;return e.ticks=function(e){var n=t();return mw(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return OB(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,u=a.length-1,s=a[o],l=a[u],c=10;for(l<s&&(i=s,s=l,l=i,i=o,o=u,u=i);c-- >0;){if((i=gw(s,l,n))===r)return a[o]=s,a[u]=l,t(a);if(i>0)s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i}r=i}return e},e}function DB(){var e=LB();return e.copy=function(){return RB(e,DB())},gB.apply(e,arguments),IB(e)}function NB(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,kB),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return NB(e).unknown(t)},e=arguments.length?Array.from(e,kB):[0,1],IB(n)}function zB(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function FB(e){return Math.log(e)}function BB(e){return Math.exp(e)}function UB(e){return-Math.log(-e)}function jB(e){return-Math.exp(-e)}function HB(e){return isFinite(e)?+("1e"+e):e<0?0:e}function ZB(e){return function(t,n){return-e(-t,n)}}function GB(e){var t,n,r=e(FB,BB),i=r.domain,a=10;function o(){return t=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}(a),n=function(e){return 10===e?HB:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}(a),i()[0]<0?(t=ZB(t),n=ZB(n),e(UB,jB)):e(FB,BB),r}return r.base=function(e){return arguments.length?(a=+e,o()):a},r.domain=function(e){return arguments.length?(i(e),o()):i()},r.ticks=function(e){var r=i(),o=r[0],u=r[r.length-1],s=u<o;if(s){var l=[u,o];o=l[0],u=l[1]}var c,f,h=t(o),d=t(u),p=null==e?10:+e,v=[];if(!(a%1)&&d-h<p){if(h=Math.floor(h),d=Math.ceil(d),o>0){for(;h<=d;++h)for(c=1;c<a;++c)if(!((f=h<0?c/n(-h):c*n(h))<o)){if(f>u)break;v.push(f)}}else for(;h<=d;++h)for(c=a-1;c>=1;--c)if(!((f=h>0?c/n(-h):c*n(h))<o)){if(f>u)break;v.push(f)}2*v.length<p&&(v=mw(o,u,p))}else v=mw(h,d,Math.min(d-h,p)).map(n);return s?v.reverse():v},r.tickFormat=function(e,i){if(null==e&&(e=10),null==i&&(i=10===a?"s":","),"function"!==typeof i&&(a%1||null!=(i=oL(i)).precision||(i.trim=!0),i=hL(i)),e===1/0)return i;var o=Math.max(1,a*e/r.ticks().length);return function(e){var r=e/n(Math.round(t(e)));return r*a<a-.5&&(r*=a),r<=o?i(e):""}},r.nice=function(){return i(zB(i(),{floor:function(e){return n(Math.floor(t(e)))},ceil:function(e){return n(Math.ceil(t(e)))}}))},r}function WB(){var e=GB(PB()).domain([1,10]);return e.copy=function(){return RB(e,WB()).base(e.base())},gB.apply(e,arguments),e}function VB(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function qB(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function XB(e){var t=1,n=e(VB(t),qB(t));return n.constant=function(n){return arguments.length?e(VB(t=+n),qB(t)):t},IB(n)}function $B(){var e=XB(PB());return e.copy=function(){return RB(e,$B()).constant(e.constant())},gB.apply(e,arguments)}function YB(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function KB(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function JB(e){return e<0?-e*e:e*e}function QB(e){var t=e(EB,EB),n=1;function r(){return 1===n?e(EB,EB):.5===n?e(KB,JB):e(YB(n),YB(1/n))}return t.exponent=function(e){return arguments.length?(n=+e,r()):n},IB(t)}function eU(){var e=QB(PB());return e.copy=function(){return RB(e,eU()).exponent(e.exponent())},gB.apply(e,arguments),e}function tU(){return eU.apply(null,arguments).exponent(.5)}function nU(e){return Math.sign(e)*e*e}function rU(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function iU(){var e,t=LB(),n=[0,1],r=!1;function i(n){var i=rU(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(nU(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,kB)).map(nU)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return iU(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},gB.apply(i,arguments),IB(i)}function aU(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=Tw(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:n[M_(r,t)]}return a.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];var n,r=p(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;null==a||isNaN(a=+a)||t.push(a)}}catch(o){r.e(o)}finally{r.f()}return t.sort(m_),i()},a.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return aU().domain(t).range(n).unknown(e)},gB.apply(a,arguments)}function oU(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function o(t){return null!=t&&t<=t?a[M_(i,t,0,r)]:e}function u(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){var r,i;return arguments.length?(r=e,i=(0,c.Z)(r,2),t=i[0],n=i[1],t=+t,n=+n,u()):[t,n]},o.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,u()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return oU().domain([t,n]).range(a).unknown(e)},gB.apply(IB(o),arguments)}function uU(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[M_(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return uU().domain(t).range(n).unknown(e)},gB.apply(i,arguments)}var sU=1e3,lU=6e4,cU=36e5,fU=864e5,hU=6048e5,dU=2592e6,pU=31536e6,vU=new Date,mU=new Date;function gU(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=function(t){return e(t=new Date(+t)),t},i.ceil=function(n){return e(n=new Date(n-1)),t(n,1),e(n),n},i.round=function(e){var t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=function(e,n){return t(e=new Date(+e),null==n?1:Math.floor(n)),e},i.range=function(n,r,a){var o,u=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return u;do{u.push(o=new Date(+n)),t(n,a),e(n)}while(o<n&&n<r);return u},i.filter=function(n){return gU((function(t){if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),(function(e,r){if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););}))},n&&(i.count=function(t,r){return vU.setTime(+t),mU.setTime(+r),e(vU),e(mU),Math.floor(n(vU,mU))},i.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?function(t){return r(t)%e===0}:function(t){return i.count(0,t)%e===0}):i:null}),i}var yU=gU((function(){}),(function(e,t){e.setTime(+e+t)}),(function(e,t){return t-e}));yU.every=function(e){return e=Math.floor(e),isFinite(e)&&e>0?e>1?gU((function(t){t.setTime(Math.floor(t/e)*e)}),(function(t,n){t.setTime(+t+n*e)}),(function(t,n){return(n-t)/e})):yU:null};var bU=yU,xU=yU.range,_U=gU((function(e){e.setTime(e-e.getMilliseconds())}),(function(e,t){e.setTime(+e+t*sU)}),(function(e,t){return(t-e)/sU}),(function(e){return e.getUTCSeconds()})),wU=_U,SU=_U.range,kU=gU((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*sU)}),(function(e,t){e.setTime(+e+t*lU)}),(function(e,t){return(t-e)/lU}),(function(e){return e.getMinutes()})),MU=kU,EU=kU.range,TU=gU((function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*sU-e.getMinutes()*lU)}),(function(e,t){e.setTime(+e+t*cU)}),(function(e,t){return(t-e)/cU}),(function(e){return e.getHours()})),AU=TU,CU=TU.range,RU=gU((function(e){return e.setHours(0,0,0,0)}),(function(e,t){return e.setDate(e.getDate()+t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*lU)/fU}),(function(e){return e.getDate()-1})),PU=RU,LU=RU.range;function OU(e){return gU((function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),(function(e,t){e.setDate(e.getDate()+7*t)}),(function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*lU)/hU}))}var IU=OU(0),DU=OU(1),NU=OU(2),zU=OU(3),FU=OU(4),BU=OU(5),UU=OU(6),jU=IU.range,HU=DU.range,ZU=NU.range,GU=zU.range,WU=FU.range,VU=BU.range,qU=UU.range,XU=gU((function(e){e.setDate(1),e.setHours(0,0,0,0)}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e,t){return t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())}),(function(e){return e.getMonth()})),$U=XU,YU=XU.range,KU=gU((function(e){e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e,t){return t.getFullYear()-e.getFullYear()}),(function(e){return e.getFullYear()}));KU.every=function(e){return isFinite(e=Math.floor(e))&&e>0?gU((function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n*e)})):null};var JU=KU,QU=KU.range,ej=gU((function(e){e.setUTCSeconds(0,0)}),(function(e,t){e.setTime(+e+t*lU)}),(function(e,t){return(t-e)/lU}),(function(e){return e.getUTCMinutes()})),tj=ej,nj=ej.range,rj=gU((function(e){e.setUTCMinutes(0,0,0)}),(function(e,t){e.setTime(+e+t*cU)}),(function(e,t){return(t-e)/cU}),(function(e){return e.getUTCHours()})),ij=rj,aj=rj.range,oj=gU((function(e){e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+t)}),(function(e,t){return(t-e)/fU}),(function(e){return e.getUTCDate()-1})),uj=oj,sj=oj.range;function lj(e){return gU((function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCDate(e.getUTCDate()+7*t)}),(function(e,t){return(t-e)/hU}))}var cj=lj(0),fj=lj(1),hj=lj(2),dj=lj(3),pj=lj(4),vj=lj(5),mj=lj(6),gj=cj.range,yj=fj.range,bj=hj.range,xj=dj.range,_j=pj.range,wj=vj.range,Sj=mj.range,kj=gU((function(e){e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCMonth(e.getUTCMonth()+t)}),(function(e,t){return t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())}),(function(e){return e.getUTCMonth()})),Mj=kj,Ej=kj.range,Tj=gU((function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)}),(function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()}),(function(e){return e.getUTCFullYear()}));Tj.every=function(e){return isFinite(e=Math.floor(e))&&e>0?gU((function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null};var Aj=Tj,Cj=Tj.range;function Rj(e,t,n,r,i,a){var o=[[wU,1,sU],[wU,5,5e3],[wU,15,15e3],[wU,30,3e4],[a,1,lU],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,cU],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,fU],[r,2,1728e5],[n,1,hU],[t,1,dU],[t,3,7776e6],[e,1,pU]];function u(t,n,r){var i=Math.abs(n-t)/r,a=g_((function(e){return(0,c.Z)(e,3)[2]})).right(o,i);if(a===o.length)return e.every(yw(t/pU,n/pU,r));if(0===a)return bU.every(Math.max(yw(t,n,r),1));var u=(0,c.Z)(o[i/o[a-1][2]<o[a][2]/i?a-1:a],2),s=u[0],l=u[1];return s.every(l)}return[function(e,t,n){var r=t<e;if(r){var i=[t,e];e=i[0],t=i[1]}var a=n&&"function"===typeof n.range?n:u(e,t,n),o=a?a.range(e,+t+1):[];return r?o.reverse():o},u]}var Pj=Rj(Aj,Mj,cj,uj,ij,tj),Lj=(0,c.Z)(Pj,2),Oj=Lj[0],Ij=Lj[1],Dj=Rj(JU,$U,IU,PU,AU,MU),Nj=(0,c.Z)(Dj,2),zj=Nj[0],Fj=Nj[1];function Bj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Uj(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function jj(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Hj(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,u=e.months,s=e.shortMonths,l=eH(i),c=tH(i),f=eH(a),h=tH(a),d=eH(o),p=tH(o),v=eH(u),m=tH(u),g=eH(s),y=tH(s),b={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return s[e.getMonth()]},B:function(e){return u[e.getMonth()]},c:null,d:wH,e:wH,f:TH,g:FH,G:UH,H:SH,I:kH,j:MH,L:EH,m:AH,M:CH,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:lZ,s:cZ,S:RH,u:PH,U:LH,V:IH,w:DH,W:NH,x:null,X:null,y:zH,Y:BH,Z:jH,"%":sZ},x={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return s[e.getUTCMonth()]},B:function(e){return u[e.getUTCMonth()]},c:null,d:HH,e:HH,f:qH,g:iZ,G:oZ,H:ZH,I:GH,j:WH,L:VH,m:XH,M:$H,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:lZ,s:cZ,S:YH,u:KH,U:JH,V:eZ,w:tZ,W:nZ,x:null,X:null,y:rZ,Y:aZ,Z:uZ,"%":sZ},_={a:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=g.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=v.exec(t.slice(n));return r?(e.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:hH,e:hH,f:yH,g:sH,G:uH,H:pH,I:pH,j:dH,L:gH,m:fH,M:vH,p:function(e,t,n){var r=l.exec(t.slice(n));return r?(e.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:cH,Q:xH,s:_H,S:mH,u:rH,U:iH,V:aH,w:nH,W:oH,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:sH,Y:uH,Z:lH,"%":bH};function w(e,t){return function(n){var r,i,a,o=[],u=-1,s=0,l=e.length;for(n instanceof Date||(n=new Date(+n));++u<l;)37===e.charCodeAt(u)&&(o.push(e.slice(s,u)),null!=(i=Xj[r=e.charAt(++u)])?r=e.charAt(++u):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),s=u+1);return o.push(e.slice(s,u)),o.join("")}}function S(e,t){return function(n){var r,i,a=jj(1900,void 0,1);if(k(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=Uj(jj(a.y,0,1))).getUTCDay(),r=i>4||0===i?fj.ceil(r):fj(r),r=uj.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=Bj(jj(a.y,0,1))).getDay(),r=i>4||0===i?DU.ceil(r):DU(r),r=PU.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Uj(jj(a.y,0,1)).getUTCDay():Bj(jj(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Uj(a)):Bj(a)}}function k(e,t,n,r){for(var i,a,o=0,u=t.length,s=n.length;o<u;){if(r>=s)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=_[i in Xj?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=w(n,b),b.X=w(r,b),b.c=w(t,b),x.x=w(n,x),x.X=w(r,x),x.c=w(t,x),{format:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}var Zj,Gj,Wj,Vj,qj,Xj={"-":"",_:" ",0:"0"},$j=/^\s*\d+/,Yj=/^%/,Kj=/[\\^$*+?|[\]().{}]/g;function Jj(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Qj(e){return e.replace(Kj,"\\$&")}function eH(e){return new RegExp("^(?:"+e.map(Qj).join("|")+")","i")}function tH(e){return new Map(e.map((function(e,t){return[e.toLowerCase(),t]})))}function nH(e,t,n){var r=$j.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function rH(e,t,n){var r=$j.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function iH(e,t,n){var r=$j.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function aH(e,t,n){var r=$j.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function oH(e,t,n){var r=$j.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function uH(e,t,n){var r=$j.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function sH(e,t,n){var r=$j.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function lH(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function cH(e,t,n){var r=$j.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function fH(e,t,n){var r=$j.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function hH(e,t,n){var r=$j.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function dH(e,t,n){var r=$j.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function pH(e,t,n){var r=$j.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function vH(e,t,n){var r=$j.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function mH(e,t,n){var r=$j.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function gH(e,t,n){var r=$j.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function yH(e,t,n){var r=$j.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bH(e,t,n){var r=Yj.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function xH(e,t,n){var r=$j.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function _H(e,t,n){var r=$j.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function wH(e,t){return Jj(e.getDate(),t,2)}function SH(e,t){return Jj(e.getHours(),t,2)}function kH(e,t){return Jj(e.getHours()%12||12,t,2)}function MH(e,t){return Jj(1+PU.count(JU(e),e),t,3)}function EH(e,t){return Jj(e.getMilliseconds(),t,3)}function TH(e,t){return EH(e,t)+"000"}function AH(e,t){return Jj(e.getMonth()+1,t,2)}function CH(e,t){return Jj(e.getMinutes(),t,2)}function RH(e,t){return Jj(e.getSeconds(),t,2)}function PH(e){var t=e.getDay();return 0===t?7:t}function LH(e,t){return Jj(IU.count(JU(e)-1,e),t,2)}function OH(e){var t=e.getDay();return t>=4||0===t?FU(e):FU.ceil(e)}function IH(e,t){return e=OH(e),Jj(FU.count(JU(e),e)+(4===JU(e).getDay()),t,2)}function DH(e){return e.getDay()}function NH(e,t){return Jj(DU.count(JU(e)-1,e),t,2)}function zH(e,t){return Jj(e.getFullYear()%100,t,2)}function FH(e,t){return Jj((e=OH(e)).getFullYear()%100,t,2)}function BH(e,t){return Jj(e.getFullYear()%1e4,t,4)}function UH(e,t){var n=e.getDay();return Jj((e=n>=4||0===n?FU(e):FU.ceil(e)).getFullYear()%1e4,t,4)}function jH(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Jj(t/60|0,"0",2)+Jj(t%60,"0",2)}function HH(e,t){return Jj(e.getUTCDate(),t,2)}function ZH(e,t){return Jj(e.getUTCHours(),t,2)}function GH(e,t){return Jj(e.getUTCHours()%12||12,t,2)}function WH(e,t){return Jj(1+uj.count(Aj(e),e),t,3)}function VH(e,t){return Jj(e.getUTCMilliseconds(),t,3)}function qH(e,t){return VH(e,t)+"000"}function XH(e,t){return Jj(e.getUTCMonth()+1,t,2)}function $H(e,t){return Jj(e.getUTCMinutes(),t,2)}function YH(e,t){return Jj(e.getUTCSeconds(),t,2)}function KH(e){var t=e.getUTCDay();return 0===t?7:t}function JH(e,t){return Jj(cj.count(Aj(e)-1,e),t,2)}function QH(e){var t=e.getUTCDay();return t>=4||0===t?pj(e):pj.ceil(e)}function eZ(e,t){return e=QH(e),Jj(pj.count(Aj(e),e)+(4===Aj(e).getUTCDay()),t,2)}function tZ(e){return e.getUTCDay()}function nZ(e,t){return Jj(fj.count(Aj(e)-1,e),t,2)}function rZ(e,t){return Jj(e.getUTCFullYear()%100,t,2)}function iZ(e,t){return Jj((e=QH(e)).getUTCFullYear()%100,t,2)}function aZ(e,t){return Jj(e.getUTCFullYear()%1e4,t,4)}function oZ(e,t){var n=e.getUTCDay();return Jj((e=n>=4||0===n?pj(e):pj.ceil(e)).getUTCFullYear()%1e4,t,4)}function uZ(){return"+0000"}function sZ(){return"%"}function lZ(e){return+e}function cZ(e){return Math.floor(+e/1e3)}function fZ(e){return Zj=Hj(e),Gj=Zj.format,Wj=Zj.parse,Vj=Zj.utcFormat,qj=Zj.utcParse,Zj}function hZ(e){return new Date(e)}function dZ(e){return e instanceof Date?+e:+new Date(+e)}function pZ(e,t,n,r,i,a,o,u,s,l){var c=LB(),f=c.invert,h=c.domain,d=l(".%L"),p=l(":%S"),v=l("%I:%M"),m=l("%I %p"),g=l("%a %d"),y=l("%b %d"),b=l("%B"),x=l("%Y");function _(e){return(s(e)<e?d:u(e)<e?p:o(e)<e?v:a(e)<e?m:r(e)<e?i(e)<e?g:y:n(e)<e?b:x)(e)}return c.invert=function(e){return new Date(f(e))},c.domain=function(e){return arguments.length?h(Array.from(e,dZ)):h().map(hZ)},c.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},c.tickFormat=function(e,t){return null==t?_:l(t)},c.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(zB(n,e)):c},c.copy=function(){return RB(c,pZ(e,t,n,r,i,a,o,u,s,l))},c}function vZ(){return gB.apply(pZ(zj,Fj,JU,$U,IU,PU,AU,MU,wU,Gj).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mZ(){return gB.apply(pZ(Oj,Ij,Aj,Mj,cj,uj,ij,tj,wU,Vj).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function gZ(){var e,t,n,r,i,a=0,o=1,u=EB,s=!1;function l(t){return null==t||isNaN(t=+t)?i:u(0===n?.5:(t=(r(t)-e)*n,s?Math.max(0,Math.min(1,t)):t))}function f(e){return function(t){var n,r,i,a;return arguments.length?(n=t,i=(r=(0,c.Z)(n,2))[0],a=r[1],u=e(i,a),l):[u(0),u(1)]}}return l.domain=function(i){var u,s;return arguments.length?(u=i,s=(0,c.Z)(u,2),a=s[0],o=s[1],e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),l):[a,o]},l.clamp=function(e){return arguments.length?(s=!!e,l):s},l.interpolator=function(e){return arguments.length?(u=e,l):u},l.range=f(nE),l.rangeRound=f(EF),l.unknown=function(e){return arguments.length?(i=e,l):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),l}}function yZ(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function bZ(){var e=IB(gZ()(EB));return e.copy=function(){return yZ(e,bZ())},yB.apply(e,arguments)}function xZ(){var e=GB(gZ()).domain([1,10]);return e.copy=function(){return yZ(e,xZ()).base(e.base())},yB.apply(e,arguments)}function _Z(){var e=XB(gZ());return e.copy=function(){return yZ(e,_Z()).constant(e.constant())},yB.apply(e,arguments)}function wZ(){var e=QB(gZ());return e.copy=function(){return yZ(e,wZ()).exponent(e.exponent())},yB.apply(e,arguments)}function SZ(){return wZ.apply(null,arguments).exponent(.5)}function kZ(){var e=[],t=EB;function n(n){if(null!=n&&!isNaN(n=+n))return t((M_(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];var r,i=p(t);try{for(i.s();!(r=i.n()).done;){var a=r.value;null==a||isNaN(a=+a)||e.push(a)}}catch(o){i.e(o)}finally{i.f()}return e.sort(m_),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map((function(n,r){return t(r/(e.length-1))}))},n.quantiles=function(t){return Array.from({length:t+1},(function(n,r){return Ew(e,r/t)}))},n.copy=function(){return kZ(t).domain(e)},yB.apply(n,arguments)}function MZ(){var e,t,n,r,i,a,o,u=0,s=.5,l=1,f=1,h=EB,d=!1;function p(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(f*e<f*t?r:i),h(d?Math.max(0,Math.min(1,e)):e))}function v(e){return function(t){var n,r,i,a,o;return arguments.length?(n=t,i=(r=(0,c.Z)(n,3))[0],a=r[1],o=r[2],h=BF(e,[i,a,o]),p):[h(0),h(.5),h(1)]}}return p.domain=function(o){var h,d;return arguments.length?(h=o,d=(0,c.Z)(h,3),u=d[0],s=d[1],l=d[2],e=a(u=+u),t=a(s=+s),n=a(l=+l),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),f=t<e?-1:1,p):[u,s,l]},p.clamp=function(e){return arguments.length?(d=!!e,p):d},p.interpolator=function(e){return arguments.length?(h=e,p):h},p.range=v(nE),p.rangeRound=v(EF),p.unknown=function(e){return arguments.length?(o=e,p):o},function(o){return a=o,e=o(u),t=o(s),n=o(l),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),f=t<e?-1:1,p}}function EZ(){var e=IB(MZ()(EB));return e.copy=function(){return yZ(e,EZ())},yB.apply(e,arguments)}function TZ(){var e=GB(MZ()).domain([.1,1,10]);return e.copy=function(){return yZ(e,TZ()).base(e.base())},yB.apply(e,arguments)}function AZ(){var e=XB(MZ());return e.copy=function(){return yZ(e,AZ()).constant(e.constant())},yB.apply(e,arguments)}function CZ(){var e=QB(MZ());return e.copy=function(){return yZ(e,CZ()).exponent(e.exponent())},yB.apply(e,arguments)}function RZ(){return CZ.apply(null,arguments).exponent(.5)}function PZ(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(6*r,6*++r);return n}fZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var LZ=PZ("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),OZ=PZ("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),IZ=PZ("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),DZ=PZ("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),NZ=PZ("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),zZ=PZ("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),FZ=PZ("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),BZ=PZ("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),UZ=PZ("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),jZ=PZ("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),HZ=function(e){return GM(e[e.length-1])},ZZ=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(PZ),GZ=HZ(ZZ),WZ=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(PZ),VZ=HZ(WZ),qZ=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(PZ),XZ=HZ(qZ),$Z=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(PZ),YZ=HZ($Z),KZ=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(PZ),JZ=HZ(KZ),QZ=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(PZ),eG=HZ(QZ),tG=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(PZ),nG=HZ(tG),rG=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(PZ),iG=HZ(rG),aG=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(PZ),oG=HZ(aG),uG=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(PZ),sG=HZ(uG),lG=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(PZ),cG=HZ(lG),fG=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(PZ),hG=HZ(fG),dG=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(PZ),pG=HZ(dG),vG=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(PZ),mG=HZ(vG),gG=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(PZ),yG=HZ(gG),bG=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(PZ),xG=HZ(bG),_G=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(PZ),wG=HZ(_G),SG=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(PZ),kG=HZ(SG),MG=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(PZ),EG=HZ(MG),TG=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(PZ),AG=HZ(TG),CG=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(PZ),RG=HZ(CG),PG=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(PZ),LG=HZ(PG),OG=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(PZ),IG=HZ(OG),DG=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(PZ),NG=HZ(DG),zG=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(PZ),FG=HZ(zG),BG=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(PZ),UG=HZ(BG),jG=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(PZ),HG=HZ(jG);function ZG(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-2710.57*e)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-67.37*e)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-2475.67*e)))))))+")"}var GG=FF(sC(300,.5,0),sC(-240,.5,1)),WG=FF(sC(-100,.75,.35),sC(80,1.5,.8)),VG=FF(sC(260,.75,.35),sC(80,1.5,.8)),qG=sC();function XG(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return qG.h=360*e-100,qG.s=1.5-1.5*t,qG.l=.8-.9*t,qG+""}var $G=kM(),YG=Math.PI/3,KG=2*Math.PI/3;function JG(e){var t;return e=(.5-e)*Math.PI,$G.r=255*(t=Math.sin(e))*t,$G.g=255*(t=Math.sin(e+YG))*t,$G.b=255*(t=Math.sin(e+KG))*t,$G+""}function QG(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-14825.05*e)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+707.56*e)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-6838.66*e)))))))+")"}function eW(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}var tW=eW(PZ("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),nW=eW(PZ("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),rW=eW(PZ("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),iW=eW(PZ("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function aW(e){return $k(Lk(e).call(document.documentElement))}var oW=0;function uW(){return new sW}function sW(){this._="@"+(++oW).toString(36)}function lW(e,t){return e.target&&(e=rE(e),void 0===t&&(t=e.currentTarget),e=e.touches||[e]),Array.from(e,(function(e){return iE(e,t)}))}function cW(e){return"string"===typeof e?new Vk([document.querySelectorAll(e)],[document.documentElement]):new Vk([IS(e)],Wk)}function fW(e){return function(){return e}}sW.prototype=uW.prototype={constructor:sW,get:function(e){for(var t=this._;!(t in e);)if(!(e=e.parentNode))return;return e[t]},set:function(e,t){return e[this._]=t},remove:function(e){return this._ in e&&delete e[this._]},toString:function(){return this._}};var hW=Math.abs,dW=Math.atan2,pW=Math.cos,vW=Math.max,mW=Math.min,gW=Math.sin,yW=Math.sqrt,bW=1e-12,xW=Math.PI,_W=xW/2,wW=2*xW;function SW(e){return e>1?0:e<-1?xW:Math.acos(e)}function kW(e){return e>=1?_W:e<=-1?-_W:Math.asin(e)}function MW(e){return e.innerRadius}function EW(e){return e.outerRadius}function TW(e){return e.startAngle}function AW(e){return e.endAngle}function CW(e){return e&&e.padAngle}function RW(e,t,n,r,i,a,o,u){var s=n-e,l=r-t,c=o-i,f=u-a,h=f*s-c*l;if(!(h*h<bW))return[e+(h=(c*(t-a)-f*(e-i))/h)*s,t+h*l]}function PW(e,t,n,r,i,a,o){var u=e-n,s=t-r,l=(o?a:-a)/yW(u*u+s*s),c=l*s,f=-l*u,h=e+c,d=t+f,p=n+c,v=r+f,m=(h+p)/2,g=(d+v)/2,y=p-h,b=v-d,x=y*y+b*b,_=i-a,w=h*v-p*d,S=(b<0?-1:1)*yW(vW(0,_*_*x-w*w)),k=(w*b-y*S)/x,M=(-w*y-b*S)/x,E=(w*b+y*S)/x,T=(-w*y+b*S)/x,A=k-m,C=M-g,R=E-m,P=T-g;return A*A+C*C>R*R+P*P&&(k=E,M=T),{cx:k,cy:M,x01:-c,y01:-f,x11:k*(i/_-1),y11:M*(i/_-1)}}function LW(){var e=MW,t=EW,n=fW(0),r=null,i=TW,a=AW,o=CW,u=null;function s(){var s,l,c=+e.apply(this,arguments),f=+t.apply(this,arguments),h=i.apply(this,arguments)-_W,d=a.apply(this,arguments)-_W,p=hW(d-h),v=d>h;if(u||(u=s=xA()),f<c&&(l=f,f=c,c=l),f>bW)if(p>wW-bW)u.moveTo(f*pW(h),f*gW(h)),u.arc(0,0,f,h,d,!v),c>bW&&(u.moveTo(c*pW(d),c*gW(d)),u.arc(0,0,c,d,h,v));else{var m,g,y=h,b=d,x=h,_=d,w=p,S=p,k=o.apply(this,arguments)/2,M=k>bW&&(r?+r.apply(this,arguments):yW(c*c+f*f)),E=mW(hW(f-c)/2,+n.apply(this,arguments)),T=E,A=E;if(M>bW){var C=kW(M/c*gW(k)),R=kW(M/f*gW(k));(w-=2*C)>bW?(x+=C*=v?1:-1,_-=C):(w=0,x=_=(h+d)/2),(S-=2*R)>bW?(y+=R*=v?1:-1,b-=R):(S=0,y=b=(h+d)/2)}var P=f*pW(y),L=f*gW(y),O=c*pW(_),I=c*gW(_);if(E>bW){var D,N=f*pW(b),z=f*gW(b),F=c*pW(x),B=c*gW(x);if(p<xW&&(D=RW(P,L,F,B,N,z,O,I))){var U=P-D[0],j=L-D[1],H=N-D[0],Z=z-D[1],G=1/gW(SW((U*H+j*Z)/(yW(U*U+j*j)*yW(H*H+Z*Z)))/2),W=yW(D[0]*D[0]+D[1]*D[1]);T=mW(E,(c-W)/(G-1)),A=mW(E,(f-W)/(G+1))}}S>bW?A>bW?(m=PW(F,B,P,L,f,A,v),g=PW(N,z,O,I,f,A,v),u.moveTo(m.cx+m.x01,m.cy+m.y01),A<E?u.arc(m.cx,m.cy,A,dW(m.y01,m.x01),dW(g.y01,g.x01),!v):(u.arc(m.cx,m.cy,A,dW(m.y01,m.x01),dW(m.y11,m.x11),!v),u.arc(0,0,f,dW(m.cy+m.y11,m.cx+m.x11),dW(g.cy+g.y11,g.cx+g.x11),!v),u.arc(g.cx,g.cy,A,dW(g.y11,g.x11),dW(g.y01,g.x01),!v))):(u.moveTo(P,L),u.arc(0,0,f,y,b,!v)):u.moveTo(P,L),c>bW&&w>bW?T>bW?(m=PW(O,I,N,z,c,-T,v),g=PW(P,L,F,B,c,-T,v),u.lineTo(m.cx+m.x01,m.cy+m.y01),T<E?u.arc(m.cx,m.cy,T,dW(m.y01,m.x01),dW(g.y01,g.x01),!v):(u.arc(m.cx,m.cy,T,dW(m.y01,m.x01),dW(m.y11,m.x11),!v),u.arc(0,0,c,dW(m.cy+m.y11,m.cx+m.x11),dW(g.cy+g.y11,g.cx+g.x11),v),u.arc(g.cx,g.cy,T,dW(g.y11,g.x11),dW(g.y01,g.x01),!v))):u.arc(0,0,c,_,x,v):u.lineTo(O,I)}else u.moveTo(0,0);if(u.closePath(),s)return u=null,s+""||null}return s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-xW/2;return[pW(r)*n,gW(r)*n]},s.innerRadius=function(t){return arguments.length?(e="function"===typeof t?t:fW(+t),s):e},s.outerRadius=function(e){return arguments.length?(t="function"===typeof e?e:fW(+e),s):t},s.cornerRadius=function(e){return arguments.length?(n="function"===typeof e?e:fW(+e),s):n},s.padRadius=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:fW(+e),s):r},s.startAngle=function(e){return arguments.length?(i="function"===typeof e?e:fW(+e),s):i},s.endAngle=function(e){return arguments.length?(a="function"===typeof e?e:fW(+e),s):a},s.padAngle=function(e){return arguments.length?(o="function"===typeof e?e:fW(+e),s):o},s.context=function(e){return arguments.length?(u=null==e?null:e,s):u},s}var OW=Array.prototype.slice;function IW(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function DW(e){this._context=e}function NW(e){return new DW(e)}function zW(e){return e[0]}function FW(e){return e[1]}function BW(e,t){var n=fW(!0),r=null,i=NW,a=null;function o(o){var u,s,l,c=(o=IW(o)).length,f=!1;for(null==r&&(a=i(l=xA())),u=0;u<=c;++u)!(u<c&&n(s=o[u],u,o))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(s,u,o),+t(s,u,o));if(l)return a=null,l+""||null}return e="function"===typeof e?e:void 0===e?zW:fW(e),t="function"===typeof t?t:void 0===t?FW:fW(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:fW(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:fW(+e),o):t},o.defined=function(e){return arguments.length?(n="function"===typeof e?e:fW(!!e),o):n},o.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),o):i},o.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),o):r},o}function UW(e,t,n){var r=null,i=fW(!0),a=null,o=NW,u=null;function s(s){var l,c,f,h,d,p=(s=IW(s)).length,v=!1,m=new Array(p),g=new Array(p);for(null==a&&(u=o(d=xA())),l=0;l<=p;++l){if(!(l<p&&i(h=s[l],l,s))===v)if(v=!v)c=l,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),f=l-1;f>=c;--f)u.point(m[f],g[f]);u.lineEnd(),u.areaEnd()}v&&(m[l]=+e(h,l,s),g[l]=+t(h,l,s),u.point(r?+r(h,l,s):m[l],n?+n(h,l,s):g[l]))}if(d)return u=null,d+""||null}function l(){return BW().defined(i).curve(o).context(a)}return e="function"===typeof e?e:void 0===e?zW:fW(+e),t="function"===typeof t?t:fW(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?FW:fW(+n),s.x=function(t){return arguments.length?(e="function"===typeof t?t:fW(+t),r=null,s):e},s.x0=function(t){return arguments.length?(e="function"===typeof t?t:fW(+t),s):e},s.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:fW(+e),s):r},s.y=function(e){return arguments.length?(t="function"===typeof e?e:fW(+e),n=null,s):t},s.y0=function(e){return arguments.length?(t="function"===typeof e?e:fW(+e),s):t},s.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:fW(+e),s):n},s.lineX0=s.lineY0=function(){return l().x(e).y(t)},s.lineY1=function(){return l().x(e).y(n)},s.lineX1=function(){return l().x(r).y(t)},s.defined=function(e){return arguments.length?(i="function"===typeof e?e:fW(!!e),s):i},s.curve=function(e){return arguments.length?(o=e,null!=a&&(u=o(a)),s):o},s.context=function(e){return arguments.length?(null==e?a=u=null:u=o(a=e),s):a},s}function jW(e,t){return t<e?-1:t>e?1:t>=e?0:NaN}function HW(e){return e}function ZW(){var e=HW,t=jW,n=null,r=fW(0),i=fW(wW),a=fW(0);function o(o){var u,s,l,c,f,h=(o=IW(o)).length,d=0,p=new Array(h),v=new Array(h),m=+r.apply(this,arguments),g=Math.min(wW,Math.max(-wW,i.apply(this,arguments)-m)),y=Math.min(Math.abs(g)/h,a.apply(this,arguments)),b=y*(g<0?-1:1);for(u=0;u<h;++u)(f=v[p[u]=u]=+e(o[u],u,o))>0&&(d+=f);for(null!=t?p.sort((function(e,n){return t(v[e],v[n])})):null!=n&&p.sort((function(e,t){return n(o[e],o[t])})),u=0,l=d?(g-h*b)/d:0;u<h;++u,m=c)s=p[u],c=m+((f=v[s])>0?f*l:0)+b,v[s]={data:o[s],index:u,value:f,startAngle:m,endAngle:c,padAngle:y};return v}return o.value=function(t){return arguments.length?(e="function"===typeof t?t:fW(+t),o):e},o.sortValues=function(e){return arguments.length?(t=e,n=null,o):t},o.sort=function(e){return arguments.length?(n=e,t=null,o):n},o.startAngle=function(e){return arguments.length?(r="function"===typeof e?e:fW(+e),o):r},o.endAngle=function(e){return arguments.length?(i="function"===typeof e?e:fW(+e),o):i},o.padAngle=function(e){return arguments.length?(a="function"===typeof e?e:fW(+e),o):a},o}DW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}};var GW=VW(NW);function WW(e){this._curve=e}function VW(e){function t(t){return new WW(e(t))}return t._curve=e,t}function qW(e){var t=e.curve;return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e.curve=function(e){return arguments.length?t(VW(e)):t()._curve},e}function XW(){return qW(BW().curve(GW))}function $W(){var e=UW().curve(GW),t=e.curve,n=e.lineX0,r=e.lineX1,i=e.lineY0,a=e.lineY1;return e.angle=e.x,delete e.x,e.startAngle=e.x0,delete e.x0,e.endAngle=e.x1,delete e.x1,e.radius=e.y,delete e.y,e.innerRadius=e.y0,delete e.y0,e.outerRadius=e.y1,delete e.y1,e.lineStartAngle=function(){return qW(n())},delete e.lineX0,e.lineEndAngle=function(){return qW(r())},delete e.lineX1,e.lineInnerRadius=function(){return qW(i())},delete e.lineY0,e.lineOuterRadius=function(){return qW(a())},delete e.lineY1,e.curve=function(e){return arguments.length?t(VW(e)):t()._curve},e}function YW(e,t){return[(t=+t)*Math.cos(e-=Math.PI/2),t*Math.sin(e)]}WW.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(e,t){this._curve.point(t*Math.sin(e),t*-Math.cos(e))}};var KW=function(){function e(t,n){S(this,e),this._context=t,this._x=n}return M(e,[{key:"areaStart",value:function(){this._line=0}},{key:"areaEnd",value:function(){this._line=NaN}},{key:"lineStart",value:function(){this._point=0}},{key:"lineEnd",value:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}},{key:"point",value:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}]),e}(),JW=function(){function e(t){S(this,e),this._context=t}return M(e,[{key:"lineStart",value:function(){this._point=0}},{key:"lineEnd",value:function(){}},{key:"point",value:function(e,t){if(e=+e,t=+t,0===this._point++)this._x0=e,this._y0=t;else{var n,r,i=YW(this._x0,this._y0),a=YW(this._x0,this._y0=(this._y0+t)/2),u=YW(e,this._y0),s=YW(e,t);(n=this._context).moveTo.apply(n,(0,o.Z)(i)),(r=this._context).bezierCurveTo.apply(r,(0,o.Z)(a).concat((0,o.Z)(u),(0,o.Z)(s)))}}}]),e}();function QW(e){return new KW(e,!0)}function eV(e){return new KW(e,!1)}function tV(e){return new JW(e)}function nV(e){return e.source}function rV(e){return e.target}function iV(e){var t=nV,n=rV,r=zW,i=FW,a=null,o=null;function u(){var u,s=OW.call(arguments),l=t.apply(this,s),c=n.apply(this,s);if(null==a&&(o=e(u=xA())),o.lineStart(),s[0]=l,o.point(+r.apply(this,s),+i.apply(this,s)),s[0]=c,o.point(+r.apply(this,s),+i.apply(this,s)),o.lineEnd(),u)return o=null,u+""||null}return u.source=function(e){return arguments.length?(t=e,u):t},u.target=function(e){return arguments.length?(n=e,u):n},u.x=function(e){return arguments.length?(r="function"===typeof e?e:fW(+e),u):r},u.y=function(e){return arguments.length?(i="function"===typeof e?e:fW(+e),u):i},u.context=function(t){return arguments.length?(null==t?a=o=null:o=e(a=t),u):a},u}function aV(){return iV(QW)}function oV(){return iV(eV)}function uV(){var e=iV(tV);return e.angle=e.x,delete e.x,e.radius=e.y,delete e.y,e}var sV=yW(3),lV={draw:function(e,t){var n=.59436*yW(t+mW(t/28,.75)),r=n/2,i=r*sV;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},cV={draw:function(e,t){var n=yW(t/xW);e.moveTo(n,0),e.arc(0,0,n,0,wW)}},fV={draw:function(e,t){var n=yW(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},hV=yW(1/3),dV=2*hV,pV={draw:function(e,t){var n=yW(t/dV),r=n*hV;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},vV={draw:function(e,t){var n=.62625*yW(t);e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},mV={draw:function(e,t){var n=.87559*yW(t-mW(t/7,2));e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},gV={draw:function(e,t){var n=yW(t),r=-n/2;e.rect(r,r,n,n)}},yV={draw:function(e,t){var n=.4431*yW(t);e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},bV=gW(xW/10)/gW(7*xW/10),xV=gW(wW/10)*bV,_V=-pW(wW/10)*bV,wV={draw:function(e,t){var n=yW(.8908130915292852*t),r=xV*n,i=_V*n;e.moveTo(0,-n),e.lineTo(r,i);for(var a=1;a<5;++a){var o=wW*a/5,u=pW(o),s=gW(o);e.lineTo(s*n,-u*n),e.lineTo(u*r-s*i,s*r+u*i)}e.closePath()}},SV=yW(3),kV={draw:function(e,t){var n=-yW(t/(3*SV));e.moveTo(0,2*n),e.lineTo(-SV*n,-n),e.lineTo(SV*n,-n),e.closePath()}},MV=yW(3),EV={draw:function(e,t){var n=.6824*yW(t),r=n/2,i=n*MV/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},TV=-.5,AV=yW(3)/2,CV=1/yW(12),RV=3*(CV/2+1),PV={draw:function(e,t){var n=yW(t/RV),r=n/2,i=n*CV,a=r,o=n*CV+n,u=-a,s=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(u,s),e.lineTo(TV*r-AV*i,AV*r+TV*i),e.lineTo(TV*a-AV*o,AV*a+TV*o),e.lineTo(TV*u-AV*s,AV*u+TV*s),e.lineTo(TV*r+AV*i,TV*i-AV*r),e.lineTo(TV*a+AV*o,TV*o-AV*a),e.lineTo(TV*u+AV*s,TV*s-AV*u),e.closePath()}},LV={draw:function(e,t){var n=.6189*yW(t-mW(t/6,1.7));e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},OV=[cV,fV,pV,gV,wV,kV,PV],IV=[cV,mV,LV,EV,lV,yV,vV];function DV(e,t){var n=null;function r(){var r;if(n||(n=r=xA()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),r)return n=null,r+""||null}return e="function"===typeof e?e:fW(e||cV),t="function"===typeof t?t:fW(void 0===t?64:+t),r.type=function(t){return arguments.length?(e="function"===typeof t?t:fW(t),r):e},r.size=function(e){return arguments.length?(t="function"===typeof e?e:fW(+e),r):t},r.context=function(e){return arguments.length?(n=null==e?null:e,r):n},r}function NV(){}function zV(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function FV(e){this._context=e}function BV(e){return new FV(e)}function UV(e){this._context=e}function jV(e){return new UV(e)}function HV(e){this._context=e}function ZV(e){return new HV(e)}function GV(e,t){this._basis=new FV(e),this._beta=t}FV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zV(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zV(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},UV.prototype={areaStart:NV,areaEnd:NV,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zV(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},HV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zV(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},GV.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r,i=e[0],a=t[0],o=e[n]-i,u=t[n]-a,s=-1;++s<=n;)r=s/n,this._basis.point(this._beta*e[s]+(1-this._beta)*(i+r*o),this._beta*t[s]+(1-this._beta)*(a+r*u));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};var WV=function e(t){function n(e){return 1===t?new FV(e):new GV(e,t)}return n.beta=function(t){return e(+t)},n}(.85);function VV(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function qV(e,t){this._context=e,this._k=(1-t)/6}qV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:VV(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:VV(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var XV=function e(t){function n(e){return new qV(e,t)}return n.tension=function(t){return e(+t)},n}(0);function $V(e,t){this._context=e,this._k=(1-t)/6}$V.prototype={areaStart:NV,areaEnd:NV,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:VV(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var YV=function e(t){function n(e){return new $V(e,t)}return n.tension=function(t){return e(+t)},n}(0);function KV(e,t){this._context=e,this._k=(1-t)/6}KV.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:VV(this,e,t)}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var JV=function e(t){function n(e){return new KV(e,t)}return n.tension=function(t){return e(+t)},n}(0);function QV(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>bW){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,s=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/s,i=(i*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/s}if(e._l23_a>bW){var l=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*l+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*l+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function eq(e,t){this._context=e,this._alpha=t}eq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:QV(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var tq=function e(t){function n(e){return t?new eq(e,t):new qV(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function nq(e,t){this._context=e,this._alpha=t}nq.prototype={areaStart:NV,areaEnd:NV,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:QV(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var rq=function e(t){function n(e){return t?new nq(e,t):new $V(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function iq(e,t){this._context=e,this._alpha=t}iq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:QV(this,e,t)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};var aq=function e(t){function n(e){return t?new iq(e,t):new KV(e,0)}return n.alpha=function(t){return e(+t)},n}(.5);function oq(e){this._context=e}function uq(e){return new oq(e)}function sq(e){return e<0?-1:1}function lq(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(sq(a)+sq(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function cq(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function fq(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,o-u*n,a,o)}function hq(e){this._context=e}function dq(e){this._context=new pq(e)}function pq(e){this._context=e}function vq(e){return new hq(e)}function mq(e){return new dq(e)}function gq(e){this._context=e}function yq(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function bq(e){return new gq(e)}function xq(e,t){this._context=e,this._t=t}function _q(e){return new xq(e,.5)}function wq(e){return new xq(e,0)}function Sq(e){return new xq(e,1)}function kq(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],u=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<u;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Mq(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Eq(e,t){return e[t]}function Tq(e){var t=[];return t.key=e,t}function Aq(){var e=fW([]),t=Mq,n=kq,r=Eq;function i(i){var a,o,u,s=Array.from(e.apply(this,arguments),Tq),l=s.length,c=-1,f=p(i);try{for(f.s();!(u=f.n()).done;){var h=u.value;for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(h,s[a].key,c,i)]).data=h}}catch(d){f.e(d)}finally{f.f()}for(a=0,o=IW(t(s));a<l;++a)s[o[a]].index=a;return n(s,o),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:fW(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:fW(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?Mq:"function"===typeof e?e:fW(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?kq:e,i):n},i}function Cq(e,t){if((r=e.length)>0){for(var n,r,i,a=0,o=e[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}kq(e,t)}}function Rq(e,t){if((u=e.length)>0)for(var n,r,i,a,o,u,s=0,l=e[t[0]].length;s<l;++s)for(a=o=0,n=0;n<u;++n)(i=(r=e[t[n]][s])[1]-r[0])>0?(r[0]=a,r[1]=a+=i):i<0?(r[1]=o,r[0]=o+=i):(r[0]=0,r[1]=i)}function Pq(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var o=0,u=0;o<n;++o)u+=e[o][r][1]||0;i[r][1]+=i[r][0]=-u/2}kq(e,t)}}function Lq(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var u=0,s=0,l=0;u<i;++u){for(var c=e[t[u]],f=c[o][1]||0,h=(f-(c[o-1][1]||0))/2,d=0;d<u;++d){var p=e[t[d]];h+=(p[o][1]||0)-(p[o-1][1]||0)}s+=f,l+=h*f}n[o-1][1]+=n[o-1][0]=a,s&&(a-=l/s)}n[o-1][1]+=n[o-1][0]=a,kq(e,t)}}function Oq(e){var t=e.map(Iq);return Mq(e).sort((function(e,n){return t[e]-t[n]}))}function Iq(e){for(var t,n=-1,r=0,i=e.length,a=-1/0;++n<i;)(t=+e[n][1])>a&&(a=t,r=n);return r}function Dq(e){var t=e.map(Nq);return Mq(e).sort((function(e,n){return t[e]-t[n]}))}function Nq(e){for(var t,n=0,r=-1,i=e.length;++r<i;)(t=+e[r][1])&&(n+=t);return n}function zq(e){return Dq(e).reverse()}function Fq(e){var t,n,r=e.length,i=e.map(Nq),a=Oq(e),o=0,u=0,s=[],l=[];for(t=0;t<r;++t)n=a[t],o<u?(o+=i[n],s.push(n)):(u+=i[n],l.push(n));return l.reverse().concat(s)}function Bq(e){return Mq(e).reverse()}oq.prototype={areaStart:NV,areaEnd:NV,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},hq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fq(this,this._t0,cq(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,fq(this,cq(this,n=lq(this,e,t)),n);break;default:fq(this,this._t0,n=lq(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(dq.prototype=Object.create(hq.prototype)).point=function(e,t){hq.prototype.point.call(this,t,e)},pq.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},gq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=yq(e),i=yq(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},xq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var Uq="%Y-%m-%dT%H:%M:%S.%LZ";var jq=Date.prototype.toISOString?function(e){return e.toISOString()}:Vj(Uq),Hq=jq;var Zq=+new Date("2000-01-01T00:00:00.000Z")?function(e){var t=new Date(e);return isNaN(t)?null:t}:qj(Uq),Gq=Zq;function Wq(e,t,n){var r=new gE,i=t;return null==t?(r.restart(e,t,n),r):(r._restart=r.restart,r.restart=function(e,t,n){t=+t,n=null==n?vE():+n,r._restart((function a(o){o+=i,r._restart(a,i+=t,n),e(o)}),t,n)},r.restart(e,t,n),r)}var Vq=function(e){return function(){return e}};function qq(e,t){var n=t.sourceEvent,r=t.target,i=t.transform,a=t.dispatch;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:a}})}function Xq(e,t,n){this.k=e,this.x=t,this.y=n}Xq.prototype={constructor:Xq,scale:function(e){return 1===e?this:new Xq(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Xq(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var $q=new Xq(1,0,0);function Yq(e){for(;!e.__zoom;)if(!(e=e.parentNode))return $q;return e.__zoom}function Kq(e){e.stopImmediatePropagation()}function Jq(e){e.preventDefault(),e.stopImmediatePropagation()}function Qq(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function eX(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function tX(){return this.__zoom||$q}function nX(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function rX(){return navigator.maxTouchPoints||"ontouchstart"in this}function iX(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],a=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}function aX(){var e,t,n,r=Qq,i=eX,a=iX,o=nX,u=rX,s=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,f=AF,h=PS("start","zoom","end"),d=500,p=0,v=10;function m(e){e.property("__zoom",tX).on("wheel.zoom",S,{passive:!1}).on("mousedown.zoom",k).on("dblclick.zoom",M).filter(u).on("touchstart.zoom",E).on("touchmove.zoom",T).on("touchend.zoom touchcancel.zoom",A).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(s[0],Math.min(s[1],t)))===e.k?e:new Xq(t,e.x,e.y)}function y(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new Xq(e.k,r,i)}function b(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function x(e,t,n,r){e.on("start.zoom",(function(){_(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){_(this,arguments).event(r).end()})).tween("zoom",(function(){var e=this,a=arguments,o=_(e,a).event(r),u=i.apply(e,a),s=null==n?b(u):"function"===typeof n?n.apply(e,a):n,l=Math.max(u[1][0]-u[0][0],u[1][1]-u[0][1]),c=e.__zoom,h="function"===typeof t?t.apply(e,a):t,d=f(c.invert(s).concat(l/c.k),h.invert(s).concat(l/h.k));return function(e){if(1===e)e=h;else{var t=d(e),n=l/t[2];e=new Xq(n,s[0]-t[0]*n,s[1]-t[1]*n)}o.zoom(null,e)}}))}function _(e,t,n){return!n&&e.__zooming||new w(e,t)}function w(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(r.apply(this,arguments)){var u=_(this,n).event(e),c=this.__zoom,f=Math.max(s[0],Math.min(s[1],c.k*Math.pow(2,o.apply(this,arguments)))),h=iE(e);if(u.wheel)u.mouse[0][0]===h[0]&&u.mouse[0][1]===h[1]||(u.mouse[1]=c.invert(u.mouse[0]=h)),clearTimeout(u.wheel);else{if(c.k===f)return;u.mouse=[h,c.invert(h)],RE(this),u.start()}Jq(e),u.wheel=setTimeout(d,150),u.zoom("mouse",a(y(g(c,f),u.mouse[0],u.mouse[1]),u.extent,l))}function d(){u.wheel=null,u.end()}}function k(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];if(!n&&r.apply(this,arguments)){var u=e.currentTarget,s=_(this,i,!0).event(e),c=$k(e.view).on("mousemove.zoom",v,!0).on("mouseup.zoom",m,!0),f=iE(e,u),h=e.clientX,d=e.clientY;eM(e.view),Kq(e),s.mouse=[f,this.__zoom.invert(f)],RE(this),s.start()}function v(e){if(Jq(e),!s.moved){var t=e.clientX-h,n=e.clientY-d;s.moved=t*t+n*n>p}s.event(e).zoom("mouse",a(y(s.that.__zoom,s.mouse[0]=iE(e,u),s.mouse[1]),s.extent,l))}function m(e){c.on("mousemove.zoom mouseup.zoom",null),tM(e.view,s.moved),Jq(e),s.event(e).end()}}function M(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(r.apply(this,arguments)){var u=this.__zoom,s=iE(e.changedTouches?e.changedTouches[0]:e,this),f=u.invert(s),h=u.k*(e.shiftKey?.5:2),d=a(y(g(u,h),s,f),i.apply(this,n),l);Jq(e),c>0?$k(this).transition().duration(c).call(x,d,s,e):$k(this).call(m.transform,d,s,e)}}function E(n){for(var i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(r.apply(this,arguments)){var u,s,l,c,f=n.touches,h=f.length,p=_(this,a,n.changedTouches.length===h).event(n);for(Kq(n),s=0;s<h;++s)c=[c=iE(l=f[s],this),this.__zoom.invert(c),l.identifier],p.touch0?p.touch1||p.touch0[2]===c[2]||(p.touch1=c,p.taps=0):(p.touch0=c,u=!0,p.taps=1+!!e);e&&(e=clearTimeout(e)),u&&(p.taps<2&&(t=c[0],e=setTimeout((function(){e=null}),d)),RE(this),p.start())}}function T(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,u,s,c=_(this,n).event(e),f=e.changedTouches,h=f.length;for(Jq(e),i=0;i<h;++i)u=iE(o=f[i],this),c.touch0&&c.touch0[2]===o.identifier?c.touch0[0]=u:c.touch1&&c.touch1[2]===o.identifier&&(c.touch1[0]=u);if(o=c.that.__zoom,c.touch1){var d=c.touch0[0],p=c.touch0[1],v=c.touch1[0],m=c.touch1[1],b=(b=v[0]-d[0])*b+(b=v[1]-d[1])*b,x=(x=m[0]-p[0])*x+(x=m[1]-p[1])*x;o=g(o,Math.sqrt(b/x)),u=[(d[0]+v[0])/2,(d[1]+v[1])/2],s=[(p[0]+m[0])/2,(p[1]+m[1])/2]}else{if(!c.touch0)return;u=c.touch0[0],s=c.touch0[1]}c.zoom("touch",a(y(o,u,s),c.extent,l))}}function A(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(this.__zooming){var o,u,s=_(this,i).event(e),l=e.changedTouches,c=l.length;for(Kq(e),n&&clearTimeout(n),n=setTimeout((function(){n=null}),d),o=0;o<c;++o)u=l[o],s.touch0&&s.touch0[2]===u.identifier?delete s.touch0:s.touch1&&s.touch1[2]===u.identifier&&delete s.touch1;if(s.touch1&&!s.touch0&&(s.touch0=s.touch1,delete s.touch1),s.touch0)s.touch0[1]=this.__zoom.invert(s.touch0[0]);else if(s.end(),2===s.taps&&(u=iE(u,this),Math.hypot(t[0]-u[0],t[1]-u[1])<v)){var f=$k(this).on("dblclick.zoom");f&&f.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",tX),e!==i?x(e,t,n,r):i.interrupt().each((function(){_(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()}))},m.scaleBy=function(e,t,n,r){m.scaleTo(e,(function(){var e=this.__zoom.k,n="function"===typeof t?t.apply(this,arguments):t;return e*n}),n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,(function(){var e=i.apply(this,arguments),r=this.__zoom,o=null==n?b(e):"function"===typeof n?n.apply(this,arguments):n,u=r.invert(o),s="function"===typeof t?t.apply(this,arguments):t;return a(y(g(r,s),o,u),e,l)}),n,r)},m.translateBy=function(e,t,n,r){m.transform(e,(function(){return a(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),i.apply(this,arguments),l)}),null,r)},m.translateTo=function(e,t,n,r,o){m.transform(e,(function(){var e=i.apply(this,arguments),o=this.__zoom,u=null==r?b(e):"function"===typeof r?r.apply(this,arguments):r;return a($q.translate(u[0],u[1]).scale(o.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,l)}),r,o)},w.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=$k(this.that).datum();h.call(e,this.that,new qq(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:h}),t)}},m.wheelDelta=function(e){return arguments.length?(o="function"===typeof e?e:Vq(+e),m):o},m.filter=function(e){return arguments.length?(r="function"===typeof e?e:Vq(!!e),m):r},m.touchable=function(e){return arguments.length?(u="function"===typeof e?e:Vq(!!e),m):u},m.extent=function(e){return arguments.length?(i="function"===typeof e?e:Vq([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):i},m.scaleExtent=function(e){return arguments.length?(s[0]=+e[0],s[1]=+e[1],m):[s[0],s[1]]},m.translateExtent=function(e){return arguments.length?(l[0][0]=+e[0][0],l[1][0]=+e[1][0],l[0][1]=+e[0][1],l[1][1]=+e[1][1],m):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},m.constrain=function(e){return arguments.length?(a=e,m):a},m.duration=function(e){return arguments.length?(c=+e,m):c},m.interpolate=function(e){return arguments.length?(f=e,m):f},m.on=function(){var e=h.on.apply(h,arguments);return e===h?m:e},m.clickDistance=function(e){return arguments.length?(p=(e=+e)*e,m):Math.sqrt(p)},m.tapDistance=function(e){return arguments.length?(v=+e,m):v},m}Yq.prototype=Xq.prototype;new Wi,new Cr,new Zr,s_({tooltip:{background:"rgba(0,0,0,0.66)",fontSize:"70%",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 255, 255, .3)",color:"white",padding:5,width:"300px"}});var oX=n(763),uX=n.n(oX);new Wi,new Cr,new Zr,s_({tooltip:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,borderRadius:3,boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)",color:"white",padding:5,width:"300px"}});function sX(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach((function(t){return function(e,t){"function"==typeof e?e(t):null!=e&&(e.current=t)}(t,e)}))}}function lX(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useCallback(sX.apply(void 0,t),t)}var cX=["children"],fX=["children"],hX=r.forwardRef((function(e,t){var n=e.children,i=h(e,cX);return r.Children.toArray(n).some(vX)?r.createElement(r.Fragment,null,r.Children.map(n,(function(e){return vX(e)?r.createElement(dX,(0,Jm.Z)({},i,{ref:t}),e.props.children):e}))):r.createElement(dX,(0,Jm.Z)({},i,{ref:t}),n)}));hX.displayName="Slot";var dX=r.forwardRef((function(e,t){var n=e.children,i=h(e,fX);return r.isValidElement(n)?r.cloneElement(n,l(l({},function(e,t){var n=l({},t),r=function(r){var i=e[r],a=t[r];/^on[A-Z]/.test(r)?n[r]=function(){null==a||a.apply(void 0,arguments),null==i||i.apply(void 0,arguments)}:"style"===r?n[r]=l(l({},i),a):"className"===r&&(n[r]=[i,a].filter(Boolean).join(" "))};for(var i in t)r(i);return l(l({},e),n)}(i,n.props)),{},{ref:sX(t,n.ref)})):r.Children.count(n)>1?r.Children.only(null):null}));dX.displayName="SlotClone";var pX=function(e){var t=e.children;return r.createElement(r.Fragment,null,t)};function vX(e){return r.isValidElement(e)&&e.type===pX}var mX=["asChild"],gX=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce((function(e,t){return l(l({},e),{},(0,u.Z)({},t,r.forwardRef((function(e,n){var i=e.asChild,a=h(e,mX),o=i?hX:t;return r.useEffect((function(){window[Symbol.for("radix-ui")]=!0}),[]),r.createElement(o,(0,Jm.Z)({},a,{ref:n}))}))))}),{}),yX=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?r.useLayoutEffect:function(){},bX=n(4164),xX=["containerRef","style"],_X=r.forwardRef((function(e,t){var n,i,a=e.containerRef,o=e.style,u=h(e,xX),s=null!==(n=null==a?void 0:a.current)&&void 0!==n?n:null===globalThis||void 0===globalThis||null===(i=globalThis.document)||void 0===i?void 0:i.body,f=r.useState({}),d=(0,c.Z)(f,2)[1];return yX((function(){d({})}),[]),s?bX.createPortal(r.createElement(gX.div,(0,Jm.Z)({"data-radix-portal":""},u,{ref:t,style:s===document.body?l({position:"absolute",top:0,left:0,zIndex:2147483647},o):void 0})),s):null})),wX=_X,SX=Object.prototype.hasOwnProperty;function kX(e,t){var n,r;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&kX(e[r],t[r]););return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(SX.call(e,n)&&++r&&!SX.call(t,n))return!1;if(!(n in t)||!kX(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}function MX(e,t){if(Object.is(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(var r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}var EX=function(e,t,n,r){this.name=e,this.fn=t,this.args=n,this.modifiers=r};function TX(e,t){return void 0===t&&(t="simple"),"object"===typeof e?e[t]:e}function AX(e,t){if(e.length){var n=e.shift(),r=AX(e,t);return n.perform(r)}return TX(t)}function CX(e,t){if(e.length){var n=e.shift(),r=CX(e,t);return n.performAsync(r)}return function(e){return Promise.resolve(TX(t,"async")(e))}}EX.prototype._test=function(e){var t=this.fn;try{AX(this.modifiers.slice(),t)(e)}catch(n){t=function(){return!1}}try{return AX(this.modifiers.slice(),t)(e)}catch(r){return!1}},EX.prototype._check=function(e){try{AX(this.modifiers.slice(),this.fn)(e)}catch(t){if(AX(this.modifiers.slice(),(function(e){return e}))(!1))return}if(!AX(this.modifiers.slice(),this.fn)(e))throw null},EX.prototype._testAsync=function(e){var t=this;return new Promise((function(n,r){CX(t.modifiers.slice(),t.fn)(e).then((function(t){t?n(e):r(null)})).catch((function(e){return r(e)}))}))};var RX=function(e,t,n){this.name=e,this.perform=t,this.performAsync=n},PX=function(e){function t(n,r,i,a){for(var o=[],u=arguments.length-4;u-- >0;)o[u]=arguments[u+4];e.call(this,o),e.captureStackTrace&&e.captureStackTrace(this,t),this.rule=n,this.value=r,this.cause=i,this.target=a}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(Error),LX=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]),this.chain=e,this.nextRuleModifiers=t};function OX(e,t,n,r){if(t.length){var i=t.shift();i._testAsync(e).then((function(){OX(e,t,n,r)}),(function(t){r(new PX(i,e,t))}))}else n(e)}function IX(){return void 0!==typeof Proxy?NX(new LX):zX(new LX)}LX.prototype._applyRule=function(e,t){var n=this;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return n.chain.push(new EX(t,e.apply(n,r),r,n.nextRuleModifiers)),n.nextRuleModifiers=[],n}},LX.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new RX(t,e.simple,e.async)),this},LX.prototype._clone=function(){return new LX(this.chain.slice(),this.nextRuleModifiers.slice())},LX.prototype.test=function(e){return this.chain.every((function(t){return t._test(e)}))},LX.prototype.testAll=function(e){var t=[];return this.chain.forEach((function(n){try{n._check(e)}catch(r){t.push(new PX(n,e,r))}})),t},LX.prototype.check=function(e){this.chain.forEach((function(t){try{t._check(e)}catch(n){throw new PX(t,e,n)}}))},LX.prototype.testAsync=function(e){var t=this;return new Promise((function(n,r){OX(e,t.chain.slice(),n,r)}))};var DX={};function NX(e){return new Proxy(e,{get:function(t,n){if(n in t)return t[n];var r=NX(e._clone());return n in FX?r._applyModifier(FX[n],n):n in DX?r._applyRule(DX[n],n):n in UX?r._applyRule(UX[n],n):void 0}})}function zX(e){var t=function(e,t){return Object.keys(e).forEach((function(n){t[n]=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];var a=zX(t._clone()),o=a._applyRule(e[n],n).apply(void 0,r);return o}})),t},n=t(UX,e),r=t(DX,n);return Object.keys(FX).forEach((function(e){Object.defineProperty(r,e,{get:function(){return zX(r._clone())._applyModifier(FX[e],e)}})})),r}IX.extend=function(e){Object.assign(DX,e)},IX.clearCustomRules=function(){DX={}};var FX={not:{simple:function(e){return function(t){return!e(t)}},async:function(e){return function(t){return Promise.resolve(e(t)).then((function(e){return!e})).catch((function(){return!0}))}}},some:{simple:function(e){return function(t){return BX(t).some((function(t){try{return e(t)}catch(n){return!1}}))}},async:function(e){return function(t){return Promise.all(BX(t).map((function(t){try{return e(t).catch((function(){return!1}))}catch(n){return!1}}))).then((function(e){return e.some(Boolean)}))}}},every:{simple:function(e){return function(t){return!1!==t&&BX(t).every(e)}},async:function(e){return function(t){return Promise.all(BX(t).map(e)).then((function(e){return e.every(Boolean)}))}}}};function BX(e){return"string"===typeof e?e.split(""):e}var UX={equal:function(e){return function(t){return t==e}},exact:function(e){return function(t){return t===e}},number:function(e){return void 0===e&&(e=!0),function(t){return"number"===typeof t&&(e||isFinite(t))}},integer:function(){return function(e){return(Number.isInteger||HX)(e)}},numeric:function(){return function(e){return!isNaN(parseFloat(e))&&isFinite(e)}},string:function(){return jX("string")},boolean:function(){return jX("boolean")},undefined:function(){return jX("undefined")},null:function(){return jX("null")},array:function(){return jX("array")},object:function(){return jX("object")},instanceOf:function(e){return function(t){return t instanceof e}},pattern:function(e){return function(t){return e.test(t)}},lowercase:function(){return function(e){return/^([a-z]+\s*)+$/.test(e)}},uppercase:function(){return function(e){return/^([A-Z]+\s*)+$/.test(e)}},vowel:function(){return function(e){return/^[aeiou]+$/i.test(e)}},consonant:function(){return function(e){return/^(?=[^aeiou])([a-z]+)$/i.test(e)}},first:function(e){return function(t){return t[0]==e}},last:function(e){return function(t){return t[t.length-1]==e}},empty:function(){return function(e){return 0===e.length}},length:function(e,t){return function(n){return n.length>=e&&n.length<=(t||e)}},minLength:function(e){return function(t){return t.length>=e}},maxLength:function(e){return function(t){return t.length<=e}},negative:function(){return function(e){return e<0}},positive:function(){return function(e){return e>=0}},between:function(e,t){return function(n){return n>=e&&n<=t}},range:function(e,t){return function(n){return n>=e&&n<=t}},lessThan:function(e){return function(t){return t<e}},lessThanOrEqual:function(e){return function(t){return t<=e}},greaterThan:function(e){return function(t){return t>e}},greaterThanOrEqual:function(e){return function(t){return t>=e}},even:function(){return function(e){return e%2===0}},odd:function(){return function(e){return e%2!==0}},includes:function(e){return function(t){return~t.indexOf(e)}},schema:function(e){return function(e){return{simple:function(t){var n=[];if(Object.keys(e).forEach((function(r){var i=e[r];try{i.check((t||{})[r])}catch(a){a.target=r,n.push(a)}})),n.length>0)throw n;return!0},async:function(t){var n=[],r=Object.keys(e).map((function(r){return e[r].testAsync((t||{})[r]).catch((function(e){e.target=r,n.push(e)}))}));return Promise.all(r).then((function(){if(n.length>0)throw n;return!0}))}}}(e)},passesAnyOf:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t){return e.some((function(e){return e.test(t)}))}},optional:function(e,t){return void 0===t&&(t=!1),function(n){return t&&"string"===typeof n&&""===n.trim()||void 0!==n&&null!==n&&e.check(n),!0}}};function jX(e){return function(t){return Array.isArray(t)&&"array"===e||null===t&&"null"===e||typeof t===e}}function HX(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}var ZX=IX,GX=["variants","compoundVariants","defaultVariants"],WX=["css"],VX=["css"],qX="colors",XX="sizes",$X="space",YX={gap:$X,gridGap:$X,columnGap:$X,gridColumnGap:$X,rowGap:$X,gridRowGap:$X,inset:$X,insetBlock:$X,insetBlockEnd:$X,insetBlockStart:$X,insetInline:$X,insetInlineEnd:$X,insetInlineStart:$X,margin:$X,marginTop:$X,marginRight:$X,marginBottom:$X,marginLeft:$X,marginBlock:$X,marginBlockEnd:$X,marginBlockStart:$X,marginInline:$X,marginInlineEnd:$X,marginInlineStart:$X,padding:$X,paddingTop:$X,paddingRight:$X,paddingBottom:$X,paddingLeft:$X,paddingBlock:$X,paddingBlockEnd:$X,paddingBlockStart:$X,paddingInline:$X,paddingInlineEnd:$X,paddingInlineStart:$X,top:$X,right:$X,bottom:$X,left:$X,scrollMargin:$X,scrollMarginTop:$X,scrollMarginRight:$X,scrollMarginBottom:$X,scrollMarginLeft:$X,scrollMarginX:$X,scrollMarginY:$X,scrollMarginBlock:$X,scrollMarginBlockEnd:$X,scrollMarginBlockStart:$X,scrollMarginInline:$X,scrollMarginInlineEnd:$X,scrollMarginInlineStart:$X,scrollPadding:$X,scrollPaddingTop:$X,scrollPaddingRight:$X,scrollPaddingBottom:$X,scrollPaddingLeft:$X,scrollPaddingX:$X,scrollPaddingY:$X,scrollPaddingBlock:$X,scrollPaddingBlockEnd:$X,scrollPaddingBlockStart:$X,scrollPaddingInline:$X,scrollPaddingInlineEnd:$X,scrollPaddingInlineStart:$X,fontSize:"fontSizes",background:qX,backgroundColor:qX,backgroundImage:qX,borderImage:qX,border:qX,borderBlock:qX,borderBlockEnd:qX,borderBlockStart:qX,borderBottom:qX,borderBottomColor:qX,borderColor:qX,borderInline:qX,borderInlineEnd:qX,borderInlineStart:qX,borderLeft:qX,borderLeftColor:qX,borderRight:qX,borderRightColor:qX,borderTop:qX,borderTopColor:qX,caretColor:qX,color:qX,columnRuleColor:qX,fill:qX,outline:qX,outlineColor:qX,stroke:qX,textDecorationColor:qX,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:XX,minBlockSize:XX,maxBlockSize:XX,inlineSize:XX,minInlineSize:XX,maxInlineSize:XX,width:XX,minWidth:XX,maxWidth:XX,height:XX,minHeight:XX,maxHeight:XX,flexBasis:XX,gridTemplateColumns:XX,gridTemplateRows:XX,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},KX=function(e,t){return"function"==typeof t?{"()":Function.prototype.toString.call(t)}:t},JX=function(){var e=Object.create(null);return function(t,n){for(var r=function(e){return JSON.stringify(e,KX)}(t),i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];return r in e?e[r]:e[r]=n.apply(void 0,[t].concat(a))}},QX=Symbol.for("sxs.internal"),e$=function(e,t){return Object.defineProperties(e,Object.getOwnPropertyDescriptors(t))},t$=function(e){for(var t in e)return!0;return!1},n$=Object.prototype.hasOwnProperty,r$=function(e){return e.includes("-")?e:e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))},i$=/\s+(?![^()]*\))/,a$=function(e){return function(t){return e.apply(void 0,(0,o.Z)("string"==typeof t?String(t).split(i$):[t]))}},o$={appearance:function(e){return{WebkitAppearance:e,appearance:e}},backfaceVisibility:function(e){return{WebkitBackfaceVisibility:e,backfaceVisibility:e}},backdropFilter:function(e){return{WebkitBackdropFilter:e,backdropFilter:e}},backgroundClip:function(e){return{WebkitBackgroundClip:e,backgroundClip:e}},boxDecorationBreak:function(e){return{WebkitBoxDecorationBreak:e,boxDecorationBreak:e}},clipPath:function(e){return{WebkitClipPath:e,clipPath:e}},content:function(e){return{content:e.includes('"')||e.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(e)?e:'"'.concat(e,'"')}},hyphens:function(e){return{WebkitHyphens:e,hyphens:e}},maskImage:function(e){return{WebkitMaskImage:e,maskImage:e}},maskSize:function(e){return{WebkitMaskSize:e,maskSize:e}},tabSize:function(e){return{MozTabSize:e,tabSize:e}},textSizeAdjust:function(e){return{WebkitTextSizeAdjust:e,textSizeAdjust:e}},userSelect:function(e){return{WebkitUserSelect:e,userSelect:e}},marginBlock:a$((function(e,t){return{marginBlockStart:e,marginBlockEnd:t||e}})),marginInline:a$((function(e,t){return{marginInlineStart:e,marginInlineEnd:t||e}})),maxSize:a$((function(e,t){return{maxBlockSize:e,maxInlineSize:t||e}})),minSize:a$((function(e,t){return{minBlockSize:e,minInlineSize:t||e}})),paddingBlock:a$((function(e,t){return{paddingBlockStart:e,paddingBlockEnd:t||e}})),paddingInline:a$((function(e,t){return{paddingInlineStart:e,paddingInlineEnd:t||e}}))},u$=/([\d.]+)([^]*)/,s$=function(e,t){return e.length?e.reduce((function(e,n){return e.push.apply(e,(0,o.Z)(t.map((function(e){return e.includes("&")?e.replace(/&/g,/[ +>|~]/.test(n)&&/&.*&/.test(e)?":is(".concat(n,")"):n):n+" "+e})))),e}),[]):t},l$=function(e,t){return e in c$&&"string"==typeof t?t.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(function(t,n,r,i){return n+("stretch"===r?"-moz-available".concat(i,";").concat(r$(e),":").concat(n,"-webkit-fill-available"):"-moz-fit-content".concat(i,";").concat(r$(e),":").concat(n,"fit-content"))+i})):String(t)},c$={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},f$=function(e){return e?e+"-":""},h$=function(e,t,n){return e.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(function(e,r,i,a,o){return"$"==a==!!i?e:(r||"--"==a?"calc(":"")+"var(--"+("$"===a?f$(t)+(o.includes("$")?"":f$(n))+o.replace(/\$/g,"-"):o)+")"+(r||"--"==a?"*"+(r||"")+(i||"1")+")":"")}))},d$=/\s*,\s*(?![^()]*\))/,p$=Object.prototype.toString,v$=function(e,t,n,r,i){var a,u,s;!function e(t,n,l){var f,h;(function t(d){for(f in d){var v,m=64===f.charCodeAt(0),g=p(m&&Array.isArray(d[f])?d[f]:[d[f]]);try{for(g.s();!(v=g.n()).done;){h=v.value;var y=/[A-Z]/.test(M=f)?M:M.replace(/-[^]/g,(function(e){return e[1].toUpperCase()})),b="object"==typeof h&&h&&h.toString===p$&&(!r.utils[y]||!n.length);if(y in r.utils&&!b){var x=r.utils[y];if(x!==u){u=x,t(x(h)),u=null;continue}}else if(y in o$){var _=o$[y];if(_!==s){s=_,t(_(h)),s=null;continue}}if(m&&(k=f.slice(1)in r.media?"@media "+r.media[f.slice(1)]:f,f=k.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(function(e,t,n,r,i,a){var o=u$.test(t),u=.0625*(o?-1:1),s=o?[r,t]:[t,r],l=(0,c.Z)(s,2),f=l[0],h=l[1];return"("+("="===n[0]?"":">"===n[0]===o?"max-":"min-")+f+":"+("="!==n[0]&&1===n.length?h.replace(u$,(function(e,t,r){return Number(t)+u*(">"===n?1:-1)+r})):h)+(i?") and ("+(">"===i[0]?"min-":"max-")+f+":"+(1===i.length?a.replace(u$,(function(e,t,n){return Number(t)+u*(">"===i?-1:1)+n})):a):"")+")"}))),b){var w=m?l.concat(f):(0,o.Z)(l),S=m?(0,o.Z)(n):s$(n,f.split(d$));void 0!==a&&i(m$.apply(void 0,(0,o.Z)(a))),a=void 0,e(h,S,w)}else void 0===a&&(a=[[],n,l]),f=m||36!==f.charCodeAt(0)?f:"--".concat(f$(r.prefix)).concat(f.slice(1).replace(/\$/g,"-")),h=b?h:"number"==typeof h?h&&y in g$?String(h)+"px":String(h):h$(l$(y,null==h?"":h),r.prefix,r.themeMap[y]),a[0].push("".concat(m?"".concat(f," "):"".concat(r$(f),":")).concat(h))}}catch(E){g.e(E)}finally{g.f()}}var k,M})(t),void 0!==a&&i(m$.apply(void 0,(0,o.Z)(a))),a=void 0}(e,t,n)},m$=function(e,t,n){return"".concat(n.map((function(e){return"".concat(e,"{")})).join("")).concat(t.length?"".concat(t.join(","),"{"):"").concat(e.join(";")).concat(t.length?"}":"").concat(Array(n.length?n.length+1:0).join("}"))},g$={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},y$=function(e){return String.fromCharCode(e+(e>25?39:97))},b$=function(e){return function(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=y$(t%52)+n;return y$(t%52)+n}(function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e}(5381,JSON.stringify(e))>>>0)},x$=["themed","global","styled","onevar","resonevar","allvar","inline"],_$=function(e){if(e.href&&!e.href.startsWith(location.origin))return!1;try{return e.cssRules,!0}catch(e){return!1}},w$=function(e){var t=e.group,n=t.cssRules.length;e.apply=function(e){try{t.insertRule(e,n),++n}catch(r){}}},S$=Symbol(),k$=JX(),M$=function(e,t){return k$(e,(function(){return function(){for(var n={type:null,composers:new Set},r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];for(var o=0,u=i;o<u.length;o++){var s=u[o];if(null!=s)if(s[QX]){null==n.type&&(n.type=s[QX].type);var l,c=p(s[QX].composers);try{for(c.s();!(l=c.n()).done;){var f=l.value;n.composers.add(f)}}catch(h){c.e(h)}finally{c.f()}}else s.constructor!==Object||s.$$typeof?null==n.type&&(n.type=s):n.composers.add(E$(s,e))}return null==n.type&&(n.type="span"),n.composers.size||n.composers.add(["PJLV",{},[],[],{},[]]),T$(e,n,t)}}))},E$=function(e,t){var n,r,i=e.variants,a=e.compoundVariants,o=e.defaultVariants,s=h(e,GX),l="".concat(f$(t.prefix),"c-").concat(b$(s)),c=[],f=[],d=Object.create(null),v=[];for(var m in o)d[m]=String(o[m]);if("object"==typeof i&&i)for(var g in i){n=d,r=g,n$.call(n,r)||(d[g]="undefined");var y=i[g];for(var b in y){var x=(0,u.Z)({},g,String(b));"undefined"===String(b)&&v.push(g);var _=y[b],w=[x,_,!t$(_)];c.push(w)}}if("object"==typeof a&&a){var S,k=p(a);try{for(k.s();!(S=k.n()).done;){var M=S.value,E=M.css,T=h(M,WX);for(var A in E="object"==typeof E&&E||{},T)T[A]=String(T[A]);var C=[T,E,!t$(E)];f.push(C)}}catch(R){k.e(R)}finally{k.f()}}return[l,s,c,f,d,v]},T$=function(e,t,n){var r,i=A$(t.composers),a=(0,c.Z)(i,4),s=a[0],f=a[1],d=a[2],v=a[3],m="function"==typeof t.type||t.type.$$typeof?function(e){function t(){for(var n=0;n<t[S$].length;n++){var r=(0,c.Z)(t[S$][n],2),i=r[0],a=r[1];e.rules[i].apply(a)}return t[S$]=[],null}return t[S$]=[],t.rules={},x$.forEach((function(e){return t.rules[e]={apply:function(n){return t[S$].push([e,n])}}})),t}(n):null,g=(m||n).rules,y=".".concat(s).concat(f.length>1?":where(.".concat(f.slice(1).join("."),")"):""),b=function(r){var i=r="object"==typeof r&&r||R$,a=i.css,u=h(i,VX),b={};for(var x in d)if(delete u[x],x in r){var _=r[x];"object"==typeof _&&_?b[x]=l({"@initial":d[x]},_):(_=String(_),b[x]="undefined"!==_||v.has(x)?_:d[x])}else b[x]=d[x];var w,S=new Set((0,o.Z)(f)),k=p(t.composers);try{for(k.s();!(w=k.n()).done;){var M=(0,c.Z)(w.value,4),E=M[0],T=M[1],A=M[2],C=M[3];n.rules.styled.cache.has(E)||(n.rules.styled.cache.add(E),v$(T,[".".concat(E)],[],e,(function(e){g.styled.apply(e)})));var R,P=C$(A,b,e.media),L=C$(C,b,e.media,!0),O=p(P);try{for(O.s();!(R=O.n()).done;){var I=R.value;if(void 0!==I){var D,N=p(I);try{var z=function(){var t=(0,c.Z)(D.value,3),r=t[0],i=t[1],a=t[2],o="".concat(E,"-").concat(b$(i),"-").concat(r);S.add(o);var u=(a?n.rules.resonevar:n.rules.onevar).cache,s=a?g.resonevar:g.onevar;u.has(o)||(u.add(o),v$(i,[".".concat(o)],[],e,(function(e){s.apply(e)})))};for(N.s();!(D=N.n()).done;)z()}catch(J){N.e(J)}finally{N.f()}}}}catch(J){O.e(J)}finally{O.f()}var F,B=p(L);try{for(B.s();!(F=B.n()).done;){var U=F.value;if(void 0!==U){var j,H=p(U);try{for(H.s();!(j=H.n()).done;){var Z=(0,c.Z)(j.value,2),G=Z[0],W=Z[1],V="".concat(E,"-").concat(b$(W),"-").concat(G);S.add(V),n.rules.allvar.cache.has(V)||(n.rules.allvar.cache.add(V),v$(W,[".".concat(V)],[],e,(function(e){g.allvar.apply(e)})))}}catch(J){H.e(J)}finally{H.f()}}}}catch(J){B.e(J)}finally{B.f()}}}catch(J){k.e(J)}finally{k.f()}if("object"==typeof a&&a){var q="".concat(s,"-i").concat(b$(a),"-css");S.add(q),n.rules.inline.cache.has(q)||(n.rules.inline.cache.add(q),v$(a,[".".concat(q)],[],e,(function(e){g.inline.apply(e)})))}var X,$=p(String(r.className||"").trim().split(/\s+/));try{for($.s();!(X=$.n()).done;){var Y=X.value;Y&&S.add(Y)}}catch(J){$.e(J)}finally{$.f()}var K=u.className=(0,o.Z)(S).join(" ");return{type:t.type,className:K,selector:y,props:u,toString:function(){return K},deferredInjector:m}};return e$(b,(r={className:s,selector:y},(0,u.Z)(r,QX,t),(0,u.Z)(r,"toString",(function(){return n.rules.styled.cache.has(s)||b(),s})),r))},A$=function(e){var t,n="",r=[],i={},a=[],u=p(e);try{for(u.s();!(t=u.n()).done;){var s=(0,c.Z)(t.value,6),l=s[0],f=s[4],h=s[5];for(var d in""===n&&(n=l),r.push(l),a.push.apply(a,(0,o.Z)(h)),f){var v=f[d];(void 0===i[d]||"undefined"!==v||h.includes(v))&&(i[d]=v)}}}catch(m){u.e(m)}finally{u.f()}return[n,r,i,new Set(a)]},C$=function(e,t,n,r){var i,a=[],o=p(e);try{e:for(o.s();!(i=o.n()).done;){var s=(0,c.Z)(i.value,3),l=s[0],f=s[1];if(!s[2]){var h=void 0,d=0,v=!1;for(h in l){var m=l[h],g=t[h];if(g!==m){if("object"!=typeof g||!g)continue e;var y=void 0,b=void 0,x=0;for(var _ in g){if(m===String(g[_])){if("@initial"!==_){var w=_.slice(1);(b=b||[]).push(w in n?n[w]:_.replace(/^@media ?/,"")),v=!0}d+=x,y=!0}++x}if(b&&b.length&&(f=(0,u.Z)({},"@media "+b.join(", "),f)),!y)continue e}}(a[d]=a[d]||[]).push([r?"cv":"".concat(h,"-").concat(l[h]),f,v])}}}catch(S){o.e(S)}finally{o.f()}return a},R$={},P$=JX(),L$=function(e,t){return P$(e,(function(){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=function(){var n,i=p(r);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=b$(a="object"==typeof a&&a||{});if(!t.rules.global.cache.has(o)){if(t.rules.global.cache.add(o),"@import"in a){var u,s=[].indexOf.call(t.sheet.cssRules,t.rules.themed.group)-1,l=p([].concat(a["@import"]));try{for(l.s();!(u=l.n()).done;){var c=u.value;c=c.includes('"')||c.includes("'")?c:'"'.concat(c,'"'),t.sheet.insertRule("@import ".concat(c,";"),s++)}}catch(f){l.e(f)}finally{l.f()}delete a["@import"]}v$(a,[],[],e,(function(e){t.rules.global.apply(e)}))}}}catch(f){i.e(f)}finally{i.f()}return""};return e$(a,{toString:a})}}))},O$=JX(),I$=function(e,t){return O$(e,(function(){return function(n){var r="".concat(f$(e.prefix),"k-").concat(b$(n)),i=function(){if(!t.rules.global.cache.has(r)){t.rules.global.cache.add(r);var i=[];v$(n,[],[],e,(function(e){return i.push(e)}));var a="@keyframes ".concat(r,"{").concat(i.join(""),"}");t.rules.global.apply(a)}return r};return e$(i,{get name(){return i()},toString:i})}}))},D$=function(){function e(t,n,r,i){S(this,e),this.token=null==t?"":String(t),this.value=null==n?"":String(n),this.scale=null==r?"":String(r),this.prefix=null==i?"":String(i)}return M(e,[{key:"computedValue",get:function(){return"var("+this.variable+")"}},{key:"variable",get:function(){return"--"+f$(this.prefix)+f$(this.scale)+this.token}},{key:"toString",value:function(){return this.computedValue}}]),e}(),N$=JX(),z$=function(e,t){return N$(e,(function(){return function(n,r){r="object"==typeof n&&n||Object(r);var i=".".concat(n=(n="string"==typeof n?n:"")||"".concat(f$(e.prefix),"t-").concat(b$(r))),a={},o=[];for(var u in r)for(var s in a[u]={},r[u]){var c="--".concat(f$(e.prefix)).concat(u,"-").concat(s),f=h$(String(r[u][s]),e.prefix,u);a[u][s]=new D$(s,f,u,e.prefix),o.push("".concat(c,":").concat(f))}var h=function(){if(o.length&&!t.rules.themed.cache.has(n)){t.rules.themed.cache.add(n);var i="".concat(r===e.theme?":root,":"",".").concat(n,"{").concat(o.join(";"),"}");t.rules.themed.apply(i)}return n};return l(l({},a),{},{get className(){return h()},selector:i,toString:h})}}))},F$=JX(),B$=JX(),U$=function(e){var t=function(e){var t=!1,n=F$(e,(function(e){t=!0;var n="prefix"in(e="object"==typeof e&&e||{})?String(e.prefix):"",r="object"==typeof e.media&&e.media||{},i="object"==typeof e.root?e.root||null:globalThis.document||null,a="object"==typeof e.theme&&e.theme||{},u={prefix:n,media:r,theme:a,themeMap:"object"==typeof e.themeMap&&e.themeMap||l({},YX),utils:"object"==typeof e.utils&&e.utils||{}},s=function(e){var t;return function n(){if(t){var r=t,i=r.rules,a=r.sheet;if(!a.deleteRule){for(;3===Object(Object(a.cssRules)[0]).type;)a.cssRules.splice(0,1);a.cssRules=[]}for(var u in i)delete i[u]}var s,l=p(Object(e).styleSheets||[]);try{for(l.s();!(s=l.n()).done;){var c=s.value;if(_$(c)){for(var f=0,h=c.cssRules;h[f];++f){var d=Object(h[f]);if(1===d.type){var v=Object(h[f+1]);if(4===v.type){++f;var m=d.cssText;if(m.startsWith("--sxs")){var g=m.slice(14,-3).trim().split(/\s+/),y=x$[g[0]];y&&(t||(t={sheet:c,reset:n,rules:{}}),t.rules[y]={group:v,index:f,cache:new Set(g)})}}}}if(t)break}}}catch(E){l.e(E)}finally{l.f()}t||(t={sheet:e?(e.head||e).appendChild(document.createElement("style")).sheet:function e(t,n){return{type:n,cssRules:[],insertRule:function(t,n){this.cssRules.splice(n,0,e(t,{import:3,undefined:1}[(t.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return"@media{}"===t?"@media{".concat([].map.call(this.cssRules,(function(e){return e.cssText})).join(""),"}"):t}}}("","text/css"),rules:{},reset:n,toString:function(){var e=t.sheet.cssRules;return[].map.call(e,(function(n,r){var i=n.cssText,a="";if(i.startsWith("--sxs"))return"";if(e[r-1]&&(a=e[r-1].cssText).startsWith("--sxs")){if(!n.cssRules.length)return"";for(var u in t.rules)if(t.rules[u].group===n)return"--sxs{--sxs:".concat((0,o.Z)(t.rules[u].cache).join(" "),"}").concat(i);return n.cssRules.length?"".concat(a).concat(i):""}return i})).join("")}});for(var b=t,x=b.sheet,_=b.rules,w=x$.length-1;w>=0;--w){var S=x$[w];if(!_[S]){var k=x$[w+1],M=_[k]?_[k].index:x.cssRules.length;x.insertRule("@media{}",M),x.insertRule("--sxs{--sxs:".concat(w,"}"),M),_[S]={group:x.cssRules[M+1],index:M,cache:new Set([w])}}w$(_[S])}}(),t}(i),c={css:M$(u,s),globalCss:L$(u,s),keyframes:I$(u,s),createTheme:z$(u,s),reset:function(){s.reset(),c.theme.toString()},theme:{},sheet:s,config:u,prefix:n,getCssText:s.toString,toString:s.toString};return String(c.theme=c.createTheme(a)),c}));return t||n.reset(),n}(e);return t.styled=function(e){var t=e.config,n=e.sheet;return B$(t,(function(){var e=M$(t,n);return function(){var t=e.apply(void 0,arguments),n=t[QX].type,i=r.forwardRef((function(e,i){var a=e&&e.as||n,o=t(e),u=o.props,s=o.deferredInjector;return delete u.as,u.ref=i,s?r.createElement(r.Fragment,null,r.createElement(a,u),r.createElement(s,null)):r.createElement(a,u)}));return i.className=t.className,i.displayName="Styled.".concat(n.displayName||n.name||n),i.selector=t.selector,i.toString=function(){return t.selector},i[QX]=t[QX],i}}))}(t),t};function j$(e,t,n){return Math.max(t,Math.min(e,n))}var H$=function(e,t){return void 0===e&&(e=t),Array.isArray(e)?e:[e,e]},Z$=function(e,t){return[e[0]+t[0],e[1]+t[1]]},G$=function(e,t){return[e[0]-t[0],e[1]-t[1]]},W$=function(e,t){e[0]+=t[0],e[1]+=t[1]};function V$(e,t,n){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*n):e*t*n/(t+n*e)}function q$(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.15;return 0===r?j$(e,t,n):e<t?-V$(t-e,n-t,r)+t:e>n?+V$(e-n,n-t,r)+n:e}function X$(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y$(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$$(Object(n),!0).forEach((function(t){X$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K$={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function J$(e){return e?e[0].toUpperCase()+e.slice(1):""}function Q$(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=K$[e],i=r&&r[t]||t;return"on"+J$(e)+J$(i)+(n?"Capture":"")}var eY=["gotpointercapture","lostpointercapture"];function tY(e){var t=e.substring(2).toLowerCase(),n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));var r=eY.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function nY(e){return"touches"in e}function rY(e){return nY(e)?function(e){return"touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches}(e)[0]:e}function iY(e){return function(e){return Array.from(e.touches).filter((function(t){var n,r;return t.target===e.currentTarget||(null===(n=e.currentTarget)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,t.target))}))}(e).map((function(e){return e.identifier}))}function aY(e){var t=rY(e);return nY(e)?t.identifier:t.pointerId}function oY(e){var t=rY(e);return[t.clientX,t.clientY]}function uY(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}return e}function sY(){}function lY(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?sY:1===t.length?t[0]:function(){var e,n,r=p(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e=i.apply(this,arguments)||e}}catch(a){r.e(a)}finally{r.f()}return e}}function cY(e,t){return Object.assign({},t,e||{})}var fY=function(){function e(t,n,r){S(this,e),this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}return M(e,[{key:"state",get:function(){return this.ctrl.state[this.key]},set:function(e){this.ctrl.state[this.key]=e}},{key:"shared",get:function(){return this.ctrl.state.shared}},{key:"eventStore",get:function(){return this.ctrl.gestureEventStores[this.key]}},{key:"timeoutStore",get:function(){return this.ctrl.gestureTimeoutStores[this.key]}},{key:"config",get:function(){return this.ctrl.config[this.key]}},{key:"sharedConfig",get:function(){return this.ctrl.config.shared}},{key:"handler",get:function(){return this.ctrl.handlers[this.key]}},{key:"reset",value:function(){var e=this.state,t=this.shared,n=this.ingKey,r=this.args;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}},{key:"start",value:function(e){var t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?uY(n.from,t):t.offset,t.offset=t.lastOffset),t.startTime=t.timeStamp=e.timeStamp}},{key:"computeValues",value:function(e){var t=this.state;t._values=e,t.values=this.config.transform(e)}},{key:"computeInitial",value:function(){var e=this.state;e._initial=e._values,e.initial=e.values}},{key:"compute",value:function(e){var t=this.state,n=this.config,r=this.shared;t.args=this.args;var i=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,function(e){var t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){var n=e.shiftKey,r=e.altKey,i=e.metaKey,a=e.ctrlKey;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:a})}return t}(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,i=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){var a=t._delta.map(Math.abs);W$(t._distance,a)}var o=(0,c.Z)(t._movement,2),u=o[0],s=o[1],l=(0,c.Z)(n.threshold,2),f=l[0],h=l[1],d=t._step,p=t.values;if(n.hasCustomTransform?(!1===d[0]&&(d[0]=Math.abs(u)>=f&&p[0]),!1===d[1]&&(d[1]=Math.abs(s)>=h&&p[1])):(!1===d[0]&&(d[0]=Math.abs(u)>=f&&Math.sign(u)*f),!1===d[1]&&(d[1]=Math.abs(s)>=h&&Math.sign(s)*h)),t.intentional=!1!==d[0]||!1!==d[1],t.intentional){var v=[0,0];if(n.hasCustomTransform){var m=(0,c.Z)(p,2),g=m[0],y=m[1];v[0]=!1!==d[0]?g-d[0]:0,v[1]=!1!==d[1]?y-d[1]:0}else v[0]=!1!==d[0]?u-d[0]:0,v[1]=!1!==d[1]?s-d[1]:0;if(this.intent&&this.intent(v),(t._active&&!t._blocked||t.active)&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e)){t.first&&("bounds"in n&&(t._bounds=uY(n.bounds,t)),this.setup&&this.setup()),t.movement=v;var b=t.offset;if(this.computeOffset(),!t.last||i>32){t.delta=G$(t.offset,b);var x=t.delta.map(Math.abs);W$(t.distance,x),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&i>0&&(t.velocity=[x[0]/i,x[1]/i])}}var _=(0,c.Z)(t.offset,2),w=_[0],S=_[1],k=(0,c.Z)(t._bounds,2),M=(0,c.Z)(k[0],2),E=M[0],T=M[1],A=(0,c.Z)(k[1],2),C=A[0],R=A[1];t.overflow=[w<E?-1:w>T?1:0,S<C?-1:S>R?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);var P=t._active&&n.rubberband||[0,0];t.offset=function(e,t,n){var r=(0,c.Z)(t,2),i=r[0],a=r[1],o=(0,c.Z)(n,2),u=o[0],s=o[1],l=(0,c.Z)(e,2),f=(0,c.Z)(l[0],2),h=f[0],d=f[1],p=(0,c.Z)(l[1],2),v=p[0],m=p[1];return[q$(i,h,d,u),q$(a,v,m,s)]}(t._bounds,t.offset,P),this.computeMovement()}}},{key:"emit",value:function(){var e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),!e._blocked&&e.intentional||e._force||n.triggerAllEvents){var r=this.handler(Y$(Y$(Y$({},t),e),{},(0,u.Z)({},this.aliasKey,e.values)));void 0!==r&&(e.memo=r)}}},{key:"clean",value:function(){this.eventStore.clean(),this.timeoutStore.clean()}}]),e}();var hY=function(e){E(n,e);var t=P(n);function n(){var e;S(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return X$(C(e=t.call.apply(t,[this].concat(i))),"aliasKey","xy"),e}return M(n,[{key:"reset",value:function(){D(T(n.prototype),"reset",this).call(this),this.state.axis=void 0}},{key:"init",value:function(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}},{key:"computeOffset",value:function(){this.state.offset=Z$(this.state.lastOffset,this.state.movement)}},{key:"computeMovement",value:function(){this.state.movement=G$(this.state.offset,this.state.lastOffset)}},{key:"intent",value:function(e){this.state.axis=this.state.axis||function(e){var t=(0,c.Z)(e,2),n=t[0],r=t[1],i=Math.abs(n)-Math.abs(r);return i>0?"x":i<0?"y":void 0}(e),this.state._blocked=(this.config.lockDirection||!!this.config.axis)&&!this.state.axis||!!this.config.axis&&this.config.axis!==this.state.axis,this.state._blocked||(this.config.axis||this.config.lockDirection)&&function(e,t){switch(t){case"x":e[1]=0;break;case"y":e[0]=0}}(e,this.state.axis)}}]),n}(fY),dY=function(e){return e},pY=.15,vY={enabled:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},preventDefault:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},triggerAllEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},rubberband:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return[pY,pY];case!1:return[0,0];default:return H$(e)}},from:function(e){return"function"===typeof e?e:null!=e?H$(e):void 0},transform:function(e,t,n){var r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||dY},threshold:function(e){return H$(e,0)}};var mY=Y$(Y$({},vY),{},{axis:function(e,t,n){var r=n.axis;if(this.lockDirection="lock"===r,!this.lockDirection)return r},bounds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"===typeof e)return function(t){return mY.bounds(e(t))};if("current"in e)return function(){return e.current};if("function"===typeof HTMLElement&&e instanceof HTMLElement)return e;var t=e.left,n=void 0===t?-1/0:t,r=e.right,i=void 0===r?1/0:r,a=e.top,o=void 0===a?-1/0:a,u=e.bottom,s=void 0===u?1/0:u;return[[n,i],[o,s]]}}),gY=10,yY={ArrowRight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[gY*e,0]},ArrowLeft:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[-10*e,0]},ArrowUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[0,-10*e]},ArrowDown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[0,gY*e]}},bY=function(e){E(n,e);var t=P(n);function n(){var e;S(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return X$(C(e=t.call.apply(t,[this].concat(i))),"ingKey","dragging"),e}return M(n,[{key:"reset",value:function(){D(T(n.prototype),"reset",this).call(this);var e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}},{key:"setup",value:function(){var e=this.state;if(e._bounds instanceof HTMLElement){var t=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),r={left:t.left-n.left+e.offset[0],right:t.right-n.right+e.offset[0],top:t.top-n.top+e.offset[1],bottom:t.bottom-n.bottom+e.offset[1]};e._bounds=mY.bounds(r)}}},{key:"cancel",value:function(){var e=this,t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout((function(){e.compute(),e.emit()}),0))}},{key:"setActive",value:function(){this.state._active=this.state._pointerActive||this.state._keyboardActive}},{key:"clean",value:function(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,D(T(n.prototype),"clean",this).call(this)}},{key:"pointerDown",value:function(e){var t=this.config,n=this.state;(null==e.buttons||(Array.isArray(t.pointerButtons)?t.pointerButtons.includes(e.buttons):-1===t.pointerButtons||t.pointerButtons===e.buttons))&&(this.ctrl.setEventIds(e),t.pointerCapture&&e.target.setPointerCapture(e.pointerId),n._pointerActive||(this.start(e),this.setupPointer(e),n._pointerId=aY(e),n._pointerActive=!0,this.computeValues(oY(e)),this.computeInitial(),t.preventScroll?this.setupScrollPrevention(e):t.delay>0?this.setupDelayTrigger(e):this.startPointerDrag(e)))}},{key:"startPointerDrag",value:function(e){var t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}},{key:"pointerMove",value:function(e){var t=this.state,n=this.config;if(t._pointerActive&&(t.type!==e.type||e.timeStamp!==t.timeStamp)){var r=aY(e);if(void 0===t._pointerId||r===t._pointerId){var i=oY(e);return document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=G$(i,t._values),this.computeValues(i)),W$(t._movement,t._delta),this.compute(e),t._delayed?(this.timeoutStore.remove("dragDelay"),t.active=!1,void this.startPointerDrag(e)):n.preventScroll&&!t._preventScroll?t.axis?t.axis===n.preventScrollAxis||"xy"===n.preventScrollAxis?(t._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(e)):void 0:void this.emit()}}}},{key:"pointerUp",value:function(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(k){0}var t=this.state,n=this.config;if(t._pointerActive){var r=aY(e);if(void 0===t._pointerId||r===t._pointerId){this.state._pointerActive=!1,this.setActive(),this.compute(e);var i=(0,c.Z)(t._distance,2),a=i[0],o=i[1];if(t.tap=a<=n.tapsThreshold&&o<=n.tapsThreshold,t.tap&&n.filterTaps)t._force=!0;else{var u=(0,c.Z)(t.direction,2),s=u[0],l=u[1],f=(0,c.Z)(t.velocity,2),h=f[0],d=f[1],p=(0,c.Z)(t.movement,2),v=p[0],m=p[1],g=(0,c.Z)(n.swipe.velocity,2),y=g[0],b=g[1],x=(0,c.Z)(n.swipe.distance,2),_=x[0],w=x[1],S=n.swipe.duration;t.elapsedTime<S&&(Math.abs(h)>y&&Math.abs(v)>_&&(t.swipe[0]=s),Math.abs(d)>b&&Math.abs(m)>w&&(t.swipe[1]=l))}this.emit()}}}},{key:"pointerClick",value:function(e){this.state.tap||(e.preventDefault(),e.stopPropagation())}},{key:"setupPointer",value:function(e){var t=this.config,n=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}},{key:"pointerClean",value:function(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}},{key:"preventScroll",value:function(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}},{key:"setupScrollPrevention",value:function(e){!function(e){"persist"in e&&"function"===typeof e.persist&&e.persist()}(e),this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1}),this.eventStore.add(this.sharedConfig.window,"touch","end",this.clean.bind(this),{passive:!1}),this.eventStore.add(this.sharedConfig.window,"touch","cancel",this.clean.bind(this),{passive:!1}),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScroll,e)}},{key:"setupDelayTrigger",value:function(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",this.startPointerDrag.bind(this),this.config.delay,e)}},{key:"keyDown",value:function(e){var t=yY[e.key];if(t){var n=this.state,r=e.shiftKey?10:e.altKey?.1:1;n._delta=t(r),this.start(e),n._keyboardActive=!0,W$(n._movement,n._delta),this.compute(e),this.emit()}}},{key:"keyUp",value:function(e){e.key in yY&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}},{key:"bind",value:function(e){var t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this)),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}]),n}(hY);var xY="undefined"!==typeof window&&window.document&&window.document.createElement;function _Y(){return xY&&"ontouchstart"in window||xY&&window.navigator.maxTouchPoints>1}var wY={isBrowser:xY,gesture:function(){try{return"constructor"in GestureEvent}catch(e){return!1}}(),touch:_Y(),touchscreen:_Y(),pointer:xY&&"onpointerdown"in window,pointerLock:xY&&"exitPointerLock"in window.document},SY=Y$(Y$({},mY),{},{pointerLock:function(e,t,n){var r=n.pointer,i=(r=void 0===r?{}:r).lock,a=void 0!==i&&i,o=r.touch,u=void 0!==o&&o;return this.useTouch=u&&wY.touch,a&&wY.pointerLock},device:function(e,t){return this.useTouch?"touch":this.pointerLock?"mouse":wY.pointer?"pointer":wY.touch?"touch":"mouse"},preventScroll:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>2?arguments[2]:void 0,n=t.preventScrollAxis,r=void 0===n?"y":n;return r&&(this.preventScrollAxis=r),!!wY.touchscreen&&("number"===typeof e?e:!!e&&250)},pointerCapture:function(e,t,n){var r=n.pointer,i=(r=void 0===r?{}:r).capture,a=void 0===i||i,o=r.buttons,u=void 0===o?1:o;return this.pointerButtons=u,!this.pointerLock&&"pointer"===this.device&&a},threshold:function(e,t,n){var r=n.filterTaps,i=void 0!==r&&r,a=n.tapsThreshold,o=void 0===a?3:a,u=n.axis,s=H$(e,i?o:(void 0===u?void 0:u)?1:0);return this.filterTaps=i,this.tapsThreshold=o,s},swipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.velocity,n=void 0===t?.5:t,r=e.distance,i=void 0===r?50:r,a=e.duration,o=void 0===a?250:a;return{velocity:this.transform(H$(n)),distance:this.transform(H$(i)),duration:o}},delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return 180;case!1:return 0;default:return e}}});Y$(Y$({},vY),{},{useTouch:function(e,t,n){var r=n.pointer,i=(r=void 0===r?{}:r).touch;return void 0!==i&&i&&wY.touch},device:function(e,t,n){if(n.shared.target&&!wY.touch&&wY.gesture)return"gesture";if(this.useTouch)return"touch";if(wY.touchscreen){if(wY.pointer)return"pointer";if(wY.touch)return"touch"}},bounds:function(e,t,n){var r=n.scaleBounds,i=void 0===r?{}:r,a=n.angleBounds,o=void 0===a?{}:a,u=function(e){var t=cY(uY(i,e),{min:-1/0,max:1/0});return[t.min,t.max]},s=function(e){var t=cY(uY(o,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!==typeof i&&"function"!==typeof o?[u(),s()]:function(e){return[u(e),s(e)]}},threshold:function(e,t,n){this.lockDirection="lock"===n.axis;var r=H$(e,this.lockDirection?[.1,3]:0);return r}}),Y$(Y$({},mY),{},{mouseOnly:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}}),Y$(Y$({},mY),{},{mouseOnly:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}});var kY=new Map,MY=new Map;function EY(e){kY.set(e.key,e.engine),MY.set(e.key,e.resolver)}var TY={key:"drag",engine:bY,resolver:SY};function AY(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var CY={target:function(e){if(e)return function(){return"current"in e?e.current:e}},enabled:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},window:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wY.isBrowser?window:void 0;return e})),eventOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.passive,n=void 0===t||t,r=e.capture,i=void 0!==r&&r;return{passive:n,capture:i}},transform:function(e){return e}},RY=["target","eventOptions","window","enabled","transform"];function PY(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={},r=0,i=Object.entries(t);r<i.length;r++){var a=(0,c.Z)(i[r],2),o=a[0],u=a[1];switch(typeof u){case"function":n[o]=u.call(n,e[o],o,e);break;case"object":n[o]=PY(e[o],u);break;case"boolean":u&&(n[o]=e[o])}}return n}var LY=function(){function e(t){S(this,e),X$(this,"_listeners",[]),this._ctrl=t}return M(e,[{key:"add",value:function(e,t,n,r,i){var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=K$[e],r=n&&n[t]||t;return e+r}(t,n),o=Y$(Y$({},this._ctrl.config.shared.eventOptions),i);e.addEventListener(a,r,o),this._listeners.push((function(){return e.removeEventListener(a,r,o)}))}},{key:"clean",value:function(){this._listeners.forEach((function(e){return e()})),this._listeners=[]}}]),e}(),OY=function(){function e(){S(this,e),X$(this,"_timeouts",new Map)}return M(e,[{key:"add",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:140;this.remove(e);for(var i=arguments.length,a=new Array(i>3?i-3:0),o=3;o<i;o++)a[o-3]=arguments[o];this._timeouts.set(e,(n=window).setTimeout.apply(n,[t,r].concat(a)))}},{key:"remove",value:function(e){var t=this._timeouts.get(e);t&&window.clearTimeout(t)}},{key:"clean",value:function(){this._timeouts.forEach((function(e){window.clearTimeout(e)})),this._timeouts.clear()}}]),e}(),IY=function(){function e(t){S(this,e),X$(this,"gestures",new Set),X$(this,"_targetEventStore",new LY(this)),X$(this,"gestureEventStores",{}),X$(this,"gestureTimeoutStores",{}),X$(this,"handlers",{}),X$(this,"config",{}),X$(this,"pointerIds",new Set),X$(this,"touchIds",new Set),X$(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(e,t){t.drag&&DY(e,"drag");t.wheel&&DY(e,"wheel");t.scroll&&DY(e,"scroll");t.move&&DY(e,"move");t.pinch&&DY(e,"pinch");t.hover&&DY(e,"hover")}(this,t)}return M(e,[{key:"setEventIds",value:function(e){nY(e)?this.touchIds=new Set(iY(e)):"pointerId"in e&&("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId))}},{key:"applyHandlers",value:function(e,t){this.handlers=e,this.nativeHandlers=t}},{key:"applyConfig",value:function(e,t){this.config=function(e,t){var n=e,r=n.target,i=n.eventOptions,a=n.window,o=n.enabled,u=n.transform,s=AY(n,RY),l={shared:PY({target:r,eventOptions:i,window:a,enabled:o,transform:u},CY)};if(t){var c=MY.get(t);l[t]=PY(Y$({shared:l.shared},s),c)}else for(var f in s){var h=MY.get(f);h&&(l[f]=PY(Y$({shared:l.shared},s[f]),h))}return l}(e,t)}},{key:"clean",value:function(){this._targetEventStore.clean();var e,t=p(this.gestures);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.gestureEventStores[n].clean(),this.gestureTimeoutStores[n].clean()}}catch(r){t.e(r)}finally{t.f()}}},{key:"effect",value:function(){var e=this;return this.config.shared.target&&this.bind(),function(){return e._targetEventStore.clean()}}},{key:"bind",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i,a=this.config.shared,u=a.eventOptions,s={};if(!a.target||(i=a.target())){var l=NY(s,u,!!i);if(a.enabled){var c,f=p(this.gestures);try{for(f.s();!(c=f.n()).done;){var h=c.value;if(this.config[h].enabled){var d=kY.get(h);new d(this,n,h).bind(l)}}}catch(S){f.e(S)}finally{f.f()}var v=function(t){l(t,"",(function(r){return e.nativeHandlers[t](Y$(Y$({},e.state.shared),{},{event:r,args:n}))}),void 0,!0)};for(var m in this.nativeHandlers)v(m)}for(var g in s)s[g]=lY.apply(void 0,(0,o.Z)(s[g]));if(!i)return s;for(var y in s){var b=tY(y),x=b.device,_=b.capture,w=b.passive;this._targetEventStore.add(i,x,"",s[y],{capture:_,passive:w})}}}}]),e}();function DY(e,t){e.gestures.add(t),e.gestureEventStores[t]=new LY(e),e.gestureTimeoutStores[t]=new OY}var NY=function(e,t,n){return function(r,i,a){var o,u,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=null!==(o=s.capture)&&void 0!==o?o:t.capture,f=null!==(u=s.passive)&&void 0!==u?u:t.passive,h=l?r:Q$(r,i,c);n&&f&&(h+="Passive"),e[h]=e[h]||[],e[h].push(a)}};function zY(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=r.useMemo((function(){return new IY(e)}),[]);if(a.applyHandlers(e,i),a.applyConfig(t,n),r.useEffect(a.effect.bind(a)),r.useEffect((function(){return a.clean.bind(a)}),[]),void 0===t.target)return a.bind.bind(a)}var FY=i["useId".toString()]||function(){},BY=0;var UY,jY=["asChild"],HY=["a","button","div","h2","h3","img","li","nav","p","span","svg","ul"].reduce((function(e,t){return l(l({},e),{},(0,u.Z)({},t,r.forwardRef((function(e,n){var i=e.asChild,a=h(e,jY),o=i?hX:t;return r.useEffect((function(){window[Symbol.for("radix-ui")]=!0}),[]),e.as&&console.error(ZY),r.createElement(o,(0,Jm.Z)({},a,{ref:n}))}))))}),{}),ZY="Warning: The `as` prop has been removed in favour of `asChild`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element",GY=r.forwardRef((function(e,t){return r.createElement(HY.span,(0,Jm.Z)({},e,{ref:t,style:l(l({},e.style),{},{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"})}))})),WY=GY,VY=["asChild"],qY=["a","button","div","h2","h3","img","li","nav","p","span","svg","ul"].reduce((function(e,t){return l(l({},e),{},(0,u.Z)({},t,r.forwardRef((function(e,n){var i=e.asChild,a=h(e,VY),o=i?hX:t;return r.useEffect((function(){window[Symbol.for("radix-ui")]=!0}),[]),e.as&&console.error(XY),r.createElement(o,(0,Jm.Z)({},a,{ref:n}))}))))}),{}),XY="Warning: The `as` prop has been removed in favour of `asChild`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element",$Y=["containerRef","style"],YY=r.forwardRef((function(e,t){var n,i,a=e.containerRef,o=e.style,u=h(e,$Y),s=null!==(n=null==a?void 0:a.current)&&void 0!==n?n:null===globalThis||void 0===globalThis||null===(i=globalThis.document)||void 0===i?void 0:i.body,f=r.useState({}),d=(0,c.Z)(f,2)[1];return yX((function(){d({})}),[]),s?bX.createPortal(r.createElement(qY.div,(0,Jm.Z)({"data-radix-portal":""},u,{ref:t,style:s===document.body?l({position:"absolute",top:0,left:0,zIndex:2147483647},o):void 0})),s):null})),KY=["asChild"],JY=["a","button","div","h2","h3","img","li","nav","p","span","svg","ul"].reduce((function(e,t){return l(l({},e),{},(0,u.Z)({},t,r.forwardRef((function(e,n){var i=e.asChild,a=h(e,KY),o=i?hX:t;return r.useEffect((function(){window[Symbol.for("radix-ui")]=!0}),[]),e.as&&console.error(QY),r.createElement(o,(0,Jm.Z)({},a,{ref:n}))}))))}),{}),QY="Warning: The `as` prop has been removed in favour of `asChild`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element",eK=["children","width","height"],tK=r.forwardRef((function(e,t){var n=e.children,i=e.width,a=void 0===i?10:i,o=e.height,u=void 0===o?5:o,s=h(e,eK);return r.createElement(JY.svg,(0,Jm.Z)({},s,{ref:t,width:a,height:u,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),e.asChild?n:r.createElement("polygon",{points:"0,0 30,0 15,10"}))})),nK=tK,rK=["asChild"],iK=["a","button","div","h2","h3","img","li","nav","p","span","svg","ul"].reduce((function(e,t){return l(l({},e),{},(0,u.Z)({},t,r.forwardRef((function(e,n){var i=e.asChild,a=h(e,rK),o=i?hX:t;return r.useEffect((function(){window[Symbol.for("radix-ui")]=!0}),[]),e.as&&console.error(aK),r.createElement(o,(0,Jm.Z)({},a,{ref:n}))}))))}),{}),aK="Warning: The `as` prop has been removed in favour of `asChild`. For details, see https://radix-ui.com/docs/primitives/overview/styling#changing-the-rendered-element";function oK(e){var t=r.useState(void 0),n=(0,c.Z)(t,2),i=n[0],a=n[1];return r.useEffect((function(){if(e){var t=new ResizeObserver((function(t){if(Array.isArray(t)&&t.length){var n,r,i=t[0];if("borderBoxSize"in i){var o=i.borderBoxSize,u=Array.isArray(o)?o[0]:o;n=u.inlineSize,r=u.blockSize}else{var s=e.getBoundingClientRect();n=s.width,r=s.height}a({width:n,height:r})}}));return t.observe(e,{box:"border-box"}),function(){a(void 0),t.unobserve(e)}}}),[e]),i}var uK=new Map;function sK(){var e=[];uK.forEach((function(t,n){var r,i,a=n.getBoundingClientRect();i=a,((r=t.rect).width!==i.width||r.height!==i.height||r.top!==i.top||r.right!==i.right||r.bottom!==i.bottom||r.left!==i.left)&&(t.rect=a,e.push(t))})),e.forEach((function(e){e.callbacks.forEach((function(t){return t(e.rect)}))})),UY=requestAnimationFrame(sK)}function lK(e){var t=r.useState(),n=(0,c.Z)(t,2),i=n[0],a=n[1];return r.useEffect((function(){if(e){var t=function(e,t){var n=uK.get(e);return void 0===n?(uK.set(e,{rect:{},callbacks:[t]}),1===uK.size&&(UY=requestAnimationFrame(sK))):(n.callbacks.push(t),t(e.getBoundingClientRect())),function(){var n=uK.get(e);if(void 0!==n){var r=n.callbacks.indexOf(t);r>-1&&n.callbacks.splice(r,1),0===n.callbacks.length&&(uK.delete(e),0===uK.size&&cancelAnimationFrame(UY))}}}(e,a);return function(){a(void 0),t()}}}),[e]),i}var cK=["scope","children"];function fK(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],i=function(){var t=n.map((function(e){return r.createContext(e)}));return function(n){var i=(null==n?void 0:n[e])||t;return r.useMemo((function(){return(0,u.Z)({},"__scope".concat(e),l(l({},n),{},(0,u.Z)({},e,i)))}),[n,i])}};return i.scopeName=e,[function(t,i){var a=r.createContext(i),u=n.length;function s(t){var n=t.scope,i=t.children,o=h(t,cK),s=(null==n?void 0:n[e][u])||a,l=r.useMemo((function(){return o}),Object.values(o));return r.createElement(s.Provider,{value:l},i)}return n=[].concat((0,o.Z)(n),[i]),s.displayName=t+"Provider",[s,function(n,o){var s=(null==o?void 0:o[e][u])||a,l=r.useContext(s);if(l)return l;if(void 0!==i)return i;throw new Error("`".concat(n,"` must be used within `").concat(t,"`"))}]},hK.apply(void 0,[i].concat((0,o.Z)(t)))]}function hK(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t[0];if(1===t.length)return i;var a=function(){var e=t.map((function(e){return{useScope:e(),scopeName:e.scopeName}}));return function(t){var n=e.reduce((function(e,n){var r=n.useScope,i=n.scopeName;return l(l({},e),r(t)["__scope".concat(i)])}),{});return r.useMemo((function(){return(0,u.Z)({},"__scope".concat(i.scopeName),n)}),[n])}};return a.scopeName=i.scopeName,a}function dK(e,t,n){var r=e["x"===n?"left":"top"],i="x"===n?"width":"height",a=e[i],o=t[i];return{before:r-o,start:r,center:r+(a-o)/2,end:r+a-o,after:r+a}}function pK(e){return{position:"absolute",top:0,left:0,minWidth:"max-content",willChange:"transform",transform:"translate3d(".concat(Math.round(e.x+window.scrollX),"px, ").concat(Math.round(e.y+window.scrollY),"px, 0)")}}function vK(e,t,n,r,i){var a="top"===t||"bottom"===t,o=i?i.width:0,u=i?i.height:0,s=o/2+r,l="",c="";return a?(l={start:"".concat(s,"px"),center:"center",end:e.width-s+"px"}[n],c="top"===t?"".concat(e.height+u,"px"):-u+"px"):(l="left"===t?"".concat(e.width+u,"px"):-u+"px",c={start:"".concat(s,"px"),center:"center",end:e.height-s+"px"}[n]),"".concat(l," ").concat(c)}var mK={position:"fixed",top:0,left:0,opacity:0,transform:"translate3d(0, -200%, 0)"},gK={position:"absolute",opacity:0};function yK(e){var t,n=e.popperSize,r=e.arrowSize,i=e.arrowOffset,a=e.side,o=e.align,s=(n.width-r.width)/2,l=(n.height-r.width)/2,c={top:0,right:90,bottom:180,left:-90}[a],f=Math.max(r.width,r.height),h=(t={width:"".concat(f,"px"),height:"".concat(f,"px"),transform:"rotate(".concat(c,"deg)"),willChange:"transform",position:"absolute"},(0,u.Z)(t,a,"100%"),(0,u.Z)(t,"direction",function(e,t){return("top"!==e&&"right"!==e||"end"!==t)&&("bottom"!==e&&"left"!==e||"end"===t)?"ltr":"rtl"}(a,o)),t);return"top"!==a&&"bottom"!==a||("start"===o&&(h.left="".concat(i,"px")),"center"===o&&(h.left="".concat(s,"px")),"end"===o&&(h.right="".concat(i,"px"))),"left"!==a&&"right"!==a||("start"===o&&(h.top="".concat(i,"px")),"center"===o&&(h.top="".concat(l,"px")),"end"===o&&(h.bottom="".concat(i,"px"))),h}function bK(e){return{top:"bottom",right:"left",bottom:"top",left:"right"}[e]}function xK(e,t){return{top:e.top<t.top,right:e.right>t.right,bottom:e.bottom>t.bottom,left:e.left<t.left}}var _K=["__scopePopper","virtualRef"],wK=["__scopePopper","side","sideOffset","align","alignOffset","collisionTolerance","avoidCollisions"],SK=["__scopePopper","offset"],kK=fK("Popper"),MK=(0,c.Z)(kK,2),EK=MK[0],TK=MK[1],AK=EK("Popper"),CK=(0,c.Z)(AK,2),RK=CK[0],PK=CK[1],LK=r.forwardRef((function(e,t){var n=e.__scopePopper,i=e.virtualRef,a=h(e,_K),o=PK("PopperAnchor",n),u=r.useRef(null),s=lX(t,u);return r.useEffect((function(){o.onAnchorChange((null==i?void 0:i.current)||u.current)})),i?null:r.createElement(iK.div,(0,Jm.Z)({},a,{ref:s}))})),OK=EK("PopperContent"),IK=(0,c.Z)(OK,2),DK=IK[0],NK=IK[1],zK=r.forwardRef((function(e,t){var n=e.__scopePopper,i=e.side,a=void 0===i?"bottom":i,o=e.sideOffset,u=e.align,s=void 0===u?"center":u,f=e.alignOffset,d=e.collisionTolerance,p=e.avoidCollisions,v=void 0===p||p,m=h(e,wK),g=PK("PopperContent",n),y=r.useState(),b=(0,c.Z)(y,2),x=b[0],_=b[1],w=lK(g.anchor),S=r.useState(null),k=(0,c.Z)(S,2),M=k[0],E=k[1],T=oK(M),A=r.useState(null),C=(0,c.Z)(A,2),R=C[0],P=C[1],L=oK(R),O=lX(t,(function(e){return E(e)})),I=function(){var e=r.useState(void 0),t=(0,c.Z)(e,2),n=t[0],i=t[1];return r.useEffect((function(){var e;function t(){i({width:window.innerWidth,height:window.innerHeight})}function n(){window.clearTimeout(e),e=window.setTimeout(t,100)}return t(),window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),n}(),D=function(e){var t=e.anchorRect,n=e.popperSize,r=e.arrowSize,i=e.arrowOffset,a=void 0===i?0:i,o=e.side,u=e.sideOffset,s=void 0===u?0:u,c=e.align,f=e.alignOffset,h=void 0===f?0:f,d=e.shouldAvoidCollisions,p=void 0===d||d,v=e.collisionBoundariesRect,m=e.collisionTolerance,g=void 0===m?0:m;if(!t||!n||!v)return{popperStyles:mK,arrowStyles:gK};var y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,a=i?i.height:0,o=dK(t,e,"x"),u=dK(t,e,"y"),s=u.before-n-a,l=u.after+n+a,c=o.before-n-a,f=o.after+n+a;return{top:{start:{x:o.start+r,y:s},center:{x:o.center,y:s},end:{x:o.end-r,y:s}},right:{start:{x:f,y:u.start+r},center:{x:f,y:u.center},end:{x:f,y:u.end-r}},bottom:{start:{x:o.start+r,y:l},center:{x:o.center,y:l},end:{x:o.end-r,y:l}},left:{start:{x:c,y:u.start+r},center:{x:c,y:u.center},end:{x:c,y:u.end-r}}}}(n,t,s,h,r),b=y[o][c];if(!1===p){var x=pK(b),_=gK;return r&&(_=yK({popperSize:n,arrowSize:r,arrowOffset:a,side:o,align:c})),{popperStyles:l(l({},x),{},{"--radix-popper-transform-origin":vK(n,o,c,a,r)}),arrowStyles:_,placedSide:o,placedAlign:c}}var w,S,k=DOMRect.fromRect(l(l({},n),b)),M=(w=v,S=g,DOMRect.fromRect({width:w.width-2*S,height:w.height-2*S,x:w.left+S,y:w.top+S})),E=xK(k,M),T=y[bK(o)][c],A=function(e,t,n){var r=bK(e);return t[e]&&!n[r]?r:e}(o,E,xK(DOMRect.fromRect(l(l({},n),T)),M)),C=function(e,t,n,r,i){var a="top"===n||"bottom"===n,o=a?"left":"top",u=a?"right":"bottom",s=a?"width":"height",l=t[s]>e[s];return"start"!==r&&"center"!==r||!(i[o]&&l||i[u]&&!l)?"end"!==r&&"center"!==r||!(i[u]&&l||i[o]&&!l)?r:"start":"end"}(n,t,o,c,E),R=pK(y[A][C]),P=gK;return r&&(P=yK({popperSize:n,arrowSize:r,arrowOffset:a,side:A,align:C})),{popperStyles:l(l({},R),{},{"--radix-popper-transform-origin":vK(n,A,C,a,r)}),arrowStyles:P,placedSide:A,placedAlign:C}}({anchorRect:w,popperSize:T,arrowSize:L,arrowOffset:x,side:a,sideOffset:o,align:s,alignOffset:f,shouldAvoidCollisions:v,collisionBoundariesRect:I?DOMRect.fromRect(l(l({},I),{},{x:0,y:0})):void 0,collisionTolerance:d}),N=D.popperStyles,z=D.arrowStyles,F=D.placedSide,B=D.placedAlign,U=void 0!==F;return r.createElement("div",{style:N,"data-radix-popper-content-wrapper":""},r.createElement(DK,{scope:n,arrowStyles:z,onArrowChange:P,onArrowOffsetChange:_},r.createElement(iK.div,(0,Jm.Z)({"data-side":F,"data-align":B},m,{style:l(l({},m.style),{},{animation:U?void 0:"none"}),ref:O}))))})),FK=r.forwardRef((function(e,t){var n=e.__scopePopper,i=e.offset,a=h(e,SK),o=NK("PopperArrow",n),u=o.onArrowOffsetChange;return r.useEffect((function(){return u(i)}),[u,i]),r.createElement("span",{style:l(l({},o.arrowStyles),{},{pointerEvents:"none"})},r.createElement("span",{ref:o.onArrowChange,style:{display:"inline-block",verticalAlign:"top",pointerEvents:"auto"}},r.createElement(nK,(0,Jm.Z)({},a,{ref:t,style:l(l({},a.style),{},{display:"block"})}))))})),BK=function(e){var t=e.__scopePopper,n=e.children,i=r.useState(null),a=(0,c.Z)(i,2),o=a[0],u=a[1];return r.createElement(RK,{scope:t,anchor:o,onAnchorChange:u},n)},UK=LK,jK=zK,HK=FK,ZK=function(e){var t=e.present,n=e.children,i=function(e){var t=r.useState(),n=(0,c.Z)(t,2),i=n[0],a=n[1],o=r.useRef({}),u=r.useRef(e),s=r.useRef("none"),l=function(e,t){return r.useReducer((function(e,n){var r=t[e][n];return null!=r?r:e}),e)}(e?"mounted":"unmounted",{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),f=(0,c.Z)(l,2),h=f[0],d=f[1];return r.useEffect((function(){var e=GK(o.current);s.current="mounted"===h?e:"none"}),[h]),yX((function(){var t=o.current,n=u.current;if(n!==e){var r=s.current,i=GK(t);if(e)d("MOUNT");else if("none"===i||"none"===(null==t?void 0:t.display))d("UNMOUNT");else{d(n&&r!==i?"ANIMATION_OUT":"UNMOUNT")}u.current=e}}),[e,d]),yX((function(){if(i){var e=function(e){var t=GK(o.current).includes(e.animationName);e.target===i&&t&&d("ANIMATION_END")},t=function(e){e.target===i&&(s.current=GK(o.current))};return i.addEventListener("animationstart",t),i.addEventListener("animationcancel",e),i.addEventListener("animationend",e),function(){i.removeEventListener("animationstart",t),i.removeEventListener("animationcancel",e),i.removeEventListener("animationend",e)}}}),[i,d]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:r.useCallback((function(e){e&&(o.current=getComputedStyle(e)),a(e)}),[])}}(t),a="function"==typeof n?n({present:i.isPresent}):r.Children.only(n),o=lX(i.ref,a.ref);return"function"==typeof n||i.isPresent?r.cloneElement(a,{ref:o}):null};function GK(e){return(null==e?void 0:e.animationName)||"none"}function WK(e){var t=r.useRef(e);return r.useEffect((function(){t.current=e}),[e]),t.current}function VK(e){var t=r.useRef(e);return r.useEffect((function(){t.current=e})),r.useMemo((function(){return function(){for(var e,n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return null===(n=t.current)||void 0===n?void 0:(e=n).call.apply(e,[t].concat(i))}}),[])}function qK(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.checkForDefaultPrevented,i=void 0===r||r;return function(n){if(null==e||e(n),!1===i||!n.defaultPrevented)return null==t?void 0:t(n)}}ZK.displayName="Presence";var XK=["__scopeTooltip"],$K=["forceMount"],YK=["__scopeTooltip","children","aria-label","portalled"],KK=["__scopeTooltip"],JK=fK("Tooltip",[TK]),QK=(0,c.Z)(JK,2),eJ=QK[0],tJ=(QK[1],TK()),nJ=eJ("TooltipProvider",{isOpenDelayed:!0,delayDuration:700,onOpen:function(){},onClose:function(){}}),rJ=(0,c.Z)(nJ,2),iJ=(rJ[0],rJ[1]),aJ=eJ("Tooltip"),oJ=(0,c.Z)(aJ,2),uJ=oJ[0],sJ=oJ[1],lJ=r.forwardRef((function(e,t){var n=e.__scopeTooltip,i=h(e,XK),a=sJ("TooltipTrigger",n),o=tJ(n),u=lX(t,a.onTriggerChange),s=r.useRef(!1),l=r.useCallback((function(){return s.current=!1}),[]);return r.useEffect((function(){return function(){return document.removeEventListener("mouseup",l)}}),[l]),r.createElement(UK,(0,Jm.Z)({asChild:!0},o),r.createElement(qY.button,(0,Jm.Z)({"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute},i,{ref:u,onMouseEnter:qK(e.onMouseEnter,a.onTriggerEnter),onMouseLeave:qK(e.onMouseLeave,a.onClose),onMouseDown:qK(e.onMouseDown,(function(){a.onClose(),s.current=!0,document.addEventListener("mouseup",l,{once:!0})})),onFocus:qK(e.onFocus,(function(){s.current||a.onOpen()})),onBlur:qK(e.onBlur,a.onClose),onClick:qK(e.onClick,a.onClose)})))})),cJ=r.forwardRef((function(e,t){var n=e.forceMount,i=h(e,$K),a=sJ("TooltipContent",e.__scopeTooltip);return r.createElement(ZK,{present:n||a.open},r.createElement(fJ,(0,Jm.Z)({ref:t},i)))})),fJ=r.forwardRef((function(e,t){var n=e.__scopeTooltip,i=e.children,a=e["aria-label"],o=e.portalled,u=void 0===o||o,s=h(e,YK),c=sJ("TooltipContent",n),f=tJ(n),d=u?YY:r.Fragment,p=c.onClose;return function(e){var t=VK(e);r.useEffect((function(){var e=function(e){"Escape"===e.key&&t(e)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[t])}((function(){return p()})),r.useEffect((function(){return document.addEventListener("tooltip.open",p),function(){return document.removeEventListener("tooltip.open",p)}}),[p]),r.createElement(d,null,r.createElement(dJ,{__scopeTooltip:n}),r.createElement(jK,(0,Jm.Z)({"data-state":c.stateAttribute},f,s,{ref:t,style:l(l({},s.style),{},{"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)"})}),r.createElement(pX,null,i),r.createElement(WY,{id:c.contentId,role:"tooltip"},a||i)))})),hJ=r.forwardRef((function(e,t){var n=e.__scopeTooltip,i=h(e,KK),a=tJ(n);return r.createElement(HK,(0,Jm.Z)({},a,i,{ref:t}))}));function dJ(e){var t=e.__scopeTooltip,n=sJ("CheckTriggerMoved",t),i=lK(n.trigger),a=null==i?void 0:i.left,o=WK(a),u=null==i?void 0:i.top,s=WK(u),l=n.onClose;return r.useEffect((function(){(void 0!==o&&o!==a||void 0!==s&&s!==u)&&l()}),[l,o,s,a,u]),null}var pJ,vJ,mJ,gJ,yJ,bJ=function(e){var t=e.__scopeTooltip,n=e.children,i=e.open,a=e.defaultOpen,o=void 0!==a&&a,u=e.onOpenChange,s=e.delayDuration,l=iJ("Tooltip",t),f=tJ(t),h=r.useState(null),d=(0,c.Z)(h,2),p=d[0],v=d[1],m=function(e){var t=r.useState(FY()),n=(0,c.Z)(t,2),i=n[0],a=n[1];return yX((function(){e||a((function(e){return null!=e?e:String(BY++)}))}),[e]),e||(i?"radix-".concat(i):"")}(),g=r.useRef(0),y=null!=s?s:l.delayDuration,b=r.useRef(!1),x=l.onOpen,_=l.onClose,w=function(e){var t=e.prop,n=e.defaultProp,i=e.onChange,a=void 0===i?function(){}:i,o=function(e){var t=e.defaultProp,n=e.onChange,i=r.useState(t),a=(0,c.Z)(i,1)[0],o=r.useRef(a),u=VK(n);return r.useEffect((function(){o.current!==a&&(u(a),o.current=a)}),[a,o,u]),i}({defaultProp:n,onChange:a}),u=(0,c.Z)(o,2),s=u[0],l=u[1],f=void 0!==t,h=f?t:s,d=VK(a);return[h,r.useCallback((function(e){if(f){var n="function"==typeof e?e(t):e;n!==t&&d(n)}else l(e)}),[f,t,l,d])]}({prop:i,defaultProp:o,onChange:function(e){e&&(document.dispatchEvent(new CustomEvent("tooltip.open")),x()),null==u||u(e)}}),S=(0,c.Z)(w,2),k=S[0],M=void 0!==k&&k,E=S[1],T=r.useMemo((function(){return M?b.current?"delayed-open":"instant-open":"closed"}),[M]),A=r.useCallback((function(){window.clearTimeout(g.current),b.current=!1,E(!0)}),[E]),C=r.useCallback((function(){window.clearTimeout(g.current),g.current=window.setTimeout((function(){b.current=!0,E(!0)}),y)}),[y,E]);return r.useEffect((function(){return function(){return window.clearTimeout(g.current)}}),[]),r.createElement(BK,f,r.createElement(uJ,{scope:t,contentId:m,open:M,stateAttribute:T,trigger:p,onTriggerChange:v,onTriggerEnter:r.useCallback((function(){l.isOpenDelayed?C():A()}),[l.isOpenDelayed,C,A]),onOpen:r.useCallback(A,[A]),onClose:r.useCallback((function(){window.clearTimeout(g.current),E(!1),_()}),[E,_])},n))},xJ=lJ,_J=cJ,wJ=hJ;function SJ(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}!function(e){e[e.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",e[e.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",e[e.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",e[e.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",e[e.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",e[e.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",e[e.THEME_ERROR=6]="THEME_ERROR",e[e.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",e[e.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",e[e.EMPTY_KEY=9]="EMPTY_KEY"}(yJ||(yJ={}));var kJ=(pJ={},(0,u.Z)(pJ,yJ.UNSUPPORTED_INPUT,(function(e,t){return["An input with type `".concat(e,"` input was found at path `").concat(t,"` but it's not supported yet.")]})),(0,u.Z)(pJ,yJ.NO_COMPONENT_FOR_TYPE,(function(e,t){return["Type `".concat(e,"` found at path `").concat(t,"` can't be displayed in panel because no component supports it yet.")]})),(0,u.Z)(pJ,yJ.UNKNOWN_INPUT,(function(e,t){return["input at path `".concat(e,"` is not recognized."),t]})),(0,u.Z)(pJ,yJ.DUPLICATE_KEYS,(function(e,t,n){return["Key `".concat(e,"` of path `").concat(t,"` already exists at path `").concat(n,"`. Even nested keys need to be unique. Rename one of the keys.")]})),(0,u.Z)(pJ,yJ.ALREADY_REGISTERED_TYPE,(function(e){return["Type ".concat(e," has already been registered. You can't register a component with the same type.")]})),(0,u.Z)(pJ,yJ.CLIPBOARD_ERROR,(function(e){return["Error copying the value",e]})),(0,u.Z)(pJ,yJ.THEME_ERROR,(function(e,t){return["Error accessing the theme `".concat(e,".").concat(t,"` value.")]})),(0,u.Z)(pJ,yJ.PATH_DOESNT_EXIST,(function(e){return["Error getting the value at path `".concat(e,"`. There is probably an error in your `render` function.")]})),(0,u.Z)(pJ,yJ.PATH_DOESNT_EXIST,(function(e){return["Error accessing the value at path `".concat(e,"`")]})),(0,u.Z)(pJ,yJ.INPUT_TYPE_OVERRIDE,(function(e,t,n){return["Input at path `".concat(e,"` already exists with type: `").concat(t,"`. Its type cannot be overridden with type `").concat(n,"`.")]})),(0,u.Z)(pJ,yJ.EMPTY_KEY,(function(){return["Keys can not be empty, if you want to hide a label use whitespace."]})),pJ);function MJ(e,t){for(var n,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];var u=kJ[t].apply(kJ,i),s=w(u),l=s[0],c=s.slice(1);(n=console)[e].apply(n,["LEVA: "+l].concat((0,o.Z)(c)))}var EJ=MJ.bind(null,"warn"),TJ=MJ.bind(null,"log"),AJ=["value"],CJ=["schema"],RJ=["value"],PJ=[],LJ={};function OJ(e){var t,n=e.value,r=SJ(e,AJ),i=p(PJ);try{for(i.s();!(t=i.n()).done;){var a=(0,t.value)(n,r);if(a)return a}}catch(o){i.e(o)}finally{i.f()}}function IJ(e,t){var n=t.schema,r=SJ(t,CJ);e in LJ?EJ(yJ.ALREADY_REGISTERED_TYPE,e):(PJ.push((function(t,r){return n(t,r)&&e})),LJ[e]=r)}function DJ(e){var t="__CUSTOM__PLUGIN__"+Math.random().toString(36).substr(2,9);return LJ[t]=e,function(e){return{type:t,__customInput:e}}}function NJ(e,t,n,r){var i=LJ[e].normalize;return i?i(t,n,r):"object"===typeof t&&"value"in t?{value:t.value,settings:SJ(t,RJ)}:{value:t}}function zJ(e,t,n){var r=LJ[e].format;return r?r(t,n):t}function FJ(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BJ(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UJ(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?BJ(Object(n),!0).forEach((function(t){FJ(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BJ(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var jJ=function(e,t,n){return e>n?n:e<t?t:e},HJ=function(e){if(""===e||"number"===typeof e)return e;try{var t=tQ(e);if(!isNaN(t))return t}catch(n){}return parseFloat(e)},ZJ=Math.log(10);function GJ(e){var t=Math.abs(+String(e).replace(".",""));if(0===t)return.01;for(;0!==t&&t%10===0;)t/=10;var n=Math.floor(Math.log(t)/ZJ)+1,r=Math.floor(Math.log10(Math.abs(e))),i=Math.pow(10,r-n);return Math.max(i,.001)}var WJ,VJ,qJ=function(e,t,n){return n===t?0:(jJ(e,t,n)-t)/(n-t)},XJ=function(e,t,n){return e*(n-t)+t},$J=/\(([0-9+\-*/^ .]+)\)/,YJ=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,KJ=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,JJ=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,QJ=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,eQ=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function tQ(e){if(isNaN(Number(e))){if($J.test(e)){var t=e.replace($J,(function(e,t){return String(tQ(t))}));return tQ(t)}if(YJ.test(e)){var n=e.replace(YJ,(function(e,t,n){return String(Math.pow(Number(t),Number(n)))}));return tQ(n)}if(KJ.test(e)){var r=e.replace(KJ,(function(e,t,n){return String(Number(t)*Number(n))}));return tQ(r)}if(JJ.test(e)){var i=e.replace(JJ,(function(e,t,n){if(0!=n)return String(Number(t)/Number(n));throw new Error("Division by zero")}));return tQ(i)}if(QJ.test(e)){var a=e.replace(QJ,(function(e,t,n){return String(Number(t)+Number(n))}));return tQ(a)}if(eQ.test(e)){var o=e.replace(eQ,(function(e,t,n){return String(Number(t)-Number(n))}));return tQ(o)}return Number(e)}return Number(e)}!function(e){e.BUTTON="BUTTON",e.BUTTON_GROUP="BUTTON_GROUP",e.MONITOR="MONITOR",e.FOLDER="FOLDER"}(WJ||(WJ={})),function(e){e.SELECT="SELECT",e.IMAGE="IMAGE",e.NUMBER="NUMBER",e.COLOR="COLOR",e.STRING="STRING",e.BOOLEAN="BOOLEAN",e.INTERVAL="INTERVAL",e.VECTOR3D="VECTOR3D",e.VECTOR2D="VECTOR2D"}(VJ||(VJ={}));var nQ=["type","__customInput"],rQ=["render","label","optional","disabled","hint","onChange","onEditStart","onEditEnd","transient"],iQ=["type"];function aQ(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if("object"!==typeof e||Array.isArray(e))return{type:a,input:e,options:UJ({key:t,label:t,optional:!1,disabled:!1},i)};if("__customInput"in e){var o=e.type,u=e.__customInput,s=SJ(e,nQ);return aQ(u,t,s,o)}var l=e.render,c=e.label,f=e.optional,h=e.disabled,d=e.hint,p=e.onChange,v=e.onEditStart,m=e.onEditEnd,g=e.transient,y=SJ(e,rQ),b=UJ({render:l,key:t,label:null!==c&&void 0!==c?c:t,hint:d,transient:null!==g&&void 0!==g?g:!!p,onEditStart:v,onEditEnd:m,disabled:h,optional:f},i),x=y.type,_=SJ(y,iQ);return(x=null!==a&&void 0!==a?a:x)in WJ?{type:x,input:_,options:b}:{type:x,input:_,options:UJ(UJ({},b),{},{onChange:p,optional:null!==(n=b.optional)&&void 0!==n&&n,disabled:null!==(r=b.disabled)&&void 0!==r&&r})}}function oQ(e,t,n,r){var i=aQ(e,t),a=i.type,o=i.input,u=i.options;if(a)return a in WJ?i:{type:a,input:NJ(a,o,n,r),options:u};var s=OJ(o);return s?{type:s,input:NJ(s,o,n,r),options:u}:!!(s=OJ({value:o}))&&{type:s,input:NJ(s,{value:o},n,r),options:u}}function uQ(e,t,n,r,i){var a=e.value,o=e.type,u=e.settings;e.value=lQ({type:o,value:a,settings:u},t,n,r),e.fromPanel=i}var sQ=function(e,t,n){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=n};function lQ(e,t,n,r){var i,a=e.type,o=e.value,u=e.settings,s="SELECT"!==a&&"function"===typeof t?t(o):t;try{i=function(e,t,n,r,i,a){var o=LJ[e].sanitize;return o?o(t,n,r,i,a):t}(a,s,u,o,n,r)}catch(l){throw new sQ("The value `".concat(t,"` did not result in a correct value."),o,l)}if(kX(i,o))throw new sQ("The value `".concat(t,"` did not result in a value update, which remained the same: `").concat(o,"`.\n        You can ignore this warning if this is the intended behavior."),o);return i}var cQ=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=0;return function(){var i=this,a=arguments,o=n&&!r,u=function(){return e.apply(i,a)};window.clearTimeout(r),r=window.setTimeout(u,t),o&&u()}},fQ=function(e){return e.shiftKey?5:e.altKey?.2:1},hQ=["value"],dQ=["min","max"],pQ=function(e,t){var n=t.min,r=void 0===n?-1/0:n,i=t.max,a=void 0===i?1/0:i,o=t.suffix,u=parseFloat(e);if(""===e||isNaN(u))throw Error("Invalid number");var s=jJ(u,r,a);return o?s+o:s},vQ=function(e){var t,n=e.value,r=SJ(e,hQ),i=r.min,a=void 0===i?-1/0:i,o=r.max,u=void 0===o?1/0:o,s=SJ(r,dQ),l=jJ(parseFloat(n),a,u);if(!Number.isFinite(n)){var c=String(n).match(/[A-Z]+/i);c&&(t=c[0])}var f=r.step;f||(Number.isFinite(a)?f=Number.isFinite(u)?+(Math.abs(u-a)/100).toPrecision(1):+(Math.abs(l-a)/100).toPrecision(1):Number.isFinite(u)&&(f=+(Math.abs(u-l)/100).toPrecision(1)));var h=f?10*GJ(f):GJ(l);return{value:t?l+t:l,settings:UJ({initialValue:l,step:f=f||h/10,pad:Math.round(jJ(Math.log10(1/h),0,2)),min:a,max:u,suffix:t},s)}},mQ=function(e,t){var n=t.step,r=t.initialValue;return r+Math.round((e-r)/n)*n},gQ=Object.freeze({__proto__:null,schema:function(e){return"number"===typeof e||"string"===typeof e&&!isNaN(parseFloat(e))},sanitize:pQ,format:function(e,t){var n=t.pad,r=void 0===n?0:n,i=t.suffix,a=parseFloat(e).toFixed(r);return i?a+i:a},normalize:vQ,sanitizeStep:mQ});function yQ(){return yQ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yQ.apply(this,arguments)}var bQ=(0,r.createContext)({});function xQ(){return(0,r.useContext)(bQ)}var _Q=(0,r.createContext)(null),wQ=(0,r.createContext)(null),SQ=(0,r.createContext)(null);function kQ(){return(0,r.useContext)(wQ)}function MQ(e,t){var n=e.split(" "),r=(0,c.Z)(n,2),i=r[0],a=r[1],o={};return"none"!==i&&(o.boxShadow="".concat(t.inset?"inset ":"","0 0 0 $borderWidths").concat([t.key]," $colors").concat("default"!==i&&i||t.borderColor)),a&&(o.backgroundColor=a),o}var EQ={$inputStyle:function(){return function(e){return MQ(e,{key:"$input",borderColor:"$highlight1",inset:!0})}},$focusStyle:function(){return function(e){return MQ(e,{key:"$focus",borderColor:"$accent2"})}},$hoverStyle:function(){return function(e){return MQ(e,{key:"$hover",borderColor:"$accent1",inset:!0})}},$activeStyle:function(){return function(e){return MQ(e,{key:"$active",borderColor:"$accent1",inset:!0})}}},TQ=U$({prefix:"leva",theme:{colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}},utils:UJ(UJ({},EQ),{},{$flex:function(){return{display:"flex",alignItems:"center"}},$flexCenter:function(){return{display:"flex",alignItems:"center",justifyContent:"center"}},$reset:function(){return{outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}},$draggable:function(){return{touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}},$focus:function(e){return{"&:focus":EQ.$focusStyle()(e)}},$focusWithin:function(e){return{"&:focus-within":EQ.$focusStyle()(e)}},$hover:function(e){return{"&:hover":EQ.$hoverStyle()(e)}},$active:function(e){return{"&:active":EQ.$activeStyle()(e)}}})}),AQ=TQ.styled,CQ=(TQ.css,TQ.createTheme),RQ=TQ.globalCss,PQ=(TQ.keyframes,RQ({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}}));function LQ(e,t){var n=(0,r.useContext)(_Q).theme;if(!(e in n)||!(t in n[e]))return EJ(yJ.THEME_ERROR,e,t),"";for(var i=t;;){var a=n[e][i];if("string"!==typeof a||"$"!==a.charAt(0))return a;i=a.substr(1)}}var OQ=AQ("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),IQ=AQ("div",(0,u.Z)({$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none"},"& + ".concat(OQ),{paddingLeft:0})),DQ=AQ(IQ,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),NQ=AQ("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),zQ=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],FQ=["onUpdate"];function BQ(e){var t=e.innerLabel,n=e.value,i=e.onUpdate,a=e.onChange,o=e.onKeyDown,u=e.type,s=e.id,l=e.inputType,c=void 0===l?"text":l,f=e.rows,h=void 0===f?0:f,d=SJ(e,zQ),p=xQ(),v=p.id,m=p.emitOnEditStart,g=p.emitOnEditEnd,y=p.disabled,b=s||v,x=(0,r.useRef)(null),_=h>0,w=_?"textarea":"input",S=(0,r.useCallback)((function(e){return function(t){var n=t.currentTarget.value;e(n)}}),[]);r.useEffect((function(){var e=x.current,t=S((function(e){i(e),g()}));return null===e||void 0===e||e.addEventListener("blur",t),function(){return null===e||void 0===e?void 0:e.removeEventListener("blur",t)}}),[S,i,g]);var k=(0,r.useCallback)((function(e){"Enter"===e.key&&S(i)(e)}),[S,i]),M=Object.assign({as:w},_?{rows:h}:{},d);return r.createElement(NQ,{textArea:_},t&&"string"===typeof t?r.createElement(IQ,null,t):t,r.createElement(OQ,yQ({levaType:u,ref:x,id:b,type:c,autoComplete:"off",spellCheck:"false",value:n,onChange:S(a),onFocus:function(){return m()},onKeyPress:k,onKeyDown:o,disabled:y},M)))}function UQ(e){var t=e.onUpdate,n=SJ(e,FQ),i=(0,r.useCallback)((function(e){return t(HJ(e))}),[t]),a=(0,r.useCallback)((function(e){var n="ArrowUp"===e.key?1:"ArrowDown"===e.key?-1:0;if(n){e.preventDefault();var r=e.altKey?.1:e.shiftKey?10:1;t((function(e){return parseFloat(e)+n*r}))}}),[t]);return r.createElement(BQ,yQ({},n,{onUpdate:i,onKeyDown:a,type:"number"}))}var jQ=AQ("div",{}),HQ=AQ("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),ZQ=AQ("div",(vJ={$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"}},(0,u.Z)(vJ,"&:hover + ".concat(HQ,"::after"),{opacity:.6}),(0,u.Z)(vJ,"".concat(jQ,":hover > & + ").concat(HQ,"::after"),{opacity:.6}),(0,u.Z)(vJ,"".concat(jQ,":hover > & > svg"),{opacity:1}),vJ)),GQ=AQ("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:(0,u.Z)({"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"}},"> ".concat(jQ,":not(:first-of-type)"),{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"})}}}),WQ=AQ("div",(mJ={position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2"},(0,u.Z)(mJ,"".concat(GQ," > &"),{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}}),(0,u.Z)(mJ,"&:hover,&:focus-within",{color:"$highlight3"}),mJ)),VQ=AQ(WQ,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),qQ=AQ("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),XQ=AQ("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),$Q=AQ("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none"}}}}),YQ=AQ("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),KQ=AQ("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),JQ=AQ("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),QQ=AQ(wJ,{fill:"$toolTipBackground"});function e0(e){var t=e.children,n=(0,r.useContext)(_Q).className;return r.createElement(wX,{className:n},t)}var t0=["align"];function n0(){var e=xQ(),t=e.id,n=e.disable,i=e.disabled;return r.createElement(r.Fragment,null,r.createElement(XQ,{id:t+"__disable",type:"checkbox",checked:!i,onChange:function(){return n(!i)}}),r.createElement("label",{htmlFor:t+"__disable"}))}function r0(e){var t=xQ(),n=t.id,i=t.optional,a=t.hint,o=e.htmlFor||(n?{htmlFor:n}:null),u=a||"string"!==typeof e.children?null:{title:e.children};return r.createElement(r.Fragment,null,i&&r.createElement(n0,null),void 0!==a?r.createElement(bJ,null,r.createElement(xJ,{asChild:!0},r.createElement(YQ,yQ({},o,e))),r.createElement(_J,{side:"top",sideOffset:2},r.createElement(JQ,null,a,r.createElement(QQ,null)))):r.createElement(YQ,yQ({},o,u,e)))}function i0(e){var t=e.align,n=SJ(e,t0),i=xQ(),a=i.value,o=i.label,s=i.key,l=!(0,r.useContext)(SQ).hideCopyButton&&void 0!==s,f=(0,r.useState)(!1),h=(0,c.Z)(f,2),d=h[0],p=h[1],v=function(){var e=O(F().mark((function e(){return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(JSON.stringify((0,u.Z)({},s,null!==a&&void 0!==a?a:"")));case 3:p(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),EJ(yJ.CLIPBOARD_ERROR,(0,u.Z)({},s,a));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return r.createElement(qQ,{align:t,onPointerLeave:function(){return p(!1)}},r.createElement(r0,n),l&&r.createElement("div",{title:"Click to copy ".concat("string"===typeof o?o:s," value")},d?r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},r.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),r.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):r.createElement("svg",{onClick:v,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},r.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),r.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}var a0=["toggled"],o0=AQ("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function u0(e){var t=e.toggled,n=SJ(e,a0);return r.createElement(o0,yQ({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:"rotate(".concat(t?0:-90,"deg)")}},n),r.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}var s0=["input"];function l0(e){var t=e.input,n=SJ(e,s0);return t?r.createElement(VQ,n):r.createElement(WQ,n)}function c0(e){var t=e.value,n=e.type,i=e.settings,a=e.setValue,o=(0,r.useState)(zJ(n,t,i)),u=(0,c.Z)(o,2),s=u[0],l=u[1],f=(0,r.useRef)(t),h=(0,r.useRef)(i);h.current=i;var d=(0,r.useCallback)((function(e){return l(zJ(n,e,h.current))}),[n]),p=(0,r.useCallback)((function(e){try{a(e)}catch(r){var t=r.type,n=r.previousValue;if("LEVA_ERROR"!==t)throw r;d(n)}}),[d,a]);return(0,r.useEffect)((function(){kX(t,f.current)||d(t),f.current=t}),[t,d]),{displayValue:s,onChange:l,onUpdate:p}}function f0(e,t){var n=xQ(),r=n.emitOnEditStart,i=n.emitOnEditEnd;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return EY(TY),zY({drag:e},t,"drag")}((function(t){t.first&&(document.body.classList.add("leva__panel__dragged"),null===r||void 0===r||r());var n=e(t);return t.last&&(document.body.classList.remove("leva__panel__dragged"),null===i||void 0===i||i()),n}),t)}function h0(){var e=(0,r.useRef)(null),t=(0,r.useRef)({x:0,y:0}),n=(0,r.useCallback)((function(n){Object.assign(t.current,n),e.current&&(e.current.style.transform="translate3d(".concat(t.current.x,"px, ").concat(t.current.y,"px, 0)"))}),[]);return[e,n]}var d0=["__refCount"],p0=function(e,t){return e[t]?SJ(e[t],d0):null};var v0=AQ("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),m0=AQ("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),g0=AQ("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),y0=AQ("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),b0=AQ("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function x0(e){var t=e.value,n=e.min,i=e.max,a=e.onDrag,o=e.step,u=e.initialValue,s=(0,r.useRef)(null),l=(0,r.useRef)(null),f=(0,r.useRef)(0),h=LQ("sizes","scrubberWidth"),d=f0((function(e){var r=e.event,d=e.first,p=(0,c.Z)(e.xy,1)[0],v=(0,c.Z)(e.movement,1)[0],m=e.memo;if(d){var g=s.current.getBoundingClientRect(),y=g.width,b=g.left;f.current=y-parseFloat(h),m=(null===r||void 0===r?void 0:r.target)===l.current?t:XJ((p-b)/y,n,i)}var x=m+XJ(v/f.current,0,i-n);return a(mQ(x,{step:o,initialValue:u})),m})),p=qJ(t,n,i);return r.createElement(y0,yQ({ref:s},d()),r.createElement(m0,null,r.createElement(b0,{style:{left:0,right:"".concat(100*(1-p),"%")}})),r.createElement(g0,{ref:l,style:{left:"calc(".concat(p," * (100% - ").concat(h,"))")}}))}var _0=r.memo((function(e){var t=e.label,n=e.onUpdate,i=e.step,a=e.innerLabelTrim,o=(0,r.useState)(!1),u=(0,c.Z)(o,2),s=u[0],l=u[1],f=f0((function(e){var t=e.active,r=(0,c.Z)(e.delta,1)[0],a=e.event,o=e.memo,u=void 0===o?0:o;return l(t),u+=r/2,Math.abs(u)>=1&&(n((function(e){return parseFloat(e)+Math.floor(u)*i*fQ(a)})),u=0),u}));return r.createElement(DQ,yQ({dragging:s,title:t.length>1?t:""},f()),t.slice(0,a))}));function w0(e){var t=e.label,n=e.id,i=e.displayValue,a=e.onUpdate,o=e.onChange,u=e.settings,s=e.innerLabelTrim,l=void 0===s?1:s,c=l>0&&r.createElement(_0,{label:t,step:u.step,onUpdate:a,innerLabelTrim:l});return r.createElement(UQ,{id:n,value:String(i),onUpdate:a,onChange:o,innerLabel:c})}var S0=gQ.sanitizeStep,k0=UJ({component:function(){var e=xQ(),t=e.label,n=e.value,i=e.onUpdate,a=e.settings,o=e.id,u=a.min,s=a.max!==1/0&&u!==-1/0;return r.createElement(l0,{input:!0},r.createElement(i0,null,t),r.createElement(v0,{hasRange:s},s&&r.createElement(x0,yQ({value:parseFloat(n),onDrag:i},a)),r.createElement(w0,yQ({},e,{id:o,label:"value",innerLabelTrim:s?0:1}))))}},SJ(gQ,["sanitizeStep"])),M0=Object.freeze({__proto__:null,schema:function(e,t){return ZX().schema({options:ZX().passesAnyOf(ZX().object(),ZX().array())}).test(t)},sanitize:function(e,t){if(t.values.indexOf(e)<0)throw Error("Selected value doesn't match Select options");return e},format:function(e,t){return t.values.indexOf(e)},normalize:function(e){var t,n,r=e.value,i=e.options;return Array.isArray(i)?(n=i,t=i.map((function(e){return String(e)}))):(n=Object.values(i),t=Object.keys(i)),"value"in e?n.includes(r)||(t.unshift(String(r)),n.unshift(r)):r=n[0],Object.values(i).includes(r)||(i[String(r)]=r),{value:r,settings:{keys:t,values:n}}}}),E0=AQ("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),T0=AQ("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),A0=AQ("div",(gJ={display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer"},(0,u.Z)(gJ,"".concat(T0,":focus + &"),{$focusStyle:""}),(0,u.Z)(gJ,"".concat(T0,":hover + &"),{$hoverStyle:""}),gJ));function C0(e){var t=e.displayValue,n=e.value,i=e.onUpdate,a=e.id,o=e.settings,u=e.disabled,s=o.keys,l=o.values,c=(0,r.useRef)();return n===l[t]&&(c.current=s[t]),r.createElement(E0,null,r.createElement(T0,{id:a,value:t,onChange:function(e){return i(l[Number(e.currentTarget.value)])},disabled:u},s.map((function(e,t){return r.createElement("option",{key:e,value:t},e)}))),r.createElement(A0,null,c.current),r.createElement(u0,{toggled:!0}))}var R0=UJ({component:function(){var e=xQ(),t=e.label,n=e.value,i=e.displayValue,a=e.onUpdate,o=e.id,u=e.disabled,s=e.settings;return r.createElement(l0,{input:!0},r.createElement(i0,null,t),r.createElement(C0,{id:o,value:n,displayValue:i,onUpdate:a,settings:s,disabled:u}))}},M0),P0=Object.freeze({__proto__:null,schema:function(e){return ZX().string().test(e)},sanitize:function(e){if("string"!==typeof e)throw Error("Invalid string");return e},normalize:function(e){var t=e.value,n=e.editable,r=void 0===n||n,i=e.rows,a=void 0!==i&&i;return{value:t,settings:{editable:r,rows:"number"===typeof a?a:a?5:0}}}}),L0=["displayValue","onUpdate","onChange","editable"],O0=AQ("div",{whiteSpace:"pre-wrap"});function I0(e){var t=e.displayValue,n=e.onUpdate,i=e.onChange,a=e.editable,o=void 0===a||a,u=SJ(e,L0);return o?r.createElement(BQ,yQ({value:t,onUpdate:n,onChange:i},u)):r.createElement(O0,null,t)}var D0=UJ({component:function(){var e=xQ(),t=e.label,n=e.settings,i=e.displayValue,a=e.onUpdate,o=e.onChange;return r.createElement(l0,{input:!0},r.createElement(i0,null,t),r.createElement(I0,yQ({displayValue:i,onUpdate:a,onChange:o},n)))}},P0),N0=Object.freeze({__proto__:null,schema:function(e){return ZX().boolean().test(e)},sanitize:function(e){if("boolean"!==typeof e)throw Error("Invalid boolean");return e}}),z0=AQ("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function F0(e){var t=e.value,n=e.onUpdate,i=e.id,a=e.disabled;return r.createElement(z0,null,r.createElement("input",{id:i,type:"checkbox",checked:t,onChange:function(e){return n(e.currentTarget.checked)},disabled:a}),r.createElement("label",{htmlFor:i},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}var B0=UJ({component:function(){var e=xQ(),t=e.label,n=e.value,i=e.onUpdate,a=e.disabled,o=e.id;return r.createElement(l0,{input:!0},r.createElement(i0,null,t),r.createElement(F0,{value:n,onUpdate:i,id:o,disabled:a}))}},N0),U0=["locked"];function j0(e){var t=e.value,n=e.id,i=e.valueKey,a=e.settings,o=e.onUpdate,s=e.innerLabelTrim,l=(0,r.useRef)(t[i]);l.current=t[i];var c=(0,r.useCallback)((function(e){return o((0,u.Z)({},i,lQ({type:"NUMBER",value:l.current,settings:a},e)))}),[o,a,i]),f=c0({type:"NUMBER",value:t[i],settings:a,setValue:c});return r.createElement(w0,{id:n,label:i,value:t[i],displayValue:f.displayValue,onUpdate:f.onUpdate,onChange:f.onChange,settings:a,innerLabelTrim:s})}var H0=AQ("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function Z0(e){var t=e.locked,n=SJ(e,U0);return r.createElement("svg",yQ({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n),t?r.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):r.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function G0(e){var t=e.value,n=e.onUpdate,i=e.settings,a=e.innerLabelTrim,o=xQ(),u=o.id,s=o.setSettings,l=i.lock,c=i.locked;return r.createElement(H0,{withLock:l},l&&r.createElement(Z0,{locked:c,onClick:function(){return s({locked:!c})}}),Object.keys(t).map((function(e,o){return r.createElement(j0,{id:0===o?u:"".concat(u,".").concat(e),key:e,valueKey:e,value:t,settings:i[e],onUpdate:n,innerLabelTrim:a})})))}var W0=function(e,t){var n={},r=0,i=1/0;for(var a in Object.entries(e).forEach((function(e){var a=(0,c.Z)(e,2),o=a[0],u=a[1];n[o]=vQ(UJ({value:u},t[o])).settings,r=Math.max(r,n[o].step),i=Math.min(i,n[o].pad)})),n){var o=t[a]||{},u=o.step,s=o.min,l=o.max;isFinite(u)||isFinite(s)&&isFinite(l)||(n[a].step=r,n[a].pad=i)}return n},V0=["lock"],q0=["value"];function X0(e){var t=ZX().array().length(e).every.number();return function(n){return t.test(n)||function(t){if(!t||"object"!==typeof t)return!1;var n=Object.values(t);return n.length===e&&n.every((function(e){return isFinite(e)}))}(n)}}function $0(e,t,n){return function(e){return Array.isArray(e)?"array":"object"}(e)===t?e:"array"===t?Object.values(e):function(e,t){return e.reduce((function(e,n,r){return Object.assign(e,(0,u.Z)({},t[r],n))}),{})}(e,n)}var Y0=function(e,t,n){var r=$0(e,"object",t.keys);for(var i in r)r[i]=pQ(r[i],t[i]);var a=Object.keys(r),o={};if(a.length===t.keys.length)o=r;else{var u=$0(n,"object",t.keys);if(1===a.length&&t.locked){var s=a[0],l=r[s],c=u[s],f=0!==c?l/c:1;for(var h in u)h===s?o[s]=l:o[h]=u[h]*f}else o=UJ(UJ({},u),r)}return $0(o,t.format,t.keys)},K0=function(e){return!!e&&("step"in e||"min"in e||"max"in e)};function J0(e){return{schema:X0(e.length),normalize:function(t){return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t.lock,i=void 0!==r&&r,a=SJ(t,V0),o=Array.isArray(e)?"array":"object",s="object"===o?Object.keys(e):n,l=$0(e,"object",s),c=K0(a)?s.reduce((function(e,t){return Object.assign(e,(0,u.Z)({},t,a))}),{}):a,f=W0(l,c);return{value:"array"===o?e:l,settings:UJ(UJ({},f),{},{format:o,keys:s,lock:i,locked:!1})}}(t.value,SJ(t,q0),e)},format:function(e,t){return function(e,t){return $0(e,"object",t.keys)}(e,t)},sanitize:function(e,t,n){return Y0(e,t,n)}}}var Q0={grad:.9,turn:360,rad:360/(2*Math.PI)},e1=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},t1=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n+0},n1=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e>t?e:t},r1=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},i1=function(e){return{r:n1(e.r,0,255),g:n1(e.g,0,255),b:n1(e.b,0,255),a:n1(e.a)}},a1=function(e){return{r:t1(e.r),g:t1(e.g),b:t1(e.b),a:t1(e.a,3)}},o1=/^#([0-9a-f]{3,8})$/i,u1=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},s1=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=Math.max(t,n,r),o=a-Math.min(t,n,r),u=o?a===t?(n-r)/o:a===n?2+(r-t)/o:4+(t-n)/o:0;return{h:60*(u<0?u+6:u),s:a?o/a*100:0,v:a/255*100,a:i}},l1=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var a=Math.floor(t),o=r*(1-n),u=r*(1-(t-a)*n),s=r*(1-(1-t+a)*n),l=a%6;return{r:255*[r,u,o,o,s,r][l],g:255*[s,r,r,u,o,o][l],b:255*[o,o,s,r,r,u][l],a:i}},c1=function(e){return{h:r1(e.h),s:n1(e.s,0,100),l:n1(e.l,0,100),a:n1(e.a)}},f1=function(e){return{h:t1(e.h),s:t1(e.s),l:t1(e.l),a:t1(e.a,3)}},h1=function(e){return l1((n=(t=e).s,{h:t.h,s:(n*=((r=t.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:t.a}));var t,n,r},d1=function(e){return{h:(t=s1(e)).h,s:(i=(200-(n=t.s))*(r=t.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,n,r,i},p1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,g1=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y1={string:[[function(e){var t=o1.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?t1(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?t1(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=m1.exec(e)||g1.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:i1({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=p1.exec(e)||v1.exec(e);if(!t)return null;var n,r,i=c1({h:(n=t[1],r=t[2],void 0===r&&(r="deg"),Number(n)*(Q0[r]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return h1(i)},"hsl"]],object:[[function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=void 0===i?1:i;return e1(t)&&e1(n)&&e1(r)?i1({r:Number(t),g:Number(n),b:Number(r),a:Number(a)}):null},"rgb"],[function(e){var t=e.h,n=e.s,r=e.l,i=e.a,a=void 0===i?1:i;if(!e1(t)||!e1(n)||!e1(r))return null;var o=c1({h:Number(t),s:Number(n),l:Number(r),a:Number(a)});return h1(o)},"hsl"],[function(e){var t=e.h,n=e.s,r=e.v,i=e.a,a=void 0===i?1:i;if(!e1(t)||!e1(n)||!e1(r))return null;var o=function(e){return{h:r1(e.h),s:n1(e.s,0,100),v:n1(e.v,0,100),a:n1(e.a)}}({h:Number(t),s:Number(n),v:Number(r),a:Number(a)});return l1(o)},"hsv"]]},b1=function(e,t){for(var n=0;n<t.length;n++){var r=t[n][0](e);if(r)return[r,t[n][1]]}return[null,void 0]},x1=function(e){return"string"==typeof e?b1(e.trim(),y1.string):"object"==typeof e&&null!==e?b1(e,y1.object):[null,void 0]},_1=function(e,t){var n=d1(e);return{h:n.h,s:n1(n.s+100*t,0,100),l:n.l,a:n.a}},w1=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},S1=function(e,t){var n=d1(e);return{h:n.h,s:n.s,l:n1(n.l+100*t,0,100),a:n.a}},k1=function(){function e(e){this.parsed=x1(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return t1(w1(this.rgba),2)},e.prototype.isDark=function(){return w1(this.rgba)<.5},e.prototype.isLight=function(){return w1(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=a1(this.rgba)).r,n=e.g,r=e.b,a=(i=e.a)<1?u1(t1(255*i)):"","#"+u1(t)+u1(n)+u1(r)+a;var e,t,n,r,i,a},e.prototype.toRgb=function(){return a1(this.rgba)},e.prototype.toRgbString=function(){return t=(e=a1(this.rgba)).r,n=e.g,r=e.b,(i=e.a)<1?"rgba("+t+", "+n+", "+r+", "+i+")":"rgb("+t+", "+n+", "+r+")";var e,t,n,r,i},e.prototype.toHsl=function(){return f1(d1(this.rgba))},e.prototype.toHslString=function(){return t=(e=f1(d1(this.rgba))).h,n=e.s,r=e.l,(i=e.a)<1?"hsla("+t+", "+n+"%, "+r+"%, "+i+")":"hsl("+t+", "+n+"%, "+r+"%)";var e,t,n,r,i},e.prototype.toHsv=function(){return e=s1(this.rgba),{h:t1(e.h),s:t1(e.s),v:t1(e.v),a:t1(e.a,3)};var e},e.prototype.invert=function(){return M1({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),M1(_1(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),M1(_1(this.rgba,-e))},e.prototype.grayscale=function(){return M1(_1(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),M1(S1(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),M1(S1(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?M1({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):t1(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=d1(this.rgba);return"number"==typeof e?M1({h:e,s:t.s,l:t.l,a:t.a}):t1(t.h)},e.prototype.isEqual=function(e){return this.toHex()===M1(e).toHex()},e}(),M1=function(e){return e instanceof k1?e:new k1(e)},E1=[];function T1(){return(T1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A1(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(i[n]=e[n]);return i}function C1(e){var t=(0,r.useRef)(e),n=(0,r.useRef)((function(e){t.current&&t.current(e)}));return t.current=e,n.current}var R1=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),e>n?n:e<t?t:e},P1=function(e){return"touches"in e},L1=function(e){return e&&e.ownerDocument.defaultView||self},O1=function(e,t,n){var r=e.getBoundingClientRect(),i=P1(t)?function(e,t){for(var n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]}(t.touches,n):t;return{left:R1((i.pageX-(r.left+L1(e).pageXOffset))/r.width),top:R1((i.pageY-(r.top+L1(e).pageYOffset))/r.height)}},I1=function(e){!P1(e)&&e.preventDefault()},D1=r.memo((function(e){var t=e.onMove,n=e.onKey,i=A1(e,["onMove","onKey"]),a=(0,r.useRef)(null),o=C1(t),u=C1(n),s=(0,r.useRef)(null),l=(0,r.useRef)(!1),c=(0,r.useMemo)((function(){var e=function(e){I1(e),(P1(e)?e.touches.length>0:e.buttons>0)&&a.current?o(O1(a.current,e,s.current)):n(!1)},t=function(){return n(!1)};function n(n){var r=l.current,i=L1(a.current),o=n?i.addEventListener:i.removeEventListener;o(r?"touchmove":"mousemove",e),o(r?"touchend":"mouseup",t)}return[function(e){var t=e.nativeEvent,r=a.current;if(r&&(I1(t),!function(e,t){return t&&!P1(e)}(t,l.current)&&r)){if(P1(t)){l.current=!0;var i=t.changedTouches||[];i.length&&(s.current=i[0].identifier)}r.focus(),o(O1(r,t,s.current)),n(!0)}},function(e){var t=e.which||e.keyCode;t<37||t>40||(e.preventDefault(),u({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))},n]}),[u,o]),f=c[0],h=c[1],d=c[2];return(0,r.useEffect)((function(){return d}),[d]),r.createElement("div",T1({},i,{onTouchStart:f,onMouseDown:f,className:"react-colorful__interactive",ref:a,onKeyDown:h,tabIndex:0,role:"slider"}))})),N1=function(e){return e.filter(Boolean).join(" ")},z1=function(e){var t=e.color,n=e.left,i=e.top,a=void 0===i?.5:i,o=N1(["react-colorful__pointer",e.className]);return r.createElement("div",{className:o,style:{top:100*a+"%",left:100*n+"%"}},r.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},F1=function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*e)/n},B1=(Math.PI,function(e){var t=e.s,n=e.v,r=e.a,i=(200-t)*n/100;return{h:F1(e.h),s:F1(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:F1(i/2),a:F1(r,2)}}),U1=function(e){var t=B1(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},j1=function(e){var t=B1(e);return"hsla("+t.h+", "+t.s+"%, "+t.l+"%, "+t.a+")"},H1=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var a=Math.floor(t),o=r*(1-n),u=r*(1-(t-a)*n),s=r*(1-(1-t+a)*n),l=a%6;return{r:F1(255*[r,u,o,o,s,r][l]),g:F1(255*[s,r,r,u,o,o][l]),b:F1(255*[o,o,s,r,r,u][l]),a:F1(i,2)}},Z1=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,a=Math.max(t,n,r),o=a-Math.min(t,n,r),u=o?a===t?(n-r)/o:a===n?2+(r-t)/o:4+(t-n)/o:0;return{h:F1(60*(u<0?u+6:u)),s:F1(a?o/a*100:0),v:F1(a/255*100),a:i}},G1=r.memo((function(e){var t=e.hue,n=e.onChange,i=N1(["react-colorful__hue",e.className]);return r.createElement("div",{className:i},r.createElement(D1,{onMove:function(e){n({h:360*e.left})},onKey:function(e){n({h:R1(t+360*e.left,0,360)})},"aria-label":"Hue","aria-valuetext":F1(t)},r.createElement(z1,{className:"react-colorful__hue-pointer",left:t/360,color:U1({h:t,s:100,v:100,a:1})})))})),W1=r.memo((function(e){var t=e.hsva,n=e.onChange,i={backgroundColor:U1({h:t.h,s:100,v:100,a:1})};return r.createElement("div",{className:"react-colorful__saturation",style:i},r.createElement(D1,{onMove:function(e){n({s:100*e.left,v:100-100*e.top})},onKey:function(e){n({s:R1(t.s+100*e.left,0,100),v:R1(t.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+F1(t.s)+"%, Brightness "+F1(t.v)+"%"},r.createElement(z1,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:U1(t)})))})),V1=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0};function q1(e,t,n){var i=C1(n),a=(0,r.useState)((function(){return e.toHsva(t)})),o=a[0],u=a[1],s=(0,r.useRef)({color:t,hsva:o});(0,r.useEffect)((function(){if(!e.equal(t,s.current.color)){var n=e.toHsva(t);s.current={hsva:n,color:t},u(n)}}),[t,e]),(0,r.useEffect)((function(){var t;V1(o,s.current.hsva)||e.equal(t=e.fromHsva(o),s.current.color)||(s.current={hsva:o,color:t},i(t))}),[o,e,i]);var l=(0,r.useCallback)((function(e){u((function(t){return Object.assign({},t,e)}))}),[]);return[o,l]}var X1,$1="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,Y1=new Map,K1=function(e){$1((function(){var t=e.current?e.current.ownerDocument:document;if(void 0!==t&&!Y1.has(t)){var r=t.createElement("style");r.innerHTML='.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}',Y1.set(t,r);var i=X1||n.nc;i&&r.setAttribute("nonce",i),t.head.appendChild(r)}}),[])},J1=function(e){var t=e.className,n=e.colorModel,i=e.color,a=void 0===i?n.defaultColor:i,o=e.onChange,u=A1(e,["className","colorModel","color","onChange"]),s=(0,r.useRef)(null);K1(s);var l=q1(n,a,o),c=l[0],f=l[1],h=N1(["react-colorful",t]);return r.createElement("div",T1({},u,{ref:s,className:h}),r.createElement(W1,{hsva:c,onChange:f}),r.createElement(G1,{hue:c.h,onChange:f,className:"react-colorful__last-control"}))},Q1=function(e){var t=e.className,n=e.hsva,i=e.onChange,a={backgroundImage:"linear-gradient(90deg, "+j1(Object.assign({},n,{a:0}))+", "+j1(Object.assign({},n,{a:1}))+")"},o=N1(["react-colorful__alpha",t]);return r.createElement("div",{className:o},r.createElement("div",{className:"react-colorful__alpha-gradient",style:a}),r.createElement(D1,{onMove:function(e){i({a:e.left})},onKey:function(e){i({a:R1(n.a+e.left)})},"aria-label":"Alpha","aria-valuetext":F1(100*n.a)+"%"},r.createElement(z1,{className:"react-colorful__alpha-pointer",left:n.a,color:j1(n)})))},e2=function(e){var t=e.className,n=e.colorModel,i=e.color,a=void 0===i?n.defaultColor:i,o=e.onChange,u=A1(e,["className","colorModel","color","onChange"]),s=(0,r.useRef)(null);K1(s);var l=q1(n,a,o),c=l[0],f=l[1],h=N1(["react-colorful",t]);return r.createElement("div",T1({},u,{ref:s,className:h}),r.createElement(W1,{hsva:c,onChange:f}),r.createElement(G1,{hue:c.h,onChange:f}),r.createElement(Q1,{hsva:c,onChange:f,className:"react-colorful__last-control"}))},t2={defaultColor:{r:0,g:0,b:0,a:1},toHsva:Z1,fromHsva:H1,equal:V1},n2=function(e){return r.createElement(e2,T1({},e,{colorModel:t2}))},r2={defaultColor:{r:0,g:0,b:0},toHsva:function(e){return Z1({r:e.r,g:e.g,b:e.b,a:1})},fromHsva:function(e){return{r:(t=H1(e)).r,g:t.g,b:t.b};var t},equal:V1},i2=function(e){return r.createElement(J1,T1({},e,{colorModel:r2}))},a2=n(2007),o2=n.n(a2);function u2(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{s(r.next(e))}catch(t){a(t)}}function u(e){try{s(r.throw(e))}catch(t){a(t)}}function s(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(o,u)}s((r=r.apply(e,t||[])).next())}))}function s2(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(u){a=[6,u],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}Object.create;function l2(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,a=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(i)throw i.error}}return o}Object.create;var c2=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function f2(e,t){var n=function(e){var t=e.name;if(t&&-1!==t.lastIndexOf(".")&&!e.type){var n=t.split(".").pop().toLowerCase(),r=c2.get(n);r&&Object.defineProperty(e,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return e}(e);if("string"!==typeof n.path){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"===typeof t?t:"string"===typeof r&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}var h2=[".DS_Store","Thumbs.db"];function d2(e){return"object"===typeof e&&null!==e}function p2(e){return y2(e.target.files).map((function(e){return f2(e)}))}function v2(e){return u2(this,void 0,void 0,(function(){return s2(this,(function(t){switch(t.label){case 0:return[4,Promise.all(e.map((function(e){return e.getFile()})))];case 1:return[2,t.sent().map((function(e){return f2(e)}))]}}))}))}function m2(e,t){return u2(this,void 0,void 0,(function(){var n;return s2(this,(function(r){switch(r.label){case 0:return null===e?[2,[]]:e.items?(n=y2(e.items).filter((function(e){return"file"===e.kind})),"drop"!==t?[2,n]:[4,Promise.all(n.map(b2))]):[3,2];case 1:return[2,g2(x2(r.sent()))];case 2:return[2,g2(y2(e.files).map((function(e){return f2(e)})))]}}))}))}function g2(e){return e.filter((function(e){return-1===h2.indexOf(e.name)}))}function y2(e){if(null===e)return[];for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function b2(e){if("function"!==typeof e.webkitGetAsEntry)return _2(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?S2(t):_2(e)}function x2(e){return e.reduce((function(e,t){return function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l2(arguments[t]));return e}(e,Array.isArray(t)?x2(t):[t])}),[])}function _2(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=f2(t);return Promise.resolve(n)}function w2(e){return u2(this,void 0,void 0,(function(){return s2(this,(function(t){return[2,e.isDirectory?S2(e):k2(e)]}))}))}function S2(e){var t=e.createReader();return new Promise((function(e,n){var r=[];!function i(){var a=this;t.readEntries((function(t){return u2(a,void 0,void 0,(function(){var a,o,u;return s2(this,(function(s){switch(s.label){case 0:if(t.length)return[3,5];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return a=s.sent(),e(a),[3,4];case 3:return o=s.sent(),n(o),[3,4];case 4:return[3,6];case 5:u=Promise.all(t.map(w2)),r.push(u),i(),s.label=6;case 6:return[2]}}))}))}),(function(e){n(e)}))}()}))}function k2(e){return u2(this,void 0,void 0,(function(){return s2(this,(function(t){return[2,new Promise((function(t,n){e.file((function(n){var r=f2(n,e.fullPath);t(r)}),(function(e){n(e)}))}))]}))}))}var M2=n(9998);function E2(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T2(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E2(Object(n),!0).forEach((function(t){A2(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E2(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A2(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C2(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return R2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R2(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R2(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var P2="file-invalid-type",L2="file-too-large",O2="file-too-small",I2="too-many-files",D2=function(e){e=Array.isArray(e)&&1===e.length?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:P2,message:"File type must be ".concat(t)}},N2=function(e){return{code:L2,message:"File is larger than ".concat(e," ").concat(1===e?"byte":"bytes")}},z2=function(e){return{code:O2,message:"File is smaller than ".concat(e," ").concat(1===e?"byte":"bytes")}},F2={code:I2,message:"Too many files"};function B2(e,t){var n="application/x-moz-file"===e.type||(0,M2.Z)(e,t);return[n,n?null:D2(t)]}function U2(e,t,n){if(j2(e.size))if(j2(t)&&j2(n)){if(e.size>n)return[!1,N2(n)];if(e.size<t)return[!1,z2(t)]}else{if(j2(t)&&e.size<t)return[!1,z2(t)];if(j2(n)&&e.size>n)return[!1,N2(n)]}return[!0,null]}function j2(e){return void 0!==e&&null!==e}function H2(e){var t=e.files,n=e.accept,r=e.minSize,i=e.maxSize,a=e.multiple,o=e.maxFiles;return!(!a&&t.length>1||a&&o>=1&&t.length>o)&&t.every((function(e){var t=C2(B2(e,n),1)[0],a=C2(U2(e,r,i),1)[0];return t&&a}))}function Z2(e){return"function"===typeof e.isPropagationStopped?e.isPropagationStopped():"undefined"!==typeof e.cancelBubble&&e.cancelBubble}function G2(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,(function(e){return"Files"===e||"application/x-moz-file"===e})):!!e.target&&!!e.target.files}function W2(e){e.preventDefault()}function V2(e){return-1!==e.indexOf("MSIE")||-1!==e.indexOf("Trident/")}function q2(e){return-1!==e.indexOf("Edge/")}function X2(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return V2(e)||q2(e)}function $2(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.some((function(t){return!Z2(e)&&t&&t.apply(void 0,[e].concat(r)),Z2(e)}))}}function Y2(){return"showOpenFilePicker"in window}function K2(e){return e="string"===typeof e?e.split(","):e,[{description:"everything",accept:Array.isArray(e)?e.filter((function(e){return"audio/*"===e||"video/*"===e||"image/*"===e||"text/*"===e||/\w+\/[-+.\w]+/g.test(e)})).reduce((function(e,t){return T2(T2({},e),{},A2({},t,[]))}),{}):{}}]}function J2(e){return e instanceof DOMException&&("AbortError"===e.name||e.code===e.ABORT_ERR)}function Q2(e){return e instanceof DOMException&&("SecurityError"===e.name||e.code===e.SECURITY_ERR)}var e3=["children"],t3=["open"],n3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],r3=["refKey","onChange","onClick"];function i3(e){return function(e){if(Array.isArray(e))return u3(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o3(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a3(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}(e,t)||o3(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o3(e,t){if(e){if("string"===typeof e)return u3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u3(e,t):void 0}}function u3(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l3(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s3(Object(n),!0).forEach((function(t){c3(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s3(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c3(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f3(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var h3=(0,r.forwardRef)((function(e,t){var n=e.children,i=v3(f3(e,e3)),a=i.open,o=f3(i,t3);return(0,r.useImperativeHandle)(t,(function(){return{open:a}}),[a]),r.createElement(r.Fragment,null,n(l3(l3({},o),{},{open:a})))}));h3.displayName="Dropzone";var d3={disabled:!1,getFilesFromEvent:function(e){return u2(this,void 0,void 0,(function(){return s2(this,(function(t){return d2(e)&&function(e){return d2(e.dataTransfer)}(e)?[2,m2(e.dataTransfer,e.type)]:function(e){return d2(e)&&d2(e.target)}(e)?[2,p2(e)]:Array.isArray(e)&&e.every((function(e){return"getFile"in e&&"function"===typeof e.getFile}))?[2,v2(e)]:[2,[]]}))}))},maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};h3.defaultProps=d3,h3.propTypes={children:o2().func,accept:o2().oneOfType([o2().string,o2().arrayOf(o2().string)]),multiple:o2().bool,preventDropOnDocument:o2().bool,noClick:o2().bool,noKeyboard:o2().bool,noDrag:o2().bool,noDragEventsBubbling:o2().bool,minSize:o2().number,maxSize:o2().number,maxFiles:o2().number,disabled:o2().bool,getFilesFromEvent:o2().func,onFileDialogCancel:o2().func,onFileDialogOpen:o2().func,useFsAccessApi:o2().bool,onDragEnter:o2().func,onDragLeave:o2().func,onDragOver:o2().func,onDrop:o2().func,onDropAccepted:o2().func,onDropRejected:o2().func,validator:o2().func};var p3={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function v3(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l3(l3({},d3),e),n=t.accept,i=t.disabled,a=t.getFilesFromEvent,o=t.maxSize,u=t.minSize,s=t.multiple,l=t.maxFiles,c=t.onDragEnter,f=t.onDragLeave,h=t.onDragOver,d=t.onDrop,p=t.onDropAccepted,v=t.onDropRejected,m=t.onFileDialogCancel,g=t.onFileDialogOpen,y=t.useFsAccessApi,b=t.preventDropOnDocument,x=t.noClick,_=t.noKeyboard,w=t.noDrag,S=t.noDragEventsBubbling,k=t.validator,M=(0,r.useMemo)((function(){return"function"===typeof g?g:g3}),[g]),E=(0,r.useMemo)((function(){return"function"===typeof m?m:g3}),[m]),T=(0,r.useRef)(null),A=(0,r.useRef)(null),C=(0,r.useReducer)(m3,p3),R=a3(C,2),P=R[0],L=R[1],O=P.isFocused,I=P.isFileDialogActive,D=P.draggedFiles,N=(0,r.useRef)("undefined"!==typeof window&&window.isSecureContext&&y&&Y2()),z=function(){!N.current&&I&&setTimeout((function(){A.current&&(A.current.files.length||(L({type:"closeDialog"}),E()))}),300)};(0,r.useEffect)((function(){return window.addEventListener("focus",z,!1),function(){window.removeEventListener("focus",z,!1)}}),[A,I,E,N]);var F=(0,r.useRef)([]),B=function(e){T.current&&T.current.contains(e.target)||(e.preventDefault(),F.current=[])};(0,r.useEffect)((function(){return b&&(document.addEventListener("dragover",W2,!1),document.addEventListener("drop",B,!1)),function(){b&&(document.removeEventListener("dragover",W2),document.removeEventListener("drop",B))}}),[T,b]);var U=(0,r.useCallback)((function(e){e.preventDefault(),e.persist(),Q(e),F.current=[].concat(i3(F.current),[e.target]),G2(e)&&Promise.resolve(a(e)).then((function(t){Z2(e)&&!S||(L({draggedFiles:t,isDragActive:!0,type:"setDraggedFiles"}),c&&c(e))}))}),[a,c,S]),j=(0,r.useCallback)((function(e){e.preventDefault(),e.persist(),Q(e);var t=G2(e);if(t&&e.dataTransfer)try{e.dataTransfer.dropEffect="copy"}catch(n){}return t&&h&&h(e),!1}),[h,S]),H=(0,r.useCallback)((function(e){e.preventDefault(),e.persist(),Q(e);var t=F.current.filter((function(e){return T.current&&T.current.contains(e)})),n=t.indexOf(e.target);-1!==n&&t.splice(n,1),F.current=t,t.length>0||(L({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),G2(e)&&f&&f(e))}),[T,f,S]),Z=(0,r.useCallback)((function(e,t){var r=[],i=[];e.forEach((function(e){var t=a3(B2(e,n),2),a=t[0],s=t[1],l=a3(U2(e,u,o),2),c=l[0],f=l[1],h=k?k(e):null;if(a&&c&&!h)r.push(e);else{var d=[s,f];h&&(d=d.concat(h)),i.push({file:e,errors:d.filter((function(e){return e}))})}})),(!s&&r.length>1||s&&l>=1&&r.length>l)&&(r.forEach((function(e){i.push({file:e,errors:[F2]})})),r.splice(0)),L({acceptedFiles:r,fileRejections:i,type:"setFiles"}),d&&d(r,i,t),i.length>0&&v&&v(i,t),r.length>0&&p&&p(r,t)}),[L,s,n,u,o,l,d,p,v,k]),G=(0,r.useCallback)((function(e){e.preventDefault(),e.persist(),Q(e),F.current=[],G2(e)&&Promise.resolve(a(e)).then((function(t){Z2(e)&&!S||Z(t,e)})),L({type:"reset"})}),[a,Z,S]),W=(0,r.useCallback)((function(){if(N.current){L({type:"openDialog"}),M();var e={multiple:s,types:K2(n)};window.showOpenFilePicker(e).then((function(e){return a(e)})).then((function(e){Z(e,null),L({type:"closeDialog"})})).catch((function(e){J2(e)?(E(e),L({type:"closeDialog"})):Q2(e)&&(N.current=!1,A.current&&(A.current.value=null,A.current.click()))}))}else A.current&&(L({type:"openDialog"}),M(),A.current.value=null,A.current.click())}),[L,M,E,y,Z,n,s]),V=(0,r.useCallback)((function(e){T.current&&T.current.isEqualNode(e.target)&&(32!==e.keyCode&&13!==e.keyCode||(e.preventDefault(),W()))}),[T,W]),q=(0,r.useCallback)((function(){L({type:"focus"})}),[]),X=(0,r.useCallback)((function(){L({type:"blur"})}),[]),$=(0,r.useCallback)((function(){x||(X2()?setTimeout(W,0):W())}),[x,W]),Y=function(e){return i?null:e},K=function(e){return _?null:Y(e)},J=function(e){return w?null:Y(e)},Q=function(e){S&&e.stopPropagation()},ee=(0,r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,n=void 0===t?"ref":t,r=e.role,a=e.onKeyDown,o=e.onFocus,u=e.onBlur,s=e.onClick,l=e.onDragEnter,c=e.onDragOver,f=e.onDragLeave,h=e.onDrop,d=f3(e,n3);return l3(l3(c3({onKeyDown:K($2(a,V)),onFocus:K($2(o,q)),onBlur:K($2(u,X)),onClick:Y($2(s,$)),onDragEnter:J($2(l,U)),onDragOver:J($2(c,j)),onDragLeave:J($2(f,H)),onDrop:J($2(h,G)),role:"string"===typeof r&&""!==r?r:"button"},n,T),i||_?{}:{tabIndex:0}),d)}}),[T,V,q,X,$,U,j,H,G,_,w,i]),te=(0,r.useCallback)((function(e){e.stopPropagation()}),[]),ne=(0,r.useMemo)((function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.refKey,r=void 0===t?"ref":t,i=e.onChange,a=e.onClick,o=f3(e,r3),u=c3({accept:n,multiple:s,type:"file",style:{display:"none"},onChange:Y($2(i,G)),onClick:Y($2(a,te)),autoComplete:"off",tabIndex:-1},r,A);return l3(l3({},u),o)}}),[A,n,s,G,i]),re=D.length,ie=re>0&&H2({files:D,accept:n,minSize:u,maxSize:o,multiple:s,maxFiles:l}),ae=re>0&&!ie;return l3(l3({},P),{},{isDragAccept:ie,isDragReject:ae,isFocused:O&&!i,getRootProps:ee,getInputProps:ne,rootRef:T,inputRef:A,open:Y(W)})}function m3(e,t){switch(t.type){case"focus":return l3(l3({},e),{},{isFocused:!0});case"blur":return l3(l3({},e),{},{isFocused:!1});case"openDialog":return l3(l3({},p3),{},{isFileDialogActive:!0});case"closeDialog":return l3(l3({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":var n=t.isDragActive,r=t.draggedFiles;return l3(l3({},e),{},{draggedFiles:r,isDragActive:n});case"setFiles":return l3(l3({},e),{},{acceptedFiles:t.acceptedFiles,fileRejections:t.fileRejections});case"reset":return l3({},p3);default:return e}}function g3(){}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var y3,b3,x3=n(8089),_3=n.n(x3),w3=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(".")};function S3(e,t){return(0,r.useMemo)(e,function(e,t){var n=(0,r.useRef)();return(t?kX:MX)(e,n.current)||(n.current=e),n.current}(t,!0))}function k3(e,t,n){var r=e.useStore((function(e){return function(e,t){return Object.entries(function(e,t){return t.reduce((function(t,n){return e&&e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}(e,t)).reduce((function(e,t){var n=(0,c.Z)(t,2)[1],r=n.value,i=n.disabled;return e[n.key]=i?void 0:r,e}),{})}(UJ(UJ({},n),e.data),t)}),MX);return r}function M3(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=(0,r.useRef)(null),n=(0,r.useRef)(null),i=(0,r.useState)(!1),a=(0,c.Z)(i,2),o=a[0],u=a[1],s=(0,r.useCallback)((function(){return u(!0)}),[]),l=(0,r.useCallback)((function(){return u(!1)}),[]);return(0,r.useLayoutEffect)((function(){if(o){var r=t.current.getBoundingClientRect(),i=r.bottom,a=r.top,u=r.left,s=i+n.current.getBoundingClientRect().height>window.innerHeight-40?"up":"down";n.current.style.position="fixed",n.current.style.zIndex="10000",n.current.style.left=u+"px","down"===s?n.current.style.top=i+e+"px":n.current.style.bottom=window.innerHeight-a+e+"px"}}),[e,o]),{popinRef:t,wrapperRef:n,shown:o,show:s,hide:l}}!function(e){e.forEach((function(e){E1.indexOf(e)<0&&(e(k1,y1),E1.push(e))}))}([function(e,t){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var a={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var i,o,u=r[this.toHex()];if(u)return u;if(null==t?void 0:t.closest){var s=this.toRgb(),l=1/0,c="black";if(!a.length)for(var f in n)a[f]=new e(n[f]).toRgb();for(var h in n){var d=(i=s,o=a[h],Math.pow(i.r-o.r,2)+Math.pow(i.g-o.g,2)+Math.pow(i.b-o.b,2));d<l&&(l=d,c=h)}return c}},t.string.push([function(t){var r=t.toLowerCase(),i="transparent"===r?"#0000":n[r];return i?new e(i).toRgb():null},"name"])}]);var E3={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};ZX.extend({color:function(){return function(e){return M1(e).isValid()}}});function T3(e,t){var n=t.format,r=t.hasAlpha,i=t.isString,a=e[E3[n]+(i&&"hex"!==n?"String":"")]();return"object"!==typeof a||r?a:function(e,t){var n=UJ({},e);return t.forEach((function(t){return t in e&&delete n[t]})),n}(a,["a"])}var A3=function(e,t){var n=M1(e);if(!n.isValid())throw Error("Invalid color");return T3(n,t)},C3=Object.freeze({__proto__:null,schema:function(e){return ZX().color().test(e)},sanitize:A3,format:function(e,t){return T3(M1(e),UJ(UJ({},t),{},{isString:!0,format:"hex"}))},normalize:function(e){var t=e.value,n=function(e){return x1(e)[1]}(t),r={format:"name"===n?"hex":n,hasAlpha:"object"===typeof t?"a"in t:"hex"===n&&8===t.length||/^(rgba)|(hsla)|(hsva)/.test(t),isString:"string"===typeof t};return{value:A3(t,r),settings:r}}}),R3=AQ("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:'url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>\')',$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),P3=AQ("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),L3=AQ("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function O3(e,t){return"rgb"!==t?M1(e).toRgb():e}function I3(e){var t=e.value,n=e.displayValue,i=e.settings,a=e.onUpdate,o=xQ(),u=o.emitOnEditStart,s=o.emitOnEditEnd,l=i.format,f=i.hasAlpha,h=M3(),d=h.popinRef,p=h.wrapperRef,v=h.shown,m=h.show,g=h.hide,y=(0,r.useRef)(0),b=(0,r.useState)((function(){return O3(t,l)})),x=(0,c.Z)(b,2),_=x[0],w=x[1],S=f?n2:i2,k=function(){g(),s(),window.clearTimeout(y.current)};return(0,r.useEffect)((function(){return function(){return window.clearTimeout(y.current)}}),[]),r.createElement(r.Fragment,null,r.createElement(R3,{ref:d,active:v,onClick:function(){return w(O3(t,l)),m(),void u()},style:{color:n}}),v&&r.createElement(e0,null,r.createElement(KQ,{onPointerUp:k}),r.createElement(L3,{ref:p,onMouseEnter:function(){return window.clearTimeout(y.current)},onMouseLeave:function(e){return 0===e.buttons&&void(y.current=window.setTimeout(k,500))}},r.createElement(S,{color:_,onChange:a}))))}var D3=UJ({component:function(){var e=xQ(),t=e.value,n=e.displayValue,i=e.label,a=e.onChange,o=e.onUpdate,u=e.settings;return r.createElement(l0,{input:!0},r.createElement(i0,null,i),r.createElement(P3,null,r.createElement(I3,{value:t,displayValue:n,onChange:a,onUpdate:o,settings:u}),r.createElement(BQ,{value:n,onChange:a,onUpdate:o})))}},C3);var N3=UJ({component:function(){var e=xQ(),t=e.label,n=e.displayValue,i=e.onUpdate,a=e.settings;return r.createElement(l0,{input:!0},r.createElement(i0,null,t),r.createElement(G0,{value:n,settings:a,onUpdate:i}))}},J0(["x","y","z"])),z3=AQ("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),F3=AQ("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function B3(e){var t=e.value,n=e.settings,i=e.onUpdate,a=(0,r.useRef)(),o=(0,r.useRef)(0),s=(0,r.useRef)(0),l=(0,r.useRef)(1),f=(0,r.useState)(!1),h=(0,c.Z)(f,2),d=h[0],p=h[1],v=(0,r.useState)(!1),m=(0,c.Z)(v,2),g=m[0],y=m[1],b=h0(),x=(0,c.Z)(b,2),_=x[0],w=x[1],S=(0,r.useRef)(null),k=(0,r.useRef)(null);(0,r.useLayoutEffect)((function(){if(d){var e=S.current.getBoundingClientRect(),t=e.top,n=e.left,r=e.width,i=e.height;k.current.style.left=n+r/2+"px",k.current.style.top=t+i/2+"px"}}),[d]);var M=(0,c.Z)(n.keys,2),E=M[0],T=M[1],A="invertY"===n.joystick?1:-1,C=n[E].step,R=n[T].step,P=LQ("sizes","joystickWidth"),L=LQ("sizes","joystickHeight"),O=.8*parseFloat(P)/2,I=.8*parseFloat(L)/2,D=(0,r.useCallback)((function(){a.current||(y(!0),o.current&&w({x:o.current*O}),s.current&&w({y:s.current*-I}),a.current=window.setInterval((function(){i((function(e){var t,n,r=C*o.current*l.current,i=A*R*s.current*l.current;return Array.isArray(e)?(t={},(0,u.Z)(t,E,e[0]+r),(0,u.Z)(t,T,e[1]+i),t):(n={},(0,u.Z)(n,E,e[E]+r),(0,u.Z)(n,T,e[T]+i),n)}))}),16))}),[O,I,i,w,C,R,E,T,A]),N=(0,r.useCallback)((function(){window.clearTimeout(a.current),a.current=void 0,y(!1)}),[]);(0,r.useEffect)((function(){function e(e){l.current=fQ(e)}return window.addEventListener("keydown",e),window.addEventListener("keyup",e),function(){window.clearTimeout(a.current),window.removeEventListener("keydown",e),window.removeEventListener("keyup",e)}}),[]);var z=f0((function(e){var n=e.first,r=e.active,a=(0,c.Z)(e.delta,2),f=a[0],h=a[1],d=(0,c.Z)(e.movement,2),v=d[0],m=d[1];n&&p(!0);var g=jJ(v,-O,O),y=jJ(m,-I,I);o.current=Math.abs(v)>Math.abs(g)?Math.sign(v-g):0,s.current=Math.abs(m)>Math.abs(y)?Math.sign(y-m):0;var b,x=t[E],_=t[T];r?(o.current||(x+=f*C*l.current,w({x:g})),s.current||(_-=A*h*R*l.current,w({y:y})),o.current||s.current?D():N(),i((b={},(0,u.Z)(b,E,x),(0,u.Z)(b,T,_),b))):(p(!1),o.current=0,s.current=0,w({x:0,y:0}),N())}));return r.createElement(z3,yQ({ref:S},z()),d&&r.createElement(e0,null,r.createElement(F3,{ref:k,isOutOfBounds:g},r.createElement("div",null),r.createElement("span",{ref:_}))))}var U3=AQ("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});var j3=["joystick"],H3=J0(["x","y"]),Z3=UJ(UJ({component:function(){var e=xQ(),t=e.label,n=e.displayValue,i=e.onUpdate,a=e.settings;return r.createElement(l0,{input:!0},r.createElement(i0,null,t),r.createElement(U3,{withJoystick:!!a.joystick},a.joystick&&r.createElement(B3,{value:n,settings:a,onUpdate:i}),r.createElement(G0,{value:n,settings:a,onUpdate:i})))}},H3),{},{normalize:function(e){var t=e.joystick,n=void 0===t||t,r=SJ(e,j3),i=H3.normalize(r);return{value:i.value,settings:UJ(UJ({},i.settings),{},{joystick:n})}}}),G3=Object.freeze({__proto__:null,sanitize:function(e){if(void 0!==e){if(e instanceof File)try{return URL.createObjectURL(e)}catch(t){return}if("string"===typeof e&&0===e.indexOf("blob:"))return e;throw Error("Invalid image format [undefined | blob |\xa0File].")}},schema:function(e,t){return"object"===typeof t&&"image"in t},normalize:function(e){return{value:e.image}}}),W3=AQ("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),V3=AQ("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),q3=AQ("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),X3=AQ("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),$3=AQ("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Y3=AQ("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});var K3=UJ({component:function(){var e=xQ(),t=e.label,n=e.value,i=e.onUpdate,a=e.disabled,o=M3(),u=o.popinRef,s=o.wrapperRef,l=o.shown,c=o.show,f=o.hide,h=(0,r.useCallback)((function(e){e.length&&i(e[0])}),[i]),d=(0,r.useCallback)((function(e){e.stopPropagation(),i(void 0)}),[i]),p=v3({maxFiles:1,accept:"image/*",onDrop:h,disabled:a}),v=p.getRootProps,m=p.getInputProps,g=p.isDragAccept;return r.createElement(l0,{input:!0},r.createElement(i0,null,t),r.createElement(W3,null,r.createElement(q3,{ref:u,hasImage:!!n,onPointerDown:function(){return!!n&&c()},onPointerUp:f,style:{backgroundImage:n?"url(".concat(n,")"):"none"}}),l&&!!n&&r.createElement(e0,null,r.createElement(KQ,{onPointerUp:f,style:{cursor:"pointer"}}),r.createElement(X3,{ref:s,style:{backgroundImage:"url(".concat(n,")")}})),r.createElement(V3,v({isDragAccept:g}),r.createElement("input",m()),r.createElement($3,null,g?"drop image":"click or drop")),r.createElement(Y3,{onClick:d,disabled:!n})))}},G3),J3=ZX().number(),Q3=function(e){return{min:e[0],max:e[1]}},e4=function(e,t,n){var r=(0,c.Z)(t.bounds,2),i=r[0],a=r[1],o=UJ(UJ({},{min:n[0],max:n[1]}),e),u=o.min,s=o.max;return[jJ(Number(u),i,Math.max(i,s)),jJ(Number(s),Math.min(a,u),a)]},t4=Object.freeze({__proto__:null,schema:function(e,t){return ZX().array().length(2).every.number().test(e)&&ZX().schema({min:J3,max:J3}).test(t)},format:Q3,sanitize:e4,normalize:function(e){var t=e.value,n=e.min,r=e.max,i={min:n,max:r},a=[n,r],o=UJ(UJ({},W0(Q3(t),{min:i,max:i})),{},{bounds:a});return{value:e4(Q3(t),o,t),settings:o}}}),n4=["value","bounds","onDrag"],r4=["bounds"],i4=AQ("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function a4(e){var t=e.value,n=(0,c.Z)(e.bounds,2),i=n[0],a=n[1],o=e.onDrag,s=SJ(e,n4),l=(0,r.useRef)(null),f=(0,r.useRef)(null),h=(0,r.useRef)(null),d=(0,r.useRef)(0),p=LQ("sizes","scrubberWidth"),v=f0((function(e){var n=e.event,r=e.first,v=(0,c.Z)(e.xy,1)[0],m=(0,c.Z)(e.movement,1)[0],g=e.memo,y=void 0===g?{}:g;if(r){var b=l.current.getBoundingClientRect(),x=b.width,_=b.left;d.current=x-parseFloat(p);var w=(null===n||void 0===n?void 0:n.target)===f.current||(null===n||void 0===n?void 0:n.target)===h.current;y.pos=XJ((v-_)/x,i,a);var S=Math.abs(y.pos-t.min)-Math.abs(y.pos-t.max);y.key=S<0||0===S&&y.pos<=t.min?"min":"max",w&&(y.pos=t[y.key])}var k=y.pos+XJ(m/d.current,0,a-i);return o((0,u.Z)({},y.key,S0(k,s[y.key]))),y})),m="calc(".concat(qJ(t.min,i,a)," * (100% - ").concat(p," - 8px) + 4px)"),g="calc(".concat(1-qJ(t.max,i,a)," * (100% - ").concat(p," - 8px) + 4px)");return r.createElement(y0,yQ({ref:l},v()),r.createElement(m0,null,r.createElement(b0,{style:{left:m,right:g}})),r.createElement(g0,{position:"left",ref:f,style:{left:m}}),r.createElement(g0,{position:"right",ref:h,style:{right:g}}))}var o4=UJ({component:function(){var e=xQ(),t=e.label,n=e.displayValue,i=e.onUpdate,a=e.settings,o=SJ(a,r4);return r.createElement(r.Fragment,null,r.createElement(l0,{input:!0},r.createElement(i0,null,t),r.createElement(i4,null,r.createElement(a4,yQ({value:n},a,{onDrag:i})),r.createElement(G0,{value:n,settings:o,onUpdate:i,innerLabelTrim:0}))))}},t4),u4=["type","value"],s4=["onChange","transient","onEditStart","onEditEnd"],l4=function(){var e,t=this,n=Mv((e=function(){return{data:{}}},function(t,n,r){var i=r.subscribe;return r.subscribe=function(e,t,n){var a=e;if(t){var o=(null==n?void 0:n.equalityFn)||Object.is,u=e(r.getState());a=function(n){var r=e(n);if(!o(u,r)){var i=u;t(u=r,i)}},(null==n?void 0:n.fireImmediately)&&t(u,u)}return i(a)},e(t,n,r)})),r=function(){var e=new Map;return{on:function(t,n){var r=e.get(t);void 0===r&&(r=new Set,e.set(t,r)),r.add(n)},off:function(t,n){var r=e.get(t);void 0!==r&&(r.delete(n),0===r.size&&e.delete(t))},emit:function(t){var n=e.get(t);if(void 0!==n){for(var r=arguments.length,i=new Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];var o,u=p(n);try{for(u.s();!(o=u.n()).done;){o.value.apply(void 0,i)}}catch(s){u.e(s)}finally{u.f()}}}}}();this.storeId="_"+Math.random().toString(36).substr(2,9),this.useStore=n;var i={},a=new Set;this.getVisiblePaths=function(){var e=t.getData(),n=Object.keys(e),r=[];Object.entries(i).forEach((function(e){var i=(0,c.Z)(e,2),a=i[0],o=i[1];o.render&&n.some((function(e){return 0===e.indexOf(a)}))&&!o.render(t.get)&&r.push(a+".")}));var o=[];return a.forEach((function(n){n in e&&e[n].__refCount>0&&r.every((function(e){return-1===n.indexOf(e)}))&&(!e[n].render||e[n].render(t.get))&&o.push(n)})),o},this.setOrderedPaths=function(e){e.forEach((function(e){return a.add(e)}))},this.orderPaths=function(e){return t.setOrderedPaths(e),e},this.disposePaths=function(e){n.setState((function(t){var n=t.data;return e.forEach((function(e){if(e in n){var t=n[e];t.__refCount--,0===t.__refCount&&t.type in WJ&&delete n[e]}})),{data:n}}))},this.dispose=function(){n.setState((function(){return{data:{}}}))},this.getFolderSettings=function(e){return i[e]||{}},this.getData=function(){return n.getState().data},this.addData=function(e,t){n.setState((function(n){var r=n.data;return Object.entries(e).forEach((function(e){var n=(0,c.Z)(e,2),i=n[0],a=n[1],o=r[i];if(o){var u=a.type,s=(a.value,SJ(a,u4));u!==o.type?EJ(yJ.INPUT_TYPE_OVERRIDE,u):((0===o.__refCount||t)&&Object.assign(o,s),o.__refCount++)}else r[i]=UJ(UJ({},a),{},{__refCount:1})})),{data:r}}))},this.setValueAtPath=function(e,r,i){n.setState((function(n){var a=n.data;return uQ(a[e],r,e,t,i),{data:a}}))},this.setSettingsAtPath=function(e,t){n.setState((function(n){var r=n.data;return r[e].settings=UJ(UJ({},r[e].settings),t),{data:r}}))},this.disableInputAtPath=function(e,t){n.setState((function(n){var r=n.data;return r[e].disabled=t,{data:r}}))},this.set=function(e,t){n.setState((function(n){var r=n.data;return Object.entries(e).forEach((function(e){var n=(0,c.Z)(e,2),i=n[0],a=n[1];try{uQ(r[i],a,void 0,void 0,t)}catch(o){}})),{data:r}}))},this.getInput=function(e){try{return t.getData()[e]}catch(n){EJ(yJ.PATH_DOESNT_EXIST,e)}},this.get=function(e){var n;return null===(n=t.getInput(e))||void 0===n?void 0:n.value},this.emitOnEditStart=function(e){r.emit("onEditStart:".concat(e),t.get(e),e,UJ(UJ({},t.getInput(e)),{},{get:t.get}))},this.emitOnEditEnd=function(e){r.emit("onEditEnd:".concat(e),t.get(e),e,UJ(UJ({},t.getInput(e)),{},{get:t.get}))},this.subscribeToEditStart=function(e,t){var n="onEditStart:".concat(e);return r.on(n,t),function(){return r.off(n,t)}},this.subscribeToEditEnd=function(e,t){var n="onEditEnd:".concat(e);return r.on(n,t),function(){return r.off(n,t)}};var o=function e(t,n,r){var a={};return Object.entries(t).forEach((function(t){var o=(0,c.Z)(t,2),u=o[0],s=o[1];if(""===u)return EJ(yJ.EMPTY_KEY);var l=w3(n,u);if(s.type===WJ.FOLDER){var f=e(s.schema,l,r);Object.assign(a,f),l in i||(i[l]=s.settings)}else if(u in r)EJ(yJ.DUPLICATE_KEYS,u,l,r[u].path);else{var h=oQ(s,u,l,a);if(h){var d=h.type,p=h.options,v=h.input,m=p.onChange,g=p.transient,y=p.onEditStart,b=p.onEditEnd,x=SJ(p,s4);a[l]=UJ(UJ(UJ({type:d},x),v),{},{fromPanel:!0}),r[u]={path:l,onChange:m,transient:g,onEditStart:y,onEditEnd:b}}else EJ(yJ.UNKNOWN_INPUT,l,s)}})),a};this.getDataFromSchema=function(e){var t={};return[o(e,"",t),t]}},c4=new l4;var f4={collapsed:!1};function h4(e,t){return{type:WJ.FOLDER,schema:e,settings:UJ(UJ({},f4),t)}}var d4={disabled:!1};function p4(e,t){return{type:WJ.BUTTON,onClick:e,settings:UJ(UJ({},d4),t)}}function v4(e){var t=e.toggle,n=e.toggled,i=e.name;return r.createElement(ZQ,{onClick:function(){return t()}},r.createElement(u0,{toggled:n}),r.createElement("div",null,i))}var m4=["type","label","path","valueKey","value","settings","setValue","disabled"];function g4(e){var t=e.type,n=e.label,i=e.path,a=e.valueKey,o=e.value,u=e.settings,s=e.setValue,l=e.disabled,c=SJ(e,m4),f=c0({type:t,value:o,settings:u,setValue:s}),h=f.displayValue,d=f.onChange,p=f.onUpdate,v=LJ[t].component;return v?r.createElement(bQ.Provider,{value:UJ({key:a,path:i,id:""+i,label:n,displayValue:h,value:o,onChange:d,onUpdate:p,settings:u,setValue:s,disabled:l},c)},r.createElement($Q,{disabled:l},r.createElement(v,null))):(EJ(yJ.NO_COMPONENT_FOR_TYPE,t,i),null)}var y4=AQ("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});var b4=AQ("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),x4=AQ("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}});var _4=AQ("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"});var w4=(0,r.forwardRef)((function(e,t){var n=e.initialValue,i=LQ("colors","highlight3"),a=LQ("colors","elevation2"),o=LQ("colors","highlight1"),u=(0,r.useMemo)((function(){return[M1(o).alpha(.4).toRgbString(),M1(o).alpha(.1).toRgbString()]}),[o]),s=(0,c.Z)(u,2),l=s[0],f=s[1],h=(0,r.useRef)([n]),d=(0,r.useRef)(n),p=(0,r.useRef)(n),v=(0,r.useRef)(),m=(0,r.useCallback)((function(e,t){if(e){for(var n=e.width,r=e.height,o=new Path2D,u=n/100,s=.05*r,c=0;c<h.current.length;c++){var v=u*c,m=r-qJ(h.current[c],d.current,p.current)*(r-2*s)-s;o.lineTo(v,m)}t.clearRect(0,0,n,r);var g=new Path2D(o);g.lineTo(u*(h.current.length+1),r),g.lineTo(0,r),g.lineTo(0,0);var y=t.createLinearGradient(0,0,0,r);y.addColorStop(0,l),y.addColorStop(1,f),t.fillStyle=y,t.fill(g),t.strokeStyle=a,t.lineJoin="round",t.lineWidth=14,t.stroke(o),t.strokeStyle=i,t.lineWidth=2,t.stroke(o)}}),[i,a,l,f]),g=function(e){var t=(0,r.useRef)(null),n=(0,r.useRef)(null),i=(0,r.useRef)(!1);return(0,r.useEffect)((function(){var r=cQ((function(){t.current.width=t.current.offsetWidth*window.devicePixelRatio,t.current.height=t.current.offsetHeight*window.devicePixelRatio,e(t.current,n.current)}),250);return window.addEventListener("resize",r),i.current||(r(),i.current=!0),function(){return window.removeEventListener("resize",r)}}),[e]),(0,r.useEffect)((function(){n.current=t.current.getContext("2d")}),[]),[t,n]}(m),y=(0,c.Z)(g,2),b=y[0],x=y[1];return(0,r.useImperativeHandle)(t,(function(){return{frame:function(e){(void 0===d.current||e<d.current)&&(d.current=e),(void 0===p.current||e>p.current)&&(p.current=e),function(e,t){e.push(t),e.length>100&&e.shift()}(h.current,e),v.current=requestAnimationFrame((function(){return m(b.current,x.current)}))}}}),[b,x,m]),(0,r.useEffect)((function(){return function(){return cancelAnimationFrame(v.current)}}),[]),r.createElement(_4,{ref:b})})),S4=function(e){return Number.isFinite(e)?e.toPrecision(2):e.toString()},k4=(0,r.forwardRef)((function(e,t){var n=e.initialValue,i=(0,r.useState)(S4(n)),a=(0,c.Z)(i,2),o=a[0],u=a[1];return(0,r.useImperativeHandle)(t,(function(){return{frame:function(e){return u(S4(e))}}}),[]),r.createElement("div",null,o)}));function M4(e){return"function"===typeof e?e():e.current}var E4=["type","label","key"],T4=(y3={},(0,u.Z)(y3,WJ.BUTTON,(function(e){var t=e.onClick,n=e.settings,i=e.label,a=kQ();return r.createElement(l0,null,r.createElement(y4,{disabled:n.disabled,onClick:function(){return t(a.get)}},i))})),(0,u.Z)(y3,WJ.BUTTON_GROUP,(function(e){var t=function(e){var t=e.label,n=e.opts,r="string"===typeof t&&""===t.trim()?null:t,i=n;return"object"===typeof n.opts&&(void 0!==i.label&&(r=n.label),i=n.opts),{label:r,opts:i}}(e),n=t.label,i=t.opts,a=kQ();return r.createElement(l0,{input:!!n},n&&r.createElement(i0,null,n),r.createElement(b4,null,Object.entries(i).map((function(e){var t=(0,c.Z)(e,2),n=t[0],i=t[1];return r.createElement(x4,{key:n,onClick:function(){return i(a.get)}},n)}))))})),(0,u.Z)(y3,WJ.MONITOR,(function(e){var t=e.label,n=e.objectOrFn,i=e.settings,a=(0,r.useRef)(),o=(0,r.useRef)(M4(n));return(0,r.useEffect)((function(){var e=window.setInterval((function(){var e;document.hidden||null===(e=a.current)||void 0===e||e.frame(M4(n))}),i.interval);return function(){return window.clearInterval(e)}}),[n,i.interval]),r.createElement(l0,{input:!0},r.createElement(i0,{align:"top"},t),i.graph?r.createElement(w4,{ref:a,initialValue:o.current}):r.createElement(k4,{ref:a,initialValue:o.current}))})),y3),A4=r.memo((function(e){var t=e.path,n=function(e){var t=kQ(),n=(0,r.useState)(p0(t.getData(),e)),i=(0,c.Z)(n,2),a=i[0],o=i[1],u=(0,r.useCallback)((function(n){return t.setValueAtPath(e,n,!0)}),[e,t]),s=(0,r.useCallback)((function(n){return t.setSettingsAtPath(e,n)}),[e,t]),l=(0,r.useCallback)((function(n){return t.disableInputAtPath(e,n)}),[e,t]),f=(0,r.useCallback)((function(){return t.emitOnEditStart(e)}),[e,t]),h=(0,r.useCallback)((function(){return t.emitOnEditEnd(e)}),[e,t]);return(0,r.useEffect)((function(){o(p0(t.getData(),e));var n=t.useStore.subscribe((function(t){return p0(t.data,e)}),o,{equalityFn:MX});return function(){return n()}}),[t,e]),[a,{set:u,setSettings:s,disable:l,storeId:t.storeId,emitOnEditStart:f,emitOnEditEnd:h}]}(t),i=(0,c.Z)(n,2),a=i[0],o=i[1],u=o.set,s=o.setSettings,l=o.disable,f=o.storeId,h=o.emitOnEditStart,d=o.emitOnEditEnd;if(!a)return null;var p=a.type,v=a.label,m=a.key,g=SJ(a,E4);if(p in WJ){var y=T4[p];return r.createElement(y,yQ({label:v,path:t},g))}return p in LJ?r.createElement(g4,yQ({key:f+t,type:p,label:v,storeId:f,path:t,valueKey:m,setValue:u,setSettings:s,disable:l,emitOnEditStart:h,emitOnEditEnd:d},g)):(TJ(yJ.UNSUPPORTED_INPUT,p,t),null)})),C4=function(e){var t=e.name,n=e.path,i=e.tree,a=kQ(),o=w3(n,t),u=a.getFolderSettings(o),s=u.collapsed,l=u.color,f=(0,r.useState)(!s),h=(0,c.Z)(f,2),d=h[0],p=h[1],v=(0,r.useRef)(null),m=LQ("colors","folderWidgetColor"),g=LQ("colors","folderTextColor");return(0,r.useLayoutEffect)((function(){v.current.style.setProperty("--leva-colors-folderWidgetColor",l||m),v.current.style.setProperty("--leva-colors-folderTextColor",l||g)}),[l,m,g]),r.createElement(jQ,{ref:v},r.createElement(v4,{name:t,toggled:d,toggle:function(){return p((function(e){return!e}))}}),r.createElement(R4,{parent:o,tree:i,toggled:d}))},R4=r.memo((function(e){var t=e.isRoot,n=void 0!==t&&t,i=e.fill,a=void 0!==i&&i,o=e.flat,u=void 0!==o&&o,s=e.parent,l=e.tree,f=e.toggled,h=function(e){var t=(0,r.useRef)(null),n=(0,r.useRef)(null),i=(0,r.useRef)(!0);return(0,r.useLayoutEffect)((function(){e||(t.current.style.height="0px",t.current.style.overflow="hidden")}),[]),(0,r.useEffect)((function(){if(!i.current){var r,a=t.current,o=function(){e&&(a.style.removeProperty("height"),a.style.removeProperty("overflow"),n.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};a.addEventListener("transitionend",o,{once:!0});var u=n.current.getBoundingClientRect().height;return a.style.height=u+"px",e||(a.style.overflow="hidden",r=window.setTimeout((function(){return a.style.height="0px"}),50)),function(){a.removeEventListener("transitionend",o),clearTimeout(r)}}i.current=!1}),[e]),{wrapperRef:t,contentRef:n}}(f),d=h.wrapperRef,p=h.contentRef;return r.createElement(HQ,{ref:d,isRoot:n,fill:a,flat:u},r.createElement(GQ,{ref:p,isRoot:n,toggled:f},Object.entries(l).map((function(e){var t=(0,c.Z)(e,2),n=t[0],i=t[1];return function(e){return"__levaInput"in e}(i)?r.createElement(A4,{key:i.path,valueKey:i.valueKey,path:i.path}):r.createElement(C4,{key:n,name:n,path:s,tree:i})}))))})),P4=AQ("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:(0,u.Z)({},"".concat(VQ),{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"})},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),L4=AQ("i",{$flexCenter:"",width:40,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),O4=AQ("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),I4=AQ("div",(b3={$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md"},(0,u.Z)(b3,"> ".concat(L4),{height:30}),(0,u.Z)(b3,"variants",{toggled:{true:{height:30},false:{height:0}}}),b3)),D4=AQ("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),N4=AQ("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:40}}}}),z4=r.forwardRef((function(e,t){var n=e.setFilter,i=e.toggle,a=(0,r.useState)(""),o=(0,c.Z)(a,2),u=o[0],s=o[1],l=(0,r.useMemo)((function(){return cQ(n,250)}),[n]);return(0,r.useEffect)((function(){l(u)}),[u,l]),r.createElement(r.Fragment,null,r.createElement(D4,{ref:t,value:u,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:function(e){return e.stopPropagation()},onChange:function(e){var t=e.currentTarget.value;i(!0),s(t)}}),r.createElement(L4,{onClick:function(){return n(""),void s("")},style:{visibility:u?"visible":"hidden"}},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},r.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))}));function F4(e){var t=e.setFilter,n=e.onDrag,i=e.toggle,a=e.toggled,o=e.title,u=e.drag,s=e.filterEnabled,l=(0,r.useState)(!1),f=(0,c.Z)(l,2),h=f[0],d=f[1],p=(0,r.useRef)(null);(0,r.useEffect)((function(){var e,t;h?null===(e=p.current)||void 0===e||e.focus():null===(t=p.current)||void 0===t||t.blur()}),[h]);var v=f0((function(e){var t=(0,c.Z)(e.offset,2),r=t[0],i=t[1];return n({x:r,y:i})}),{filterTaps:!0});return(0,r.useEffect)((function(){var e=function(e){"L"===e.key&&e.shiftKey&&e.metaKey&&d((function(e){return!e}))};return window.addEventListener("keydown",e),function(){return window.removeEventListener("keydown",e)}}),[]),r.createElement(r.Fragment,null,r.createElement(O4,{mode:u?"drag":void 0},r.createElement(L4,{active:!a,onClick:function(){return i()}},r.createElement(u0,{toggled:a,width:12,height:8})),r.createElement(N4,yQ({},u?v():{},{drag:u,filterEnabled:s}),void 0===o&&u?r.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},r.createElement("circle",{cx:"2",cy:"2",r:"2"}),r.createElement("circle",{cx:"14",cy:"2",r:"2"}),r.createElement("circle",{cx:"26",cy:"2",r:"2"}),r.createElement("circle",{cx:"2",cy:"12",r:"2"}),r.createElement("circle",{cx:"14",cy:"12",r:"2"}),r.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),s&&r.createElement(L4,{active:h,onClick:function(){return d((function(e){return!e}))}},r.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},r.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),r.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),r.createElement(I4,{toggled:h},r.createElement(z4,{ref:p,setFilter:t,toggle:i})))}var B4=["store","hidden","theme","collapsed"];function U4(e){var t=e.store,n=e.hidden,i=void 0!==n&&n,a=e.theme,o=e.collapsed,u=void 0!==o&&o,s=SJ(e,B4),l=S3((function(){return function(e){var t={colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}};if(!e)return{theme:t,className:""};Object.keys(e).forEach((function(n){Object.assign(t[n],e[n])}));var n=CQ(t);return{theme:t,className:n.className}}(a)}),[a]),f=(0,r.useState)(!u),h=(0,c.Z)(f,2),d=h[0],p=h[1],v="object"===typeof u?!u.collapsed:d,m=(0,r.useMemo)((function(){return"object"===typeof u?function(e){"function"===typeof e?u.onChange(!e(!u.collapsed)):u.onChange(!e)}:p}),[u]);return!t||i?null:r.createElement(_Q.Provider,{value:l},r.createElement(j4,yQ({store:t},s,{toggled:v,setToggle:m,rootClass:l.className})))}var j4=r.memo((function(e){var t,n,i=e.store,a=e.rootClass,o=e.fill,s=void 0!==o&&o,l=e.flat,f=void 0!==l&&l,h=e.neverHide,d=void 0!==h&&h,p=e.oneLineLabels,v=void 0!==p&&p,m=e.titleBar,g=void 0===m?{title:void 0,drag:!0,filter:!0}:m,y=e.hideCopyButton,b=void 0!==y&&y,x=e.toggled,_=e.setToggle,w=function(e){var t=(0,r.useState)(e.getVisiblePaths()),n=(0,c.Z)(t,2),i=n[0],a=n[1];return(0,r.useEffect)((function(){a(e.getVisiblePaths());var t=e.useStore.subscribe(e.getVisiblePaths,a,{equalityFn:MX});return function(){return t()}}),[e]),i}(i),S=(0,r.useState)(""),k=(0,c.Z)(S,2),M=k[0],E=k[1],T=(0,r.useMemo)((function(){return function(e,t){var n={},r=t?t.toLowerCase():null;return e.forEach((function(e){var t=function(e){var t=e.split(".");return[t.pop(),t.join(".")||void 0]}(e),i=(0,c.Z)(t,2),a=i[0],o=i[1];(!r||a.toLowerCase().indexOf(r)>-1)&&_3()(n,o,(0,u.Z)({},a,{__levaInput:!0,path:e}))})),n}(w,M)}),[w,M]),A=h0(),C=(0,c.Z)(A,2),R=C[0],P=C[1],L=d||w.length>0,O="object"===typeof g&&g.title||void 0,I="object"!==typeof g||(null===(t=g.drag)||void 0===t||t),D="object"!==typeof g||(null===(n=g.filter)||void 0===n||n);return PQ(),r.createElement(SQ.Provider,{value:{hideCopyButton:b}},r.createElement(P4,{ref:R,className:a,fill:s,flat:f,oneLineLabels:v,hideTitleBar:!g,style:{display:L?"block":"none"}},g&&r.createElement(F4,{onDrag:P,setFilter:E,toggle:function(e){return _((function(t){return null!==e&&void 0!==e?e:!t}))},toggled:x,title:O,drag:I,filterEnabled:D}),L&&r.createElement(wQ.Provider,{value:i},r.createElement(R4,{isRoot:!0,fill:s,flat:f,tree:T,toggled:x}))))})),H4=["isRoot"],Z4=!1,G4=null;function W4(e){var t=e.isRoot,n=void 0!==t&&t,i=SJ(e,H4);return(0,r.useEffect)((function(){return Z4=!0,!n&&G4&&(G4.remove(),G4=null),function(){n||(Z4=!1)}}),[n]),r.createElement(U4,yQ({store:c4},i))}function V4(e,t,n,i,a){var o=function(e,t,n,r,i){var a,o,u,s,l=void 0;return"string"===typeof e?(l=e,a=t,Array.isArray(n)?s=n:n&&("store"in n?(u=n,s=r):(o=n,Array.isArray(r)?s=r:(u=r,s=i)))):(a=e,Array.isArray(t)?s=t:(u=t,s=n)),{schema:a,folderName:l,folderSettings:o,hookSettings:u,deps:s||[]}}(e,t,n,i,a),s=o.folderName,l=o.schema,f=o.folderSettings,h=o.hookSettings,d=o.deps,p="function"===typeof l,v=(0,r.useRef)(!1),m=(0,r.useRef)(!0),g=S3((function(){v.current=!0;var e="function"===typeof l?l():l;return s?(0,u.Z)({},s,h4(e,f)):e}),d);!function(e){(0,r.useEffect)((function(){e&&!Z4&&(G4||(G4=document.getElementById("leva__root")||Object.assign(document.createElement("div"),{id:"leva__root"}),document.body&&(document.body.appendChild(G4),bX.render(r.createElement(W4,{isRoot:!0}),G4))),Z4=!0)}),[e])}(!(null!==h&&void 0!==h&&h.store));var y=(0,r.useState)((function(){return(null===h||void 0===h?void 0:h.store)||c4})),b=(0,c.Z)(y,1)[0],x=(0,r.useMemo)((function(){return b.getDataFromSchema(g)}),[b,g]),_=(0,c.Z)(x,2),w=_[0],S=_[1],k=(0,r.useMemo)((function(){var e=[],t=[],n={},r={},i={};return Object.values(S).forEach((function(a){var o=a.path,u=a.onChange,s=a.onEditStart,l=a.onEditEnd,c=a.transient;e.push(o),u?(n[o]=u,c||t.push(o)):t.push(o),s&&(r[o]=s),l&&(i[o]=l)})),[e,t,n,r,i]}),[S]),M=(0,c.Z)(k,5),E=M[0],T=M[1],A=M[2],C=M[3],R=M[4],P=(0,r.useMemo)((function(){return b.orderPaths(E)}),[E,b]),L=k3(b,T,w),O=(0,r.useCallback)((function(e){var t=Object.entries(e).reduce((function(e,t){var n=(0,c.Z)(t,2),r=n[0],i=n[1];return Object.assign(e,(0,u.Z)({},S[r].path,i))}),{});b.set(t,!1)}),[b,S]);return(0,r.useEffect)((function(){var e=!m.current&&v.current;return b.addData(w,e),m.current=!1,v.current=!1,function(){return b.disposePaths(P)}}),[b,P,w]),(0,r.useEffect)((function(){var e=[];return Object.entries(A).forEach((function(t){var n=(0,c.Z)(t,2),r=n[0],i=n[1];i(b.get(r),r,UJ({initial:!0,get:b.get},b.getInput(r)));var a=b.useStore.subscribe((function(e){var t=e.data[r];return[t.disabled?void 0:t.value,t]}),(function(e){var t=(0,c.Z)(e,2),n=t[0],a=t[1];return i(n,r,UJ({initial:!1,get:b.get},a))}),{equalityFn:MX});e.push(a)})),function(){return e.forEach((function(e){return e()}))}}),[b,A]),(0,r.useEffect)((function(){var e=[];return Object.entries(C).forEach((function(t){var n=(0,c.Z)(t,2),r=n[0],i=n[1];return e.push(b.subscribeToEditStart(r,i))})),Object.entries(R).forEach((function(t){var n=(0,c.Z)(t,2),r=n[0],i=n[1];return e.push(b.subscribeToEditEnd(r,i))})),function(){return e.forEach((function(e){return e()}))}}),[C,R,b]),p?[L,O]:L}IJ(VJ.SELECT,R0),IJ(VJ.IMAGE,K3),IJ(VJ.NUMBER,k0),IJ(VJ.COLOR,D3),IJ(VJ.STRING,D0),IJ(VJ.BOOLEAN,B0),IJ(VJ.INTERVAL,o4),IJ(VJ.VECTOR3D,N3),IJ(VJ.VECTOR2D,Z3);var q4=function(e){return[3,98]},X4=function(e){return[0,e[1]]},$4=function(e){return[0,Math.max(400,e[1])]},Y4=function(){return[0,100]},K4={n:7,rainbow:["#000066","#4400ff","#00ddff","#00ddaa","#00dd00","#aadd00","#ffcc00","#ff8800","#ff0000","#660000"],soil:["#2244AA","#4A8FC2","#76A5B1","#9DBCA2","#C3D392","#F8E571","#F2B659","#eb6424","#D63128","#660000"],customschemeCategory:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#bcbd22","#17becf"],schemeCategory20:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],customFunc:function(e){var t=this.n,n=this[e],r=n.length,i=Uw(0,r).map((function(e){return e/(r-1)})),a=DB().domain(i).range(n).interpolate(IF);return Uw(0,t).map((function(e){return a(e/(t-1))}))},d3colorChosefunc:function(e,n){var r=null!==n&&void 0!==n?n:this.n,i=t["scheme".concat(e)],a=[];if(i)a="string"!==typeof i[0]?(i[r]||i[i.length-1]).slice():i.slice();else{var o=t["interpolate".concat(e)];a=[];for(var u=0;u<r;++u)a.push(kM(o(u/(r-1))).hex())}return a=this.customFunc(void 0,a,r)}};Gj(".%L"),Gj(":%S"),Gj("%I:%M"),Gj("%I %p"),Gj("%a %d"),Gj("%b %d"),Gj("%B"),Gj("%Y");new Wi,new Cr,new Zr,new Zr(0,0,0),new Zr(0,0,1);var J4={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)},Out:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin(5*(e-.1)*Math.PI)+1},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?-.5*Math.pow(2,10*(e-1))*Math.sin(5*(e-1.1)*Math.PI):.5*Math.pow(2,-10*(e-1))*Math.sin(5*(e-1.1)*Math.PI)+1}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-J4.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*J4.Bounce.In(2*e):.5*J4.Bounce.Out(2*e-1)+.5}}},Q4="undefined"===typeof self&&"undefined"!==typeof process&&process.hrtime?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!==typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},e5=function(){function e(){this._tweens={},this._tweensAddedDuringUpdate={}}return e.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map((function(t){return e._tweens[t]}))},e.prototype.removeAll=function(){this._tweens={}},e.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},e.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},e.prototype.update=function(e,t){void 0===e&&(e=Q4()),void 0===t&&(t=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<n.length;r++){var i=this._tweens[n[r]],a=!t;i&&!1===i.update(e,a)&&!t&&delete this._tweens[n[r]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},e}(),t5={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),a=t5.Utils.Linear;return t<0?a(e[0],e[1],r):t>1?a(e[n],e[n-1],n-r):a(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){for(var n=0,r=e.length-1,i=Math.pow,a=t5.Utils.Bernstein,o=0;o<=r;o++)n+=i(1-t,r-o)*i(t,o)*e[o]*a(r,o);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),a=t5.Utils.CatmullRom;return e[0]===e[n]?(t<0&&(i=Math.floor(r=n*(1+t))),a(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):t<0?e[0]-(a(e[0],e[0],e[1],e[1],-r)-e[0]):t>1?e[n]-(a(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):a(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=t5.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1;if(e[t])return e[t];for(var r=t;r>1;r--)n*=r;return e[t]=n,n}}(),CatmullRom:function(e,t,n,r,i){var a=.5*(n-e),o=.5*(r-t),u=i*i;return(2*t-2*n+a+o)*(i*u)+(-3*t+3*n-2*a-o)*u+a*i+t}}},n5=function(){function e(){}return e.nextId=function(){return e._nextId++},e._nextId=0,e}(),r5=new e5,i5=function(){function e(e,t){void 0===t&&(t=r5),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=J4.Linear.None,this._interpolationFunction=t5.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=n5.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return e.prototype.getId=function(){return this._id},e.prototype.isPlaying=function(){return this._isPlaying},e.prototype.isPaused=function(){return this._isPaused},e.prototype.to=function(e,t){return this._valuesEnd=Object.create(e),void 0!==t&&(this._duration=t),this},e.prototype.duration=function(e){return this._duration=e,this},e.prototype.start=function(e){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var t in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(t),this._valuesStart[t]=this._valuesStartRepeat[t];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==e?"string"===typeof e?Q4()+parseFloat(e):e:Q4(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},e.prototype._setupProperties=function(e,t,n,r){for(var i in n){var a=e[i],o=Array.isArray(a),u=o?"array":typeof a,s=!o&&Array.isArray(n[i]);if("undefined"!==u&&"function"!==u){if(s){var l=n[i];if(0===l.length)continue;l=l.map(this._handleRelativeValue.bind(this,a)),n[i]=[a].concat(l)}if("object"!==u&&!o||!a||s)"undefined"===typeof t[i]&&(t[i]=a),o||(t[i]*=1),r[i]=s?n[i].slice().reverse():t[i]||0;else{for(var c in t[i]=o?[]:{},a)t[i][c]=a[c];r[i]=o?[]:{},this._setupProperties(a,t[i],n[i],r[i])}}}},e.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},e.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},e.prototype.pause=function(e){return void 0===e&&(e=Q4()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this)),this},e.prototype.resume=function(e){return void 0===e&&(e=Q4()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},e.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},e.prototype.group=function(e){return this._group=e,this},e.prototype.delay=function(e){return this._delayTime=e,this},e.prototype.repeat=function(e){return this._initialRepeat=e,this._repeat=e,this},e.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},e.prototype.yoyo=function(e){return this._yoyo=e,this},e.prototype.easing=function(e){return this._easingFunction=e,this},e.prototype.interpolation=function(e){return this._interpolationFunction=e,this},e.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},e.prototype.onStart=function(e){return this._onStartCallback=e,this},e.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},e.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},e.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},e.prototype.onStop=function(e){return this._onStopCallback=e,this},e.prototype.update=function(e,t){if(void 0===e&&(e=Q4()),void 0===t&&(t=!0),this._isPaused)return!0;var n,r,i=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>i)return!1;t&&this.start(e)}if(this._goToEnd=!1,e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),r=(e-this._startTime)/this._duration,r=0===this._duration||r>1?1:r;var a=this._easingFunction(r);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,r),1===r){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!==typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=e+this._repeatDelayTime:this._startTime=e+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var o=0,u=this._chainedTweens.length;o<u;o++)this._chainedTweens[o].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},e.prototype._updateProperties=function(e,t,n,r){for(var i in n)if(void 0!==t[i]){var a=t[i]||0,o=n[i],u=Array.isArray(e[i]),s=Array.isArray(o);!u&&s?e[i]=this._interpolationFunction(o,r):"object"===typeof o&&o?this._updateProperties(e[i],a,o,r):"number"===typeof(o=this._handleRelativeValue(a,o))&&(e[i]=a+(o-a)*r)}},e.prototype._handleRelativeValue=function(e,t){return"string"!==typeof t?t:"+"===t.charAt(0)||"-"===t.charAt(0)?e+parseFloat(t):parseFloat(t)},e.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],n=this._valuesEnd[e];this._valuesStartRepeat[e]="string"===typeof n?this._valuesStartRepeat[e]+parseFloat(n):this._valuesEnd[e],this._valuesEnd[e]=t},e}(),a5=(n5.nextId,r5),o5=(a5.getAll.bind(a5),a5.removeAll.bind(a5),a5.add.bind(a5),a5.remove.bind(a5),a5.update.bind(a5)),u5=function(e,t){return(e%t+t)%t},s5=function(e){E(n,e);var t=P(n);function n(e,r){var i;S(this,n),i=t.call(this),(0,u.Z)(C(i),"object",void 0),(0,u.Z)(C(i),"domElement",void 0),(0,u.Z)(C(i),"enabled",!0),(0,u.Z)(C(i),"target",new Zr),(0,u.Z)(C(i),"minDistance",0),(0,u.Z)(C(i),"maxDistance",1/0),(0,u.Z)(C(i),"minZoom",0),(0,u.Z)(C(i),"maxZoom",1/0),(0,u.Z)(C(i),"minPolarAngle",0),(0,u.Z)(C(i),"maxPolarAngle",Math.PI),(0,u.Z)(C(i),"minAzimuthAngle",-1/0),(0,u.Z)(C(i),"maxAzimuthAngle",1/0),(0,u.Z)(C(i),"enableDamping",!1),(0,u.Z)(C(i),"dampingFactor",.05),(0,u.Z)(C(i),"enableZoom",!0),(0,u.Z)(C(i),"zoomSpeed",1),(0,u.Z)(C(i),"enableRotate",!0),(0,u.Z)(C(i),"rotateSpeed",1),(0,u.Z)(C(i),"enablePan",!0),(0,u.Z)(C(i),"panSpeed",1),(0,u.Z)(C(i),"screenSpacePanning",!0),(0,u.Z)(C(i),"keyPanSpeed",7),(0,u.Z)(C(i),"autoRotate",!1),(0,u.Z)(C(i),"autoRotateSpeed",2),(0,u.Z)(C(i),"reverseOrbit",!1),(0,u.Z)(C(i),"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),(0,u.Z)(C(i),"mouseButtons",{LEFT:U.ROTATE,MIDDLE:U.DOLLY,RIGHT:U.PAN}),(0,u.Z)(C(i),"touches",{ONE:j.ROTATE,TWO:j.DOLLY_PAN}),(0,u.Z)(C(i),"target0",void 0),(0,u.Z)(C(i),"position0",void 0),(0,u.Z)(C(i),"zoom0",void 0),(0,u.Z)(C(i),"_domElementKeyEvents",null),(0,u.Z)(C(i),"getPolarAngle",void 0),(0,u.Z)(C(i),"getAzimuthalAngle",void 0),(0,u.Z)(C(i),"setPolarAngle",void 0),(0,u.Z)(C(i),"setAzimuthalAngle",void 0),(0,u.Z)(C(i),"getDistance",void 0),(0,u.Z)(C(i),"listenToKeyEvents",void 0),(0,u.Z)(C(i),"saveState",void 0),(0,u.Z)(C(i),"reset",void 0),(0,u.Z)(C(i),"update",void 0),(0,u.Z)(C(i),"connect",void 0),(0,u.Z)(C(i),"dispose",void 0),i.object=e,i.domElement=r,i.target0=i.target.clone(),i.position0=i.object.position.clone(),i.zoom0=i.object instanceof Ja?i.object.zoom:1,i.getPolarAngle=function(){return d.phi},i.getAzimuthalAngle=function(){return d.theta},i.setPolarAngle=function(e){var t=u5(e,2*Math.PI),n=d.phi;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),p.phi=t-n,a.update()},i.setAzimuthalAngle=function(e){var t=u5(e,2*Math.PI),n=d.theta;n<0&&(n+=2*Math.PI),t<0&&(t+=2*Math.PI);var r=Math.abs(t-n);2*Math.PI-r<r&&(t<n?t+=2*Math.PI:n+=2*Math.PI),p.theta=t-n,a.update()},i.getDistance=function(){return a.object.position.distanceTo(a.target)},i.listenToKeyEvents=function(e){e.addEventListener("keydown",ee),i._domElementKeyEvents=e},i.saveState=function(){a.target0.copy(a.target),a.position0.copy(a.object.position),a.zoom0=a.object instanceof Ja?a.object.zoom:1},i.reset=function(){a.target.copy(a.target0),a.object.position.copy(a.position0),a.object instanceof Ja&&(a.object.zoom=a.zoom0,a.object.updateProjectionMatrix()),a.dispatchEvent(o),a.update(),f=c.NONE},i.update=function(){var t=new Zr,n=(new Hr).setFromUnitVectors(e.up,new Zr(0,1,0)),r=n.clone().invert(),i=new Zr,u=new Hr,s=2*Math.PI;return function(){var e=a.object.position;t.copy(e).sub(a.target),t.applyQuaternion(n),d.setFromVector3(t),a.autoRotate&&f===c.NONE&&L(2*Math.PI/60/60*a.autoRotateSpeed),a.enableDamping?(d.theta+=p.theta*a.dampingFactor,d.phi+=p.phi*a.dampingFactor):(d.theta+=p.theta,d.phi+=p.phi);var l=a.minAzimuthAngle,y=a.maxAzimuthAngle;return isFinite(l)&&isFinite(y)&&(l<-Math.PI?l+=s:l>Math.PI&&(l-=s),y<-Math.PI?y+=s:y>Math.PI&&(y-=s),d.theta=l<=y?Math.max(l,Math.min(y,d.theta)):d.theta>(l+y)/2?Math.max(l,d.theta):Math.min(y,d.theta)),d.phi=Math.max(a.minPolarAngle,Math.min(a.maxPolarAngle,d.phi)),d.makeSafe(),d.radius*=v,d.radius=Math.max(a.minDistance,Math.min(a.maxDistance,d.radius)),!0===a.enableDamping?a.target.addScaledVector(m,a.dampingFactor):a.target.add(m),t.setFromSpherical(d),t.applyQuaternion(r),e.copy(a.target).add(t),a.object.lookAt(a.target),!0===a.enableDamping?(p.theta*=1-a.dampingFactor,p.phi*=1-a.dampingFactor,m.multiplyScalar(1-a.dampingFactor)):(p.set(0,0,0),m.set(0,0,0)),v=1,!!(g||i.distanceToSquared(a.object.position)>h||8*(1-u.dot(a.object.quaternion))>h)&&(a.dispatchEvent(o),i.copy(a.object.position),u.copy(a.object.quaternion),g=!1,!0)}}(),i.connect=function(e){e===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),a.domElement=e,a.domElement.style.touchAction="none",a.domElement.addEventListener("contextmenu",te),a.domElement.addEventListener("pointerdown",$),a.domElement.addEventListener("pointercancel",J),a.domElement.addEventListener("wheel",Q)},i.dispose=function(){var e,t,n,r,i,o;null===(e=a.domElement)||void 0===e||e.removeEventListener("contextmenu",te),null===(t=a.domElement)||void 0===t||t.removeEventListener("pointerdown",$),null===(n=a.domElement)||void 0===n||n.removeEventListener("pointercancel",J),null===(r=a.domElement)||void 0===r||r.removeEventListener("wheel",Q),null===(i=a.domElement)||void 0===i||i.ownerDocument.removeEventListener("pointermove",Y),null===(o=a.domElement)||void 0===o||o.ownerDocument.removeEventListener("pointerup",K),null!==a._domElementKeyEvents&&a._domElementKeyEvents.removeEventListener("keydown",ee)};var a=C(i),o={type:"change"},s={type:"start"},l={type:"end"},c={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},f=c.NONE,h=1e-6,d=new Rd,p=new Rd,v=1,m=new Zr,g=!1,y=new hr,b=new hr,x=new hr,_=new hr,w=new hr,k=new hr,M=new hr,E=new hr,T=new hr,A=[],R={};function P(){return Math.pow(.95,a.zoomSpeed)}function L(e){a.reverseOrbit?p.theta+=e:p.theta-=e}function O(e){a.reverseOrbit?p.phi+=e:p.phi-=e}var I=function(){var e=new Zr;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),m.add(e)}}(),D=function(){var e=new Zr;return function(t,n){!0===a.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(a.object.up,e)),e.multiplyScalar(t),m.add(e)}}(),N=function(){var e=new Zr;return function(t,n){var r=a.domElement;if(r&&a.object instanceof Ja&&a.object.isPerspectiveCamera){var i=a.object.position;e.copy(i).sub(a.target);var o=e.length();o*=Math.tan(a.object.fov/2*Math.PI/180),I(2*t*o/r.clientHeight,a.object.matrix),D(2*n*o/r.clientHeight,a.object.matrix)}else r&&a.object instanceof So&&a.object.isOrthographicCamera?(I(t*(a.object.right-a.object.left)/a.object.zoom/r.clientWidth,a.object.matrix),D(n*(a.object.top-a.object.bottom)/a.object.zoom/r.clientHeight,a.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),a.enablePan=!1)}}();function z(e){a.object instanceof Ja&&a.object.isPerspectiveCamera?v/=e:a.object instanceof So&&a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom*e)),a.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function F(e){a.object instanceof Ja&&a.object.isPerspectiveCamera?v*=e:a.object instanceof So&&a.object.isOrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/e)),a.object.updateProjectionMatrix(),g=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function B(e){y.set(e.clientX,e.clientY)}function H(e){_.set(e.clientX,e.clientY)}function Z(){if(1==A.length)y.set(A[0].pageX,A[0].pageY);else{var e=.5*(A[0].pageX+A[1].pageX),t=.5*(A[0].pageY+A[1].pageY);y.set(e,t)}}function G(){if(1==A.length)_.set(A[0].pageX,A[0].pageY);else{var e=.5*(A[0].pageX+A[1].pageX),t=.5*(A[0].pageY+A[1].pageY);_.set(e,t)}}function W(){var e=A[0].pageX-A[1].pageX,t=A[0].pageY-A[1].pageY,n=Math.sqrt(e*e+t*t);M.set(0,n)}function V(e){if(1==A.length)b.set(e.pageX,e.pageY);else{var t=ie(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);b.set(n,r)}x.subVectors(b,y).multiplyScalar(a.rotateSpeed);var i=a.domElement;i&&(L(2*Math.PI*x.x/i.clientHeight),O(2*Math.PI*x.y/i.clientHeight)),y.copy(b)}function q(e){if(1==A.length)w.set(e.pageX,e.pageY);else{var t=ie(e),n=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);w.set(n,r)}k.subVectors(w,_).multiplyScalar(a.panSpeed),N(k.x,k.y),_.copy(w)}function X(e){var t=ie(e),n=e.pageX-t.x,r=e.pageY-t.y,i=Math.sqrt(n*n+r*r);E.set(0,i),T.set(0,Math.pow(E.y/M.y,a.zoomSpeed)),z(T.y),M.copy(E)}function $(e){if(!1!==a.enabled){var t,n;if(0===A.length)null===(t=a.domElement)||void 0===t||t.ownerDocument.addEventListener("pointermove",Y),null===(n=a.domElement)||void 0===n||n.ownerDocument.addEventListener("pointerup",K);!function(e){A.push(e)}(e),"touch"===e.pointerType?function(e){switch(re(e),A.length){case 1:switch(a.touches.ONE){case j.ROTATE:if(!1===a.enableRotate)return;Z(),f=c.TOUCH_ROTATE;break;case j.PAN:if(!1===a.enablePan)return;G(),f=c.TOUCH_PAN;break;default:f=c.NONE}break;case 2:switch(a.touches.TWO){case j.DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;a.enableZoom&&W(),a.enablePan&&G(),f=c.TOUCH_DOLLY_PAN;break;case j.DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;a.enableZoom&&W(),a.enableRotate&&Z(),f=c.TOUCH_DOLLY_ROTATE;break;default:f=c.NONE}break;default:f=c.NONE}f!==c.NONE&&a.dispatchEvent(s)}(e):function(e){var t;switch(e.button){case 0:t=a.mouseButtons.LEFT;break;case 1:t=a.mouseButtons.MIDDLE;break;case 2:t=a.mouseButtons.RIGHT;break;default:t=-1}switch(t){case U.DOLLY:if(!1===a.enableZoom)return;!function(e){M.set(e.clientX,e.clientY)}(e),f=c.DOLLY;break;case U.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enablePan)return;H(e),f=c.PAN}else{if(!1===a.enableRotate)return;B(e),f=c.ROTATE}break;case U.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===a.enableRotate)return;B(e),f=c.ROTATE}else{if(!1===a.enablePan)return;H(e),f=c.PAN}break;default:f=c.NONE}f!==c.NONE&&a.dispatchEvent(s)}(e)}}function Y(e){!1!==a.enabled&&("touch"===e.pointerType?function(e){switch(re(e),f){case c.TOUCH_ROTATE:if(!1===a.enableRotate)return;V(e),a.update();break;case c.TOUCH_PAN:if(!1===a.enablePan)return;q(e),a.update();break;case c.TOUCH_DOLLY_PAN:if(!1===a.enableZoom&&!1===a.enablePan)return;!function(e){a.enableZoom&&X(e),a.enablePan&&q(e)}(e),a.update();break;case c.TOUCH_DOLLY_ROTATE:if(!1===a.enableZoom&&!1===a.enableRotate)return;!function(e){a.enableZoom&&X(e),a.enableRotate&&V(e)}(e),a.update();break;default:f=c.NONE}}(e):function(e){if(!1===a.enabled)return;switch(f){case c.ROTATE:if(!1===a.enableRotate)return;!function(e){b.set(e.clientX,e.clientY),x.subVectors(b,y).multiplyScalar(a.rotateSpeed);var t=a.domElement;t&&(L(2*Math.PI*x.x/t.clientHeight),O(2*Math.PI*x.y/t.clientHeight)),y.copy(b),a.update()}(e);break;case c.DOLLY:if(!1===a.enableZoom)return;!function(e){E.set(e.clientX,e.clientY),T.subVectors(E,M),T.y>0?z(P()):T.y<0&&F(P()),M.copy(E),a.update()}(e);break;case c.PAN:if(!1===a.enablePan)return;!function(e){w.set(e.clientX,e.clientY),k.subVectors(w,_).multiplyScalar(a.panSpeed),N(k.x,k.y),_.copy(w),a.update()}(e)}}(e))}function K(e){var t,n,r;(ne(e),0===A.length)&&(null===(t=a.domElement)||void 0===t||t.releasePointerCapture(e.pointerId),null===(n=a.domElement)||void 0===n||n.ownerDocument.removeEventListener("pointermove",Y),null===(r=a.domElement)||void 0===r||r.ownerDocument.removeEventListener("pointerup",K));a.dispatchEvent(l),f=c.NONE}function J(e){ne(e)}function Q(e){!1===a.enabled||!1===a.enableZoom||f!==c.NONE&&f!==c.ROTATE||(e.preventDefault(),a.dispatchEvent(s),function(e){e.deltaY<0?F(P()):e.deltaY>0&&z(P()),a.update()}(e),a.dispatchEvent(l))}function ee(e){!1!==a.enabled&&!1!==a.enablePan&&function(e){var t=!1;switch(e.code){case a.keys.UP:N(0,a.keyPanSpeed),t=!0;break;case a.keys.BOTTOM:N(0,-a.keyPanSpeed),t=!0;break;case a.keys.LEFT:N(a.keyPanSpeed,0),t=!0;break;case a.keys.RIGHT:N(-a.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),a.update())}(e)}function te(e){!1!==a.enabled&&e.preventDefault()}function ne(e){delete R[e.pointerId];for(var t=0;t<A.length;t++)if(A[t].pointerId==e.pointerId)return void A.splice(t,1)}function re(e){var t=R[e.pointerId];void 0===t&&(t=new hr,R[e.pointerId]=t),t.set(e.pageX,e.pageY)}function ie(e){var t=e.pointerId===A[0].pointerId?A[1]:A[0];return R[t.pointerId]}return void 0!==r&&i.connect(r),i.update(),i}return M(n)}(Jn),l5=["makeDefault","camera","regress","domElement","enableDamping","onChange","onStart","onEnd"],c5=r.forwardRef((function(e,t){var n=e.makeDefault,i=e.camera,a=e.regress,o=e.domElement,u=e.enableDamping,s=void 0===u||u,l=e.onChange,c=e.onStart,f=e.onEnd,d=h(e,l5),p=wm((function(e){return e.invalidate})),v=wm((function(e){return e.camera})),m=wm((function(e){return e.gl})),g=wm((function(e){return e.events})),y=wm((function(e){return e.set})),b=wm((function(e){return e.get})),x=wm((function(e){return e.performance})),_=i||v,w=o||g.connected||m.domElement,S=r.useMemo((function(){return new s5(_)}),[_]);return Sm((function(){S.enabled&&S.update()}),-1),r.useEffect((function(){return S.connect(w),function(){S.dispose()}}),[w,a,S,p]),r.useEffect((function(){var e=function(e){p(),a&&x.regress(),l&&l(e)};return S.addEventListener("change",e),c&&S.addEventListener("start",c),f&&S.addEventListener("end",f),function(){c&&S.removeEventListener("start",c),f&&S.removeEventListener("end",f),S.removeEventListener("change",e)}}),[l,c,f]),r.useEffect((function(){if(n){var e=b().controls;return y({controls:S}),function(){return y({controls:e})}}}),[n,S]),r.createElement("primitive",(0,Jm.Z)({ref:t,object:S,enableDamping:s},d))})),f5=["cameraAnimate"],h5=new Zr(-10,10,100),d5=new Ri(0,0,0),p5=(new Hr,new Rd,new xi,new Hr,r.forwardRef((function(e,t){e.cameraAnimate;var n=h(e,f5),i=wm().camera,a=(0,r.useRef)(null);return(0,r.useImperativeHandle)(t,(function(){return{pointOfView:function(){var e,t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=l(l({},i.position),{},{zoom:i.zoom}),s={x:null!==(e=r.lookAtX)&&void 0!==e?e:0,y:null!==(t=r.lookAtY)&&void 0!==t?t:0,z:null!==(n=r.lookAtZ)&&void 0!==n?n:0},c={t:0};d5.set(r.rx,r.ry,r.rz);var f=(new Hr).setFromEuler(d5);function h(e){var t,n,r,o,u,s=null!==(t=e.x)&&void 0!==t?t:i.position.x,l=null!==(n=e.y)&&void 0!==n?n:i.position.y,c=null!==(r=e.z)&&void 0!==r?r:i.position.z;(h5.set(s,l,c),a.current&&a.current.target)?(a.current.object.position.lerp(h5,1),a.current.object.zoom=null!==(o=e.zoom)&&void 0!==o?o:a.current.object.zoom,a.current.object.updateProjectionMatrix(),a.current.update()):(i.position.lerp(h5,1),i.zoom=null!==(u=e.zoom)&&void 0!==u?u:i.zoom,i.updateProjectionMatrix())}function d(e){var t=e.t;a.current&&a.current.target?(console.log(a.current.object.rotation),a.current.object.quaternion.slerp(f,t),a.current.object.updateProjectionMatrix(),a.current.update()):(i.quaternion.slerp(f,t),i.updateProjectionMatrix())}function p(){return a.current&&a.current.target?a.current.target:Object.assign(new Zr(0,0,0).applyQuaternion(i.quaternion).add(i.position))}function v(e){var t=e.x,n=e.y,r=e.z;h5.set(t,n,r),a.current&&a.current.target?(a.current.target.lerp(h5,1),a.current.update()):(i.lookAt(h5),i.updateProjectionMatrix())}new i5(u).to(r,o).easing(J4.Cubic.InOut).onUpdate((function(e){h(e)})).start(),new i5(c).to({t:1},o).easing(J4.Cubic.InOut).onUpdate((function(e){d(e)})).start(),new i5(p()).to(s,o).easing(J4.Cubic.InOut).onUpdate((function(e){v(e)})).start()},current:a.current}}),[i]),Sm((function(e){o5()})),(0,Zx.jsx)(c5,l({ref:a,makeDefault:!0,enableDamping:!1},n))}))),v5=p5;function m5(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var g5=n(8677),y5=n(8918),b5=n(3840),x5=n(3782),_5=/[A-Z]|^ms/g,w5=/_EMO_([^_]+?)_([^]*?)_EMO_/g,S5=function(e){return 45===e.charCodeAt(1)},k5=function(e){return null!=e&&"boolean"!==typeof e},M5=(0,x5.Z)((function(e){return S5(e)?e:e.replace(_5,"-$&").toLowerCase()})),E5=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(w5,(function(e,t,n){return A5={name:t,styles:n,next:A5},t}))}return 1===b5.Z[e]||S5(e)||"number"!==typeof t||0===t?t:t+"px"};function T5(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return A5={name:n.name,styles:n.styles,next:A5},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)A5={name:r.name,styles:r.styles,next:A5},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=T5(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":k5(o)&&(r+=M5(a)+":"+E5(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=T5(e,t,o);switch(a){case"animation":case"animationName":r+=M5(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)k5(o[s])&&(r+=M5(a)+":"+E5(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=A5,a=n(e);return A5=i,T5(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var A5,C5=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var R5=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";A5=void 0;var a=e[0];null==a||void 0===a.raw?(r=!1,i+=T5(n,t,a)):i+=a[0];for(var o=1;o<e.length;o++)i+=T5(n,t,e[o]),r&&(i+=a[o]);C5.lastIndex=0;for(var u,s="";null!==(u=C5.exec(i));)s+="-"+u[1];return{name:(0,y5.Z)(i)+s,styles:i,next:A5}},P5=n(5438);function L5(e,t){if(void 0===e.inserted[t.name])return e.insert("",t,e.sheet,!0)}function O5(e,t,n){var r=[],i=(0,P5.fp)(e,r,n);return r.length<2?n:i+t(r)}var I5=function e(t){for(var n="",r=0;r<t.length;r++){var i=t[r];if(null!=i){var a=void 0;switch(typeof i){case"boolean":break;case"object":if(Array.isArray(i))a=e(i);else for(var o in a="",i)i[o]&&o&&(a&&(a+=" "),a+=o);break;default:a=i}a&&(n&&(n+=" "),n+=a)}}return n},D5=function(e){var t=(0,g5.Z)(e);t.sheet.speedy=function(e){this.isSpeedy=e},t.compat=!0;var n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=R5(n,t.registered,void 0);return(0,P5.My)(t,i,!1),t.key+"-"+i.name};return{css:n,cx:function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return O5(t.registered,n,I5(r))},injectGlobal:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=R5(n,t.registered);L5(t,i)},keyframes:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=R5(n,t.registered),a="animation-"+i.name;return L5(t,{name:i.name,styles:"@keyframes "+a+"{"+i.styles+"}"}),a},hydrate:function(e){e.forEach((function(e){t.inserted[e]=!0}))},flush:function(){t.registered={},t.inserted={},t.sheet.flush()},sheet:t.sheet,cache:t,getRegisteredStyles:P5.fp.bind(null,t.registered),merge:O5.bind(null,t.registered,n)}},N5=D5({key:"css"}),z5=(N5.flush,N5.hydrate,N5.cx),F5=(N5.merge,N5.getRegisteredStyles,N5.injectGlobal,N5.keyframes,N5.css),B5=(N5.sheet,N5.cache,function(){function e(t,n){S(this,e),this.x=0,this._x=!0,this._context=xA(),this._line=0,this._point=0,this._x0=0,this._y0=0,this._context=t,this._x=n}return M(e,[{key:"areaStart",value:function(){this._line=0}},{key:"areaEnd",value:function(){this._line=NaN}},{key:"lineStart",value:function(){this._point=0}},{key:"lineEnd",value:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}},{key:"point",value:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}]),e}());function U5(e,t){var n=0;if(void 0===t){var r,i=p(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;(a=+a)&&(n+=a)}}catch(c){i.e(c)}finally{i.f()}}else{var o,u=-1,s=p(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;(l=+t(l,++u,e))&&(n+=l)}}catch(c){s.e(c)}finally{s.f()}}return n}function j5(e,t){var n;if(void 0===t){var r,i=p(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n<a||void 0===n&&a>=a)&&(n=a)}}catch(c){i.e(c)}finally{i.f()}}else{var o,u=-1,s=p(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;null!=(l=t(l,++u,e))&&(n<l||void 0===n&&l>=l)&&(n=l)}}catch(c){s.e(c)}finally{s.f()}}return n}function H5(e,t){return e.sourceLinks.length?e.depth:t-1}function Z5(e){return function(){return e}}function G5(e,t){return V5(e.source,t.source)||e.index-t.index}function W5(e,t){return V5(e.target,t.target)||e.index-t.index}function V5(e,t){return e.y0-t.y0}function q5(e){return e.value}function X5(e){return e.index}function $5(e){return e.nodes}function Y5(e){return e.links}function K5(e,t){var n=e.get(t);if(!n)throw new Error("missing: "+t);return n}function J5(e){var t,n=p(e.nodes);try{for(n.s();!(t=n.n()).done;){var r,i=t.value,a=i.y0,o=a,u=p(i.sourceLinks);try{for(u.s();!(r=u.n()).done;){var s=r.value;s.y0=a+s.width/2,a+=s.width}}catch(h){u.e(h)}finally{u.f()}var l,c=p(i.targetLinks);try{for(c.s();!(l=c.n()).done;){var f=l.value;f.y1=o+f.width/2,o+=f.width}}catch(h){c.e(h)}finally{c.f()}}}catch(h){n.e(h)}finally{n.f()}}function Q5(){var e,t,n,r=0,i=0,a=1,o=1,u=24,s=8,l=X5,f=H5,h=$5,d=Y5,v=6;function m(){var e={nodes:h.apply(null,arguments),links:d.apply(null,arguments)};return g(e),y(e),b(e),x(e),w(e),J5(e),e}function g(e){var t,r=e.nodes,i=e.links,a=p(r.entries());try{for(a.s();!(t=a.n()).done;){var o=(0,c.Z)(t.value,2),u=o[0],s=o[1];s.index=u,s.sourceLinks=[],s.targetLinks=[]}}catch(M){a.e(M)}finally{a.f()}var f,h=new Map(r.map((function(e,t){return[l(e,t,r),e]}))),d=p(i.entries());try{for(d.s();!(f=d.n()).done;){var v=(0,c.Z)(f.value,2),m=v[0],g=v[1];g.index=m;var y=g.source,b=g.target;"object"!==typeof y&&(y=g.source=K5(h,y)),"object"!==typeof b&&(b=g.target=K5(h,b)),y.sourceLinks.push(g),b.targetLinks.push(g)}}catch(M){d.e(M)}finally{d.f()}if(null!=n){var x,_=p(r);try{for(_.s();!(x=_.n()).done;){var w=x.value,S=w.sourceLinks,k=w.targetLinks;S.sort(n),k.sort(n)}}catch(M){_.e(M)}finally{_.f()}}}function y(e){var t,n=p(e.nodes);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.value=void 0===r.fixedValue?Math.max(U5(r.sourceLinks,q5),U5(r.targetLinks,q5)):r.fixedValue}}catch(i){n.e(i)}finally{n.f()}}function b(e){for(var t=e.nodes,n=t.length,r=new Set(t),i=new Set,a=0;r.size;){var o,u=p(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.depth=a;var l,c=p(s.sourceLinks);try{for(c.s();!(l=c.n()).done;){var f=l.value.target;i.add(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){u.e(h)}finally{u.f()}if(++a>n)throw new Error("circular link");r=i,i=new Set}}function x(e){for(var t=e.nodes,n=t.length,r=new Set(t),i=new Set,a=0;r.size;){var o,u=p(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.height=a;var l,c=p(s.targetLinks);try{for(c.s();!(l=c.n()).done;){var f=l.value.source;i.add(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){u.e(h)}finally{u.f()}if(++a>n)throw new Error("circular link");r=i,i=new Set}}function _(t){var n,r=function(e,t){var n;if(void 0===t){var r,i=p(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;null!=a&&(n>a||void 0===n&&a>=a)&&(n=a)}}catch(c){i.e(c)}finally{i.f()}}else{var o,u=-1,s=p(e);try{for(s.s();!(o=s.n()).done;){var l=o.value;null!=(l=t(l,++u,e))&&(n>l||void 0===n&&l>=l)&&(n=l)}}catch(c){s.e(c)}finally{s.f()}}return n}(t,(function(t){return(o-i-(t.length-1)*e)/U5(t,q5)})),a=p(t);try{for(a.s();!(n=a.n()).done;){var u,s=n.value,l=i,c=p(s);try{for(c.s();!(u=c.n()).done;){var f=u.value;f.y0=l,f.y1=l+f.value*r,l=f.y1+e;var h,d=p(f.sourceLinks);try{for(d.s();!(h=d.n()).done;){var v=h.value;v.width=v.value*r}}catch(y){d.e(y)}finally{d.f()}}}catch(y){c.e(y)}finally{c.f()}l=(o-l+e)/(s.length+1);for(var m=0;m<s.length;++m){var g=s[m];g.y0+=l*(m+1),g.y1+=l*(m+1)}C(s)}}catch(y){a.e(y)}finally{a.f()}}function w(n){var l=function(e){var n,i=e.nodes,o=j5(i,(function(e){return e.depth}))+1,s=(a-r-u)/(o-1),l=new Array(o),c=p(i);try{for(c.s();!(n=c.n()).done;){var h=n.value,d=Math.max(0,Math.min(o-1,Math.floor(f.call(null,h,o))));h.layer=d,h.x0=r+d*s,h.x1=h.x0+u,l[d]?l[d].push(h):l[d]=[h]}}catch(g){c.e(g)}finally{c.f()}if(t){var v,m=p(l);try{for(m.s();!(v=m.n()).done;)v.value.sort(t)}catch(g){m.e(g)}finally{m.f()}}return l}(n);e=Math.min(s,(o-i)/(j5(l,(function(e){return e.length}))-1)),_(l);for(var c=0;c<v;++c){var h=Math.pow(.99,c),d=Math.max(1-h,(c+1)/v);k(l,h,d),S(l,h,d)}}function S(e,n,r){for(var i=1,a=e.length;i<a;++i){var o,u=e[i],s=p(u);try{for(s.s();!(o=s.n()).done;){var l,c=o.value,f=0,h=0,d=p(c.targetLinks);try{for(d.s();!(l=d.n()).done;){var v=l.value,m=v.source,g=v.value*(c.layer-m.layer);f+=R(m,c)*g,h+=g}}catch(b){d.e(b)}finally{d.f()}if(h>0){var y=(f/h-c.y0)*n;c.y0+=y,c.y1+=y,A(c)}}}catch(b){s.e(b)}finally{s.f()}void 0===t&&u.sort(V5),M(u,r)}}function k(e,n,r){for(var i=e.length-2;i>=0;--i){var a,o=e[i],u=p(o);try{for(u.s();!(a=u.n()).done;){var s,l=a.value,c=0,f=0,h=p(l.sourceLinks);try{for(h.s();!(s=h.n()).done;){var d=s.value,v=d.target,m=d.value*(v.layer-l.layer);c+=P(l,v)*m,f+=m}}catch(y){h.e(y)}finally{h.f()}if(f>0){var g=(c/f-l.y0)*n;l.y0+=g,l.y1+=g,A(l)}}}catch(y){u.e(y)}finally{u.f()}void 0===t&&o.sort(V5),M(o,r)}}function M(t,n){var r=t.length>>1,a=t[r];T(t,a.y0-e,r-1,n),E(t,a.y1+e,r+1,n),T(t,o,t.length-1,n),E(t,i,0,n)}function E(t,n,r,i){for(;r<t.length;++r){var a=t[r],o=(n-a.y0)*i;o>1e-6&&(a.y0+=o,a.y1+=o),n=a.y1+e}}function T(t,n,r,i){for(;r>=0;--r){var a=t[r],o=(a.y1-n)*i;o>1e-6&&(a.y0-=o,a.y1-=o),n=a.y0-e}}function A(e){var t=e.sourceLinks,r=e.targetLinks;if(void 0===n){var i,a=p(r);try{for(a.s();!(i=a.n()).done;){i.value.source.sourceLinks.sort(W5)}}catch(s){a.e(s)}finally{a.f()}var o,u=p(t);try{for(u.s();!(o=u.n()).done;){o.value.target.targetLinks.sort(G5)}}catch(s){u.e(s)}finally{u.f()}}}function C(e){if(void 0===n){var t,r=p(e);try{for(r.s();!(t=r.n()).done;){var i=t.value,a=i.sourceLinks,o=i.targetLinks;a.sort(W5),o.sort(G5)}}catch(u){r.e(u)}finally{r.f()}}}function R(t,n){var r,i=t.y0-(t.sourceLinks.length-1)*e/2,a=p(t.sourceLinks);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.target,s=o.width;if(u===n)break;i+=s+e}}catch(v){a.e(v)}finally{a.f()}var l,c=p(n.targetLinks);try{for(c.s();!(l=c.n()).done;){var f=l.value,h=f.source,d=f.width;if(h===t)break;i-=d}}catch(v){c.e(v)}finally{c.f()}return i}function P(t,n){var r,i=n.y0-(n.targetLinks.length-1)*e/2,a=p(n.targetLinks);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.source,s=o.width;if(u===t)break;i+=s+e}}catch(v){a.e(v)}finally{a.f()}var l,c=p(t.sourceLinks);try{for(c.s();!(l=c.n()).done;){var f=l.value,h=f.target,d=f.width;if(h===n)break;i-=d}}catch(v){c.e(v)}finally{c.f()}return i}return m.update=function(e){return J5(e),e},m.nodeId=function(e){return arguments.length?(l="function"===typeof e?e:Z5(e),m):l},m.nodeAlign=function(e){return arguments.length?(f="function"===typeof e?e:Z5(e),m):f},m.nodeSort=function(e){return arguments.length?(t=e,m):t},m.nodeWidth=function(e){return arguments.length?(u=+e,m):u},m.nodePadding=function(t){return arguments.length?(s=e=+t,m):s},m.nodes=function(e){return arguments.length?(h="function"===typeof e?e:Z5(e),m):h},m.links=function(e){return arguments.length?(d="function"===typeof e?e:Z5(e),m):d},m.linkSort=function(e){return arguments.length?(n=e,m):n},m.size=function(e){return arguments.length?(r=i=0,a=+e[0],o=+e[1],m):[a-r,o-i]},m.extent=function(e){return arguments.length?(r=+e[0][0],a=+e[1][0],i=+e[0][1],o=+e[1][1],m):[[r,i],[a,o]]},m.iterations=function(e){return arguments.length?(v=+e,m):v},m}var e6,t6,n6,r6=n(4443),i6=["children","className","mouseMove","mouseLeave","setfreezing"],a6=function(e){E(n,e);var t=P(n);function n(){return S(this,n),t.apply(this,arguments)}return M(n,[{key:"onHandleClick",value:function(){var e=!this.props.freezing;this.props.setfreezing(e)}},{key:"onMouseOver",value:function(e){!this.props.freezing&&this.props.mouseOver&&this.props.mouseOver(e)}},{key:"onMouseLeave",value:function(e){!this.props.freezing&&this.props.mouseLeave&&this.props.mouseLeave(e)}},{key:"onMouseMove",value:function(e){!this.props.freezing&&this.props.mouseMove&&this.props.mouseMove(e)}},{key:"render",value:function(){var e=this,t=this.props,n=(t.children,t.className),r=(t.mouseMove,t.mouseLeave,t.setfreezing,h(t,i6)),i=this.props.freezing;return(0,Zx.jsx)("g",l(l({},r),{},{onClick:function(){return e.onHandleClick()},className:z5(n,F5(i?e6||(e6=m5(["\n                  &:not(.highlight) \n                  {pointerEvents: 'none';}"])):t6||(t6=m5(["\n                  &:not(.highlight) \n                  {pointerEvents: 'auto';}"])))),onMouseMove:i?void 0:this.onMouseMove.bind(this),onMouseOver:i?void 0:this.onMouseOver.bind(this),onMouseLeave:i?void 0:this.onMouseLeave.bind(this),children:this.props.children}))}}]),n}(r.Component),o6=a6,u6=UW().defined((function(e){return!!e})).curve((function(e){return new B5(e,!0)})).x((function(e){return e[0]})),s6=function(e){E(i,e);var n=P(i);function i(e){var a;return S(this,i),(a=n.call(this,e)).svgRef=r.createRef(),a.nodeSort=function(e,t){return 0},a.padding=0,a.isAnimate=!1,a.sankey=Q5().nodeWidth(.1).nodeAlign((function(e){return e.layer})).nodePadding(5),a.y=SB(),a.x=vZ(),a.svg=$k(null),a.g=$k(null),a.color=xB(LZ),a._color=xB(LZ),a.force=(0,r6.d3adaptor)(t),a.zoomFunc=aX().on("zoom",(function(e){a.svg.select("g.content").attr("transform",e.transform)})),a.getColorScale=a._getColorScale_byName,a.state={freezing:!1,margin:{top:20,right:20,bottom:30,left:100},data:[],times:[],nodes:[],links:[],linksBySource:[],graph:{},isForceDone:!1},a}return M(i,[{key:"widthView",value:function(){var e;return this.props.width*(null!==(e=this.state.scalezoom)&&void 0!==e?e:1)}},{key:"heightView",value:function(){var e;return this.props.height*(null!==(e=this.state.scalezoom)&&void 0!==e?e:1)}},{key:"widthG",value:function(){var e,t;return this.widthView()-(null!==(e=this.state.margin)&&void 0!==e?e:{top:0,bottom:0,left:0,right:0}).left-(null!==(t=this.state.margin)&&void 0!==t?t:{top:0,bottom:0,left:0,right:0}).right}},{key:"heightG",value:function(){var e,t;return this.heightView()-(null!==(e=this.state.margin)&&void 0!==e?e:{top:0,bottom:0,left:0,right:0}).top-(null!==(t=this.state.margin)&&void 0!==t?t:{top:0,bottom:0,left:0,right:0}).bottom}},{key:"componentDidMount",value:function(){this.state.margin;this.svg=$k(this.svgRef.current),this.g=this.svg.select("g.content");var e=this.props.data;this.y.domain(e.map((function(e){return e.key}))),e.forEach((function(e,t){e.order=t})),this.draw({data:e}),this.setState({data:e})}},{key:"componentDidUpdate",value:function(e,t){if(this.props.data!==e.data||this.props.timespan!==e.timespan){var n=this.props.data;this.y.domain(n.map((function(e){return e.key}))),n.forEach((function(e,t){e.order=t})),this.draw({data:n}),this.setState({data:n})}else if(this.props.width!==e.width||this.props.height!==e.height){console.log("I am here???");var r=this.state.graph,i=this.renderSankey({graph:r},0),a=i.nodes,o=i.links,u=i.linksBySource;this.setState({nodes:a,links:o,linksBySource:u,graph:r}),this.props.sankeyResult&&this.props.sankeyResult(u,this.getColorScale.bind(this))}else if(this.state.isForceDone!==t.isForceDone&&this.state.isForceDone&&!this.svg.empty()){var s=this.state.margin;this.svg.call(this.zoomFunc.transform,$q.translate(s.left,s.top))}}},{key:"freezeHandle",value:function(){this.state.freezing&&this.setState({freezing:!1})}},{key:"draw",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=this.state.freezing,i=this.props.timespan,a=this.x,o=this,u=null!==(e=n.data)&&void 0!==e?e:this.state.data;r&&this.freezeHandle();var s=i,l=[];a.domain([s[0],oX.last(s)]);var c=function(){var e=-1,n=[],r=new Map,i=new Map,a=new Map,o=[],l={};console.time("create nodes"),s.forEach((function(o,s){var c,f=""+o,h=p(u);try{for(h.s();!(c=h.n()).done;){var d=c.value;if(d[f]){var v=d[f],m=l6(v),g=JSON.stringify([f,m]);if(t.props.showShareUser&&!(v&&v.length>1)||r.has(g))continue;var y={name:m,time:o,layer:s,_key:g,relatedLinks:[],element:v,id:++e};a.has(m)?(y.isShareUser=!!(v&&v.length>1),y.parentNode=a.get(m).id,y.comp={},y.comp[d.key]=!0,n.push(y),r.set(g,y),i.set(g,e),l[m].push(y)):(y.first=!0,y.childNodes=[],a.set(m,y),l[m]=[],y.isShareUser=!!(v&&v.length>1),y.maxIndex=s,y.maxval=0,y.drawData=[],y.comp={},y.comp[d.key]=!0,n.push(y),r.set(g,y),i.set(g,e),l[m].push(y))}}}catch(b){h.e(b)}finally{h.f()}})),console.timeEnd("create nodes"),console.time("create links");for(var c=t.props.maxPerUnit,f={},h=1;h<s.length;++h){var d,v=""+s[h-1],m=""+s[h],g=new Map,y=p(u);try{var b=function(){var e=d.value,n=e[v],a=e[m],u=JSON.stringify([v,l6(n)]),s=JSON.stringify([m,l6(a)]);if(e[v]&&e[m]&&r.has(u)&&r.has(s)){var l=[u,s],h=JSON.stringify(l),p=Math.min(n.total,c),y=[e.key],b=g.get(h),x={},_={};if(x[e.key]=p,_[e.key]=Math.min(a.total,c),b){var w,S,k,M=Math.min((null!==(w=b.byComp[e.key])&&void 0!==w?w:0)+p,c),E=M-(null!==(S=b.byComp[e.key])&&void 0!==S?S:0);b.byComp[e.key]=M;var T=Math.min((null!==(k=b.byComp_t[e.key])&&void 0!==k?k:0)+_[e.key],c);return b.byComp_t[e.key]=T,r.get(u).comp[e.key]=!0,r.get(s).comp[e.key]=!0,n.jobs[0].forEach((function(e,t){return b.sources[e]={display:{},data:n.jobs[1][t]}})),a.jobs[0].forEach((function(e,t){return b.targets[e]={display:{},data:a.jobs[1][t]}})),b.value+=E,a.forEach((function(e,t){var n;b._target[t].value+=e.value,b._target.total=(null!==(n=b._target.total)&&void 0!==n?n:0)+e.value})),b.arr.push(y[0]),"continue"}var A=JSON.stringify([v,l6(n)]);r.get(A).comp[e.key]=!0;var C=JSON.stringify([m,l6(a)]);r.get(C).comp[e.key]=!0,f[u]||(f[u]=JSON.parse(JSON.stringify(e[v]))),f[s]=JSON.parse(JSON.stringify(e[m]));var R=f[u],P=f[s],L={},O={};n.jobs[0].forEach((function(e,t){return L[e]={display:{},data:n.jobs[1][t]}})),a.jobs[0].forEach((function(e,t){return O[e]={display:{},data:a.jobs[1][t]}})),b={byComp:x,byComp_t:_,source:i.get(A),sources:L,targets:O,_source:R,target:i.get(C),_target:P,names:l,arr:y,value:p,_id:"link_"+h.replace(/\.|\[|\]| |"|\\|:|-|,/g,"")},l6(n)!==l6(a)?(t.props.hideStable&&(r.get(JSON.stringify([v,l6(n)])).relatedLinks.push(b),r.get(JSON.stringify([m,l6(a)])).relatedLinks.push(b)),r.get(JSON.stringify([v,l6(n)])).shared=!0,r.get(JSON.stringify([m,l6(a)])).shared=!0):b.isSameNode=!0,o.push(b),g.set(h,b)}};for(y.s();!(d=y.n()).done;)b()}catch(S){y.e(S)}finally{y.f()}}if(t.props.showOverLimitUser){var x={},_={};n.forEach((function(e){_[e.id]=e})),o=o.filter((function(e){return e._source.total>36*e.arr.length||e._target.total>36*e.arr.length?(x[_[e.source].name]=!0,x[_[e.target].name]=!0,!0):(e.hide=!0,!1)})),n=n.filter((function(e,t){return!!x[e.name]||(delete _[e.id],!1)})),o=o.filter((function(e){return _[e.source]&&_[e.target]&&_[_[e.source].parentNode]&&_[_[e.target].parentNode]}))}if(t.props.hideStable){var w={};Object.entries(l).forEach((function(e){var t={};e.value.find((function(e){return e.relatedLinks.length||(t[e.id]=!0),e.relatedLinks.length}))||Object.keys(t).forEach((function(e){return w[e]=!0}))})),n=n.filter((function(e,t){return!w[e.id]})),o=o.filter((function(e){return!(w[e.source]||w[e.target])}))}return console.timeEnd("create links"),{nodes:n,links:o}}(),f={},h={};l=c.nodes.filter((function(e){return f[e.id]=e,!!e.first&&(h[e.id]=!0,!0)})),l.forEach((function(e){return e.color=t.getColorScale(e)}));var d=c.links.filter((function(e){return!e.isSameNode&&f[e.source]&&f[e.target]})).map((function(e){void 0===f[e.source].parentNode||h[e.source]||(f[f[e.source].parentNode].childNodes.push(e.source),l.push(f[e.source]),h[e.source]=!0),void 0===f[e.target].parentNode||h[e.target]||(f[f[e.target].parentNode].childNodes.push(e.target),l.push(f[e.target]),h[e.target]=!0);var t=Object.assign({},e);return t.source=f[e.source],t.target=f[e.target],t}));this.setState({isForceDone:!1});var v=l.filter((function(e){return e.shared}));console.time("Force time");this.force=KP().force("charge",JP().strength(-50)).force("x",eL(this.widthG()/2).strength(.05)).force("y",tL(this.heightG()/2).strength(.005)).nodes(v).force("link",VP(d).id((function(e){return e.id})).distance(0).strength(1)).alpha(1).on("tick",(function(){v.forEach((function(e,t){var n;if(void 0!==e.x&&void 0!==e.y)if(void 0!==e.parentNode)void 0!==f[e.parentNode]&&void 0!==f[e.parentNode].y&&(e.y+=.5*((null!==(n=f[e.parentNode].y)&&void 0!==n?n:0)-e.y)),f[e.parentNode].childNodes&&f[e.parentNode].childNodes.length&&(f[e.parentNode].y=Pw(f[e.parentNode].childNodes,(function(e){return f[e].y})));else if(e.childNodes&&e.childNodes.length){var r=Pw(e.childNodes,(function(e){return f[e].y}));void 0!==r&&(e.y+=.2*(r-e.y))}})),$k("#timarc").selectAll("path.l").data(d).join("path").attr("class","l").attr("d",(function(e){var t=e.target.x-e.source.x,n=e.target.y-e.source.y,r=Math.sqrt(t*t+n*n)/2;return e.source.y<e.target.y?"M"+e.source.x+","+e.source.y+"A"+r+","+r+" 0 0,1 "+e.target.x+","+e.target.y:"M"+e.target.x+","+e.target.y+"A"+r+","+r+" 0 0,1 "+e.source.x+","+e.source.y})).attr("stroke","white").attr("fill","none")})).on("end",(function(){console.time("forceEnd");var e=1,n={};v.forEach((function(e){void 0!==e.parentNode&&f[e.parentNode].childNodes&&f[e.parentNode].childNodes.length?n[e.name]=Pw(f[e.parentNode].childNodes,(function(e){return f[e].y})):e.y&&(n[e.name]=e.y)})),Object.keys(n).sort((function(e,t){return n[e]-n[t]})).forEach((function(e,t){return n[e]=10*t}));c.nodes.forEach((function(t){t._forcey=n[t.name],(void 0===t._forcey||oX.isNaN(t._forcey))&&(void 0===n[t.name]?(n[t.name]=0-10*e,t._forcey=n[t.name],e++):t._forcey=n[t.name]),t.y=t._forcey})),o.nodeSort=function(e,t){return e._forcey-t._forcey};var r=t.renderSankey({graph:c},0),i=r.nodes,a=r.links,u=r.linksBySource;console.timeEnd("forceEnd"),console.timeEnd("Force time"),t.setState({nodes:i,links:a,linksBySource:u,graph:c,isForceDone:!0}),t.props.sankeyResult&&t.props.sankeyResult(u,t.getColorScale.bind(t))}))}},{key:"renderSankey",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.x,i=this.sankey,a=this.nodeSort.bind(this),o=null!==(e=t.graph)&&void 0!==e?e:this.state.graph,u={};o.nodes.forEach((function(e){u[e.id]=e})),console.time("Sankey cal"),i.nodeId((function(e){return e.id})).nodeSort(a).extent([[r.range()[0],10],[r.range()[1],this.heightG()-10]]);var s=o.nodes.map((function(e){return Object.assign({},e)})),l=o.links.map((function(e){var t=Object.assign({},e);return t._value=t.value,t.value=e.value+n,t})),c=i({nodes:s,links:l}),f=c.nodes,h=c.links;console.timeEnd("Sankey cal");var d=$_(h,(function(e){return e.source.name})).map((function(e){return{key:e[0],values:e[1]}}));return d.forEach((function(e){var t=e.values[0].source,n=e.values[0];e.drawP=[c6(n)],e.draw=[t],e.values.forEach((function(r){t!==r.source?(e.draw.push(t,r.source),e.drawP.push(f6(n),void 0,c6(r))):(e.draw.push(r.source),e.drawP.push(f6(n),c6(r))),t=r.target,n=r})),e.draw.push(t),e.drawP.push(f6(n)),e._class=g6(e.key)})),this.isAnimate=!0,h.length>400&&(this.isAnimate=!1),h.forEach((function(e){if(e.isSameNode){var t=e.source;void 0!==e.source.parentNode&&(t=u[e.source.parentNode]),0!==t.drawData.length&&t.drawData[t.drawData.length-1][0]===e.source.time||t.drawData.push([e.source.time,e.value]),t.drawData.push([e.target.time,e.value])}e._class=g6(e.source.name)})),console.log("#links: ",h.length),{nodes:f,links:h,linksBySource:d,graph:o}}},{key:"onMouseOver",value:function(e,t){var n=iE(t.target,t),r=(0,c.Z)(n,2),i=r[0],a=(r[1],e.values[M_(e.values.map((function(e){return e.source.time})),this.x.invert(i))]);if(a&&(!this.state.highlight||this.state.highlight&&a!==this.state.highlight.el)){var o={list:{},el:a,event:t};a.source.element.length>1?(o.list[a.source.name]=!0,a.source.element.forEach((function(e){return o.list[e.key]=!0}))):o.list[a.source.name]=!0,this.setState({highlight:o}),this.props.mouseOver(a)}}},{key:"onRelease",value:function(){this.setState({highlight:void 0,highlightJob:void 0}),this.props.mouseLeave()}},{key:"onMouseOverJob",value:function(e){var t,n={el:e};this.setState({highlightJob:n}),this.props.mouseOver(null===(t=this.state.highlight)||void 0===t?void 0:t.el,e)}},{key:"onReleaseJob",value:function(){var e;this.setState({highlightJob:void 0}),this.props.mouseOver(null===(e=this.state.highlight)||void 0===e?void 0:e.el)}},{key:"_getColorScale_byName",value:function(e){var t;return e.isShareUser?this.props.theme.isDark?"#696969":"white":this._color(null!==(t=e.name)&&void 0!==t?t:"")}},{key:"getCluster",value:function(e){var t=this,n=e.layer,r={};Object.keys(e.comp).forEach((function(e){if(t.props.metrics){var i=t.props.metrics[e];if(i&&i[n]){var a=i[n].cluster;void 0!==a&&(r[a]||(r[a]=0),r[a]++)}}}));var i=Object.keys(r).length;return i>1?void 0:1===i?Object.keys(r)[0]:"outlier"}},{key:"getValue",value:function(e){var t,n=this,r=e.layer,i=+(null!==(t=this.props.colorBy)&&void 0!==t?t:"0"),a=0,o=0;return Object.keys(e.comp).forEach((function(t){if(n.props.metrics){var u=n.props.metrics[t];if(u&&u[r]){var s=u[r][i];void 0!==s&&(a+=s*e.comp[t],o+=e.comp[t])}}})),o?a/o:void 0}},{key:"_getColorScale_byCluster",value:function(e){var t=this.getCluster(e);return t?this.props.colorCluster(t):"white"}},{key:"_getColorScale_byValue",value:function(e){var t=this.getValue(e);return""+this.color(t)}},{key:"renderLink",value:function(e){var t,n,r,i=this,a=this.props.sankeyComputeSelected,o=e.draw[0].x1,u=oX.last(e.draw),s=null!==(t=null===u||void 0===u?void 0:u.x0)&&void 0!==t?t:0,l=DB().range([0,100]).domain([o,s]),c="name"!==this.props.colorBy?"url(#".concat(e.values[0]._id,")"):this.getColorScale(null!==(n=e.draw[0])&&void 0!==n?n:{}),f=[];a&&a.nodes[e.key]&&e.values.forEach((function(t){a.nodes[e.key][t.target.layer]&&(a.nodes[e.key][t.target.layer].x=t.target.x0,a.nodes[e.key][t.target.layer].y=t.y1,f.push(a.nodes[e.key][t.target.layer]))}));var h=this.props.colorCluster?this.props.colorCluster("outlier"):"gray";return(0,Zx.jsxs)(Zx.Fragment,{children:["name"!==this.props.colorBy?(0,Zx.jsx)("linearGradient",{id:e.values[0]._id,gradientUnits:"userSpaceOnUse",x1:o,x2:s,children:e.draw.map((function(e){return(0,Zx.jsx)("stop",{offset:"".concat(l(e.x0),"%"),stopColor:i.getColorScale(e)},e.index)}))}):"",(0,Zx.jsx)("path",{className:"main",fill:c,stroke:c,strokeWidth:.1,d:null!==(r=p6(e.drawP))&&void 0!==r?r:""}),a?f.map((function(e){return(0,Zx.jsx)("circle",{fill:h,r:Math.sqrt(e.value)+2,cx:e.x,cy:e.y,stroke:"white"},e.timestep)})):""]})}},{key:"render",value:function(){var e,t,n,r=this,i=this.props,a=i.width,o=i.height,u=(i.theme,i.timespan),s=i.lineaScale,l=i.userHighlight,c=this.state,f=c.margin,h=c.nodes,d=c.linksBySource,p=c.isForceDone,v=c.highlight,m=c.highlightJob,g=this.x,y=this.y,b=T6;y.range([0,this.heightG()]).padding(this.padding),g.range([0,this.widthG()]);var x=vZ().range(g.range()).domain([u[0],u[u.length-1]]);if(this._color=null!==(e=this.props.colorByName)&&void 0!==e?e:xB(["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"]),this.color=null!==(t=this.props.color)&&void 0!==t?t:this._color,this.props.color)switch(this.props.colorBy){case"name":this.getColorScale=this._getColorScale_byName;break;case"cluster":this.getColorScale=this._getColorScale_byCluster;break;default:this.getColorScale=this._getColorScale_byValue}var _=null!==(n=null===m||void 0===m?void 0:m.el.time)&&void 0!==n?n:null===v||void 0===v?void 0:v.el.source.time;return u6.y0((function(e){return e[1]+(e[2]+s)})).y1((function(e){return e[1]-(e[2]+s)})),(0,Zx.jsx)("div",{style:{width:a+" px",height:o+" px",position:"relative",pointerEvents:"none"},children:(0,Zx.jsxs)("svg",{width:a,height:o,viewBox:"0 0 ".concat(a," ").concat(o),ref:this.svgRef,style:{overflow:"visible"},className:b.svg,children:[(0,Zx.jsx)("defs",{children:(0,Zx.jsx)("clipPath",{id:"timeClip",children:(0,Zx.jsx)("rect",{x:-f.left,width:f.left,height:this.heightG()})})}),this.state.freezing&&(0,Zx.jsx)("text",{fill:this.props.theme.isDark?"white":"black",transform:"translate(".concat(this.widthG()/2,",20)"),children:"Click anywhere to release"}),p?(0,Zx.jsxs)("g",{className:"content"+(v||l?" onhighlight":""),children:[(0,Zx.jsx)("g",{className:"background",opacity:.2}),(0,Zx.jsxs)("g",{className:"drawArea",children:[(0,Zx.jsx)("g",{className:"nodes",children:h.filter((function(e){return e.first})).map((function(e){return(0,Zx.jsx)("g",{className:"outer_node element"+(v&&v.list[e.name]||l&&l[e.name]?" highlight":""),transform:"translate(".concat(e.x0,",").concat(e.y0,")"),children:!e.isShareUser&&(0,Zx.jsx)("text",{x:-6,y:(e.y1+e.y0)/2-e.y0,dy:"0.35em",textAnchor:"end",paintOrder:"stroke",stroke:"black",strokeWidth:1,fill:e.first?r._getColorScale_byName(e):"white",fontWeight:e.isShareUser?void 0:"bold",children:e.first?e.name:""})},e.name)}))}),(0,Zx.jsx)("g",{className:"links",children:d.map((function(e){return(0,Zx.jsxs)(o6,{className:"outer_node element "+e.values[0]._class+(e.hide?" hide":"")+(v&&v.list[e.key]||l&&l[e.key]?" highlight":""),opacity:.7,transform:"scale(1,1)",freezing:r.state.freezing,setfreezing:function(e){r.setState({freezing:e}),e||r.onRelease()},mouseMove:function(t){return r.onMouseOver(e,t)},mouseLeave:function(){return r.onRelease()},children:[r.renderLink(e),v&&v.list[e.key]?e.values.map((function(e){return(0,Zx.jsx)("g",{stroke:r.props.theme.isDark?"black":"white",children:m6(e,r.props.lineaScale,r.props.maxPerUnit,r.getColorScale.bind(r),r.onMouseOverJob.bind(r),r.onReleaseJob.bind(r),r.getValue.bind(r),m)},e._id)})):""]},e.key)}))}),v&&!m?(0,Zx.jsxs)("g",{transform:"translate(".concat(v.el.target.x0+5,",").concat(v.el.y1+5,")"),stroke:"black",fill:"white",style:{pointerEvents:"none"},children:[(0,Zx.jsx)("text",{strokeWidth:1,paintOrder:"stroke",children:v.el.source.name}),(0,Zx.jsxs)("text",{strokeWidth:.5,y:14,paintOrder:"stroke",children:["#","core"===this.props.mode?"Cores":"Nodes","=",+hL(".2f")(v.el.source.value)]}),(0,Zx.jsx)("text",{strokeWidth:.5,y:28,paintOrder:"stroke",children:this.props.getMetric(v.el.value)})]}):"",m?(0,Zx.jsxs)("g",{transform:"translate(".concat(m.el.x+5,",").concat(m.el.y+5,")"),stroke:"black",fill:"white",style:{pointerEvents:"none"},children:[(0,Zx.jsxs)("text",{strokeWidth:1,y:-14,paintOrder:"stroke",children:["User: ",m.el.user_name]}),(0,Zx.jsxs)("text",{strokeWidth:1,paintOrder:"stroke",children:["JobId: ",m.el.name]}),(0,Zx.jsxs)("text",{strokeWidth:1,y:14,paintOrder:"stroke",children:["Compute: ",m.el.data.node_list.length>5?m.el.data.node_list.slice(0,5).join(", ")+" + ".concat(m.el.data.node_list.length-5):m.el.data.node_list.join(", ")]}),(0,Zx.jsxs)("text",{strokeWidth:1,y:28,paintOrder:"stroke",children:["Start: ",new Date(m.el.data.start_time).toLocaleString()]}),(0,Zx.jsxs)("text",{strokeWidth:1,y:42,paintOrder:"stroke",children:["End ",m.el.data.finish_time?new Date(m.el.data.finish_time).toLocaleString():"-"]}),(0,Zx.jsx)("text",{strokeWidth:1,y:56,paintOrder:"stroke",children:this.props.getMetric(m.el.value)})]}):""]}),(0,Zx.jsx)("g",{className:"axis",children:(0,Zx.jsxs)("g",{className:"axisx",transform:"translate(0,".concat(this.heightG(),")"),children:[x.ticks(10).map((function(e){return(0,Zx.jsxs)("g",{className:"ticks",transform:"translate(".concat(x(e),",",0,")"),children:[(0,Zx.jsx)("text",{dy:"1.5rem",textAnchor:"middle",fill:"white",children:E6(e)}),(0,Zx.jsx)("line",{y2:5,vectorEffect:"non-scaling-stroke",style:{stroke:r.props.theme.isDark?"white":"black",strokeWidth:.2}})]})})),(0,Zx.jsx)("line",{x2:x.range()[1],vectorEffect:"non-scaling-stroke",style:{stroke:this.props.theme.isDark?"white":"black",strokeWidth:.5}})]})}),(0,Zx.jsxs)("g",{className:"",transform:"translate(".concat(x(_),",0)"),children:[(0,Zx.jsx)("line",{className:"timeStick",y2:this.heightG(),stroke:"white",strokeDasharray:"2 1"}),(0,Zx.jsx)("text",{y:this.heightG(),dy:"2.5rem",fill:this.props.theme.isDark?"white":"black",children:_?new Date(+_).toLocaleString():""})]})]}):(0,Zx.jsx)("svg",{width:a,height:o,viewBox:"0 0 ".concat(a," ").concat(o),id:"timarc",style:{backgroundColor:"white"}})]})})}}]),i}(r.Component);function l6(e){return e&&e.length?e.map((function(e){return e.key})).join(","):"No user"}function c6(e){return[e.source.x1,e.y0,e.width/2]}function f6(e){return[e.target.x0,e.y1,e.width/2]}function h6(e){return[e.source.x1,e.y0]}function d6(e){return[e.target.x0,e.y1]}function p6(e){return u6(e)}function v6(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return r+=i,"M ".concat(e[0]," ").concat(e[1]-r," C ").concat(e[0]+n," ").concat(e[1]-r,", ").concat(t[0]-n," ").concat(t[1]-r,", ").concat(t[0]," ").concat(t[1]-r,"\n            L ").concat(t[0]," ").concat(t[1]+r," C ").concat(t[0]-n," ").concat(t[1]+r,", ").concat(e[0]+n," ").concat(e[1]+r,", ").concat(e[0]," ").concat(e[1]+r," Z")}function m6(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,o=arguments.length>6?arguments[6]:void 0,u=arguments.length>7?arguments[7]:void 0,s=h6(e),c=d6(e),f=e.width,h=(c[0]-s[0])/2,d=$w(Object.values(e.byComp_t)),p=DB().domain([0,d]).range([0,f+t]),v=-f/2,m={},g={};return Object.keys(e.sources).forEach((function(t){g[t]={},e.sources[t].data.node_list.forEach((function(r){var i;e.source.comp[r]&&(g[t][r]=Math.min(n,e.sources[t].data.node_list_obj[r]),m[r]=(null!==(i=m[r])&&void 0!==i?i:0)+g[t][r])}))})),Object.keys(e.sources).forEach((function(t){var n,r,i=g[t],a=1/0;e.sources[t].data[e.source.layer-1]&&(a=null!==(r=Pw(e.sources[t].data[e.source.layer-1],(function(e){return e.y})))&&void 0!==r?r:1/0);var o=e.source.layer===e.sources[t].data.finish_Index,u=$w(Object.keys(i),(function(t){return i[t]/m[t]*e.byComp[t]})),s=null!==(n=p(u))&&void 0!==n?n:0;e.sources[t].display={compS:i,compT:{},isEnd:o,_thick:s,oldpos:a,data:e.sources[t].data},e.sources[t].data[e.source.layer]||(e.sources[t].data[e.source.layer]=[e.sources[t].display])})),(0,Zx.jsx)(Zx.Fragment,{children:Object.keys(e.sources).sort((function(t,n){return e.sources[t].display.oldpos-e.sources[n].display.oldpos})).map((function(t,n){var f=e.sources[t].display,d=f.compS,p=f.isEnd,m=f._thick,g=f.data;v+=m,e.sources[t].display.y=c[1]+v-m/2;var y={};Object.keys(d).forEach((function(n){return y[n]=e.sources[t].data.node_list_obj[n]}));var b=l(l({},e.source),{},{comp:y}),x=r(b),_=m/2;return(0,Zx.jsxs)("g",{onMouseOver:function(){return i({name:t,user_name:e.source.name,x:s[0],y:e.sources[t].display.y,time:e.source.time,layer:e.source.layer,value:o(b),data:g})},onMouseLeave:function(){return a()},className:u&&u.el.name!==t?"fade":"",children:[p?(0,Zx.jsxs)("linearGradient",{id:e._id+"__"+t,gradientUnits:"userSpaceOnUse",x1:e.source.x1,x2:e.target.x0,children:[(0,Zx.jsx)("stop",{offset:"0%",stopColor:x}),(0,Zx.jsx)("stop",{offset:"100%",stopColor:"black"})]}):"",(0,Zx.jsx)("path",{fill:p?"url(#".concat(e._id+"__"+t,")"):x,strokeWidth:.1,d:v6([s[0],s[1]+v-_],[c[0],e.sources[t].display.y],h,_)})]},e._id+"__"+t)}))})}function g6(e){return"l"+e.replace(/ |,/g,"_")}var y6=Gj(".%L"),b6=Gj(":%S"),x6=Gj("%I:%M"),_6=Gj("%I %p"),w6=Gj("%a %d"),S6=Gj("%b %d"),k6=Gj("%B"),M6=Gj("%Y");function E6(e){return(wU(e)<e?y6:MU(e)<e?b6:AU(e)<e?x6:PU(e)<e?_6:$U(e)<e?IU(e)<e?w6:S6:JU(e)<e?k6:M6)(e)}var T6={svg:F5(n6||(n6=m5(["\n            & .fade \n            {opacity: 0.2;}\n             & .onhighlight .outer_node:not(.highlight) \n                  {opacity: 0.1;}\n              & .onhighlight .outer_node.highlight \n                  {\n                  \n                  }\n            "])))},A6=function(e){E(n,e);var t=P(n);function n(){var e;S(this,n),e=t.call(this),(0,u.Z)(C(e),"isLineSegmentsGeometry",!0),(0,u.Z)(C(e),"type","LineSegmentsGeometry"),(0,u.Z)(C(e),"boundingBox",null),(0,u.Z)(C(e),"boundingSphere",null),(0,u.Z)(C(e),"box",new Vr),(0,u.Z)(C(e),"vector",new Zr);return e.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),e.setAttribute("position",new ga([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),e.setAttribute("uv",new ga([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2)),e}return M(n,[{key:"applyMatrix4",value:function(e){var t=this.attributes.instanceStart,n=this.attributes.instanceEnd;return void 0!==t&&(t.applyMatrix4(e),n.applyMatrix4(e),t.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}},{key:"setPositions",value:function(e){var t;if(e instanceof Float32Array)t=e;else{if(!Array.isArray(e))return console.error("LineSegmentsGeometry.setPosition requires either a Float32Array or regular array of numbers"),this;t=new Float32Array(e)}var n=new Md(t,6,1);return this.setAttribute("instanceStart",new Ks(n,3,0)),this.setAttribute("instanceEnd",new Ks(n,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this}},{key:"setColors",value:function(e){var t;if(e instanceof Float32Array)t=e;else{if(!Array.isArray(e))return console.error("LineSegmentsGeometry.setColors requires either a Float32Array or regular array of numbers"),this;t=new Float32Array(e)}var n=new Md(t,6,1);return this.setAttribute("instanceColorStart",new Ks(n,3,0)),this.setAttribute("instanceColorEnd",new Ks(n,3,3)),this}},{key:"fromWireframeGeometry",value:function(e){return this.setPositions(Array.from(e.attributes.position.array)),this}},{key:"fromEdgesGeometry",value:function(e){return this.setPositions(Array.from(e.attributes.position.array)),this}},{key:"fromMesh",value:function(e){return this.fromWireframeGeometry(new kf(e.geometry)),this}},{key:"fromLineSegments",value:function(e){var t=e.geometry;return t.isBufferGeometry&&this.setPositions(Array.from(t.attributes.position.array)),this}},{key:"computeBoundingBox",value:function(){null===this.boundingBox&&(this.boundingBox=new Vr);var e=this.attributes.instanceStart,t=this.attributes.instanceEnd;void 0!==e&&void 0!==t&&(this.boundingBox.setFromBufferAttribute(e),this.box.setFromBufferAttribute(t),this.boundingBox.union(this.box))}},{key:"computeBoundingSphere",value:function(){null===this.boundingSphere&&(this.boundingSphere=new fi),null===this.boundingBox&&this.computeBoundingBox();var e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(void 0!==e&&void 0!==t){var n=this.boundingSphere.center;this.boundingBox&&this.boundingBox.getCenter(n);for(var r=0,i=0,a=e.count;i<a;i++)this.vector.fromBufferAttribute(e,i),r=Math.max(r,n.distanceToSquared(this.vector)),this.vector.fromBufferAttribute(t,i),r=Math.max(r,n.distanceToSquared(this.vector));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}},{key:"toJSON",value:function(){}}]),n}(Lh),C6={linewidth:{value:1},resolution:{value:new hr(1,1)},dashScale:{value:1},dashSize:{value:1},dashOffset:{value:0},gapSize:{value:1},opacity:{value:1}};mo.line={uniforms:$a.merge([vo.common,vo.fog,C6]),vertexShader:"\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\tvarying vec2 vUv;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\tvUv = uv;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec2 ndcStart = clipStart.xy / clipStart.w;\n\t\t\tvec2 ndcEnd = clipEnd.xy / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd - ndcStart;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t// perpendicular to dir\n\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\n\t\t\t// undo aspect ratio adjustment\n\t\t\tdir.x /= aspect;\n\t\t\toffset.x /= aspect;\n\n\t\t\t// sign flip\n\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t// endcaps\n\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\toffset += - dir;\n\n\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\toffset += dir;\n\n\t\t\t}\n\n\t\t\t// adjust for linewidth\n\t\t\toffset *= linewidth;\n\n\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\toffset /= resolution.y;\n\n\t\t\t// select end\n\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t// back to clip space\n\t\t\toffset *= clip.w;\n\n\t\t\tclip.xy += offset;\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashSize;\n\t\t\tuniform float dashOffset;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tfloat alpha = opacity;\n\n\t\t\t#ifdef ALPHA_TO_COVERAGE\n\n\t\t\t// artifacts appear on some hardware if a derivative is taken within a conditional\n\t\t\tfloat a = vUv.x;\n\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\tfloat len2 = a * a + b * b;\n\t\t\tfloat dlen = fwidth( len2 );\n\n\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\talpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );\n\n\t\t\t}\n\n\t\t\t#else\n\n\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\tfloat a = vUv.x;\n\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t}\n\n\t\t\t#endif\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, alpha );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, alpha );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t"};var R6=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return S(this,n),e=t.call(this,{uniforms:$a.clone(mo.line.uniforms),vertexShader:mo.line.vertexShader,fragmentShader:mo.line.fragmentShader,clipping:!0}),(0,u.Z)(C(e),"isLineMaterial",!0),(0,u.Z)(C(e),"dashed",!1),(0,u.Z)(C(e),"color",new Cr(0)),(0,u.Z)(C(e),"lineWidth",0),(0,u.Z)(C(e),"dashScale",0),(0,u.Z)(C(e),"dashOffset",0),(0,u.Z)(C(e),"dashSize",0),(0,u.Z)(C(e),"opacity",0),(0,u.Z)(C(e),"resolution",new hr),(0,u.Z)(C(e),"alphaToCoverage",!1),Object.defineProperties(C(e),{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(e){var t=new Cr(e);this.uniforms.diffuse.value=t.getHex()}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(e){this.uniforms.linewidth.value=e}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(e){this.uniforms.dashScale.value=e}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(e){this.uniforms.dashSize.value=e}},dashOffset:{enumerable:!0,get:function(){return this.uniforms.dashOffset.value},set:function(e){this.uniforms.dashOffset.value=e}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(e){this.uniforms.gapSize.value=e}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(e){this.uniforms.resolution.value.copy(e)}},alphaToCoverage:{enumerable:!0,get:function(){return Boolean("ALPHA_TO_COVERAGE"in this.defines)},set:function(e){Boolean(e)!==Boolean("ALPHA_TO_COVERAGE"in this.defines)&&(this.needsUpdate=!0),e?(this.defines.ALPHA_TO_COVERAGE="",this.extensions.derivatives=!0):(delete this.defines.ALPHA_TO_COVERAGE,this.extensions.derivatives=!1)}},dashed:{enumerable:!0,get:function(){return Boolean("USE_DASH"in this.defines)},set:function(e){Boolean(e)!==Boolean("USE_DASH"in this.defines)&&(this.needsUpdate=!0),e?this.defines.USE_DASH="":delete this.defines.USE_DASH}}}),e.setValues(r),e}return M(n)}(Ya),P6=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new A6,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new R6({color:16777215*Math.random()});return S(this,n),e=t.call(this,r,i),(0,u.Z)(C(e),"type","LineSegments2"),(0,u.Z)(C(e),"isLineSegments2",!0),(0,u.Z)(C(e),"distStart",new Zr),(0,u.Z)(C(e),"distEnd",new Zr),(0,u.Z)(C(e),"computeLineDistances",(function(){for(var t=e.geometry,n=t.attributes.instanceStart,r=t.attributes.instanceEnd,i=new Float32Array(2*n.data.count),a=0,o=0,u=n.data.count;a<u;a++,o+=2)e.distStart.fromBufferAttribute(n,a),e.distEnd.fromBufferAttribute(r,a),i[o]=0===o?0:i[o-1],i[o+1]=i[o]+e.distStart.distanceTo(e.distEnd);var s=new Md(i,2,1);return t.setAttribute("instanceDistanceStart",new Ks(s,1,0)),t.setAttribute("instanceDistanceEnd",new Ks(s,1,1)),C(e)})),(0,u.Z)(C(e),"rayStart",new Dr),(0,u.Z)(C(e),"rayEnd",new Dr),(0,u.Z)(C(e),"ssOrigin",new Dr),(0,u.Z)(C(e),"ssOrigin3",new Zr),(0,u.Z)(C(e),"mvMatrix",new xi),(0,u.Z)(C(e),"line",new Nd),(0,u.Z)(C(e),"closestPoint",new Zr),(0,u.Z)(C(e),"raycast",(function(t,n){null===t.camera&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2.');var r=t.ray,i=t.camera,a=i.projectionMatrix,o=e.geometry,u=e.material,s=u.resolution,l=u.linewidth+0,c=o.attributes.instanceStart,f=o.attributes.instanceEnd,h=-i.near;r.at(1,e.ssOrigin),e.ssOrigin.w=1,e.ssOrigin.applyMatrix4(i.matrixWorldInverse),e.ssOrigin.applyMatrix4(a),e.ssOrigin.multiplyScalar(1/e.ssOrigin.w),e.ssOrigin.x*=s.x/2,e.ssOrigin.y*=s.y/2,e.ssOrigin.z=0,e.ssOrigin3.set(e.ssOrigin.x,e.ssOrigin.y,e.ssOrigin.z);var d=e.matrixWorld;e.mvMatrix.multiplyMatrices(i.matrixWorldInverse,d);for(var p=0,v=c.count;p<v;p++){if(e.rayStart.fromBufferAttribute(c,p),e.rayEnd.fromBufferAttribute(f,p),e.rayStart.w=1,e.rayEnd.w=1,e.rayStart.applyMatrix4(e.mvMatrix),e.rayEnd.applyMatrix4(e.mvMatrix),!(e.rayStart.z>h&&e.rayEnd.z>h)){if(e.rayStart.z>h){var m=e.rayStart.z-e.rayEnd.z,g=(e.rayStart.z-h)/m;e.rayStart.lerp(e.rayEnd,g)}else if(e.rayEnd.z>h){var y=e.rayEnd.z-e.rayStart.z,b=(e.rayEnd.z-h)/y;e.rayEnd.lerp(e.rayStart,b)}e.rayStart.applyMatrix4(a),e.rayEnd.applyMatrix4(a),e.rayStart.multiplyScalar(1/e.rayStart.w),e.rayEnd.multiplyScalar(1/e.rayEnd.w),e.rayStart.x*=s.x/2,e.rayStart.y*=s.y/2,e.rayEnd.x*=s.x/2,e.rayEnd.y*=s.y/2,e.line.start.set(e.rayStart.x,e.rayStart.y,e.rayStart.z),e.line.start.z=0,e.line.end.set(e.rayEnd.x,e.rayEnd.y,e.rayEnd.z),e.line.end.z=0;var x=e.line.closestPointToPointParameter(e.ssOrigin3,!0);e.line.at(x,e.closestPoint);var _=fr.lerp(e.rayStart.z,e.rayEnd.z,x),w=_>=-1&&_<=1,S=e.ssOrigin3.distanceTo(e.closestPoint)<.5*l;if(w&&S){e.line.start.fromBufferAttribute(c,p),e.line.end.fromBufferAttribute(f,p),e.line.start.applyMatrix4(d),e.line.end.applyMatrix4(d);var k=new Zr,M=new Zr;r.distanceSqToSegment(e.line.start,e.line.end,M,k),n.push({distance:r.origin.distanceTo(M),point:M,face:null,faceIndex:p,object:C(e),uv:void 0,pointOnLine:k})}}}})),e}return M(n)}(Ga),L6=function(e){E(n,e);var t=P(n);function n(){var e,r;return S(this,n),r=t.call(this),(0,u.Z)(C(r),"type","LineGeometry"),(0,u.Z)(C(r),"isLineGeometry",!0),(0,u.Z)(C(r),"setColors",(function(t){for(var i=t.length-3,a=new Float32Array(2*i),o=0;o<i;o+=3)a[2*o]=t[o],a[2*o+1]=t[o+1],a[2*o+2]=t[o+2],a[2*o+3]=t[o+3],a[2*o+4]=t[o+4],a[2*o+5]=t[o+5];return D((e=C(r),T(n.prototype)),"setColors",e).call(e,a),C(r)})),(0,u.Z)(C(r),"fromLine",(function(e){var t=e.geometry;return t.isBufferGeometry&&r.setPositions(Array.from(t.attributes.position.array)),C(r)})),(0,u.Z)(C(r),"copy",(function(){return C(r)})),r}return M(n,[{key:"setPositions",value:function(e){for(var t=e.length-3,r=new Float32Array(2*t),i=0;i<t;i+=3)r[2*i]=e[i],r[2*i+1]=e[i+1],r[2*i+2]=e[i+2],r[2*i+3]=e[i+3],r[2*i+4]=e[i+4],r[2*i+5]=e[i+5];return D(T(n.prototype),"setPositions",this).call(this,r),this}}]),n}(A6),O6=function(e){E(n,e);var t=P(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new L6,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new R6({color:16777215*Math.random()});return S(this,n),e=t.call(this,r,i),(0,u.Z)(C(e),"type","Line2"),(0,u.Z)(C(e),"isLine2",!0),e}return M(n)}(P6),I6=["points","color","vertexColors","lineWidth","dashed"],D6=r.forwardRef((function(e,t){var n=e.points,i=e.color,a=void 0===i?"black":i,o=e.vertexColors,u=e.lineWidth,s=e.dashed,l=h(e,I6),f=r.useState((function(){return new O6})),d=(0,c.Z)(f,1)[0],p=r.useState((function(){return new R6})),v=(0,c.Z)(p,1)[0],m=r.useState((function(){return new hr(512,512)})),g=(0,c.Z)(m,1)[0],y=r.useMemo((function(){var e=new L6,t=n.map((function(e){return e instanceof Zr?e.toArray():e}));if(e.setPositions(t.flat()),o){var r=o.map((function(e){return e instanceof Cr?e.toArray():e}));e.setColors(r.flat())}return e}),[n,o]);return r.useLayoutEffect((function(){d.computeLineDistances()}),[n,d]),r.useLayoutEffect((function(){s?v.defines.USE_DASH="":delete v.defines.USE_DASH,v.needsUpdate=!0}),[s,v]),r.useEffect((function(){return function(){return y.dispose()}}),[y]),r.createElement("primitive",(0,Jm.Z)({object:d,ref:t},l),r.createElement("primitive",{object:y,attach:"geometry"}),r.createElement("primitive",(0,Jm.Z)({object:v,attach:"material",color:a,vertexColors:Boolean(o),resolution:g,linewidth:u,dashed:s},l)))}));function N6(){var e,t=0,n=[],r=0,i=0;var a=h((function(e){i||u(1,e)})),o=h((function(e){i||u(-1,e)}));function u(n,r){i++;var a=0;try{r===v&&d();var o=n>0&&f(r);o?o.call(r,h((function(e){a++,u(1,e)})),h((function(e){a++,u(-1,e)}))):(t=n,e=r,s())}catch(l){t||a||u(-1,l)}}function s(){r||(setTimeout(l,0),r=1)}function l(){var e=n;r=0,n=[],e.forEach(c)}function c(e){e()}function f(e){var t=e&&(p(e)||"object"===typeof e)&&e.then;return p(t)&&t}function h(e){var t=0;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];t++||e.apply(this,n)}}function d(){throw new TypeError("Chaining cycle detected")}var p=function(e){return"function"===typeof e},v={then:function(r,i){var a=N6();return n.push((function(){var n=t>0?r:i;if(p(n))try{var o=n(e);o===a&&d();var u=f(o);u?u.call(o,a.resolve,a.reject):a.resolve(o)}catch(s){a.reject(s)}else a[t>0?"resolve":"reject"](e)})),t&&s(),a},resolve:a,reject:o};return v}function z6(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return{then:n.then.bind(n),resolve:e,reject:t}}N6.all=z6.all=function(e){var t=0,n=[],r=F6();return 0===e.length?r.resolve([]):e.forEach((function(i,a){var o=F6();o.resolve(i),o.then((function(i){t++,n[a]=i,t===e.length&&r.resolve(n)}),r.reject)})),r};var F6="function"===typeof Promise?z6:N6;function B6(){var e=Object.create(null);function t(r,i){var a=r.id,o=r.name,u=r.dependencies;void 0===u&&(u=[]);var s=r.init;void 0===s&&(s=function(){});var l=r.getTransferables;if(void 0===l&&(l=null),!e[a])try{u=u.map((function(n){return n&&n.isWorkerModule&&(t(n,(function(e){if(e instanceof Error)throw e})),n=e[n.id].value),n})),s=n("<"+o+">.init",s),l&&(l=n("<"+o+">.getTransferables",l));var c=null;"function"===typeof s?c=s.apply(void 0,u):console.error("worker module init function failed to rehydrate"),e[a]={id:a,value:c,getTransferables:l},i(c)}catch(f){f&&f.noLog||console.error(f),i(f)}}function n(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var r=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(r)}catch(i){console.error(i)}return URL.revokeObjectURL(r),delete self.troikaDefine,n}self.addEventListener("message",(function(n){var r=n.data,i=r.messageId,a=r.action,o=r.data;try{"registerModule"===a&&t(o,(function(e){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:{isCallable:"function"===typeof e}})})),"callModule"===a&&function(t,n){var r,i=t.id,a=t.args;e[i]&&"function"===typeof e[i].value||n(new Error("Worker module "+i+": not found or its 'init' did not return a function"));try{var o=(r=e[i]).value.apply(r,a);o&&"function"===typeof o.then?o.then(u,(function(e){return n(e instanceof Error?e:new Error(""+e))})):u(o)}catch(s){n(s)}function u(t){try{var r=e[i].getTransferables&&e[i].getTransferables(t);r&&Array.isArray(r)&&r.length||(r=void 0),n(t,r)}catch(s){console.error(s),n(s)}}}(o,(function(e,t){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:e},t||void 0)}))}catch(u){postMessage({messageId:i,success:!1,error:u.stack})}}))}var U6=function(){var e=!1;if("undefined"!==typeof window&&"undefined"!==typeof window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return U6=function(){return e},e},j6=0,H6=0,Z6=!1,G6=Object.create(null),W6=Object.create(null),V6=Object.create(null);function q6(e){if((!e||"function"!==typeof e.init)&&!Z6)throw new Error("requires `options.init` function");var t=e.dependencies,n=e.init,r=e.getTransferables,i=e.workerId;if(!U6())return function(e){var t=function e(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return e._getInitResult().then((function(e){if("function"===typeof e)return e.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")}))};return t._getInitResult=function(){var n=e.dependencies,r=e.init;n=Array.isArray(n)?n.map((function(e){return e&&e._getInitResult?e._getInitResult():e})):[];var i=F6.all(n).then((function(e){return r.apply(null,e)}));return t._getInitResult=function(){return i},i},t}(e);null==i&&(i="#default");var a="workerModule"+ ++j6,o=e.name||a,u=null;function s(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];if(!u){u=$6(i,"registerModule",s.workerModuleData);var n=function e(){u=null,W6[i].delete(e)};(W6[i]||(W6[i]=new Set)).add(n)}return u.then((function(t){if(t.isCallable)return $6(i,"callModule",{id:a,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")}))}return t=t&&t.map((function(e){return"function"!==typeof e||e.workerModuleData||(Z6=!0,e=q6({workerId:i,name:"<"+o+"> function dependency: "+e.name,init:"function(){return (\n"+X6(e)+"\n)}"}),Z6=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e})),s.workerModuleData={isWorkerModule:!0,id:a,name:o,dependencies:t,init:X6(n),getTransferables:r&&X6(r)},s}function X6(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function $6(e,t,n){var r=F6(),i=++H6;return V6[i]=function(e){e.success?r.resolve(e.result):r.reject(new Error("Error in worker "+t+" call: "+e.error))},function(e){var t=G6[e];if(!t){var n=X6(B6);(t=G6[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+n+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,n=t.messageId,r=V6[n];if(!r)throw new Error("WorkerModule response with empty or unknown messageId");delete V6[n],r(t)}}return t}(e).postMessage({messageId:i,action:t,data:n}),r}var Y6=q6({name:"Thenable",dependencies:[F6],init:function(e){return e}});function K6(){var e=function(e){function t(e,t,n,r,i,a,o,u){var s=1-o;u.x=s*s*e+2*s*o*n+o*o*i,u.y=s*s*t+2*s*o*r+o*o*a}function n(e,t,n,r,i,a,o,u,s,l){var c=1-s;l.x=c*c*c*e+3*c*c*s*n+3*c*s*s*i+s*s*s*o,l.y=c*c*c*t+3*c*c*s*r+3*c*s*s*a+s*s*s*u}function r(e,t){for(var n,r,i,a,o,u=/([MLQCZ])([^MLQCZ]*)/g;n=u.exec(e);){var s=n[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map((function(e){return parseFloat(e)}));switch(n[1]){case"M":a=r=s[0],o=i=s[1];break;case"L":s[0]===a&&s[1]===o||t("L",a,o,a=s[0],o=s[1]);break;case"Q":t("Q",a,o,a=s[2],o=s[3],s[0],s[1]);break;case"C":t("C",a,o,a=s[4],o=s[5],s[0],s[1],s[2],s[3]);break;case"Z":a===r&&o===i||t("L",a,o,r,i)}}}function i(e,i,a){void 0===a&&(a=16);var o={x:0,y:0};r(e,(function(e,r,u,s,l,c,f,h,d){switch(e){case"L":i(r,u,s,l);break;case"Q":for(var p=r,v=u,m=1;m<a;m++)t(r,u,c,f,s,l,m/(a-1),o),i(p,v,o.x,o.y),p=o.x,v=o.y;break;case"C":for(var g=r,y=u,b=1;b<a;b++)n(r,u,c,f,h,d,s,l,b/(a-1),o),i(g,y,o.x,o.y),g=o.x,y=o.y}}))}var a="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",o=new WeakMap,u={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function s(e,t){var n=e.getContext?e.getContext("webgl",u):e,r=o.get(n);if(!r){var i=function(e){var t=c[e];if(!t&&!(t=c[e]=n.getExtension(e)))throw new Error(e+" not supported");return t},a=function(e,t){var r=n.createShader(t);return n.shaderSource(r,e),n.compileShader(r),r},s=function(){c={},f={},h={},d=-1,p.length=0},l="undefined"!==typeof WebGL2RenderingContext&&n instanceof WebGL2RenderingContext,c={},f={},h={},d=-1,p=[];n.canvas.addEventListener("webglcontextlost",(function(e){s(),e.preventDefault()}),!1),o.set(n,r={gl:n,isWebGL2:l,getExtension:i,withProgram:function(e,t,r,o){if(!f[e]){var u={},s={},c=n.createProgram();n.attachShader(c,a(t,n.VERTEX_SHADER)),n.attachShader(c,a(r,n.FRAGMENT_SHADER)),n.linkProgram(c),f[e]={program:c,transaction:function(e){n.useProgram(c),e({setUniform:function(e,t){for(var r=[],i=arguments.length-2;i-- >0;)r[i]=arguments[i+2];var a=s[t]||(s[t]=n.getUniformLocation(c,t));n["uniform"+e].apply(n,[a].concat(r))},setAttribute:function(e,t,r,a,o){var s=u[e];s||(s=u[e]={buf:n.createBuffer(),loc:n.getAttribLocation(c,e),data:null}),n.bindBuffer(n.ARRAY_BUFFER,s.buf),n.vertexAttribPointer(s.loc,t,n.FLOAT,!1,0,0),n.enableVertexAttribArray(s.loc),l?n.vertexAttribDivisor(s.loc,a):i("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(s.loc,a),o!==s.data&&(n.bufferData(n.ARRAY_BUFFER,o,r),s.data=o)}})}}}f[e].transaction(o)},withTexture:function(e,t){d++;try{n.activeTexture(n.TEXTURE0+d);var r=h[e];r||(r=h[e]=n.createTexture(),n.bindTexture(n.TEXTURE_2D,r),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.NEAREST)),n.bindTexture(n.TEXTURE_2D,r),t(r,d)}finally{d--}},withTextureFramebuffer:function(e,t,r){var i=n.createFramebuffer();p.push(i),n.bindFramebuffer(n.FRAMEBUFFER,i),n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,e),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,e,0);try{r(i)}finally{n.deleteFramebuffer(i),n.bindFramebuffer(n.FRAMEBUFFER,p[--p.length-1]||null)}},handleContextLoss:s})}t(r)}function l(e,t,n,r,i,o,u,l){void 0===u&&(u=15),void 0===l&&(l=null),s(e,(function(e){var s=e.gl,c=e.withProgram;(0,e.withTexture)("copy",(function(e,f){s.texImage2D(s.TEXTURE_2D,0,s.RGBA,i,o,0,s.RGBA,s.UNSIGNED_BYTE,t),c("copy",a,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",(function(e){var t=e.setUniform;(0,e.setAttribute)("aUV",2,s.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),t("1i","image",f),s.bindFramebuffer(s.FRAMEBUFFER,l||null),s.disable(s.BLEND),s.colorMask(8&u,4&u,2&u,1&u),s.viewport(n,r,i,o),s.scissor(n,r,i,o),s.drawArrays(s.TRIANGLES,0,3)}))}))}))}var c=Object.freeze({__proto__:null,withWebGLContext:s,renderImageData:l,resizeWebGLCanvasWithoutClearing:function(e,t,n){var r=e.width,i=e.height;s(e,(function(a){var o=a.gl,u=new Uint8Array(r*i*4);o.readPixels(0,0,r,i,o.RGBA,o.UNSIGNED_BYTE,u),e.width=t,e.height=n,l(o,u,0,0,r,i)}))}});function f(e,t,n,r,a,o){void 0===o&&(o=1);var u=new Uint8Array(e*t),s=r[2]-r[0],l=r[3]-r[1],c=[];i(n,(function(e,t,n,r){c.push({x1:e,y1:t,x2:n,y2:r,minX:Math.min(e,n),minY:Math.min(t,r),maxX:Math.max(e,n),maxY:Math.max(t,r)})})),c.sort((function(e,t){return e.maxX-t.maxX}));for(var f=0;f<e;f++)for(var h=0;h<t;h++){var d=m(r[0]+s*(f+.5)/e,r[1]+l*(h+.5)/t),v=Math.pow(1-Math.abs(d)/a,o)/2;d<0&&(v=1-v),v=Math.max(0,Math.min(255,Math.round(255*v))),u[h*e+f]=v}return u;function m(e,t){for(var n=1/0,r=1/0,i=c.length;i--;){var a=c[i];if(a.maxX+r<=e)break;if(e+r>a.minX&&t-r<a.maxY&&t+r>a.minY){var o=p(e,t,a.x1,a.y1,a.x2,a.y2);o<n&&(n=o,r=Math.sqrt(n))}}return function(e,t){for(var n=0,r=c.length;r--;){var i=c[r];if(i.maxX<=e)break;i.y1>t!==i.y2>t&&e<(i.x2-i.x1)*(t-i.y1)/(i.y2-i.y1)+i.x1&&(n+=i.y1<i.y2?1:-1)}return 0!==n}(e,t)&&(r=-r),r}}function h(e,t,n,r,i,a,o,u,s,l){void 0===a&&(a=1),void 0===u&&(u=0),void 0===s&&(s=0),void 0===l&&(l=0),d(e,t,n,r,i,a,o,null,u,s,l)}function d(e,t,n,r,i,a,o,u,s,c,h){void 0===a&&(a=1),void 0===s&&(s=0),void 0===c&&(c=0),void 0===h&&(h=0);for(var d=f(e,t,n,r,i,a),p=new Uint8Array(4*d.length),v=0;v<d.length;v++)p[4*v+h]=d[v];l(o,p,s,c,e,t,1<<3-h,u)}function p(e,t,n,r,i,a){var o=i-n,u=a-r,s=o*o+u*u,l=s?Math.max(0,Math.min(1,((e-n)*o+(t-r)*u)/s)):0,c=e-(n+l*o),f=t-(r+l*u);return c*c+f*f}var v=Object.freeze({__proto__:null,generate:f,generateIntoCanvas:h,generateIntoFramebuffer:d}),m=new Float32Array([0,0,2,0,0,2]),g=null,y=!1,b={},x=new WeakMap;function _(e){if(!y&&!M(e))throw new Error("WebGL generation not supported")}function w(e,t,n,r,i,a,o){if(void 0===a&&(a=1),void 0===o&&(o=null),!o&&!(o=g)){var u="function"===typeof OffscreenCanvas?new OffscreenCanvas(1,1):"undefined"!==typeof document?document.createElement("canvas"):null;if(!u)throw new Error("OffscreenCanvas or DOM canvas not supported");o=g=u.getContext("webgl",{depth:!1})}_(o);var l=new Uint8Array(e*t*4);s(o,(function(o){var u=o.gl,s=o.withTexture,c=o.withTextureFramebuffer;s("readable",(function(o,s){u.texImage2D(u.TEXTURE_2D,0,u.RGBA,e,t,0,u.RGBA,u.UNSIGNED_BYTE,null),c(o,s,(function(o){k(e,t,n,r,i,a,u,o,0,0,0),u.readPixels(0,0,e,t,u.RGBA,u.UNSIGNED_BYTE,l)}))}))}));for(var c=new Uint8Array(e*t),f=0,h=0;f<l.length;f+=4)c[h++]=l[f];return c}function S(e,t,n,r,i,a,o,u,s,l){void 0===a&&(a=1),void 0===u&&(u=0),void 0===s&&(s=0),void 0===l&&(l=0),k(e,t,n,r,i,a,o,null,u,s,l)}function k(e,t,n,r,o,u,l,c,f,h,d){void 0===u&&(u=1),void 0===f&&(f=0),void 0===h&&(h=0),void 0===d&&(d=0),_(l);var p=[];i(n,(function(e,t,n,r){p.push(e,t,n,r)})),p=new Float32Array(p),s(l,(function(n){var i=n.gl,s=n.isWebGL2,l=n.getExtension,v=n.withProgram,g=n.withTexture,y=n.withTextureFramebuffer,b=n.handleContextLoss;if(g("rawDistances",(function(n,g){e===n._lastWidth&&t===n._lastHeight||i.texImage2D(i.TEXTURE_2D,0,i.RGBA,n._lastWidth=e,n._lastHeight=t,0,i.RGBA,i.UNSIGNED_BYTE,null),v("main","precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}","precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",(function(a){var c=a.setAttribute,f=a.setUniform,h=!s&&l("ANGLE_instanced_arrays"),d=!s&&l("EXT_blend_minmax");c("aUV",2,i.STATIC_DRAW,0,m),c("aLineSegment",4,i.DYNAMIC_DRAW,1,p),f.apply(void 0,["4f","uGlyphBounds"].concat(r)),f("1f","uMaxDistance",o),f("1f","uExponent",u),y(n,g,(function(n){i.enable(i.BLEND),i.colorMask(!0,!0,!0,!0),i.viewport(0,0,e,t),i.scissor(0,0,e,t),i.blendFunc(i.ONE,i.ONE),i.blendEquationSeparate(i.FUNC_ADD,s?i.MAX:d.MAX_EXT),i.clear(i.COLOR_BUFFER_BIT),s?i.drawArraysInstanced(i.TRIANGLES,0,3,p.length/4):h.drawArraysInstancedANGLE(i.TRIANGLES,0,3,p.length/4)}))})),v("post",a,"precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",(function(n){n.setAttribute("aUV",2,i.STATIC_DRAW,0,m),n.setUniform("1i","tex",g),i.bindFramebuffer(i.FRAMEBUFFER,c),i.disable(i.BLEND),i.colorMask(0===d,1===d,2===d,3===d),i.viewport(f,h,e,t),i.scissor(f,h,e,t),i.drawArrays(i.TRIANGLES,0,3)}))})),i.isContextLost())throw b(),new Error("webgl context lost")}))}function M(e){var t=e&&e!==g?e.canvas||e:b,n=x.get(t);if(void 0===n){y=!0;var r=null;try{var i=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],a=w(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,e);n=a&&i.length===a.length&&a.every((function(e,t){return e===i[t]})),n||(r="bad trial run results",console.info(i,a))}catch(o){n=!1,r=o.message}r&&console.warn("WebGL SDF generation not supported:",r),y=!1,x.set(t,n)}return n}var E=Object.freeze({__proto__:null,generate:w,generateIntoCanvas:S,generateIntoFramebuffer:k,isSupported:M});return e.forEachPathCommand=r,e.generate=function(e,t,n,r,i,a){void 0===i&&(i=Math.max(r[2]-r[0],r[3]-r[1])/2),void 0===a&&(a=1);try{return w.apply(E,arguments)}catch(o){return console.info("WebGL SDF generation failed, falling back to JS",o),f.apply(v,arguments)}},e.generateIntoCanvas=function(e,t,n,r,i,a,o,u,s,l){void 0===i&&(i=Math.max(r[2]-r[0],r[3]-r[1])/2),void 0===a&&(a=1),void 0===u&&(u=0),void 0===s&&(s=0),void 0===l&&(l=0);try{return S.apply(E,arguments)}catch(c){return console.info("WebGL SDF generation failed, falling back to JS",c),h.apply(v,arguments)}},e.javascript=v,e.pathToLineSegments=i,e.webgl=E,e.webglUtils=c,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return e}var J6=function(){var e=function(e){var t={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},n={},r={};n.L=1,r[1]="L",Object.keys(t).forEach((function(e,t){n[e]=1<<t+1,r[n[e]]=e})),Object.freeze(n);var i=n.LRI|n.RLI|n.FSI,a=n.L|n.R|n.AL,o=n.B|n.S|n.WS|n.ON|n.FSI|n.LRI|n.RLI|n.PDI,u=n.BN|n.RLE|n.LRE|n.RLO|n.LRO|n.PDF,s=n.S|n.WS|n.B|i|n.PDI|u,l=null;function c(e){return function(){if(!l){l=new Map;var e=function(e){if(t.hasOwnProperty(e)){var r=0;t[e].split(",").forEach((function(t){var i=t.split("+"),a=i[0],o=i[1];a=parseInt(a,36),o=o?parseInt(o,36):0,l.set(r+=a,n[e]);for(var u=0;u<o;u++)l.set(++r,n[e])}))}};for(var r in t)e(r)}}(),l.get(e.codePointAt(0))||n.L}var f,h,d,p="14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",v="6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye";function m(e,t){var n,r=0,i=new Map,a=t&&new Map;return e.split(",").forEach((function e(o){if(-1!==o.indexOf("+"))for(var u=+o;u--;)e(n);else{n=o;var s=o.split(">"),l=s[0],c=s[1];l=String.fromCodePoint(r+=parseInt(l,36)),c=String.fromCodePoint(r+=parseInt(c,36)),i.set(l,c),t&&a.set(c,l)}})),{map:i,reverseMap:a}}function g(){if(!f){var e=m(p,!0),t=e.map,n=e.reverseMap;f=t,h=n,d=m(v,!1).map}}function y(e){return g(),f.get(e)||null}function b(e){return g(),h.get(e)||null}function x(e){return g(),d.get(e)||null}var _=n.L,w=n.R,S=n.EN,k=n.ES,M=n.ET,E=n.AN,T=n.CS,A=n.B,C=n.S,R=n.ON,P=n.BN,L=n.NSM,O=n.AL,I=n.LRO,D=n.RLO,N=n.LRE,z=n.RLE,F=n.PDF,B=n.LRI,U=n.RLI,j=n.FSI,H=n.PDI;var Z;function G(e){return function(){if(!Z){var e=m("14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",!0),t=e.map;e.reverseMap.forEach((function(e,n){t.set(n,e)})),Z=t}}(),Z.get(e)||null}function W(e,t,n,r){var i=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(i-1,null==r?i-1:+r);var a=[];return t.paragraphs.forEach((function(i){var o=Math.max(n,i.start),u=Math.min(r,i.end);if(o<u){for(var l=t.levels.slice(o,u+1),f=u;f>=o&&c(e[f])&s;f--)l[f]=i.level;for(var h=i.level,d=1/0,p=0;p<l.length;p++){var v=l[p];v>h&&(h=v),v<d&&(d=1|v)}for(var m=h;m>=d;m--)for(var g=0;g<l.length;g++)if(l[g]>=m){for(var y=g;g+1<l.length&&l[g+1]>=m;)g++;g>y&&a.push([y+n,g+n])}}})),a}function V(e,t,n,r){for(var i=W(e,t,n,r),a=[],o=0;o<e.length;o++)a[o]=o;return i.forEach((function(e){for(var t=e[0],n=e[1],r=a.slice(t,n+1),i=r.length;i--;)a[n-i]=r[i]})),a}return e.closingToOpeningBracket=b,e.getBidiCharType=c,e.getBidiCharTypeName=function(e){return r[c(e)]},e.getCanonicalBracket=x,e.getEmbeddingLevels=function(e,t){for(var n=new Uint32Array(e.length),r=0;r<e.length;r++)n[r]=c(e[r]);var l=new Map;function f(e,t){var r=n[e];n[e]=t,l.set(r,l.get(r)-1),r&o&&l.set(o,l.get(o)-1),l.set(t,(l.get(t)||0)+1),t&o&&l.set(o,(l.get(o)||0)+1)}for(var h=new Uint8Array(e.length),d=new Map,p=[],v=null,m=0;m<e.length;m++)v||p.push(v={start:m,end:e.length-1,level:"rtl"===t?1:"ltr"===t?0:jt(m,!1)}),n[m]&A&&(v.end=m,v=null);for(var g=z|N|D|I|i|H|F|A,Z=function(e){return e+(1&e?1:2)},G=function(e){return e+(1&e?2:1)},W=0;W<p.length;W++){var V=[{_level:(v=p[W]).level,_override:0,_isolate:0}],q=void 0,X=0,$=0,Y=0;l.clear();for(var K=v.start;K<=v.end;K++){var J=n[K];if(q=V[V.length-1],l.set(J,(l.get(J)||0)+1),J&o&&l.set(o,(l.get(o)||0)+1),J&g)if(J&(z|N)){h[K]=q._level;var Q=(J===z?G:Z)(q._level);Q<=125&&!X&&!$?V.push({_level:Q,_override:0,_isolate:0}):X||$++}else if(J&(D|I)){h[K]=q._level;var ee=(J===D?G:Z)(q._level);ee<=125&&!X&&!$?V.push({_level:ee,_override:J&D?w:_,_isolate:0}):X||$++}else if(J&i){J&j&&(J=1===jt(K+1,!0)?U:B),h[K]=q._level,q._override&&f(K,q._override);var te=(J===U?G:Z)(q._level);te<=125&&0===X&&0===$?(Y++,V.push({_level:te,_override:0,_isolate:1,_isolInitIndex:K})):X++}else if(J&H){if(X>0)X--;else if(Y>0){for($=0;!V[V.length-1]._isolate;)V.pop();var ne=V[V.length-1]._isolInitIndex;null!=ne&&(d.set(ne,K),d.set(K,ne)),V.pop(),Y--}q=V[V.length-1],h[K]=q._level,q._override&&f(K,q._override)}else J&F?(0===X&&($>0?$--:!q._isolate&&V.length>1&&(V.pop(),q=V[V.length-1])),h[K]=q._level):J&A&&(h[K]=v.level);else h[K]=q._level,q._override&&J!==P&&f(K,q._override)}for(var re=[],ie=null,ae=v.start;ae<=v.end;ae++){var oe=n[ae];if(!(oe&u)){var ue=h[ae],se=oe&i,le=oe===H;ie&&ue===ie._level?(ie._end=ae,ie._endsWithIsolInit=se):re.push(ie={_start:ae,_end:ae,_level:ue,_startsWithPDI:le,_endsWithIsolInit:se})}}for(var ce=[],fe=0;fe<re.length;fe++){var he=re[fe];if(!he._startsWithPDI||he._startsWithPDI&&!d.has(he._start)){for(var de=[ie=he],pe=void 0;ie&&ie._endsWithIsolInit&&null!=(pe=d.get(ie._end));)for(var ve=fe+1;ve<re.length;ve++)if(re[ve]._start===pe){de.push(ie=re[ve]);break}for(var me=[],ge=0;ge<de.length;ge++)for(var ye=de[ge],be=ye._start;be<=ye._end;be++)me.push(be);for(var xe=h[me[0]],_e=v.level,we=me[0]-1;we>=0;we--)if(!(n[we]&u)){_e=h[we];break}var Se=me[me.length-1],ke=h[Se],Me=v.level;if(!(n[Se]&i))for(var Ee=Se+1;Ee<=v.end;Ee++)if(!(n[Ee]&u)){Me=h[Ee];break}ce.push({_seqIndices:me,_sosType:Math.max(_e,xe)%2?w:_,_eosType:Math.max(Me,ke)%2?w:_})}}for(var Te=0;Te<ce.length;Te++){var Ae=ce[Te],Ce=Ae._seqIndices,Re=Ae._sosType,Pe=Ae._eosType;if(l.get(L))for(var Le=0;Le<Ce.length;Le++){var Oe=Ce[Le];if(n[Oe]&L){for(var Ie=Re,De=Le-1;De>=0;De--)if(!(n[Ce[De]]&u)){Ie=n[Ce[De]];break}f(Oe,Ie&(i|H)?R:Ie)}}if(l.get(S))for(var Ne=0;Ne<Ce.length;Ne++){var ze=Ce[Ne];if(n[ze]&S)for(var Fe=Ne-1;Fe>=-1;Fe--){var Be=-1===Fe?Re:n[Ce[Fe]];if(Be&a){Be===O&&f(ze,E);break}}}if(l.get(O))for(var Ue=0;Ue<Ce.length;Ue++){var je=Ce[Ue];n[je]&O&&f(je,w)}if(l.get(k)||l.get(T))for(var He=1;He<Ce.length-1;He++){var Ze=Ce[He];if(n[Ze]&(k|T)){for(var Ge=0,We=0,Ve=He-1;Ve>=0&&(Ge=n[Ce[Ve]])&u;Ve--);for(var qe=He+1;qe<Ce.length&&(We=n[Ce[qe]])&u;qe++);Ge===We&&(n[Ze]===k?Ge===S:Ge&(S|E))&&f(Ze,Ge)}}if(l.get(S))for(var Xe=0;Xe<Ce.length;Xe++){var $e=Ce[Xe];if(n[$e]&S){for(var Ye=Xe-1;Ye>=0&&n[Ce[Ye]]&(M|u);Ye--)f(Ce[Ye],S);for(var Ke=Xe+1;Ke<Ce.length&&n[Ce[Ke]]&(M|u);Ke++)f(Ce[Ke],S)}}if(l.get(M)||l.get(k)||l.get(T))for(var Je=0;Je<Ce.length;Je++){var Qe=Ce[Je];if(n[Qe]&(M|k|T)){f(Qe,R);for(var et=Je-1;et>=0&&n[Ce[et]]&u;et--)f(Ce[et],R);for(var tt=Je+1;tt<Ce.length&&n[Ce[tt]]&u;tt++)f(Ce[tt],R)}}if(l.get(S))for(var nt=0,rt=Re;nt<Ce.length;nt++){var it=Ce[nt],at=n[it];at&S?rt===_&&f(it,_):at&a&&(rt=at)}if(l.get(o)){for(var ot=w|S|E,ut=ot|_,st=[],lt=[],ct=0;ct<Ce.length;ct++)if(n[Ce[ct]]&o){var ft=e[Ce[ct]],ht=void 0;if(null!==y(ft)){if(!(lt.length<63))break;lt.push({char:ft,seqIndex:ct})}else if(null!==(ht=b(ft)))for(var dt=lt.length-1;dt>=0;dt--){var pt=lt[dt].char;if(pt===ht||pt===b(x(ft))||y(x(pt))===ft){st.push([lt[dt].seqIndex,ct]),lt.length=dt;break}}}st.sort((function(e,t){return e[0]-t[0]}));for(var vt=0;vt<st.length;vt++){for(var mt=st[vt],gt=mt[0],yt=mt[1],bt=!1,xt=0,_t=gt+1;_t<yt;_t++){var wt=Ce[_t];if(n[wt]&ut){bt=!0;var St=n[wt]&ot?w:_;if(St===Zt(wt)){xt=St;break}}}if(bt&&!xt){xt=Re;for(var kt=gt-1;kt>=0;kt--){var Mt=Ce[kt];if(n[Mt]&ut){var Et=n[Mt]&ot?w:_;xt=Et!==Zt(Mt)?Et:Zt(Mt);break}}}if(xt){if(n[Ce[gt]]=n[Ce[yt]]=xt,xt!==Zt(Ce[gt]))for(var Tt=gt+1;Tt<Ce.length;Tt++)if(!(n[Ce[Tt]]&u)){c(e[Ce[Tt]])&L&&(n[Ce[Tt]]=xt);break}if(xt!==Zt(Ce[yt]))for(var At=yt+1;At<Ce.length;At++)if(!(n[Ce[At]]&u)){c(e[Ce[At]])&L&&(n[Ce[At]]=xt);break}}}for(var Ct=0;Ct<Ce.length;Ct++)if(n[Ce[Ct]]&o){for(var Rt=Ct,Pt=Ct,Lt=Re,Ot=Ct-1;Ot>=0;Ot--){if(!(n[Ce[Ot]]&u)){Lt=n[Ce[Ot]]&ot?w:_;break}Rt=Ot}for(var It=Pe,Dt=Ct+1;Dt<Ce.length;Dt++){if(!(n[Ce[Dt]]&(o|u))){It=n[Ce[Dt]]&ot?w:_;break}Pt=Dt}for(var Nt=Rt;Nt<=Pt;Nt++)n[Ce[Nt]]=Lt===It?Lt:Zt(Ce[Nt]);Ct=Pt}}}for(var zt=v.start;zt<=v.end;zt++){var Ft=h[zt],Bt=n[zt];if(1&Ft?Bt&(_|S|E)&&h[zt]++:Bt&w?h[zt]++:Bt&(E|S)&&(h[zt]+=2),Bt&u&&(h[zt]=0===zt?v.level:h[zt-1]),zt===v.end||c(e[zt])&(C|A))for(var Ut=zt;Ut>=0&&c(e[Ut])&s;Ut--)h[Ut]=v.level}}return{levels:h,paragraphs:p};function jt(t,r){for(var a=t;a<e.length;a++){var o=n[a];if(o&(w|O))return 1;if(o&(A|_)||r&&o===H)return 0;if(o&i){var u=Ht(a);a=-1===u?e.length:u}}return 0}function Ht(t){for(var r=1,a=t+1;a<e.length;a++){var o=n[a];if(o&A)break;if(o&H){if(0===--r)return a}else o&i&&r++}return-1}function Zt(e){return 1&h[e]?w:_}},e.getMirroredCharacter=G,e.getMirroredCharactersMap=function(e,t,n,r){var i=e.length;n=Math.max(0,null==n?0:+n),r=Math.min(i-1,null==r?i-1:+r);for(var a=new Map,o=n;o<=r;o++)if(1&t[o]){var u=G(e[o]);null!==u&&a.set(o,u)}return a},e.getReorderSegments=W,e.getReorderedIndices=V,e.getReorderedString=function(e,t,n,r){var i=V(e,t,n,r),a=[].concat(e);return i.forEach((function(n,r){a[r]=(1&t.levels[n]?G(e[n]):null)||e[n]})),a.join("")},e.openingToClosingBracket=y,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return e},Q6=/\bvoid\s+main\s*\(\s*\)\s*{/g;function e8(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,t){var n=po[t];return n?e8(n):e}))}for(var t8=[],n8=0;n8<256;n8++)t8[n8]=(n8<16?"0":"")+n8.toString(16);var r8=Object.assign||function(){for(var e=arguments[0],t=1,n=arguments.length;t<n;t++){var r=arguments[t];if(r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e},i8=Date.now(),a8=new WeakMap,o8=new Map,u8=1e10;function s8(e,t){var n=function(e){var t=JSON.stringify(e,c8),n=h8.get(t);null==n&&h8.set(t,n=++f8);return n}(t),r=a8.get(e);if(r||a8.set(e,r=Object.create(null)),r[n])return new r[n];var i="_onBeforeCompile".concat(n),a=function(r){e.onBeforeCompile.call(this,r);var a=this.customProgramCacheKey()+"|"+r.vertexShader+"|"+r.fragmentShader,o=o8[a];if(!o){var u=function(e,t,n){var r=e.vertexShader,i=e.fragmentShader,a=t.vertexDefs,o=t.vertexMainIntro,u=t.vertexMainOutro,s=t.vertexTransform,l=t.fragmentDefs,c=t.fragmentMainIntro,f=t.fragmentMainOutro,h=t.fragmentColorTransform,d=t.customRewriter,p=t.timeUniform;a=a||"",o=o||"",u=u||"",l=l||"",c=c||"",f=f||"",(s||d)&&(r=e8(r));(h||d)&&(i=e8(i=i.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n")));if(d){var v=d({vertexShader:r,fragmentShader:i});r=v.vertexShader,i=v.fragmentShader}if(h){var m=[];i=i.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,(function(e){return m.push(e),""})),f="".concat(h,"\n").concat(m.join("\n"),"\n").concat(f)}if(p){var g="\nuniform float ".concat(p,";\n");a=g+a,l=g+l}s&&(r="vec3 troika_position_".concat(n,";\nvec3 troika_normal_").concat(n,";\nvec2 troika_uv_").concat(n,";\n").concat(r,"\n"),a="".concat(a,"\nvoid troikaVertexTransform").concat(n,"(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  ").concat(s,"\n}\n"),o="\ntroika_position_".concat(n," = vec3(position);\ntroika_normal_").concat(n," = vec3(normal);\ntroika_uv_").concat(n," = vec2(uv);\ntroikaVertexTransform").concat(n,"(troika_position_").concat(n,", troika_normal_").concat(n,", troika_uv_").concat(n,");\n").concat(o,"\n"),r=r.replace(/\b(position|normal|uv)\b/g,(function(e,t,r,i){return/\battribute\s+vec[23]\s+$/.test(i.substr(0,r))?t:"troika_".concat(t,"_").concat(n)})));return r=l8(r,n,a,o,u),i=l8(i,n,l,c,f),{vertexShader:r,fragmentShader:i}}(r,t,n);o=o8[a]=u}r.vertexShader=o.vertexShader,r.fragmentShader=o.fragmentShader,r8(r.uniforms,this.uniforms),t.timeUniform&&(r.uniforms[t.timeUniform]={get value(){return Date.now()-i8}}),this[i]&&this[i](r)},o=function(){return u(t.chained?e:e.clone())},u=function(r){var i=Object.create(r,s);return Object.defineProperty(i,"baseMaterial",{value:e}),Object.defineProperty(i,"id",{value:u8++}),i.uuid=function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(t8[255&e]+t8[e>>8&255]+t8[e>>16&255]+t8[e>>24&255]+"-"+t8[255&t]+t8[t>>8&255]+"-"+t8[t>>16&15|64]+t8[t>>24&255]+"-"+t8[63&n|128]+t8[n>>8&255]+"-"+t8[n>>16&255]+t8[n>>24&255]+t8[255&r]+t8[r>>8&255]+t8[r>>16&255]+t8[r>>24&255]).toUpperCase()}(),i.uniforms=r8({},r.uniforms,t.uniforms),i.defines=r8({},r.defines,t.defines),i.defines["TROIKA_DERIVED_MATERIAL_".concat(n)]="",i.extensions=r8({},r.extensions,t.extensions),i._listeners=void 0,i},s={constructor:{value:o},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return e.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get:function(){return a},set:function(e){this[i]=e}},copy:{writable:!0,configurable:!0,value:function(t){return e.copy.call(this,t),e.isShaderMaterial||e.isDerivedMaterial||(r8(this.extensions,t.extensions),r8(this.defines,t.defines),r8(this.uniforms,$a.clone(t.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){var t=new e.constructor;return u(t).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){var n=this._depthMaterial;return n||((n=this._depthMaterial=s8(e.isDerivedMaterial?e.getDepthMaterial():new Rs({depthPacking:yn}),t)).defines.IS_DEPTH_MATERIAL="",n.uniforms=this.uniforms),n}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){var n=this._distanceMaterial;return n||((n=this._distanceMaterial=s8(e.isDerivedMaterial?e.getDistanceMaterial():new Ps,t)).defines.IS_DISTANCE_MATERIAL="",n.uniforms=this.uniforms),n}},dispose:{writable:!0,configurable:!0,value:function(){var t=this._depthMaterial,n=this._distanceMaterial;t&&t.dispose(),n&&n.dispose(),e.dispose.call(this)}}};return r[n]=o,new o}function l8(e,t,n,r,i){return(r||i||n)&&(e=e.replace(Q6,"\n".concat(n,"\nvoid troikaOrigMain").concat(t,"() {")),e+="\nvoid main() {\n  ".concat(r,"\n  troikaOrigMain").concat(t,"();\n  ").concat(i,"\n}")),e}function c8(e,t){return"uniforms"===e?void 0:"function"===typeof t?t.toString():t}var f8=0,h8=new Map;var d8,p8=function(){return(self.performance||Date).now()},v8=K6();var m8=function(){var e=[],t=0;function n(){for(var r=p8();e.length&&p8()-r<5;)e.shift()();t=e.length?setTimeout(n,0):0}return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=F6();return e.push((function(){var e=p8();try{var t;(t=v8.webgl).generateIntoCanvas.apply(t,i),o.resolve({timing:p8()-e})}catch(n){o.reject(n)}})),t||(t=setTimeout(n,0)),o}}(),g8=function(){var e={},t=0;return function(n,r,i,a,o,u,s,l,c,f){var h="TroikaTextSDFGenerator_JS_"+t++%4,d=e[h];return d||(d=e[h]={workerModule:q6({name:h,workerId:h,dependencies:[K6,p8],init:function(e,t){var n=e().javascript.generate;return function(){var e=t(),r=n.apply(void 0,arguments);return{textureData:r,timing:t()-e}}},getTransferables:function(e){return[e.textureData.buffer]}}),requests:0,idleTimer:null}),d.requests++,clearTimeout(d.idleTimer),d.workerModule(n,r,i,a,o,u).then((function(e){for(var t=e.textureData,i=e.timing,a=p8(),o=new Uint8Array(4*t.length),u=0;u<t.length;u++)o[4*u+f]=t[u];return v8.webglUtils.renderImageData(s,o,l,c,n,r,1<<3-f),i+=p8()-a,0===--d.requests&&(d.idleTimer=setTimeout((function(){!function(e){W6[e]&&W6[e].forEach((function(e){e()})),G6[e]&&(G6[e].terminate(),delete G6[e])}(h)}),2e3)),{timing:i}}))}}();var y8=v8.webglUtils.resizeWebGLCanvasWithoutClearing;var b8=q6({name:"Typr Font Parser",dependencies:[function(){return"undefined"==typeof window&&(self.window=self),function(e){var t={parse:function(e){var n=t._bin,r=new Uint8Array(e);if("ttcf"==n.readASCII(r,0,4)){var i=4;n.readUshort(r,i),i+=2,n.readUshort(r,i),i+=2;var a=n.readUint(r,i);i+=4;for(var o=[],u=0;u<a;u++){var s=n.readUint(r,i);i+=4,o.push(t._readFont(r,s))}return o}return[t._readFont(r,0)]},_readFont:function(e,n){var r=t._bin,i=n;r.readFixed(e,n),n+=4;var a=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2;for(var o=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],u={_data:e,_offset:i},s={},l=0;l<a;l++){var c=r.readASCII(e,n,4);n+=4,r.readUint(e,n),n+=4;var f=r.readUint(e,n);n+=4;var h=r.readUint(e,n);n+=4,s[c]={offset:f,length:h}}for(l=0;l<o.length;l++){var d=o[l];s[d]&&(u[d.trim()]=t[d.trim()].parse(e,s[d].offset,s[d].length,u))}return u},_tabOffset:function(e,n,r){for(var i=t._bin,a=i.readUshort(e,r+4),o=r+12,u=0;u<a;u++){var s=i.readASCII(e,o,4);o+=4,i.readUint(e,o),o+=4;var l=i.readUint(e,o);if(o+=4,i.readUint(e,o),o+=4,s==n)return l}return 0}};t._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,n){return t._bin.readShort(e,n)/16384},readInt:function(e,n){return t._bin._view(e).getInt32(n)},readInt8:function(e,n){return t._bin._view(e).getInt8(n)},readShort:function(e,n){return t._bin._view(e).getInt16(n)},readUshort:function(e,n){return t._bin._view(e).getUint16(n)},readUshorts:function(e,n,r){for(var i=[],a=0;a<r;a++)i.push(t._bin.readUshort(e,n+2*a));return i},readUint:function(e,n){return t._bin._view(e).getUint32(n)},readUint64:function(e,n){return 4294967296*t._bin.readUint(e,n)+t._bin.readUint(e,n+4)},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},readUnicode:function(e,t,n){for(var r="",i=0;i<n;i++){var a=e[t++]<<8|e[t++];r+=String.fromCharCode(a)}return r},_tdec:"undefined"!=typeof window&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(e,n,r){var i=t._bin._tdec;return i&&0==n&&r==e.length?i.decode(e):t._bin.readASCII(e,n,r)},readBytes:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(e[t+i]);return r},readASCIIArray:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(String.fromCharCode(e[t+i]));return r},_view:function(e){return e._dataView||(e._dataView=e.buffer?new DataView(e.buffer,e.byteOffset,e.byteLength):new DataView(new Uint8Array(e).buffer))}},t._lctf={},t._lctf.parse=function(e,n,r,i,a){var o=t._bin,u={},s=n;o.readFixed(e,n),n+=4;var l=o.readUshort(e,n);n+=2;var c=o.readUshort(e,n);n+=2;var f=o.readUshort(e,n);return n+=2,u.scriptList=t._lctf.readScriptList(e,s+l),u.featureList=t._lctf.readFeatureList(e,s+c),u.lookupList=t._lctf.readLookupList(e,s+f,a),u},t._lctf.readLookupList=function(e,n,r){var i=t._bin,a=n,o=[],u=i.readUshort(e,n);n+=2;for(var s=0;s<u;s++){var l=i.readUshort(e,n);n+=2;var c=t._lctf.readLookupTable(e,a+l,r);o.push(c)}return o},t._lctf.readLookupTable=function(e,n,r){var i=t._bin,a=n,o={tabs:[]};o.ltype=i.readUshort(e,n),n+=2,o.flag=i.readUshort(e,n),n+=2;var u=i.readUshort(e,n);n+=2;for(var s=o.ltype,l=0;l<u;l++){var c=i.readUshort(e,n);n+=2;var f=r(e,s,a+c,o);o.tabs.push(f)}return o},t._lctf.numOfOnes=function(e){for(var t=0,n=0;n<32;n++)0!=(e>>>n&1)&&t++;return t},t._lctf.readClassDef=function(e,n){var r=t._bin,i=[],a=r.readUshort(e,n);if(n+=2,1==a){var o=r.readUshort(e,n);n+=2;var u=r.readUshort(e,n);n+=2;for(var s=0;s<u;s++)i.push(o+s),i.push(o+s),i.push(r.readUshort(e,n)),n+=2}if(2==a){var l=r.readUshort(e,n);for(n+=2,s=0;s<l;s++)i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2}return i},t._lctf.getInterval=function(e,t){for(var n=0;n<e.length;n+=3){var r=e[n],i=e[n+1];if(e[n+2],r<=t&&t<=i)return n}return-1},t._lctf.readCoverage=function(e,n){var r=t._bin,i={};i.fmt=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);return n+=2,1==i.fmt&&(i.tab=r.readUshorts(e,n,a)),2==i.fmt&&(i.tab=r.readUshorts(e,n,3*a)),i},t._lctf.coverageIndex=function(e,n){var r=e.tab;if(1==e.fmt)return r.indexOf(n);if(2==e.fmt){var i=t._lctf.getInterval(r,n);if(-1!=i)return r[i+2]+(n-r[i])}return-1},t._lctf.readFeatureList=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var u=0;u<o;u++){var s=r.readASCII(e,n,4);n+=4;var l=r.readUshort(e,n);n+=2;var c=t._lctf.readFeatureTable(e,i+l);c.tag=s.trim(),a.push(c)}return a},t._lctf.readFeatureTable=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2,o>0&&(a.featureParams=i+o);var u=r.readUshort(e,n);n+=2,a.tab=[];for(var s=0;s<u;s++)a.tab.push(r.readUshort(e,n+2*s));return a},t._lctf.readScriptList=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2;for(var u=0;u<o;u++){var s=r.readASCII(e,n,4);n+=4;var l=r.readUshort(e,n);n+=2,a[s.trim()]=t._lctf.readScriptTable(e,i+l)}return a},t._lctf.readScriptTable=function(e,n){var r=t._bin,i=n,a={},o=r.readUshort(e,n);n+=2,a.default=t._lctf.readLangSysTable(e,i+o);var u=r.readUshort(e,n);n+=2;for(var s=0;s<u;s++){var l=r.readASCII(e,n,4);n+=4;var c=r.readUshort(e,n);n+=2,a[l.trim()]=t._lctf.readLangSysTable(e,i+c)}return a},t._lctf.readLangSysTable=function(e,n){var r=t._bin,i={};r.readUshort(e,n),n+=2,i.reqFeature=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);return n+=2,i.features=r.readUshorts(e,n,a),i},t.CFF={},t.CFF.parse=function(e,n,r){var i=t._bin;(e=new Uint8Array(e.buffer,n,r))[n=0],e[++n],e[++n],e[++n],n++;var a=[];n=t.CFF.readIndex(e,n,a);for(var o=[],u=0;u<a.length-1;u++)o.push(i.readASCII(e,n+a[u],a[u+1]-a[u]));n+=a[a.length-1];var s=[];n=t.CFF.readIndex(e,n,s);var l=[];for(u=0;u<s.length-1;u++)l.push(t.CFF.readDict(e,n+s[u],n+s[u+1]));n+=s[s.length-1];var c=l[0],f=[];n=t.CFF.readIndex(e,n,f);var h=[];for(u=0;u<f.length-1;u++)h.push(i.readASCII(e,n+f[u],f[u+1]-f[u]));if(n+=f[f.length-1],t.CFF.readSubrs(e,n,c),c.CharStrings){n=c.CharStrings,f=[],n=t.CFF.readIndex(e,n,f);var d=[];for(u=0;u<f.length-1;u++)d.push(i.readBytes(e,n+f[u],f[u+1]-f[u]));c.CharStrings=d}if(c.ROS){n=c.FDArray;var p=[];for(n=t.CFF.readIndex(e,n,p),c.FDArray=[],u=0;u<p.length-1;u++){var v=t.CFF.readDict(e,n+p[u],n+p[u+1]);t.CFF._readFDict(e,v,h),c.FDArray.push(v)}n+=p[p.length-1],n=c.FDSelect,c.FDSelect=[];var m=e[n];if(n++,3!=m)throw m;var g=i.readUshort(e,n);for(n+=2,u=0;u<g+1;u++)c.FDSelect.push(i.readUshort(e,n),e[n+2]),n+=3}return c.Encoding&&(c.Encoding=t.CFF.readEncoding(e,c.Encoding,c.CharStrings.length)),c.charset&&(c.charset=t.CFF.readCharset(e,c.charset,c.CharStrings.length)),t.CFF._readFDict(e,c,h),c},t.CFF._readFDict=function(e,n,r){var i;for(var a in n.Private&&(i=n.Private[1],n.Private=t.CFF.readDict(e,i,i+n.Private[0]),n.Private.Subrs&&t.CFF.readSubrs(e,i+n.Private.Subrs,n.Private)),n)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(a)&&(n[a]=r[n[a]-426+35])},t.CFF.readSubrs=function(e,n,r){var i=t._bin,a=[];n=t.CFF.readIndex(e,n,a);var o,u=a.length;o=u<1240?107:u<33900?1131:32768,r.Bias=o,r.Subrs=[];for(var s=0;s<a.length-1;s++)r.Subrs.push(i.readBytes(e,n+a[s],a[s+1]-a[s]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var n=0;n<e.charset.length;n++)if(e.charset[n]==t)return n;return-1},t.CFF.glyphBySE=function(e,n){return n<0||n>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[n])},t.CFF.readEncoding=function(e,n,r){t._bin;var i=[".notdef"],a=e[n];if(n++,0!=a)throw"error: unknown encoding format: "+a;var o=e[n];n++;for(var u=0;u<o;u++)i.push(e[n+u]);return i},t.CFF.readCharset=function(e,n,r){var i=t._bin,a=[".notdef"],o=e[n];if(n++,0==o)for(var u=0;u<r;u++){var s=i.readUshort(e,n);n+=2,a.push(s)}else{if(1!=o&&2!=o)throw"error: format: "+o;for(;a.length<r;){s=i.readUshort(e,n),n+=2;var l=0;for(1==o?(l=e[n],n++):(l=i.readUshort(e,n),n+=2),u=0;u<=l;u++)a.push(s),s++}}return a},t.CFF.readIndex=function(e,n,r){var i=t._bin,a=i.readUshort(e,n)+1,o=e[n+=2];if(n++,1==o)for(var u=0;u<a;u++)r.push(e[n+u]);else if(2==o)for(u=0;u<a;u++)r.push(i.readUshort(e,n+2*u));else if(3==o)for(u=0;u<a;u++)r.push(16777215&i.readUint(e,n+3*u-1));else if(1!=a)throw"unsupported offset size: "+o+", count: "+a;return(n+=a*o)-1},t.CFF.getCharString=function(e,n,r){var i=t._bin,a=e[n],o=e[n+1];e[n+2],e[n+3],e[n+4];var u=1,s=null,l=null;a<=20&&(s=a,u=1),12==a&&(s=100*a+o,u=2),21<=a&&a<=27&&(s=a,u=1),28==a&&(l=i.readShort(e,n+1),u=3),29<=a&&a<=31&&(s=a,u=1),32<=a&&a<=246&&(l=a-139,u=1),247<=a&&a<=250&&(l=256*(a-247)+o+108,u=2),251<=a&&a<=254&&(l=256*-(a-251)-o-108,u=2),255==a&&(l=i.readInt(e,n+1)/65535,u=5),r.val=null!=l?l:"o"+s,r.size=u},t.CFF.readCharString=function(e,n,r){for(var i=n+r,a=t._bin,o=[];n<i;){var u=e[n],s=e[n+1];e[n+2],e[n+3],e[n+4];var l=1,c=null,f=null;u<=20&&(c=u,l=1),12==u&&(c=100*u+s,l=2),19!=u&&20!=u||(c=u,l=2),21<=u&&u<=27&&(c=u,l=1),28==u&&(f=a.readShort(e,n+1),l=3),29<=u&&u<=31&&(c=u,l=1),32<=u&&u<=246&&(f=u-139,l=1),247<=u&&u<=250&&(f=256*(u-247)+s+108,l=2),251<=u&&u<=254&&(f=256*-(u-251)-s-108,l=2),255==u&&(f=a.readInt(e,n+1)/65535,l=5),o.push(null!=f?f:"o"+c),n+=l}return o},t.CFF.readDict=function(e,n,r){for(var i=t._bin,a={},o=[];n<r;){var u=e[n],s=e[n+1];e[n+2],e[n+3],e[n+4];var l=1,c=null,f=null;if(28==u&&(f=i.readShort(e,n+1),l=3),29==u&&(f=i.readInt(e,n+1),l=5),32<=u&&u<=246&&(f=u-139,l=1),247<=u&&u<=250&&(f=256*(u-247)+s+108,l=2),251<=u&&u<=254&&(f=256*-(u-251)-s-108,l=2),255==u)throw f=i.readInt(e,n+1)/65535,l=5,"unknown number";if(30==u){var h=[];for(l=1;;){var d=e[n+l];l++;var p=d>>4,v=15&d;if(15!=p&&h.push(p),15!=v&&h.push(v),15==v)break}for(var m="",g=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],y=0;y<h.length;y++)m+=g[h[y]];f=parseFloat(m)}u<=21&&(c=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],l=1,12==u&&(c=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][s],l=2)),null!=c?(a[c]=1==o.length?o[0]:o,o=[]):o.push(f),n+=l}return a},t.cmap={},t.cmap.parse=function(e,n,r){e=new Uint8Array(e.buffer,n,r),n=0;var i=t._bin,a={};i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2;var u=[];a.tables=[];for(var s=0;s<o;s++){var l=i.readUshort(e,n);n+=2;var c=i.readUshort(e,n);n+=2;var f=i.readUint(e,n);n+=4;var h="p"+l+"e"+c,d=u.indexOf(f);if(-1==d){var p;d=a.tables.length,u.push(f);var v=i.readUshort(e,f);0==v?p=t.cmap.parse0(e,f):4==v?p=t.cmap.parse4(e,f):6==v?p=t.cmap.parse6(e,f):12==v?p=t.cmap.parse12(e,f):console.debug("unknown format: "+v,l,c,f),a.tables.push(p)}if(null!=a[h])throw"multiple tables for one platform+encoding";a[h]=d}return a},t.cmap.parse0=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,i.map=[];for(var o=0;o<a-6;o++)i.map.push(e[n+o]);return i},t.cmap.parse4=function(e,n){var r=t._bin,i=n,a={};a.format=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2;var u=r.readUshort(e,n);n+=2;var s=u/2;a.searchRange=r.readUshort(e,n),n+=2,a.entrySelector=r.readUshort(e,n),n+=2,a.rangeShift=r.readUshort(e,n),n+=2,a.endCount=r.readUshorts(e,n,s),n+=2*s,n+=2,a.startCount=r.readUshorts(e,n,s),n+=2*s,a.idDelta=[];for(var l=0;l<s;l++)a.idDelta.push(r.readShort(e,n)),n+=2;for(a.idRangeOffset=r.readUshorts(e,n,s),n+=2*s,a.glyphIdArray=[];n<i+o;)a.glyphIdArray.push(r.readUshort(e,n)),n+=2;return a},t.cmap.parse6=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,i.firstCode=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2,i.glyphIdArray=[];for(var o=0;o<a;o++)i.glyphIdArray.push(r.readUshort(e,n)),n+=2;return i},t.cmap.parse12=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,n+=2,r.readUint(e,n),n+=4,r.readUint(e,n),n+=4;var a=r.readUint(e,n);n+=4,i.groups=[];for(var o=0;o<a;o++){var u=n+12*o,s=r.readUint(e,u+0),l=r.readUint(e,u+4),c=r.readUint(e,u+8);i.groups.push([s,l,c])}return i},t.glyf={},t.glyf.parse=function(e,t,n,r){for(var i=[],a=0;a<r.maxp.numGlyphs;a++)i.push(null);return i},t.glyf._parseGlyf=function(e,n){var r=t._bin,i=e._data,a=t._tabOffset(i,"glyf",e._offset)+e.loca[n];if(e.loca[n]==e.loca[n+1])return null;var o={};if(o.noc=r.readShort(i,a),a+=2,o.xMin=r.readShort(i,a),a+=2,o.yMin=r.readShort(i,a),a+=2,o.xMax=r.readShort(i,a),a+=2,o.yMax=r.readShort(i,a),a+=2,o.xMin>=o.xMax||o.yMin>=o.yMax)return null;if(o.noc>0){o.endPts=[];for(var u=0;u<o.noc;u++)o.endPts.push(r.readUshort(i,a)),a+=2;var s=r.readUshort(i,a);if(a+=2,i.length-a<s)return null;o.instructions=r.readBytes(i,a,s),a+=s;var l=o.endPts[o.noc-1]+1;for(o.flags=[],u=0;u<l;u++){var c=i[a];if(a++,o.flags.push(c),0!=(8&c)){var f=i[a];a++;for(var h=0;h<f;h++)o.flags.push(c),u++}}for(o.xs=[],u=0;u<l;u++){var d=0!=(2&o.flags[u]),p=0!=(16&o.flags[u]);d?(o.xs.push(p?i[a]:-i[a]),a++):p?o.xs.push(0):(o.xs.push(r.readShort(i,a)),a+=2)}for(o.ys=[],u=0;u<l;u++)d=0!=(4&o.flags[u]),p=0!=(32&o.flags[u]),d?(o.ys.push(p?i[a]:-i[a]),a++):p?o.ys.push(0):(o.ys.push(r.readShort(i,a)),a+=2);var v=0,m=0;for(u=0;u<l;u++)v+=o.xs[u],m+=o.ys[u],o.xs[u]=v,o.ys[u]=m}else{var g;o.parts=[];do{g=r.readUshort(i,a),a+=2;var y={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(o.parts.push(y),y.glyphIndex=r.readUshort(i,a),a+=2,1&g){var b=r.readShort(i,a);a+=2;var x=r.readShort(i,a);a+=2}else b=r.readInt8(i,a),a++,x=r.readInt8(i,a),a++;2&g?(y.m.tx=b,y.m.ty=x):(y.p1=b,y.p2=x),8&g?(y.m.a=y.m.d=r.readF2dot14(i,a),a+=2):64&g?(y.m.a=r.readF2dot14(i,a),a+=2,y.m.d=r.readF2dot14(i,a),a+=2):128&g&&(y.m.a=r.readF2dot14(i,a),a+=2,y.m.b=r.readF2dot14(i,a),a+=2,y.m.c=r.readF2dot14(i,a),a+=2,y.m.d=r.readF2dot14(i,a),a+=2)}while(32&g);if(256&g){var _=r.readUshort(i,a);for(a+=2,o.instr=[],u=0;u<_;u++)o.instr.push(i[a]),a++}}return o},t.GPOS={},t.GPOS.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GPOS.subt)},t.GPOS.subt=function(e,n,r,i){var a=t._bin,o=r,u={};if(u.fmt=a.readUshort(e,r),r+=2,1==n||2==n||3==n||7==n||8==n&&u.fmt<=2){var s=a.readUshort(e,r);r+=2,u.coverage=t._lctf.readCoverage(e,s+o)}if(1==n&&1==u.fmt){var l=a.readUshort(e,r);r+=2;var c=t._lctf.numOfOnes(l);0!=l&&(u.pos=t.GPOS.readValueRecord(e,r,l))}else if(2==n&&u.fmt>=1&&u.fmt<=2){l=a.readUshort(e,r),r+=2;var f=a.readUshort(e,r);r+=2,c=t._lctf.numOfOnes(l);var h=t._lctf.numOfOnes(f);if(1==u.fmt){u.pairsets=[];var d=a.readUshort(e,r);r+=2;for(var p=0;p<d;p++){var v=o+a.readUshort(e,r);r+=2;var m=a.readUshort(e,v);v+=2;for(var g=[],y=0;y<m;y++){var b=a.readUshort(e,v);v+=2,0!=l&&(M=t.GPOS.readValueRecord(e,v,l),v+=2*c),0!=f&&(E=t.GPOS.readValueRecord(e,v,f),v+=2*h),g.push({gid2:b,val1:M,val2:E})}u.pairsets.push(g)}}if(2==u.fmt){var x=a.readUshort(e,r);r+=2;var _=a.readUshort(e,r);r+=2;var w=a.readUshort(e,r);r+=2;var S=a.readUshort(e,r);for(r+=2,u.classDef1=t._lctf.readClassDef(e,o+x),u.classDef2=t._lctf.readClassDef(e,o+_),u.matrix=[],p=0;p<w;p++){var k=[];for(y=0;y<S;y++){var M=null,E=null;0!=l&&(M=t.GPOS.readValueRecord(e,r,l),r+=2*c),0!=f&&(E=t.GPOS.readValueRecord(e,r,f),r+=2*h),k.push({val1:M,val2:E})}u.matrix.push(k)}}}else{if(9==n&&1==u.fmt){var T=a.readUshort(e,r);r+=2;var A=a.readUint(e,r);if(r+=4,9==i.ltype)i.ltype=T;else if(i.ltype!=T)throw"invalid extension substitution";return t.GPOS.subt(e,i.ltype,o+A)}console.debug("unsupported GPOS table LookupType",n,"format",u.fmt)}return u},t.GPOS.readValueRecord=function(e,n,r){var i=t._bin,a=[];return a.push(1&r?i.readShort(e,n):0),n+=1&r?2:0,a.push(2&r?i.readShort(e,n):0),n+=2&r?2:0,a.push(4&r?i.readShort(e,n):0),n+=4&r?2:0,a.push(8&r?i.readShort(e,n):0),n+=8&r?2:0,a},t.GSUB={},t.GSUB.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GSUB.subt)},t.GSUB.subt=function(e,n,r,i){var a=t._bin,o=r,u={};if(u.fmt=a.readUshort(e,r),r+=2,1!=n&&4!=n&&5!=n&&6!=n)return null;if(1==n||4==n||5==n&&u.fmt<=2||6==n&&u.fmt<=2){var s=a.readUshort(e,r);r+=2,u.coverage=t._lctf.readCoverage(e,o+s)}if(1==n&&u.fmt>=1&&u.fmt<=2){if(1==u.fmt)u.delta=a.readShort(e,r),r+=2;else if(2==u.fmt){var l=a.readUshort(e,r);r+=2,u.newg=a.readUshorts(e,r,l),r+=2*u.newg.length}}else if(4==n){u.vals=[],l=a.readUshort(e,r),r+=2;for(var c=0;c<l;c++){var f=a.readUshort(e,r);r+=2,u.vals.push(t.GSUB.readLigatureSet(e,o+f))}}else if(5==n&&2==u.fmt){if(2==u.fmt){var h=a.readUshort(e,r);r+=2,u.cDef=t._lctf.readClassDef(e,o+h),u.scset=[];var d=a.readUshort(e,r);for(r+=2,c=0;c<d;c++){var p=a.readUshort(e,r);r+=2,u.scset.push(0==p?null:t.GSUB.readSubClassSet(e,o+p))}}}else if(6==n&&3==u.fmt){if(3==u.fmt){for(c=0;c<3;c++){l=a.readUshort(e,r),r+=2;for(var v=[],m=0;m<l;m++)v.push(t._lctf.readCoverage(e,o+a.readUshort(e,r+2*m)));r+=2*l,0==c&&(u.backCvg=v),1==c&&(u.inptCvg=v),2==c&&(u.ahedCvg=v)}l=a.readUshort(e,r),r+=2,u.lookupRec=t.GSUB.readSubstLookupRecords(e,r,l)}}else{if(7==n&&1==u.fmt){var g=a.readUshort(e,r);r+=2;var y=a.readUint(e,r);if(r+=4,9==i.ltype)i.ltype=g;else if(i.ltype!=g)throw"invalid extension substitution";return t.GSUB.subt(e,i.ltype,o+y)}console.debug("unsupported GSUB table LookupType",n,"format",u.fmt)}return u},t.GSUB.readSubClassSet=function(e,n){var r=t._bin.readUshort,i=n,a=[],o=r(e,n);n+=2;for(var u=0;u<o;u++){var s=r(e,n);n+=2,a.push(t.GSUB.readSubClassRule(e,i+s))}return a},t.GSUB.readSubClassRule=function(e,n){var r=t._bin.readUshort,i={},a=r(e,n),o=r(e,n+=2);n+=2,i.input=[];for(var u=0;u<a-1;u++)i.input.push(r(e,n)),n+=2;return i.substLookupRecords=t.GSUB.readSubstLookupRecords(e,n,o),i},t.GSUB.readSubstLookupRecords=function(e,n,r){for(var i=t._bin.readUshort,a=[],o=0;o<r;o++)a.push(i(e,n),i(e,n+2)),n+=4;return a},t.GSUB.readChainSubClassSet=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var u=0;u<o;u++){var s=r.readUshort(e,n);n+=2,a.push(t.GSUB.readChainSubClassRule(e,i+s))}return a},t.GSUB.readChainSubClassRule=function(e,n){for(var r=t._bin,i={},a=["backtrack","input","lookahead"],o=0;o<a.length;o++){var u=r.readUshort(e,n);n+=2,1==o&&u--,i[a[o]]=r.readUshorts(e,n,u),n+=2*i[a[o]].length}return u=r.readUshort(e,n),n+=2,i.subst=r.readUshorts(e,n,2*u),n+=2*i.subst.length,i},t.GSUB.readLigatureSet=function(e,n){var r=t._bin,i=n,a=[],o=r.readUshort(e,n);n+=2;for(var u=0;u<o;u++){var s=r.readUshort(e,n);n+=2,a.push(t.GSUB.readLigature(e,i+s))}return a},t.GSUB.readLigature=function(e,n){var r=t._bin,i={chain:[]};i.nglyph=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2;for(var o=0;o<a-1;o++)i.chain.push(r.readUshort(e,n)),n+=2;return i},t.head={},t.head.parse=function(e,n,r){var i=t._bin,a={};return i.readFixed(e,n),n+=4,a.fontRevision=i.readFixed(e,n),n+=4,i.readUint(e,n),n+=4,i.readUint(e,n),n+=4,a.flags=i.readUshort(e,n),n+=2,a.unitsPerEm=i.readUshort(e,n),n+=2,a.created=i.readUint64(e,n),n+=8,a.modified=i.readUint64(e,n),n+=8,a.xMin=i.readShort(e,n),n+=2,a.yMin=i.readShort(e,n),n+=2,a.xMax=i.readShort(e,n),n+=2,a.yMax=i.readShort(e,n),n+=2,a.macStyle=i.readUshort(e,n),n+=2,a.lowestRecPPEM=i.readUshort(e,n),n+=2,a.fontDirectionHint=i.readShort(e,n),n+=2,a.indexToLocFormat=i.readShort(e,n),n+=2,a.glyphDataFormat=i.readShort(e,n),n+=2,a},t.hhea={},t.hhea.parse=function(e,n,r){var i=t._bin,a={};return i.readFixed(e,n),n+=4,a.ascender=i.readShort(e,n),n+=2,a.descender=i.readShort(e,n),n+=2,a.lineGap=i.readShort(e,n),n+=2,a.advanceWidthMax=i.readUshort(e,n),n+=2,a.minLeftSideBearing=i.readShort(e,n),n+=2,a.minRightSideBearing=i.readShort(e,n),n+=2,a.xMaxExtent=i.readShort(e,n),n+=2,a.caretSlopeRise=i.readShort(e,n),n+=2,a.caretSlopeRun=i.readShort(e,n),n+=2,a.caretOffset=i.readShort(e,n),n+=2,n+=8,a.metricDataFormat=i.readShort(e,n),n+=2,a.numberOfHMetrics=i.readUshort(e,n),n+=2,a},t.hmtx={},t.hmtx.parse=function(e,n,r,i){for(var a=t._bin,o={aWidth:[],lsBearing:[]},u=0,s=0,l=0;l<i.maxp.numGlyphs;l++)l<i.hhea.numberOfHMetrics&&(u=a.readUshort(e,n),n+=2,s=a.readShort(e,n),n+=2),o.aWidth.push(u),o.lsBearing.push(s);return o},t.kern={},t.kern.parse=function(e,n,r,i){var a=t._bin,o=a.readUshort(e,n);if(n+=2,1==o)return t.kern.parseV1(e,n-2,r,i);var u=a.readUshort(e,n);n+=2;for(var s={glyph1:[],rval:[]},l=0;l<u;l++){n+=2,r=a.readUshort(e,n),n+=2;var c=a.readUshort(e,n);n+=2;var f=c>>>8;if(0!=(f&=15))throw"unknown kern table format: "+f;n=t.kern.readFormat0(e,n,s)}return s},t.kern.parseV1=function(e,n,r,i){var a=t._bin;a.readFixed(e,n),n+=4;var o=a.readUint(e,n);n+=4;for(var u={glyph1:[],rval:[]},s=0;s<o;s++){a.readUint(e,n),n+=4;var l=a.readUshort(e,n);n+=2,a.readUshort(e,n),n+=2;var c=l>>>8;if(0!=(c&=15))throw"unknown kern table format: "+c;n=t.kern.readFormat0(e,n,u)}return u},t.kern.readFormat0=function(e,n,r){var i=t._bin,a=-1,o=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2;for(var u=0;u<o;u++){var s=i.readUshort(e,n);n+=2;var l=i.readUshort(e,n);n+=2;var c=i.readShort(e,n);n+=2,s!=a&&(r.glyph1.push(s),r.rval.push({glyph2:[],vals:[]}));var f=r.rval[r.rval.length-1];f.glyph2.push(l),f.vals.push(c),a=s}return n},t.loca={},t.loca.parse=function(e,n,r,i){var a=t._bin,o=[],u=i.head.indexToLocFormat,s=i.maxp.numGlyphs+1;if(0==u)for(var l=0;l<s;l++)o.push(a.readUshort(e,n+(l<<1))<<1);if(1==u)for(l=0;l<s;l++)o.push(a.readUint(e,n+(l<<2)));return o},t.maxp={},t.maxp.parse=function(e,n,r){var i=t._bin,a={},o=i.readUint(e,n);return n+=4,a.numGlyphs=i.readUshort(e,n),n+=2,65536==o&&(a.maxPoints=i.readUshort(e,n),n+=2,a.maxContours=i.readUshort(e,n),n+=2,a.maxCompositePoints=i.readUshort(e,n),n+=2,a.maxCompositeContours=i.readUshort(e,n),n+=2,a.maxZones=i.readUshort(e,n),n+=2,a.maxTwilightPoints=i.readUshort(e,n),n+=2,a.maxStorage=i.readUshort(e,n),n+=2,a.maxFunctionDefs=i.readUshort(e,n),n+=2,a.maxInstructionDefs=i.readUshort(e,n),n+=2,a.maxStackElements=i.readUshort(e,n),n+=2,a.maxSizeOfInstructions=i.readUshort(e,n),n+=2,a.maxComponentElements=i.readUshort(e,n),n+=2,a.maxComponentDepth=i.readUshort(e,n),n+=2),a},t.name={},t.name.parse=function(e,n,r){var i=t._bin,a={};i.readUshort(e,n),n+=2;var o=i.readUshort(e,n);n+=2,i.readUshort(e,n);for(var u,s=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],l=n+=2,c=0;c<o;c++){var f=i.readUshort(e,n);n+=2;var h=i.readUshort(e,n);n+=2;var d=i.readUshort(e,n);n+=2;var p=i.readUshort(e,n);n+=2;var v=i.readUshort(e,n);n+=2;var m=i.readUshort(e,n);n+=2;var g,y=s[p],b=l+12*o+m;if(0==f)g=i.readUnicode(e,b,v/2);else if(3==f&&0==h)g=i.readUnicode(e,b,v/2);else if(0==h)g=i.readASCII(e,b,v);else if(1==h)g=i.readUnicode(e,b,v/2);else if(3==h)g=i.readUnicode(e,b,v/2);else{if(1!=f)throw"unknown encoding "+h+", platformID: "+f;g=i.readASCII(e,b,v),console.debug("reading unknown MAC encoding "+h+" as ASCII")}var x="p"+f+","+d.toString(16);null==a[x]&&(a[x]={}),a[x][void 0!==y?y:p]=g,a[x]._lang=d}for(var _ in a)if(null!=a[_].postScriptName&&1033==a[_]._lang)return a[_];for(var _ in a)if(null!=a[_].postScriptName&&0==a[_]._lang)return a[_];for(var _ in a)if(null!=a[_].postScriptName&&3084==a[_]._lang)return a[_];for(var _ in a)if(null!=a[_].postScriptName)return a[_];for(var _ in a){u=_;break}return console.debug("returning name table with languageID "+a[u]._lang),a[u]},t["OS/2"]={},t["OS/2"].parse=function(e,n,r){var i=t._bin.readUshort(e,n);n+=2;var a={};if(0==i)t["OS/2"].version0(e,n,a);else if(1==i)t["OS/2"].version1(e,n,a);else if(2==i||3==i||4==i)t["OS/2"].version2(e,n,a);else{if(5!=i)throw"unknown OS/2 table version: "+i;t["OS/2"].version5(e,n,a)}return a},t["OS/2"].version0=function(e,n,r){var i=t._bin;return r.xAvgCharWidth=i.readShort(e,n),n+=2,r.usWeightClass=i.readUshort(e,n),n+=2,r.usWidthClass=i.readUshort(e,n),n+=2,r.fsType=i.readUshort(e,n),n+=2,r.ySubscriptXSize=i.readShort(e,n),n+=2,r.ySubscriptYSize=i.readShort(e,n),n+=2,r.ySubscriptXOffset=i.readShort(e,n),n+=2,r.ySubscriptYOffset=i.readShort(e,n),n+=2,r.ySuperscriptXSize=i.readShort(e,n),n+=2,r.ySuperscriptYSize=i.readShort(e,n),n+=2,r.ySuperscriptXOffset=i.readShort(e,n),n+=2,r.ySuperscriptYOffset=i.readShort(e,n),n+=2,r.yStrikeoutSize=i.readShort(e,n),n+=2,r.yStrikeoutPosition=i.readShort(e,n),n+=2,r.sFamilyClass=i.readShort(e,n),n+=2,r.panose=i.readBytes(e,n,10),n+=10,r.ulUnicodeRange1=i.readUint(e,n),n+=4,r.ulUnicodeRange2=i.readUint(e,n),n+=4,r.ulUnicodeRange3=i.readUint(e,n),n+=4,r.ulUnicodeRange4=i.readUint(e,n),n+=4,r.achVendID=[i.readInt8(e,n),i.readInt8(e,n+1),i.readInt8(e,n+2),i.readInt8(e,n+3)],n+=4,r.fsSelection=i.readUshort(e,n),n+=2,r.usFirstCharIndex=i.readUshort(e,n),n+=2,r.usLastCharIndex=i.readUshort(e,n),n+=2,r.sTypoAscender=i.readShort(e,n),n+=2,r.sTypoDescender=i.readShort(e,n),n+=2,r.sTypoLineGap=i.readShort(e,n),n+=2,r.usWinAscent=i.readUshort(e,n),n+=2,r.usWinDescent=i.readUshort(e,n),n+2},t["OS/2"].version1=function(e,n,r){var i=t._bin;return n=t["OS/2"].version0(e,n,r),r.ulCodePageRange1=i.readUint(e,n),n+=4,r.ulCodePageRange2=i.readUint(e,n),n+4},t["OS/2"].version2=function(e,n,r){var i=t._bin;return n=t["OS/2"].version1(e,n,r),r.sxHeight=i.readShort(e,n),n+=2,r.sCapHeight=i.readShort(e,n),n+=2,r.usDefault=i.readUshort(e,n),n+=2,r.usBreak=i.readUshort(e,n),n+=2,r.usMaxContext=i.readUshort(e,n),n+2},t["OS/2"].version5=function(e,n,r){var i=t._bin;return n=t["OS/2"].version2(e,n,r),r.usLowerOpticalPointSize=i.readUshort(e,n),n+=2,r.usUpperOpticalPointSize=i.readUshort(e,n),n+2},t.post={},t.post.parse=function(e,n,r){var i=t._bin,a={};return a.version=i.readFixed(e,n),n+=4,a.italicAngle=i.readFixed(e,n),n+=4,a.underlinePosition=i.readShort(e,n),n+=2,a.underlineThickness=i.readShort(e,n),n+=2,a},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var n=e.cmap,r=-1;if(null!=n.p0e4?r=n.p0e4:null!=n.p3e1?r=n.p3e1:null!=n.p1e0?r=n.p1e0:null!=n.p0e3&&(r=n.p0e3),-1==r)throw"no familiar platform and encoding!";var i=n.tables[r];if(0==i.format)return t>=i.map.length?0:i.map[t];if(4==i.format){for(var a=-1,o=0;o<i.endCount.length;o++)if(t<=i.endCount[o]){a=o;break}return-1==a||i.startCount[a]>t?0:65535&(0!=i.idRangeOffset[a]?i.glyphIdArray[t-i.startCount[a]+(i.idRangeOffset[a]>>1)-(i.idRangeOffset.length-a)]:t+i.idDelta[a])}if(12==i.format){if(t>i.groups[i.groups.length-1][1])return 0;for(o=0;o<i.groups.length;o++){var u=i.groups[o];if(u[0]<=t&&t<=u[1])return u[2]+(t-u[0])}return 0}throw"unknown cmap table format "+i.format},t.U.glyphToPath=function(e,n){var r={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[n]){var i=e.SVG.entries[n];return null==i?r:("string"==typeof i&&(i=t.SVG.toPath(i),e.SVG.entries[n]=i),i)}if(e.CFF){var a={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},o=e.CFF,u=e.CFF.Private;if(o.ROS){for(var s=0;o.FDSelect[s+2]<=n;)s+=2;u=o.FDArray[o.FDSelect[s+1]].Private}t.U._drawCFF(e.CFF.CharStrings[n],a,o,u,r)}else e.glyf&&t.U._drawGlyf(n,e,r);return r},t.U._drawGlyf=function(e,n,r){var i=n.glyf[e];null==i&&(i=n.glyf[e]=t.glyf._parseGlyf(n,e)),null!=i&&(i.noc>-1?t.U._simpleGlyph(i,r):t.U._compoGlyph(i,n,r))},t.U._simpleGlyph=function(e,n){for(var r=0;r<e.noc;r++){for(var i=0==r?0:e.endPts[r-1]+1,a=e.endPts[r],o=i;o<=a;o++){var u=o==i?a:o-1,s=o==a?i:o+1,l=1&e.flags[o],c=1&e.flags[u],f=1&e.flags[s],h=e.xs[o],d=e.ys[o];if(o==i)if(l){if(!c){t.U.P.moveTo(n,h,d);continue}t.U.P.moveTo(n,e.xs[u],e.ys[u])}else c?t.U.P.moveTo(n,e.xs[u],e.ys[u]):t.U.P.moveTo(n,(e.xs[u]+h)/2,(e.ys[u]+d)/2);l?c&&t.U.P.lineTo(n,h,d):f?t.U.P.qcurveTo(n,h,d,e.xs[s],e.ys[s]):t.U.P.qcurveTo(n,h,d,(h+e.xs[s])/2,(d+e.ys[s])/2)}t.U.P.closePath(n)}},t.U._compoGlyph=function(e,n,r){for(var i=0;i<e.parts.length;i++){var a={cmds:[],crds:[]},o=e.parts[i];t.U._drawGlyf(o.glyphIndex,n,a);for(var u=o.m,s=0;s<a.crds.length;s+=2){var l=a.crds[s],c=a.crds[s+1];r.crds.push(l*u.a+c*u.b+u.tx),r.crds.push(l*u.c+c*u.d+u.ty)}for(s=0;s<a.cmds.length;s++)r.cmds.push(a.cmds[s])}},t.U._getGlyphClass=function(e,n){var r=t._lctf.getInterval(n,e);return-1==r?0:n[r+2]},t.U.getPairAdjustment=function(e,n,r){var i=0,a=!1;if(e.GPOS)for(var o=e.GPOS,u=o.lookupList,s=o.featureList,l=[],c=0;c<s.length;c++){var f=s[c];if("kern"==f.tag){a=!0;for(var h=0;h<f.tab.length;h++)if(!l[f.tab[h]]){l[f.tab[h]]=!0;for(var d=u[f.tab[h]],p=0;p<d.tabs.length;p++)if(null!=d.tabs[p]){var v,m=d.tabs[p];if(!m.coverage||-1!=(v=t._lctf.coverageIndex(m.coverage,n)))if(1==d.ltype);else if(2==d.ltype){var g;if(1==m.fmt){var y=m.pairsets[v];for(c=0;c<y.length;c++)y[c].gid2==r&&(g=y[c])}else if(2==m.fmt){var b=t.U._getGlyphClass(n,m.classDef1),x=t.U._getGlyphClass(r,m.classDef2);g=m.matrix[b][x]}g&&g.val1&&g.val1[2]&&(i+=g.val1[2]),g&&g.val2&&g.val2[0]&&(i+=g.val2[0])}}}}}if(e.kern&&!a){var _=e.kern.glyph1.indexOf(n);if(-1!=_){var w=e.kern.rval[_].glyph2.indexOf(r);-1!=w&&(i+=e.kern.rval[_].vals[w])}}return i},t.U._applySubs=function(e,n,r,i){for(var a=e.length-n-1,o=0;o<r.tabs.length;o++)if(null!=r.tabs[o]){var u,s=r.tabs[o];if(!s.coverage||-1!=(u=t._lctf.coverageIndex(s.coverage,e[n])))if(1==r.ltype)e[n],1==s.fmt?e[n]=e[n]+s.delta:e[n]=s.newg[u];else if(4==r.ltype)for(var l=s.vals[u],c=0;c<l.length;c++){var f=l[c],h=f.chain.length;if(!(h>a)){for(var d=!0,p=0,v=0;v<h;v++){for(;-1==e[n+p+(1+v)];)p++;f.chain[v]!=e[n+p+(1+v)]&&(d=!1)}if(d){for(e[n]=f.nglyph,v=0;v<h+p;v++)e[n+v+1]=-1;break}}}else if(5==r.ltype&&2==s.fmt)for(var m=t._lctf.getInterval(s.cDef,e[n]),g=s.cDef[m+2],y=s.scset[g],b=0;b<y.length;b++){var x=y[b],_=x.input;if(!(_.length>a)){for(d=!0,v=0;v<_.length;v++){var w=t._lctf.getInterval(s.cDef,e[n+1+v]);if(-1==m&&s.cDef[w+2]!=_[v]){d=!1;break}}if(d){var S=x.substLookupRecords;for(c=0;c<S.length;c+=2)S[c],S[c+1]}}}else if(6==r.ltype&&3==s.fmt){if(!t.U._glsCovered(e,s.backCvg,n-s.backCvg.length))continue;if(!t.U._glsCovered(e,s.inptCvg,n))continue;if(!t.U._glsCovered(e,s.ahedCvg,n+s.inptCvg.length))continue;var k=s.lookupRec;for(b=0;b<k.length;b+=2){m=k[b];var M=i[k[b+1]];t.U._applySubs(e,n+m,M,i)}}}},t.U._glsCovered=function(e,n,r){for(var i=0;i<n.length;i++)if(-1==t._lctf.coverageIndex(n[i],e[r+i]))return!1;return!0},t.U.glyphsToPath=function(e,n,r){for(var i={cmds:[],crds:[]},a=0,o=0;o<n.length;o++){var u=n[o];if(-1!=u){for(var s=o<n.length-1&&-1!=n[o+1]?n[o+1]:0,l=t.U.glyphToPath(e,u),c=0;c<l.crds.length;c+=2)i.crds.push(l.crds[c]+a),i.crds.push(l.crds[c+1]);for(r&&i.cmds.push(r),c=0;c<l.cmds.length;c++)i.cmds.push(l.cmds[c]);r&&i.cmds.push("X"),a+=e.hmtx.aWidth[u],o<n.length-1&&(a+=t.U.getPairAdjustment(e,u,s))}}return i},t.U.P={},t.U.P.moveTo=function(e,t,n){e.cmds.push("M"),e.crds.push(t,n)},t.U.P.lineTo=function(e,t,n){e.cmds.push("L"),e.crds.push(t,n)},t.U.P.curveTo=function(e,t,n,r,i,a,o){e.cmds.push("C"),e.crds.push(t,n,r,i,a,o)},t.U.P.qcurveTo=function(e,t,n,r,i){e.cmds.push("Q"),e.crds.push(t,n,r,i)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,n,r,i,a){for(var o=n.stack,u=n.nStems,s=n.haveWidth,l=n.width,c=n.open,f=0,h=n.x,d=n.y,p=0,v=0,m=0,g=0,y=0,b=0,x=0,_=0,w=0,S=0,k={val:0,size:0};f<e.length;){t.CFF.getCharString(e,f,k);var M=k.val;if(f+=k.size,"o1"==M||"o18"==M)o.length%2!=0&&!s&&(l=o.shift()+i.nominalWidthX),u+=o.length>>1,o.length=0,s=!0;else if("o3"==M||"o23"==M)o.length%2!=0&&!s&&(l=o.shift()+i.nominalWidthX),u+=o.length>>1,o.length=0,s=!0;else if("o4"==M)o.length>1&&!s&&(l=o.shift()+i.nominalWidthX,s=!0),c&&t.U.P.closePath(a),d+=o.pop(),t.U.P.moveTo(a,h,d),c=!0;else if("o5"==M)for(;o.length>0;)h+=o.shift(),d+=o.shift(),t.U.P.lineTo(a,h,d);else if("o6"==M||"o7"==M)for(var E=o.length,T="o6"==M,A=0;A<E;A++){var C=o.shift();T?h+=C:d+=C,T=!T,t.U.P.lineTo(a,h,d)}else if("o8"==M||"o24"==M){E=o.length;for(var R=0;R+6<=E;)p=h+o.shift(),v=d+o.shift(),m=p+o.shift(),g=v+o.shift(),h=m+o.shift(),d=g+o.shift(),t.U.P.curveTo(a,p,v,m,g,h,d),R+=6;"o24"==M&&(h+=o.shift(),d+=o.shift(),t.U.P.lineTo(a,h,d))}else{if("o11"==M)break;if("o1234"==M||"o1235"==M||"o1236"==M||"o1237"==M)"o1234"==M&&(v=d,m=(p=h+o.shift())+o.shift(),S=g=v+o.shift(),b=g,_=d,h=(x=(y=(w=m+o.shift())+o.shift())+o.shift())+o.shift(),t.U.P.curveTo(a,p,v,m,g,w,S),t.U.P.curveTo(a,y,b,x,_,h,d)),"o1235"==M&&(p=h+o.shift(),v=d+o.shift(),m=p+o.shift(),g=v+o.shift(),w=m+o.shift(),S=g+o.shift(),y=w+o.shift(),b=S+o.shift(),x=y+o.shift(),_=b+o.shift(),h=x+o.shift(),d=_+o.shift(),o.shift(),t.U.P.curveTo(a,p,v,m,g,w,S),t.U.P.curveTo(a,y,b,x,_,h,d)),"o1236"==M&&(p=h+o.shift(),v=d+o.shift(),m=p+o.shift(),S=g=v+o.shift(),b=g,x=(y=(w=m+o.shift())+o.shift())+o.shift(),_=b+o.shift(),h=x+o.shift(),t.U.P.curveTo(a,p,v,m,g,w,S),t.U.P.curveTo(a,y,b,x,_,h,d)),"o1237"==M&&(p=h+o.shift(),v=d+o.shift(),m=p+o.shift(),g=v+o.shift(),w=m+o.shift(),S=g+o.shift(),y=w+o.shift(),b=S+o.shift(),x=y+o.shift(),_=b+o.shift(),Math.abs(x-h)>Math.abs(_-d)?h=x+o.shift():d=_+o.shift(),t.U.P.curveTo(a,p,v,m,g,w,S),t.U.P.curveTo(a,y,b,x,_,h,d));else if("o14"==M){if(o.length>0&&!s&&(l=o.shift()+r.nominalWidthX,s=!0),4==o.length){var P=o.shift(),L=o.shift(),O=o.shift(),I=o.shift(),D=t.CFF.glyphBySE(r,O),N=t.CFF.glyphBySE(r,I);t.U._drawCFF(r.CharStrings[D],n,r,i,a),n.x=P,n.y=L,t.U._drawCFF(r.CharStrings[N],n,r,i,a)}c&&(t.U.P.closePath(a),c=!1)}else if("o19"==M||"o20"==M)o.length%2!=0&&!s&&(l=o.shift()+i.nominalWidthX),u+=o.length>>1,o.length=0,s=!0,f+=u+7>>3;else if("o21"==M)o.length>2&&!s&&(l=o.shift()+i.nominalWidthX,s=!0),d+=o.pop(),h+=o.pop(),c&&t.U.P.closePath(a),t.U.P.moveTo(a,h,d),c=!0;else if("o22"==M)o.length>1&&!s&&(l=o.shift()+i.nominalWidthX,s=!0),h+=o.pop(),c&&t.U.P.closePath(a),t.U.P.moveTo(a,h,d),c=!0;else if("o25"==M){for(;o.length>6;)h+=o.shift(),d+=o.shift(),t.U.P.lineTo(a,h,d);p=h+o.shift(),v=d+o.shift(),m=p+o.shift(),g=v+o.shift(),h=m+o.shift(),d=g+o.shift(),t.U.P.curveTo(a,p,v,m,g,h,d)}else if("o26"==M)for(o.length%2&&(h+=o.shift());o.length>0;)p=h,v=d+o.shift(),h=m=p+o.shift(),d=(g=v+o.shift())+o.shift(),t.U.P.curveTo(a,p,v,m,g,h,d);else if("o27"==M)for(o.length%2&&(d+=o.shift());o.length>0;)v=d,m=(p=h+o.shift())+o.shift(),g=v+o.shift(),h=m+o.shift(),d=g,t.U.P.curveTo(a,p,v,m,g,h,d);else if("o10"==M||"o29"==M){var z="o10"==M?i:r;if(0==o.length)console.debug("error: empty stack");else{var F=o.pop(),B=z.Subrs[F+z.Bias];n.x=h,n.y=d,n.nStems=u,n.haveWidth=s,n.width=l,n.open=c,t.U._drawCFF(B,n,r,i,a),h=n.x,d=n.y,u=n.nStems,s=n.haveWidth,l=n.width,c=n.open}}else if("o30"==M||"o31"==M){var U=o.length,j=(R=0,"o31"==M);for(R+=U-(E=-3&U);R<E;)j?(v=d,m=(p=h+o.shift())+o.shift(),d=(g=v+o.shift())+o.shift(),E-R==5?(h=m+o.shift(),R++):h=m,j=!1):(p=h,v=d+o.shift(),m=p+o.shift(),g=v+o.shift(),h=m+o.shift(),E-R==5?(d=g+o.shift(),R++):d=g,j=!0),t.U.P.curveTo(a,p,v,m,g,h,d),R+=4}else{if("o"==(M+"").charAt(0))throw console.debug("Unknown operation: "+M,e),M;o.push(M)}}}n.x=h,n.y=d,n.nStems=u,n.haveWidth=s,n.width=l,n.open=c};var n=t,r={Typr:n};return e.Typr=n,e.default=r,Object.defineProperty(e,"__esModule",{value:!0}),e}({}).Typr},function(){return function(e){var t=Uint8Array,n=Uint16Array,r=Uint32Array,i=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u=function(e,t){for(var i=new n(31),a=0;a<31;++a)i[a]=t+=1<<e[a-1];var o=new r(i[30]);for(a=1;a<30;++a)for(var u=i[a];u<i[a+1];++u)o[u]=u-i[a]<<5|a;return[i,o]},s=u(i,2),l=s[0],c=s[1];l[28]=258,c[258]=28;for(var f=u(a,0)[0],h=new n(32768),d=0;d<32768;++d){var p=(43690&d)>>>1|(21845&d)<<1;p=(61680&(p=(52428&p)>>>2|(13107&p)<<2))>>>4|(3855&p)<<4,h[d]=((65280&p)>>>8|(255&p)<<8)>>>1}var v=function(e,t,r){for(var i=e.length,a=0,o=new n(t);a<i;++a)++o[e[a]-1];var u,s=new n(t);for(a=0;a<t;++a)s[a]=s[a-1]+o[a-1]<<1;if(r){u=new n(1<<t);var l=15-t;for(a=0;a<i;++a)if(e[a])for(var c=a<<4|e[a],f=t-e[a],d=s[e[a]-1]++<<f,p=d|(1<<f)-1;d<=p;++d)u[h[d]>>>l]=c}else for(u=new n(i),a=0;a<i;++a)e[a]&&(u[a]=h[s[e[a]-1]++]>>>15-e[a]);return u},m=new t(288);for(d=0;d<144;++d)m[d]=8;for(d=144;d<256;++d)m[d]=9;for(d=256;d<280;++d)m[d]=7;for(d=280;d<288;++d)m[d]=8;var g=new t(32);for(d=0;d<32;++d)g[d]=5;var y=v(m,9,1),b=v(g,5,1),x=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},_=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},w=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},S=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],k=function e(t,n,r){var i=new Error(n||S[t]);if(i.code=t,Error.captureStackTrace&&Error.captureStackTrace(i,e),!r)throw i;return i},M=function(e,u,s){var c=e.length;if(!c||s&&!s.l&&c<5)return u||new t(0);var h=!u||s,d=!s||s.i;s||(s={}),u||(u=new t(3*c));var p,m=function(e){var n=u.length;if(e>n){var r=new t(Math.max(2*n,e));r.set(u),u=r}},g=s.f||0,S=s.p||0,M=s.b||0,E=s.l,T=s.d,A=s.m,C=s.n,R=8*c;do{if(!E){s.f=g=_(e,S,1);var P=_(e,S+1,3);if(S+=3,!P){var L=e[(Z=((p=S)/8|0)+(7&p&&1)+4)-4]|e[Z-3]<<8,O=Z+L;if(O>c){d&&k(0);break}h&&m(M+L),u.set(e.subarray(Z,O),M),s.b=M+=L,s.p=S=8*O;continue}if(1==P)E=y,T=b,A=9,C=5;else if(2==P){var I=_(e,S,31)+257,D=_(e,S+10,15)+4,N=I+_(e,S+5,31)+1;S+=14;for(var z=new t(N),F=new t(19),B=0;B<D;++B)F[o[B]]=_(e,S+3*B,7);S+=3*D;var U=x(F),j=(1<<U)-1,H=v(F,U,1);for(B=0;B<N;){var Z,G=H[_(e,S,j)];if(S+=15&G,(Z=G>>>4)<16)z[B++]=Z;else{var W=0,V=0;for(16==Z?(V=3+_(e,S,3),S+=2,W=z[B-1]):17==Z?(V=3+_(e,S,7),S+=3):18==Z&&(V=11+_(e,S,127),S+=7);V--;)z[B++]=W}}var q=z.subarray(0,I),X=z.subarray(I);A=x(q),C=x(X),E=v(q,A,1),T=v(X,C,1)}else k(1);if(S>R){d&&k(0);break}}h&&m(M+131072);for(var $=(1<<A)-1,Y=(1<<C)-1,K=S;;K=S){var J=(W=E[w(e,S)&$])>>>4;if((S+=15&W)>R){d&&k(0);break}if(W||k(2),J<256)u[M++]=J;else{if(256==J){K=S,E=null;break}var Q=J-254;if(J>264){var ee=i[B=J-257];Q=_(e,S,(1<<ee)-1)+l[B],S+=ee}var te=T[w(e,S)&Y],ne=te>>>4;if(te||k(3),S+=15&te,X=f[ne],ne>3&&(ee=a[ne],X+=w(e,S)&(1<<ee)-1,S+=ee),S>R){d&&k(0);break}h&&m(M+131072);for(var re=M+Q;M<re;M+=4)u[M]=u[M-X],u[M+1]=u[M+1-X],u[M+2]=u[M+2-X],u[M+3]=u[M+3-X];M=re}}s.l=E,s.p=K,s.b=M,E&&(g=1,s.m=A,s.d=T,s.n=C)}while(!g);return M==u.length?u:function(e,i,a){(null==i||i<0)&&(i=0),(null==a||a>e.length)&&(a=e.length);var o=new(e instanceof n?n:e instanceof r?r:t)(a-i);return o.set(e.subarray(i,a)),o}(u,0,M)},E=new t(0),T="undefined"!=typeof TextDecoder&&new TextDecoder;try{T.decode(E,{stream:!0})}catch(e){}return e.convert_streams=function(e){var t=new DataView(e),n=0;function r(){var e=t.getUint16(n);return n+=2,e}function i(){var e=t.getUint32(n);return n+=4,e}function a(e){g.setUint16(y,e),y+=2}function o(e){g.setUint32(y,e),y+=4}for(var u={signature:i(),flavor:i(),length:i(),numTables:r(),reserved:r(),totalSfntSize:i(),majorVersion:r(),minorVersion:r(),metaOffset:i(),metaLength:i(),metaOrigLength:i(),privOffset:i(),privLength:i()},s=0;Math.pow(2,s)<=u.numTables;)s++;s--;for(var l=16*Math.pow(2,s),c=16*u.numTables-l,f=12,h=[],d=0;d<u.numTables;d++)h.push({tag:i(),offset:i(),compLength:i(),origLength:i(),origChecksum:i()}),f+=16;var p,v=new Uint8Array(12+16*h.length+h.reduce((function(e,t){return e+t.origLength+4}),0)),m=v.buffer,g=new DataView(m),y=0;return o(u.flavor),a(u.numTables),a(l),a(s),a(c),h.forEach((function(e){o(e.tag),o(e.origChecksum),o(f),o(e.origLength),e.outOffset=f,(f+=e.origLength)%4!=0&&(f+=4-f%4)})),h.forEach((function(t){var n,r=e.slice(t.offset,t.offset+t.compLength);if(t.compLength!=t.origLength){var i=new Uint8Array(t.origLength);n=new Uint8Array(r,2),M(n,i)}else i=new Uint8Array(r);v.set(i,t.outOffset);var a=0;(f=t.outOffset+t.origLength)%4!=0&&(a=4-f%4),v.set(new Uint8Array(a).buffer,t.outOffset+t.origLength),p=f+a})),m.slice(0,p)},Object.defineProperty(e,"__esModule",{value:!0}),e}({}).convert_streams},function(e,t){var n,r={M:2,L:2,Q:4,C:6,Z:0},i={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},a=[null,"isol","init","fina","medi"];function o(e){for(var t,r=new Uint8Array(e.length),a=32,o=1,u=-1,s=0;s<e.length;s++){var l=e.codePointAt(s),f=0|(t=l,n||function(){var e={R:2,L:1,D:4,C:16,U:32,T:8};n=new Map;var t=function(t){var r=0;i[t].split(",").forEach((function(i){var a=i.split("+"),o=(0,c.Z)(a,2),u=o[0],s=o[1];u=parseInt(u,36),s=s?parseInt(s,36):0,n.set(r+=u,e[t]);for(var l=s;l--;)n.set(++r,e[t])}))};for(var r in i)t(r)}(),n.get(t)||32),h=1;8&f||(21&a?22&f?(h=3,1!==o&&3!==o||r[u]++):33&f&&(2!==o&&4!==o||r[u]--):34&a&&(2!==o&&4!==o||r[u]--),o=r[s]=h,a=f,u=s,l>65535&&s++)}return r}function u(t){var n=Object.create(null),i={unitsPerEm:t.head.unitsPerEm,ascender:t.hhea.ascender,descender:t.hhea.descender,forEachGlyph:function(u,s,l,c){var f=0,h=1/i.unitsPerEm*s,d=function(t,n){for(var r=[],i=0;i<n.length;i++){var u=n.codePointAt(i);u>65535&&i++,r.push(e.U.codeToGlyph(t,u))}var s=t.GSUB;if(s){var l,c=s.lookupList,f=s.featureList,h=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,d=[];f.forEach((function(t){if(h.test(t.tag))for(var i=0;i<t.tab.length;i++)if(!d[t.tab[i]]){d[t.tab[i]]=!0;var u=c[t.tab[i]],s=/^(isol|init|fina|medi)$/.test(t.tag);s&&!l&&(l=o(n));for(var f=0;f<r.length;f++)l&&s&&a[l[f]]!==t.tag||e.U._applySubs(r,f,u,c)}}))}return r}(t,u),p=0,v=-1;return d.forEach((function(i,a){if(-1!==i){var o=n[i];if(!o){for(var d,m,g,y,b=e.U.glyphToPath(t,i),x=b.cmds,_=b.crds,w="",S=0,k=0,M=x.length;k<M;k++){var E=r[x[k]];w+=x[k];for(var T=1;T<=E;T++)w+=(T>1?",":"")+_[S++]}if(_.length){d=m=1/0,g=y=-1/0;for(var A=0,C=_.length;A<C;A+=2){var R=_[A],P=_[A+1];R<d&&(d=R),P<m&&(m=P),R>g&&(g=R),P>y&&(y=P)}}else d=g=m=y=0;o=n[i]={index:i,advanceWidth:t.hmtx.aWidth[i],xMin:d,yMin:m,xMax:g,yMax:y,path:w,pathCommandCount:x.length}}-1!==v&&(f+=e.U.getPairAdjustment(t,v,i)*h),c.call(null,o,f,p),o.advanceWidth&&(f+=o.advanceWidth*h),l&&(f+=l*s),v=i}p+=u.codePointAt(p)>65535?2:1})),f}};return i}return function(n){var r=new Uint8Array(n,0,4),i=e._bin.readASCII(r,0,4);if("wOFF"===i)n=t(n);else if("wOF2"===i)throw new Error("woff2 fonts not supported");return u(e.parse(n)[0])}}],init:function(e,t,n){return n(e(),t())}}),x8={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},_8=new Cr;function w8(){return(self.performance||Date).now()}var S8,k8=Object.create(null);function M8(e,t){!0,e=T8({},e);var n=w8();if(e.font=function(e){S8||(S8="undefined"===typeof document?{}:document.createElement("a"));return S8.href=e,S8.href}(e.font||x8.defaultFontURL),e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||x8.sdfGlyphSize,null!=e.colorRanges){var r={};for(var i in e.colorRanges)if(e.colorRanges.hasOwnProperty(i)){var a=e.colorRanges[i];"number"!==typeof a&&(a=_8.set(a).getHex()),r[i]=a}e.colorRanges=r}Object.freeze(e);var o=x8.textureWidth,u=x8.sdfExponent,s=e.sdfGlyphSize,l=o/s*4,f=k8[s];if(!f){var h=document.createElement("canvas");h.width=o,h.height=256*s/l,(f=k8[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:h,sdfTexture:new Ir(h,void 0,void 0,void 0,et,et),contextLost:!1,glyphsByFont:new Map}).sdfTexture.generateMipmaps=!1,function(e){var t=e.sdfCanvas;t.addEventListener("webglcontextlost",(function(t){console.log("Context Lost",t),t.preventDefault(),e.contextLost=!0})),t.addEventListener("webglcontextrestored",(function(t){console.log("Context Restored",t),e.contextLost=!1;var n=[];e.glyphsByFont.forEach((function(t){t.forEach((function(t){n.push(E8(t,e,!0))}))})),F6.all(n).then((function(){A8(e),e.sdfTexture.needsUpdate=!0}))}))}(f)}var d=f,p=d.sdfTexture,v=d.sdfCanvas,m=f.glyphsByFont.get(e.font);m||f.glyphsByFont.set(e.font,m=new Map),R8(e).then((function(r){var i=r.glyphIds,a=r.glyphPositions,h=r.fontSize,d=r.unitsPerEm,g=r.timings,y=[],b=new Float32Array(4*i.length),x=h/d,_=0,w=0,S=w8();i.forEach((function(e,t){var n=m.get(e);if(!n){var o=r.glyphData[e],u=o.path,l=o.pathBounds,c=Math.max(l[2]-l[0],l[3]-l[1])/s*(x8.sdfMargin*s+.5),h=f.glyphCount++,d=[l[0]-c,l[1]-c,l[2]+c,l[3]+c];m.set(e,n={path:u,atlasIndex:h,sdfViewBox:d}),y.push(n)}var p=n.sdfViewBox,v=a[w++],g=a[w++];b[_++]=v+p[0]*x,b[_++]=g+p[1]*x,b[_++]=v+p[2]*x,b[_++]=g+p[3]*x,i[t]=n.atlasIndex})),g.quads=(g.quads||0)+(w8()-S);var k=w8();g.sdf={};var M=v.height,E=Math.ceil(f.glyphCount/l),T=Math.pow(2,Math.ceil(Math.log2(E*s)));T>M&&(console.info("Increasing SDF texture size ".concat(M,"->").concat(T)),y8(v,o,T),p.dispose()),F6.all(y.map((function(t){return E8(t,f,e.gpuAccelerateSDF).then((function(e){var n=e.timing;g.sdf[t.atlasIndex]=n}))}))).then((function(){y.length&&!f.contextLost&&(A8(f),p.needsUpdate=!0),g.sdfTotal=w8()-k,g.total=w8()-n,t(Object.freeze({parameters:e,sdfTexture:p,sdfGlyphSize:s,sdfExponent:u,glyphBounds:b,glyphAtlasIndices:i,glyphColors:r.glyphColors,caretPositions:r.caretPositions,caretHeight:r.caretHeight,chunkedBounds:r.chunkedBounds,ascender:r.ascender,descender:r.descender,lineHeight:r.lineHeight,topBaseline:r.topBaseline,blockBounds:r.blockBounds,visibleBounds:r.visibleBounds,timings:r.timings,get totalBounds(){return console.log("totalBounds deprecated, use blockBounds instead"),r.blockBounds},get totalBlockSize(){console.log("totalBlockSize deprecated, use blockBounds instead");var e=(0,c.Z)(r.blockBounds,4),t=e[0],n=e[1];return[e[2]-t,e[3]-n]}}))}))})),F6.all([]).then((function(){f.contextLost||function(e){e._warm||(v8.webgl.isSupported(e),e._warm=!0)}(v)}))}function E8(e,t,n){var r=e.path,i=e.atlasIndex,a=e.sdfViewBox,o=t.sdfGlyphSize,u=t.sdfCanvas;if(t.contextLost)return Promise.resolve({timing:-1});var s=x8.textureWidth,l=x8.sdfExponent,c=Math.max(a[2]-a[0],a[3]-a[1]),f=Math.floor(i/4);return function(e,t,n,r,i,a,o,u,s,l){return arguments.length>10&&void 0!==arguments[10]&&!arguments[10]?g8(e,t,n,r,i,a,o,u,s,l):m8(e,t,n,r,i,a,o,u,s,l).then(null,(function(c){return d8||(console.warn("WebGL SDF generation failed, falling back to JS",c),d8=!0),g8(e,t,n,r,i,a,o,u,s,l)}))}(o,o,r,a,c,l,u,f%(s/o)*o,Math.floor(f/(s/o))*o,i%4,n)}function T8(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function A8(e){if("function"!==typeof createImageBitmap){console.info("Safari<15: applying SDF canvas workaround");var t=e.sdfCanvas,n=e.sdfTexture,r=t.width,i=t.height,a=e.sdfCanvas.getContext("webgl"),o=n.image.data;o&&o.length===r*i*4||(o=new Uint8Array(r*i*4),n.image={width:r,height:i,data:o},n.flipY=!1,n.isDataTexture=!0),a.readPixels(0,0,r,i,a.RGBA,a.UNSIGNED_BYTE,o)}}var C8=q6({name:"Typesetter",dependencies:[x8,b8,function(e,t,n){var r=n.defaultFontURL,i=Object.create(null),a=1/0,o=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,u=/[\s\-\u007C\u00AD\u2010\u2012-\u2014\u2027\u2056\u2E17\u2E40]/;function s(t,n){t||(t=r);var a=i[t];a?a.pending?a.pending.push(n):n(a):(i[t]={pending:[n]},function(t,n){!function i(){var a=function(e){console.error("Failure loading font ".concat(t).concat(t===r?"":"; trying fallback"),e),t!==r&&(t=r,i())};try{var o=new XMLHttpRequest;o.open("get",t,!0),o.responseType="arraybuffer",o.onload=function(){if(o.status>=400)a(new Error(o.statusText));else if(o.status>0)try{var t=e(o.response);n(t)}catch(r){a(r)}},o.onerror=a,o.send()}catch(u){a(u)}}()}(t,(function(e){var n=i[t].pending;i[t]=e,n.forEach((function(t){return t(e)}))})))}function l(e,n){var i=e.text,l=void 0===i?"":i,v=e.font,m=void 0===v?r:v,g=(e.sdfGlyphSize,e.fontSize),y=void 0===g?1:g,b=e.letterSpacing,x=void 0===b?0:b,_=e.lineHeight,w=void 0===_?"normal":_,S=e.maxWidth,k=void 0===S?a:S,M=e.direction,E=e.textAlign,T=void 0===E?"left":E,A=e.textIndent,C=void 0===A?0:A,R=e.whiteSpace,P=void 0===R?"normal":R,L=e.overflowWrap,O=void 0===L?"normal":L,I=e.anchorX,D=void 0===I?0:I,N=e.anchorY,z=void 0===N?0:N,F=e.includeCaretPositions,B=void 0!==F&&F,U=e.chunkedBoundsSize,j=void 0===U?8192:U,H=e.colorRanges,Z=void 0===H?null:H,G=arguments.length>2&&void 0!==arguments[2]&&arguments[2],W=d(),V={fontLoad:0,typesetting:0};l.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),l=l.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),y=+y,x=+x,k=+k,w=w||"normal",C=+C,s(m,(function(e){var r=isFinite(k),i=null,s=null,v=null,m=null,g=null,b=null,_=null,S=0,E=0,A="nowrap"!==P,R=e.ascender,L=e.descender,I=e.unitsPerEm;V.fontLoad=d()-W;var N=d(),F=y/I;"normal"===w&&(w=(R-L)/I);var U=((w*=y)-(R-L)*F)/2,H=-(R*F+U),q=Math.min(w,(R-L)*F),X=(R+L)/2*F-q/2,$=C,Y=new p,K=[Y];e.forEachGlyph(l,y,x,(function(e,t,n){var i,a=l.charAt(n),s=e.advanceWidth*F,c=Y.count;if("isEmpty"in e||(e.isWhitespace=!!a&&/\s/.test(a),e.canBreakAfter=!!a&&u.test(a),e.isEmpty=e.xMin===e.xMax||e.yMin===e.yMax||o.test(a)),e.isWhitespace||e.isEmpty||E++,A&&r&&!e.isWhitespace&&t+s+$>k&&c){if(Y.glyphAt(c-1).glyphObj.canBreakAfter)i=new p,$=-t;else for(var f=c;f--;){if(0===f&&"break-word"===O){i=new p,$=-t;break}if(Y.glyphAt(f).glyphObj.canBreakAfter){var h=(i=Y.splitAt(f+1)).glyphAt(0).x;$-=h;for(var d=i.count;d--;)i.glyphAt(d).x-=h;break}}i&&(Y.isSoftWrapped=!0,Y=i,K.push(Y),S=k)}var v=Y.glyphAt(Y.count);v.glyphObj=e,v.x=t+$,v.width=s,v.charIndex=n,"\n"===a&&(Y=new p,K.push(Y),$=-(t+s+x*y)+C)})),K.forEach((function(e){for(var t=e.count;t--;){var n=e.glyphAt(t),r=n.glyphObj,i=n.x,a=n.width;if(!r.isWhitespace)return e.width=i+a,void(e.width>S&&(S=e.width))}}));var J=0,Q=0;if(D&&("number"===typeof D?J=-D:"string"===typeof D&&(J=-S*("left"===D?0:"center"===D?.5:"right"===D?1:f(D)))),z)if("number"===typeof z)Q=-z;else if("string"===typeof z){var ee=K.length*w;Q="top"===z?0:"top-baseline"===z?-H:"middle"===z?ee/2:"bottom"===z?ee:"bottom-baseline"===z?ee-U+L*F:f(z)*ee}if(!G){var te=t.getEmbeddingLevels(l,M);i=new Uint16Array(E),s=new Float32Array(2*E),v={},b=[a,a,-1/0,-1/0],_=[];var ne=H;B&&(g=new Float32Array(3*l.length)),Z&&(m=new Uint8Array(3*E));var re,ie,ae=0,oe=-1,ue=-1;if(K.forEach((function(n,r){var o=n.count,u=n.width;if(o>0){for(var f=0,d=o;d--&&n.glyphAt(d).glyphObj.isWhitespace;)f++;var p=0,y=0;if("center"===T)p=(S-u)/2;else if("right"===T)p=S-u;else if("justify"===T&&n.isSoftWrapped){for(var x=0,k=o-f;k--;)n.glyphAt(k).glyphObj.isWhitespace&&x++;y=(S-u)/x}if(y||p)for(var M=0,E=0;E<o;E++){var A=n.glyphAt(E),C=A.glyphObj;A.x+=p+M,0!==y&&C.isWhitespace&&E<o-f&&(M+=y,A.width+=y)}for(var R,P=t.getReorderSegments(l,te,n.glyphAt(0).charIndex,n.glyphAt(n.count-1).charIndex),L=0;L<P.length;L++)for(var O=(0,c.Z)(P[L],2),I=O[0],D=O[1],N=1/0,z=-1/0,U=0;U<o;U++)if(n.glyphAt(U).charIndex>=I){for(var H=U,G=U;G<o;G++){var W=n.glyphAt(G);if(W.charIndex>D)break;G<o-f&&(N=Math.min(N,W.x),z=Math.max(z,W.x+W.width))}for(var V=H;V<G;V++){var q=n.glyphAt(V);q.x=z-(q.x+q.width-N)}break}for(var $=function(e){return R=e},Y=0;Y<o;Y++){var K=n.glyphAt(Y),ee=(R=K.glyphObj).index,se=1&te.levels[K.charIndex];if(se){var le=t.getMirroredCharacter(l[K.charIndex]);le&&e.forEachGlyph(le,0,0,$)}if(B){var ce=K.charIndex,fe=K.x+J,he=K.x+K.width+J;g[3*ce]=se?he:fe,g[3*ce+1]=se?fe:he,g[3*ce+2]=ne+X+Q;var de=ce-oe;de>1&&h(g,oe,de),oe=ce}if(Z)for(var pe=K.charIndex;pe>ue;)ue++,Z.hasOwnProperty(ue)&&(ie=Z[ue]);if(!R.isWhitespace&&!R.isEmpty){var ve=ae++;v[ee]||(v[ee]={path:R.path,pathBounds:[R.xMin,R.yMin,R.xMax,R.yMax]});var me=K.x+J,ge=ne+Q;s[2*ve]=me,s[2*ve+1]=ge;var ye=me+R.xMin*F,be=ge+R.yMin*F,xe=me+R.xMax*F,_e=ge+R.yMax*F;ye<b[0]&&(b[0]=ye),be<b[1]&&(b[1]=be),xe>b[2]&&(b[2]=xe),_e>b[3]&&(b[3]=_e),ve%j===0&&(re={start:ve,end:ve,rect:[a,a,-1/0,-1/0]},_.push(re)),re.end++;var we=re.rect;if(ye<we[0]&&(we[0]=ye),be<we[1]&&(we[1]=be),xe>we[2]&&(we[2]=xe),_e>we[3]&&(we[3]=_e),i[ve]=ee,Z){var Se=3*ve;m[Se]=ie>>16&255,m[Se+1]=ie>>8&255,m[Se+2]=255&ie}}}}ne-=w})),g){var se=l.length-oe;se>1&&h(g,oe,se)}}V.typesetting=d()-N,n({glyphIds:i,glyphPositions:s,glyphData:v,caretPositions:g,caretHeight:q,glyphColors:m,chunkedBounds:_,fontSize:y,unitsPerEm:I,ascender:R*F,descender:L*F,lineHeight:w,topBaseline:H,blockBounds:[J,Q-K.length*w,J+S,Q],visibleBounds:b,timings:V})}))}function f(e){var t=e.match(/^([\d.]+)%$/),n=t?parseFloat(t[1]):NaN;return isNaN(n)?0:n/100}function h(e,t,n){for(var r=e[3*t],i=e[3*t+1],a=e[3*t+2],o=(i-r)/n,u=0;u<n;u++){var s=3*(t+u);e[s]=r+o*u,e[s+1]=r+o*(u+1),e[s+2]=a}}function d(){return(self.performance||Date).now()}function p(){this.data=[]}var v=["glyphObj","x","width","charIndex"];return p.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/v.length)},glyphAt:function(e){var t=p.flyweight;return t.data=this.data,t.index=e,t},splitAt:function(e){var t=new p;return t.data=this.data.splice(e*v.length),t}},p.flyweight=v.reduce((function(e,t,n,r){return Object.defineProperty(e,t,{get:function(){return this.data[this.index*v.length+n]},set:function(e){this.data[this.index*v.length+n]=e}}),e}),{data:null,index:0}),{typeset:l,measure:function(e,t){l(e,(function(e){var n=(0,c.Z)(e.blockBounds,4),r=n[0],i=n[1],a=n[2],o=n[3];t({width:a-r,height:o-i})}),{metricsOnly:!0})},loadFont:s}},J6],init:function(e,t,n,r){var i=e.defaultFontURL;return n(t,r(),{defaultFontURL:i})}}),R8=q6({name:"Typesetter",dependencies:[C8,Y6],init:function(e,t){return function(n){var r=new t;return e.typeset(n,r.resolve),r}},getTransferables:function(e){var t=[e.glyphPositions.buffer,e.glyphIds.buffer];return e.caretPositions&&t.push(e.caretPositions.buffer),e.glyphColors&&t.push(e.glyphColors.buffer),t}});var P8=function(){var e={};var t="aTroikaGlyphIndex",n=function(n){E(u,n);var a=P(u);function u(){var e;return S(this,u),(e=a.call(this)).detail=1,e.curveRadius=0,e.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],e.boundingSphere=new fi,e.boundingBox=new Vr,e}return M(u,[{key:"computeBoundingSphere",value:function(){}},{key:"computeBoundingBox",value:function(){}},{key:"setSide",value:function(e){var t=this.getIndex().count;this.setDrawRange(e===K?t/2:0,e===J?t:t/2)}},{key:"detail",get:function(){return this._detail},set:function(t){var n=this;if(t!==this._detail){this._detail=t,("number"!==typeof t||t<1)&&(t=1);var r=function(t){var n=e[t];if(!n){for(var r=new ho(1,1,t,t),i=r.clone(),a=r.attributes,u=i.attributes,s=new Ea,l=a.uv.count,c=0;c<l;c++)u.position.array[3*c]*=-1,u.normal.array[3*c+2]*=-1;["position","normal","uv"].forEach((function(e){s.setAttribute(e,new ga([].concat((0,o.Z)(a[e].array),(0,o.Z)(u[e].array)),a[e].itemSize))})),s.setIndex([].concat((0,o.Z)(r.index.array),(0,o.Z)(i.index.array.map((function(e){return e+l}))))),s.translate(.5,.5,0),n=e[t]=s}return n}(t);["position","normal","uv"].forEach((function(e){n.attributes[e]=r.attributes[e].clone()})),this.setIndex(r.getIndex().clone())}}},{key:"curveRadius",get:function(){return this._curveRadius},set:function(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}},{key:"updateGlyphs",value:function(e,n,a,o,u){r(this,"aTroikaGlyphBounds",e,4),r(this,t,n,1),r(this,"aTroikaGlyphColor",u,3),this._blockBounds=a,this._chunkedBounds=o,i(this,n.length),this._updateBounds()}},{key:"_updateBounds",value:function(){var e=this._blockBounds;if(e){var t=this.curveRadius,n=this.boundingBox;if(t){var r=Math.PI,i=Math.floor,a=Math.min,o=Math.max,u=Math.sin,s=Math.cos,l=r/2,c=2*r,f=Math.abs(t),h=e[0]/f,d=e[2]/f,p=i((h+l)/c)!==i((d+l)/c)?-f:a(u(h)*f,u(d)*f),v=i((h-l)/c)!==i((d-l)/c)?f:o(u(h)*f,u(d)*f),m=i((h+r)/c)!==i((d+r)/c)?2*f:o(f-s(h)*f,f-s(d)*f);n.min.set(p,e[1],t<0?-m:0),n.max.set(v,e[3],t<0?0:m)}else n.min.set(e[0],e[1],0),n.max.set(e[2],e[3],0);n.getBoundingSphere(this.boundingSphere)}}},{key:"applyClipRect",value:function(e){var n=this.getAttribute(t).count,r=this._chunkedBounds;if(r)for(var a=r.length;a--;){n=r[a].end;var o=r[a].rect;if(o[1]<e.w&&o[3]>e.y&&o[0]<e.z&&o[2]>e.x)break}i(this,n)}}]),u}(Lh);function r(e,t,n,r){var i=e.getAttribute(t);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(e.setAttribute(t,new Al(n,r)),delete e._maxInstanceCount,e.dispose()):i&&e.deleteAttribute(t)}function i(e,t){e[e.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=t}return n.prototype.setAttribute||(n.prototype.setAttribute=function(e,t){return this.attributes[e]=t,this}),n}(),L8="\nvec4 bounds = aTroikaGlyphBounds;\nbounds.xz += uTroikaPositionOffset.x;\nbounds.yw -= uTroikaPositionOffset.y;\n\nvec4 outlineBounds = vec4(\n  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,\n  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius\n);\nvec4 clippedBounds = vec4(\n  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\n\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);\n\nfloat rad = uTroikaCurveRadius;\nif (rad != 0.0) {\n  float angle = position.x / rad;\n  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);\n  normal.xz = vec2(sin(angle), cos(angle));\n}\n  \nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n\nvTroikaGlyphUV = clippedXY.xy;\nvTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);\n\n".concat("\nfloat txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\nvec2 txStartUV = txUvPerSquare * vec2(\n  mod(floor(aTroikaGlyphIndex / 4.0), txCols),\n  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)\n);\nvTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);\nvTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);\n"),O8="\nuniform sampler2D uTroikaSDFTexture;\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform float uTroikaSDFExponent;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaFillOpacity;\nuniform float uTroikaOutlineOpacity;\nuniform float uTroikaBlurRadius;\nuniform vec3 uTroikaStrokeColor;\nuniform float uTroikaStrokeWidth;\nuniform float uTroikaStrokeOpacity;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec2 vTroikaGlyphDimensions;\n\nfloat troikaSdfValueToSignedDistance(float alpha) {\n  // Inverse of exponential encoding in webgl-sdf-generator\n  ".concat("\n  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);\n  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;\n  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);\n  return signedDist;\n}\n\nfloat troikaGlyphUvToSdfValue(vec2 glyphUV) {\n  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);\n  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);\n  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1\n  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;\n}\n\nfloat troikaGlyphUvToDistance(vec2 uv) {\n  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));\n}\n\nfloat troikaGetAADist() {\n  ","\n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;\n  #else\n  return vTroikaGlyphDimensions.x / 64.0;\n  #endif\n}\n\nfloat troikaGetFragDistValue() {\n  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);\n  float distance = troikaGlyphUvToDistance(clampedGlyphUV);\n \n  // Extrapolate distance when outside bounds:\n  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : \n    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);\n\n  ","\n\n  return distance;\n}\n\nfloat troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {\n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(-distanceOffset, -distance);\n  #else\n\n  float alpha = smoothstep(\n    distanceOffset + aaDist,\n    distanceOffset - aaDist,\n    distance\n  );\n  #endif\n\n  return alpha;\n}\n");var I8=function(){var e=new aa({color:16777215,side:J,transparent:!0}),t=8421504,n=new xi,r=new Zr,i=new Zr,a=[],o=new Zr,u="+x+y";function s(e){return Array.isArray(e)?e[0]:e}var l=function(){var t=new Ga(new ho(1,1),e);return l=function(){return t},t},f=function(){var t=new Ga(new ho(1,1,32,1),e);return f=function(){return t},t},h={type:"syncstart"},d={type:"synccomplete"},p=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],v=p.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail"),m=function(p){E(g,p);var m=P(g);function g(){var e;S(this,g);var n=new P8;return(e=m.call(this,n,null)).text="",e.anchorX=0,e.anchorY=0,e.curveRadius=0,e.direction="auto",e.font=null,e.fontSize=.1,e.letterSpacing=0,e.lineHeight="normal",e.maxWidth=1/0,e.overflowWrap="normal",e.textAlign="left",e.textIndent=0,e.whiteSpace="normal",e.material=null,e.color=null,e.colorRanges=null,e.outlineWidth=0,e.outlineColor=0,e.outlineOpacity=1,e.outlineBlur=0,e.outlineOffsetX=0,e.outlineOffsetY=0,e.strokeWidth=0,e.strokeColor=t,e.strokeOpacity=1,e.fillOpacity=1,e.depthOffset=0,e.clipRect=null,e.orientation=u,e.glyphGeometryDetail=1,e.sdfGlyphSize=null,e.gpuAccelerateSDF=!0,e.debugSDF=!1,e}return M(g,[{key:"sync",value:function(e){var t=this;this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(h),M8({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},(function(n){t._isSyncing=!1,t._textRenderInfo=n,t.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);var r=t._queuedSyncs;r&&(t._queuedSyncs=null,t._needsSync=!0,t.sync((function(){r.forEach((function(e){return e&&e()}))}))),t.dispatchEvent(d),e&&e()}))))}},{key:"onBeforeRender",value:function(e,t,n,r,i,a){this.sync(),i.isTroikaTextMaterial&&this._prepareForRender(i),i._hadOwnSide=i.hasOwnProperty("side"),this.geometry.setSide(i._actualSide=i.side),i.side=Y}},{key:"onAfterRender",value:function(e,t,n,r,i,a){i._hadOwnSide?i.side=i._actualSide:delete i.side}},{key:"dispose",value:function(){this.geometry.dispose()}},{key:"textRenderInfo",get:function(){return this._textRenderInfo||null}},{key:"material",get:function(){var t=this._derivedMaterial,n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=e.clone());if(t&&t.baseMaterial===n||(t=this._derivedMaterial=function(e){var t=s8(e,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new hr},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Dr(0,0,0,0)},uTroikaClipRect:{value:new Dr(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new hr},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Cr},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new dr},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:"\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nuniform float uTroikaDistanceOffset;\nuniform float uTroikaBlurRadius;\nuniform vec2 uTroikaPositionOffset;\nuniform float uTroikaCurveRadius;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaGlyphUV;\nvarying vec4 vTroikaTextureUVBounds;\nvarying float vTroikaTextureChannel;\nvarying vec3 vTroikaGlyphColor;\nvarying vec2 vTroikaGlyphDimensions;\n",vertexTransform:L8,fragmentDefs:O8,fragmentColorTransform:"\nfloat aaDist = troikaGetAADist();\nfloat fragDistance = troikaGetFragDistValue();\nfloat edgeAlpha = uTroikaSDFDebug ?\n  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :\n  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));\n\n#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)\nvec4 fillRGBA = gl_FragColor;\nfillRGBA.a *= uTroikaFillOpacity;\nvec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);\nif (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;\ngl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(\n  -uTroikaStrokeWidth - aaDist,\n  -uTroikaStrokeWidth + aaDist,\n  fragDistance\n));\ngl_FragColor.a *= edgeAlpha;\n#endif\n\nif (edgeAlpha == 0.0) {\n  discard;\n}\n",customRewriter:function(e){var t=e.vertexShader,n=e.fragmentShader,r=/\buniform\s+vec3\s+diffuse\b/;return r.test(n)&&(n=n.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(t)||(t=t.replace(Q6,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:t,fragmentShader:n}}});return t.transparent=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get:function(){return this.side},set:function(){}}}),t}(n),n.addEventListener("dispose",(function e(){n.removeEventListener("dispose",e),t.dispose()}))),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){var r=t._outlineMtl;return r||((r=t._outlineMtl=Object.create(t,{id:{value:t.id+.1}})).isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,t.addEventListener("dispose",(function e(){t.removeEventListener("dispose",e),r.dispose()}))),[r,t]}return t},set:function(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}},{key:"glyphGeometryDetail",get:function(){return this.geometry.detail},set:function(e){this.geometry.detail=e}},{key:"curveRadius",get:function(){return this.geometry.curveRadius},set:function(e){this.geometry.curveRadius=e}},{key:"customDepthMaterial",get:function(){return s(this.material).getDepthMaterial()}},{key:"customDistanceMaterial",get:function(){return s(this.material).getDistanceMaterial()}},{key:"_prepareForRender",value:function(e){var a=e.isTextOutlineMaterial,s=e.uniforms,l=this.textRenderInfo;if(l){var f=l.sdfTexture,h=l.blockBounds;s.uTroikaSDFTexture.value=f,s.uTroikaSDFTextureSize.value.set(f.image.width,f.image.height),s.uTroikaSDFGlyphSize.value=l.sdfGlyphSize,s.uTroikaSDFExponent.value=l.sdfExponent,s.uTroikaTotalBounds.value.fromArray(h),s.uTroikaUseGlyphColors.value=!a&&!!l.glyphColors;var d,p,v,m=0,g=0,y=0,b=0,x=0;if(a){var _=this.outlineWidth,w=this.outlineOffsetX,S=this.outlineOffsetY,k=this.outlineBlur,M=this.outlineOpacity;m=this._parsePercent(_)||0,g=Math.max(0,this._parsePercent(k)||0),d=M,b=this._parsePercent(w)||0,x=this._parsePercent(S)||0}else(y=Math.max(0,this._parsePercent(this.strokeWidth)||0))&&(v=this.strokeColor,s.uTroikaStrokeColor.value.set(null==v?t:v),null==(p=this.strokeOpacity)&&(p=1)),d=this.fillOpacity;s.uTroikaDistanceOffset.value=m,s.uTroikaPositionOffset.value.set(b,x),s.uTroikaBlurRadius.value=g,s.uTroikaStrokeWidth.value=y,s.uTroikaStrokeOpacity.value=p,s.uTroikaFillOpacity.value=null==d?1:d,s.uTroikaCurveRadius.value=this.curveRadius||0;var E=this.clipRect;if(E&&Array.isArray(E)&&4===E.length)s.uTroikaClipRect.value.fromArray(E);else{var T=100*(this.fontSize||.1);s.uTroikaClipRect.value.set(h[0]-T,h[1]-T,h[2]+T,h[3]+T)}this.geometry.applyClipRect(s.uTroikaClipRect.value)}s.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;var A=a?this.outlineColor||0:this.color;if(null==A)delete e.color;else{var C=e.hasOwnProperty("color")?e.color:e.color=new Cr;A===C._input&&"object"!==typeof A||C.set(C._input=A)}var R=this.orientation||u;if(R!==e._orientation){var P=s.uTroikaOrient.value,L=(R=R.replace(/[^-+xyz]/g,""))!==u&&R.match(/^([-+])([xyz])([-+])([xyz])$/);if(L){var O=(0,c.Z)(L,5),I=O[1],D=O[2],N=O[3],z=O[4];r.set(0,0,0)[D]="-"===I?1:-1,i.set(0,0,0)[z]="-"===N?-1:1,n.lookAt(o,r.cross(i),i),P.setFromMatrix4(n)}else P.identity();e._orientation=R}}},{key:"_parsePercent",value:function(e){if("string"===typeof e){var t=e.match(/^(-?[\d.]+)%$/),n=t?parseFloat(t[1]):NaN;e=(isNaN(n)?0:n/100)*this.fontSize}return e}},{key:"localPositionToTextCoords",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hr;t.copy(e);var n=this.curveRadius;return n&&(t.x=Math.atan2(e.x,Math.abs(n)-Math.abs(e.z))*Math.abs(n)),t}},{key:"worldPositionToTextCoords",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new hr;return r.copy(e),this.localPositionToTextCoords(this.worldToLocal(r),t)}},{key:"raycast",value:function(e,t){var n=this.textRenderInfo,r=this.curveRadius;if(n){for(var i=n.blockBounds,o=r?f():l(),u=o.geometry,s=u.attributes,c=s.position,h=s.uv,d=0;d<h.count;d++){var p=i[0]+h.getX(d)*(i[2]-i[0]),v=i[1]+h.getY(d)*(i[3]-i[1]),m=0;r&&(m=r-Math.cos(p/r)*r,p=Math.sin(p/r)*r),c.setXYZ(d,p,v,m)}u.boundingSphere=this.geometry.boundingSphere,u.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,a.length=0,o.raycast(e,a);for(var g=0;g<a.length;g++)a[g].object=this,t.push(a[g])}}},{key:"copy",value:function(e){var t=this,n=this.geometry;return D(T(g.prototype),"copy",this).call(this,e),this.geometry=n,v.forEach((function(n){t[n]=e[n]})),this}},{key:"clone",value:function(){return(new this.constructor).copy(this)}}]),g}(Ga);p.forEach((function(e){var t="_private_"+e;Object.defineProperty(m.prototype,e,{get:function(){return this[t]},set:function(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})}));var g=!1;return Object.defineProperty(m.prototype,"anchor",{get:function(){return this._deprecated_anchor},set:function(e){this._deprecated_anchor=e,g||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),g=!0),Array.isArray(e)?(this.anchorX="".concat(100*(+e[0]||0),"%"),this.anchorY="".concat(100*(+e[1]||0),"%")):this.anchorX=this.anchorY=0}}),m}();new WeakMap;new WeakMap;var D8=["anchorX","anchorY","font","children","characters","onSync"],N8=r.forwardRef((function(e,t){var n=e.anchorX,i=void 0===n?"center":n,a=e.anchorY,o=void 0===a?"middle":a,u=e.font,s=e.children,l=e.characters,f=e.onSync,d=h(e,D8),p=wm((function(e){return e.invalidate})),v=r.useState((function(){return new I8})),m=(0,c.Z)(v,1)[0],g=r.useMemo((function(){var e=[],t="";return r.Children.forEach(s,(function(n){"string"===typeof n||"number"===typeof n?t+=n:e.push(n)})),[e,t]}),[s]),y=(0,c.Z)(g,2),b=y[0],x=y[1];return Lv((function(){return new Promise((function(e){return function(e,t){var n=e.font,r=e.characters;M8({font:n,sdfGlyphSize:e.sdfGlyphSize,text:Array.isArray(r)?r.join("\n"):""+r},t)}({font:u,characters:l},e)}))}),["troika-text",u,l]),r.useLayoutEffect((function(){m.sync((function(){p(),f&&f(m)}))})),r.useEffect((function(){return function(){return m.dispose()}}),[m]),r.createElement("primitive",(0,Jm.Z)({object:m,ref:t,font:u,text:x,anchorX:i,anchorY:o},d),b)})),z8=["range","selectService","size","timeGap"],F8=[new Zr(0,0,0),new Zr(0,0,1)];function B8(e){var t=e.range,n=void 0===t?[]:t,i=(e.selectService,e.size,e.timeGap),a=void 0===i?0:i,o=(h(e,z8),(0,r.useRef)(),(0,r.useRef)()),u=(0,r.useMemo)((function(){var e=DB().domain(n).range([0,1]);return F8[1].set(0,0,a),o.current&&(o.current.geometry.setPositions(Float32Array.from(new Array(F8.length).fill().flatMap((function(e,t){return F8[t].toArray()})))),o.current.geometry.attributes.position.needsUpdate=!0),e.ticks().map((function(t){return{key:t,text:Math.round(t),pos:[0,.5,e(t)*a]}}))}),[n,a]);return(0,Zx.jsxs)(Zx.Fragment,{children:[(0,Zx.jsx)(D6,{ref:o,points:F8,color:"white"}),(0,Zx.jsx)("group",{position:[-.2,0,0],children:u.map((function(e){return(0,Zx.jsx)(N8,{position:e.pos,scale:3,color:"white",anchorX:"right",anchorY:"middle",children:e.text},e.key)}))})]})}var U8=n(8182),j8=n(1184),H8=n(6001),Z8=["sx"];function G8(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){H8.Gc[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}((0,f.Z)(e,Z8)),i=r.systemProps,a=r.otherProps;return t=Array.isArray(n)?[i].concat((0,o.Z)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return(0,Yx.P)(e)?(0,Jm.Z)({},i,e):i}:(0,Jm.Z)({},i,n),(0,Jm.Z)({},a,{sx:t})}var W8=n(767),V8=n(5255),q8=n(1046);var X8=r.createContext(),$8=n(5159),Y8=n(208);function K8(e){return(0,$8.Z)("MuiGrid",e)}var J8=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Q8=(0,Y8.Z)("MuiGrid",["root","container","item","zeroMinWidth"].concat((0,o.Z)([0,1,2,3,4,5,6,7,8,9,10].map((function(e){return"spacing-xs-".concat(e)}))),(0,o.Z)(["column-reverse","column","row-reverse","row"].map((function(e){return"direction-xs-".concat(e)}))),(0,o.Z)(["nowrap","wrap-reverse","wrap"].map((function(e){return"wrap-xs-".concat(e)}))),(0,o.Z)(J8.map((function(e){return"grid-xs-".concat(e)}))),(0,o.Z)(J8.map((function(e){return"grid-sm-".concat(e)}))),(0,o.Z)(J8.map((function(e){return"grid-md-".concat(e)}))),(0,o.Z)(J8.map((function(e){return"grid-lg-".concat(e)}))),(0,o.Z)(J8.map((function(e){return"grid-xl-".concat(e)}))))),e7=Q8,t7=["className","columns","columnSpacing","component","container","direction","item","lg","md","rowSpacing","sm","spacing","wrap","xl","xs","zeroMinWidth"];function n7(e){var t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function r7(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t||!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]||"spacing-xs-".concat(String(e))];var r=e.xs,i=e.sm,a=e.md,o=e.lg,u=e.xl;return[Number(r)>0&&(n["spacing-xs-".concat(String(r))]||"spacing-xs-".concat(String(r))),Number(i)>0&&(n["spacing-sm-".concat(String(i))]||"spacing-sm-".concat(String(i))),Number(a)>0&&(n["spacing-md-".concat(String(a))]||"spacing-md-".concat(String(a))),Number(o)>0&&(n["spacing-lg-".concat(String(o))]||"spacing-lg-".concat(String(o))),Number(u)>0&&(n["spacing-xl-".concat(String(u))]||"spacing-xl-".concat(String(u)))]}var i7=(0,V8.ZP)("div",{name:"MuiGrid",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.container,i=n.direction,a=n.item,u=n.lg,s=n.md,l=n.sm,c=n.spacing,f=n.wrap,h=n.xl,d=n.xs,p=n.zeroMinWidth;return[t.root,r&&t.container,a&&t.item,p&&t.zeroMinWidth].concat((0,o.Z)(r7(c,r,t)),["row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==f&&t["wrap-xs-".concat(String(f))],!1!==d&&t["grid-xs-".concat(String(d))],!1!==l&&t["grid-sm-".concat(String(l))],!1!==s&&t["grid-md-".concat(String(s))],!1!==u&&t["grid-lg-".concat(String(u))],!1!==h&&t["grid-xl-".concat(String(h))]])}})((function(e){var t=e.ownerState;return(0,Jm.Z)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){var t=e.theme,n=e.ownerState,r=(0,j8.P$)({values:n.direction,breakpoints:t.breakpoints.values});return(0,j8.k9)({theme:t},r,(function(e){var t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(e7.item)]={maxWidth:"none"}),t}))}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.rowSpacing,a={};if(r&&0!==i){var o=(0,j8.P$)({values:i,breakpoints:t.breakpoints.values});a=(0,j8.k9)({theme:t},o,(function(e){var n=t.spacing(e);return"0px"!==n?(0,u.Z)({marginTop:"-".concat(n7(n))},"& > .".concat(e7.item),{paddingTop:n7(n)}):{}}))}return a}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.columnSpacing,a={};if(r&&0!==i){var o=(0,j8.P$)({values:i,breakpoints:t.breakpoints.values});a=(0,j8.k9)({theme:t},o,(function(e){var n=t.spacing(e);return"0px"!==n?(0,u.Z)({width:"calc(100% + ".concat(n7(n),")"),marginLeft:"-".concat(n7(n))},"& > .".concat(e7.item),{paddingLeft:n7(n)}):{}}))}return a}),(function(e){var t,n=e.theme,r=e.ownerState;return n.breakpoints.keys.reduce((function(e,i){var a={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{var o=(0,j8.P$)({values:r.columns,breakpoints:n.breakpoints.values}),u="object"===typeof o?o[i]:o;if(void 0===u||null===u)return e;var s="".concat(Math.round(t/u*1e8)/1e6,"%"),l={};if(r.container&&r.item&&0!==r.columnSpacing){var c=n.spacing(r.columnSpacing);if("0px"!==c){var f="calc(".concat(s," + ").concat(n7(c),")");l={flexBasis:f,maxWidth:f}}}a=(0,Jm.Z)({flexBasis:s,flexGrow:0,maxWidth:s},l)}return 0===n.breakpoints.values[i]?Object.assign(e,a):e[n.breakpoints.up(i)]=a,e}),{})})),a7=r.forwardRef((function(e,t){var n,i=G8((0,q8.Z)({props:e,name:"MuiGrid"})),a=i.className,u=i.columns,s=i.columnSpacing,l=i.component,c=void 0===l?"div":l,h=i.container,d=void 0!==h&&h,p=i.direction,v=void 0===p?"row":p,m=i.item,g=void 0!==m&&m,y=i.lg,b=void 0!==y&&y,x=i.md,_=void 0!==x&&x,w=i.rowSpacing,S=i.sm,k=void 0!==S&&S,M=i.spacing,E=void 0===M?0:M,T=i.wrap,A=void 0===T?"wrap":T,C=i.xl,R=void 0!==C&&C,P=i.xs,L=void 0!==P&&P,O=i.zeroMinWidth,I=void 0!==O&&O,D=(0,f.Z)(i,t7),N=w||E,z=s||E,F=r.useContext(X8),B=u||F||12,U=(0,Jm.Z)({},i,{columns:B,container:d,direction:v,item:g,lg:b,md:_,sm:k,rowSpacing:N,columnSpacing:z,wrap:A,xl:R,xs:L,zeroMinWidth:I}),j=function(e){var t=e.classes,n=e.container,r=e.direction,i=e.item,a=e.lg,u=e.md,s=e.sm,l=e.spacing,c=e.wrap,f=e.xl,h=e.xs,d={root:["root",n&&"container",i&&"item",e.zeroMinWidth&&"zeroMinWidth"].concat((0,o.Z)(r7(l,n)),["row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==c&&"wrap-xs-".concat(String(c)),!1!==h&&"grid-xs-".concat(String(h)),!1!==s&&"grid-sm-".concat(String(s)),!1!==u&&"grid-md-".concat(String(u)),!1!==a&&"grid-lg-".concat(String(a)),!1!==f&&"grid-xl-".concat(String(f))])};return(0,W8.Z)(d,K8,t)}(U);return n=(0,Zx.jsx)(i7,(0,Jm.Z)({ownerState:U,className:(0,U8.Z)(j.root,a),as:c,ref:t},D)),12!==B?(0,Zx.jsx)(X8.Provider,{value:B,children:n}):n})),o7=a7,u7=n(5735),s7=n(2065),l7=n(2071),c7=n(9683),f7=n(8221),h7=r.createContext(null);function d7(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function p7(e,t,n){return null!=n[t]?n[t]:e.props[t]}function v7(e,t){return d7(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:p7(n,"appear",e),enter:p7(n,"enter",e),exit:p7(n,"exit",e)})}))}function m7(e,t,n){var i=d7(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var l=i[s][r];u[i[s][r]]=n(l)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(t,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,r.isValidElement)(u)){var s=o in t,l=o in i,c=t[o],f=(0,r.isValidElement)(c)&&!c.props.in;!l||s&&!f?l||!s||f?l&&s&&(0,r.isValidElement)(c)&&(a[o]=(0,r.cloneElement)(u,{onExited:n.bind(null,u),in:c.props.in,exit:p7(u,"exit",e),enter:p7(u,"enter",e)})):a[o]=(0,r.cloneElement)(u,{in:!1}):a[o]=(0,r.cloneElement)(u,{onExited:n.bind(null,u),in:!0,exit:p7(u,"exit",e),enter:p7(u,"enter",e)})}})),a}var g7=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},y7=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(C(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Kg(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?v7(e,r):m7(e,n,r),firstRender:!1}},n.handleExited=function(e,t){var n=d7(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,Jm.Z)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=(0,f.Z)(e,["component","childFactory"]),a=this.state.contextValue,o=g7(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?r.createElement(h7.Provider,{value:a},o):r.createElement(h7.Provider,{value:a},r.createElement(t,i,o))},t}(r.Component);y7.propTypes={},y7.defaultProps={component:"div",childFactory:function(e){return e}};var b7=y7,x7=n(1688),_7=(n(2110),n(125)),w7=n(6567),S7=i.useInsertionEffect?i.useInsertionEffect:r.useLayoutEffect,k7=(0,x7.w)((function(e,t){var n=e.styles,i=(0,_7.O)([n],void 0,(0,r.useContext)(x7.T)),a=(0,r.useRef)();return S7((function(){var e=t.key+"-global",n=new w7.m({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),a.current=[n,r],function(){n.flush()}}),[t]),S7((function(){var e=a.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&(0,P5.My)(t,i.next,!0),n.tags.length){var r=n.tags[n.tags.length-1].nextElementSibling;n.before=r,n.flush()}t.insert("",i,n,!1)}}),[t,i.name]),null}));function M7(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,_7.O)(t)}var E7=function(){var e=M7.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};var T7=function(e){var t=e.className,n=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,l=e.in,f=e.onExited,h=e.timeout,d=r.useState(!1),p=(0,c.Z)(d,2),v=p[0],m=p[1],g=(0,U8.Z)(t,n.ripple,n.rippleVisible,a&&n.ripplePulsate),y={width:s,height:s,top:-s/2+u,left:-s/2+o},b=(0,U8.Z)(n.child,v&&n.childLeaving,a&&n.childPulsate);return l||v||m(!0),r.useEffect((function(){if(!l&&null!=f){var e=setTimeout(f,h);return function(){clearTimeout(e)}}}),[f,l,h]),(0,Zx.jsx)("span",{className:g,style:y,children:(0,Zx.jsx)("span",{className:b})})};var A7,C7,R7,P7,L7,O7,I7,D7,N7=(0,Y8.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),z7=["center","classes","className"],F7=E7(L7||(L7=A7||(A7=m5(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),B7=E7(O7||(O7=C7||(C7=m5(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),U7=E7(I7||(I7=R7||(R7=m5(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),j7=(0,V8.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),H7=(0,V8.ZP)(T7,{name:"MuiTouchRipple",slot:"Ripple"})(D7||(D7=P7||(P7=m5(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),N7.rippleVisible,F7,550,(function(e){return e.theme.transitions.easing.easeInOut}),N7.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),N7.child,N7.childLeaving,B7,550,(function(e){return e.theme.transitions.easing.easeInOut}),N7.childPulsate,U7,(function(e){return e.theme.transitions.easing.easeInOut})),Z7=r.forwardRef((function(e,t){var n=(0,q8.Z)({props:e,name:"MuiTouchRipple"}),i=n.center,a=void 0!==i&&i,u=n.classes,s=void 0===u?{}:u,l=n.className,h=(0,f.Z)(n,z7),d=r.useState([]),p=(0,c.Z)(d,2),v=p[0],m=p[1],g=r.useRef(0),y=r.useRef(null);r.useEffect((function(){y.current&&(y.current(),y.current=null)}),[v]);var b=r.useRef(!1),x=r.useRef(null),_=r.useRef(null),w=r.useRef(null);r.useEffect((function(){return function(){clearTimeout(x.current)}}),[]);var S=r.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;m((function(e){return[].concat((0,o.Z)(e),[(0,Zx.jsx)(H7,{classes:{ripple:(0,U8.Z)(s.ripple,N7.ripple),rippleVisible:(0,U8.Z)(s.rippleVisible,N7.rippleVisible),ripplePulsate:(0,U8.Z)(s.ripplePulsate,N7.ripplePulsate),child:(0,U8.Z)(s.child,N7.child),childLeaving:(0,U8.Z)(s.childLeaving,N7.childLeaving),childPulsate:(0,U8.Z)(s.childPulsate,N7.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},g.current)])})),g.current+=1,y.current=a}),[s]),k=r.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,l=void 0!==s&&s;if("mousedown"===e.type&&b.current)b.current=!1;else{"touchstart"===e.type&&(b.current=!0);var c,f,h,d=l?null:w.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,m=v.clientX,g=v.clientY;c=Math.round(m-p.left),f=Math.round(g-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var y=2*Math.max(Math.abs((d?d.clientWidth:0)-c),c)+2,k=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(y,2)+Math.pow(k,2))}e.touches?null===_.current&&(_.current=function(){S({pulsate:i,rippleX:c,rippleY:f,rippleSize:h,cb:n})},x.current=setTimeout((function(){_.current&&(_.current(),_.current=null)}),80)):S({pulsate:i,rippleX:c,rippleY:f,rippleSize:h,cb:n})}}),[a,S]),M=r.useCallback((function(){k({},{pulsate:!0})}),[k]),E=r.useCallback((function(e,t){if(clearTimeout(x.current),"touchend"===e.type&&_.current)return _.current(),_.current=null,void(x.current=setTimeout((function(){E(e,t)})));_.current=null,m((function(e){return e.length>0?e.slice(1):e})),y.current=t}),[]);return r.useImperativeHandle(t,(function(){return{pulsate:M,start:k,stop:E}}),[M,k,E]),(0,Zx.jsx)(j7,(0,Jm.Z)({className:(0,U8.Z)(s.root,N7.root,l),ref:w},h,{children:(0,Zx.jsx)(b7,{component:null,exit:!0,children:v})}))})),G7=Z7;function W7(e){return(0,$8.Z)("MuiButtonBase",e)}var V7,q7=(0,Y8.Z)("MuiButtonBase",["root","disabled","focusVisible"]),X7=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],$7=(0,V8.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((V7={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,u.Z)(V7,"&.".concat(q7.disabled),{pointerEvents:"none",cursor:"default"}),(0,u.Z)(V7,"@media print",{colorAdjust:"exact"}),V7)),Y7=r.forwardRef((function(e,t){var n=(0,q8.Z)({props:e,name:"MuiButtonBase"}),i=n.action,a=n.centerRipple,o=void 0!==a&&a,u=n.children,s=n.className,l=n.component,h=void 0===l?"button":l,d=n.disabled,p=void 0!==d&&d,v=n.disableRipple,m=void 0!==v&&v,g=n.disableTouchRipple,y=void 0!==g&&g,b=n.focusRipple,x=void 0!==b&&b,_=n.LinkComponent,w=void 0===_?"a":_,S=n.onBlur,k=n.onClick,M=n.onContextMenu,E=n.onDragLeave,T=n.onFocus,A=n.onFocusVisible,C=n.onKeyDown,R=n.onKeyUp,P=n.onMouseDown,L=n.onMouseLeave,O=n.onMouseUp,I=n.onTouchEnd,D=n.onTouchMove,N=n.onTouchStart,z=n.tabIndex,F=void 0===z?0:z,B=n.TouchRippleProps,U=n.touchRippleRef,j=n.type,H=(0,f.Z)(n,X7),Z=r.useRef(null),G=r.useRef(null),W=(0,l7.Z)(G,U),V=(0,f7.Z)(),q=V.isFocusVisibleRef,X=V.onFocus,$=V.onBlur,Y=V.ref,K=r.useState(!1),J=(0,c.Z)(K,2),Q=J[0],ee=J[1];function te(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return(0,c7.Z)((function(r){return t&&t(r),!n&&G.current&&G.current[e](r),!0}))}p&&Q&&ee(!1),r.useImperativeHandle(i,(function(){return{focusVisible:function(){ee(!0),Z.current.focus()}}}),[]),r.useEffect((function(){Q&&x&&!m&&G.current.pulsate()}),[m,x,Q]);var ne=te("start",P),re=te("stop",M),ie=te("stop",E),ae=te("stop",O),oe=te("stop",(function(e){Q&&e.preventDefault(),L&&L(e)})),ue=te("start",N),se=te("stop",I),le=te("stop",D),ce=te("stop",(function(e){$(e),!1===q.current&&ee(!1),S&&S(e)}),!1),fe=(0,c7.Z)((function(e){Z.current||(Z.current=e.currentTarget),X(e),!0===q.current&&(ee(!0),A&&A(e)),T&&T(e)})),he=function(){var e=Z.current;return h&&"button"!==h&&!("A"===e.tagName&&e.href)},de=r.useRef(!1),pe=(0,c7.Z)((function(e){x&&!de.current&&Q&&G.current&&" "===e.key&&(de.current=!0,G.current.stop(e,(function(){G.current.start(e)}))),e.target===e.currentTarget&&he()&&" "===e.key&&e.preventDefault(),C&&C(e),e.target===e.currentTarget&&he()&&"Enter"===e.key&&!p&&(e.preventDefault(),k&&k(e))})),ve=(0,c7.Z)((function(e){x&&" "===e.key&&G.current&&Q&&!e.defaultPrevented&&(de.current=!1,G.current.stop(e,(function(){G.current.pulsate(e)}))),R&&R(e),k&&e.target===e.currentTarget&&he()&&" "===e.key&&!e.defaultPrevented&&k(e)})),me=h;"button"===me&&(H.href||H.to)&&(me=w);var ge={};"button"===me?(ge.type=void 0===j?"button":j,ge.disabled=p):(H.href||H.to||(ge.role="button"),p&&(ge["aria-disabled"]=p));var ye=(0,l7.Z)(Y,Z),be=(0,l7.Z)(t,ye),xe=r.useState(!1),_e=(0,c.Z)(xe,2),we=_e[0],Se=_e[1];r.useEffect((function(){Se(!0)}),[]);var ke=we&&!m&&!p;var Me=(0,Jm.Z)({},n,{centerRipple:o,component:h,disabled:p,disableRipple:m,disableTouchRipple:y,focusRipple:x,tabIndex:F,focusVisible:Q}),Ee=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=e.classes,a={root:["root",t&&"disabled",n&&"focusVisible"]},o=(0,W8.Z)(a,W7,i);return n&&r&&(o.root+=" ".concat(r)),o}(Me);return(0,Zx.jsxs)($7,(0,Jm.Z)({as:me,className:(0,U8.Z)(Ee.root,s),ownerState:Me,onBlur:ce,onClick:k,onContextMenu:re,onFocus:fe,onKeyDown:pe,onKeyUp:ve,onMouseDown:ne,onMouseLeave:oe,onMouseUp:ae,onDragLeave:ie,onTouchEnd:se,onTouchMove:le,onTouchStart:ue,ref:be,tabIndex:p?-1:F,type:j},ge,H,{children:[u,ke?(0,Zx.jsx)(G7,(0,Jm.Z)({ref:W,center:o},B)):null]}))})),K7=Y7,J7=n(4036);function Q7(e){return(0,$8.Z)("MuiButton",e)}var e9=(0,Y8.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","contained","containedInherit","containedPrimary","containedSecondary","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var t9=r.createContext({}),n9=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],r9=function(e){return(0,Jm.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},i9=(0,V8.ZP)(K7,{shouldForwardProp:function(e){return(0,V8.FO)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,J7.Z)(n.color))],t["size".concat((0,J7.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,J7.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,Jm.Z)({},n.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:n.shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":(0,Jm.Z)({textDecoration:"none",backgroundColor:(0,s7.Fq)(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===r.variant&&"inherit"!==r.color&&{backgroundColor:(0,s7.Fq)(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===r.variant&&"inherit"!==r.color&&{border:"1px solid ".concat(n.palette[r.color].main),backgroundColor:(0,s7.Fq)(n.palette[r.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===r.variant&&{backgroundColor:n.palette.grey.A100,boxShadow:n.shadows[4],"@media (hover: none)":{boxShadow:n.shadows[2],backgroundColor:n.palette.grey[300]}},"contained"===r.variant&&"inherit"!==r.color&&{backgroundColor:n.palette[r.color].dark,"@media (hover: none)":{backgroundColor:n.palette[r.color].main}}),"&:active":(0,Jm.Z)({},"contained"===r.variant&&{boxShadow:n.shadows[8]})},(0,u.Z)(t,"&.".concat(e9.focusVisible),(0,Jm.Z)({},"contained"===r.variant&&{boxShadow:n.shadows[6]})),(0,u.Z)(t,"&.".concat(e9.disabled),(0,Jm.Z)({color:n.palette.action.disabled},"outlined"===r.variant&&{border:"1px solid ".concat(n.palette.action.disabledBackground)},"outlined"===r.variant&&"secondary"===r.color&&{border:"1px solid ".concat(n.palette.action.disabled)},"contained"===r.variant&&{color:n.palette.action.disabled,boxShadow:n.shadows[0],backgroundColor:n.palette.action.disabledBackground})),t),"text"===r.variant&&{padding:"6px 8px"},"text"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].main},"outlined"===r.variant&&{padding:"5px 15px",border:"1px solid ".concat("light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)")},"outlined"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].main,border:"1px solid ".concat((0,s7.Fq)(n.palette[r.color].main,.5))},"contained"===r.variant&&{color:n.palette.getContrastText(n.palette.grey[300]),backgroundColor:n.palette.grey[300],boxShadow:n.shadows[2]},"contained"===r.variant&&"inherit"!==r.color&&{color:n.palette[r.color].contrastText,backgroundColor:n.palette[r.color].main},"inherit"===r.color&&{color:"inherit",borderColor:"currentColor"},"small"===r.size&&"text"===r.variant&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"text"===r.variant&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"outlined"===r.variant&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"outlined"===r.variant&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},"small"===r.size&&"contained"===r.variant&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},"large"===r.size&&"contained"===r.variant&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},r.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,u.Z)(t,"&.".concat(e9.focusVisible),{boxShadow:"none"}),(0,u.Z)(t,"&:active",{boxShadow:"none"}),(0,u.Z)(t,"&.".concat(e9.disabled),{boxShadow:"none"}),t)})),a9=(0,V8.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat((0,J7.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,Jm.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},r9(t))})),o9=(0,V8.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat((0,J7.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,Jm.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},r9(t))})),u9=r.forwardRef((function(e,t){var n=r.useContext(t9),i=(0,u7.Z)(n,e),a=(0,q8.Z)({props:i,name:"MuiButton"}),o=a.children,u=a.color,s=void 0===u?"primary":u,l=a.component,c=void 0===l?"button":l,h=a.className,d=a.disabled,p=void 0!==d&&d,v=a.disableElevation,m=void 0!==v&&v,g=a.disableFocusRipple,y=void 0!==g&&g,b=a.endIcon,x=a.focusVisibleClassName,_=a.fullWidth,w=void 0!==_&&_,S=a.size,k=void 0===S?"medium":S,M=a.startIcon,E=a.type,T=a.variant,A=void 0===T?"text":T,C=(0,f.Z)(a,n9),R=(0,Jm.Z)({},a,{color:s,component:c,disabled:p,disableElevation:m,disableFocusRipple:y,fullWidth:w,size:k,type:E,variant:A}),P=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes,u={root:["root",a,"".concat(a).concat((0,J7.Z)(t)),"size".concat((0,J7.Z)(i)),"".concat(a,"Size").concat((0,J7.Z)(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,J7.Z)(i))],endIcon:["endIcon","iconSize".concat((0,J7.Z)(i))]},s=(0,W8.Z)(u,Q7,o);return(0,Jm.Z)({},o,s)}(R),L=M&&(0,Zx.jsx)(a9,{className:P.startIcon,ownerState:R,children:M}),O=b&&(0,Zx.jsx)(o9,{className:P.endIcon,ownerState:R,children:b});return(0,Zx.jsxs)(i9,(0,Jm.Z)({ownerState:R,className:(0,U8.Z)(h,n.className),component:c,disabled:p,focusRipple:!y,focusVisibleClassName:(0,U8.Z)(P.focusVisible,x),ref:t,type:E},C,{classes:P,children:[L,o,O]}))})),s9=u9,l9=n(5682),c9=["component","direction","spacing","divider","children"];function f9(e,t){var n=r.Children.toArray(e).filter(Boolean);return n.reduce((function(e,i,a){return e.push(i),a<n.length-1&&e.push(r.cloneElement(t,{key:"separator-".concat(a)})),e}),[])}var h9=(0,V8.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return[t.root]}})((function(e){var t=e.ownerState,n=e.theme,r=(0,Jm.Z)({display:"flex"},(0,j8.k9)({theme:n},(0,j8.P$)({values:t.direction,breakpoints:n.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var i=(0,l9.hB)(n),a=Object.keys(n.breakpoints.values).reduce((function(e,n){return null==t.spacing[n]&&null==t.direction[n]||(e[n]=!0),e}),{}),o=(0,j8.P$)({values:t.direction,base:a}),s=(0,j8.P$)({values:t.spacing,base:a});r=(0,Yx.Z)(r,(0,j8.k9)({theme:n},s,(function(e,n){return{"& > :not(style) + :not(style)":(0,u.Z)({margin:0},"margin".concat((r=n?o[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),(0,l9.NA)(i,e))};var r})))}return r})),d9=r.forwardRef((function(e,t){var n=G8((0,q8.Z)({props:e,name:"MuiStack"})),r=n.component,i=void 0===r?"div":r,a=n.direction,o=void 0===a?"column":a,u=n.spacing,s=void 0===u?0:u,l=n.divider,c=n.children,h=(0,f.Z)(n,c9),d={direction:o,spacing:s};return(0,Zx.jsx)(h9,(0,Jm.Z)({as:i,ownerState:d,ref:t},h,{children:l?f9(c,l):c}))})),p9=d9,v9=function(){function e(e){return t(e).map((function(t){return $w(t)/e.length}))}function t(e){return Uw(e[0].length).map((function(t){return e.map((function(e){return e[t]}))}))}function n(e,n){return e.map((function(e){return t(n).map((function(t){return $w(Jw(e,t).map((function(e){return e[0]*e[1]})))}))}))}function r(e,t){return Uw(e).map((function(e){return Uw(t).map((function(){return 0}))}))}function i(e,t){return console.assert(e.length===t.length,"dim(x) == dim(y)"),Jw(e,t).map((function(e){return"number"===typeof e[0]?e[0]-e[1]:Jw(e[0],e[1]).map((function(e){return e[0]-e[1]}))}))}this.scale=function(t,n,r){if(n){var a=e(t);t=t.map((function(e){return i(e,a)}))}if(r){var o=function(t){e(t);return function(e){return e.map((function(e){return Math.sqrt(e)}))}(e(function(e,t){return Jw(e,t).map((function(e){return"number"===typeof e[0]?e[0]*e[1]:Jw(e[0],e[1]).map((function(e){return e[0]*e[1]}))}))}(t,t)))}(t);t=t.map((function(e){return function(e,t){return console.assert(e.length===t.length,"dim(x) == dim(y)"),Jw(e,t).map((function(e){return 0!==e[1]?e[0]/e[1]:0}))}(e,o)}))}return t},this.pca=function(e,t){var a=function(e){var t,n=Math.pow(2,-52),i=1e-64/n,a=50,o=0,u=0,s=0,l=0,c=0,f=e.map((function(e){return e.slice(0)})),h=f.length,d=f[0].length;console.assert(h>=d,"Need more rows than columns");var p=Uw(d).map((function(){return 0})),v=Uw(d).map((function(){return 0})),m=r(d,d);function g(e,t){return(e=Math.abs(e))>(t=Math.abs(t))?e*Math.sqrt(1+t*t/e/e):0===t?e:t*Math.sqrt(1+e*e/t/t)}var y=0,b=0,x=0,_=0,w=0,S=0,k=0;for(u=0;u<d;u++){for(p[u]=b,k=0,c=u+1,s=u;s<h;s++)k+=f[s][u]*f[s][u];if(k<=i)b=0;else for(y=f[u][u],b=Math.sqrt(k),y>=0&&(b=-b),x=y*b-k,f[u][u]=y-b,s=c;s<d;s++){for(k=0,l=u;l<h;l++)k+=f[l][u]*f[l][s];for(y=k/x,l=u;l<h;l++)f[l][s]+=y*f[l][u]}for(v[u]=b,k=0,s=c;s<d;s++)k+=f[u][s]*f[u][s];if(k<=i)b=0;else{for(y=f[u][u+1],b=Math.sqrt(k),y>=0&&(b=-b),x=y*b-k,f[u][u+1]=y-b,s=c;s<d;s++)p[s]=f[u][s]/x;for(s=c;s<h;s++){for(k=0,l=c;l<d;l++)k+=f[s][l]*f[u][l];for(l=c;l<d;l++)f[s][l]+=k*p[l]}}(w=Math.abs(v[u])+Math.abs(p[u]))>_&&(_=w)}for(u=d-1;-1!==u;u+=-1){if(0!==b){for(x=b*f[u][u+1],s=c;s<d;s++)m[s][u]=f[u][s]/x;for(s=c;s<d;s++){for(k=0,l=c;l<d;l++)k+=f[u][l]*m[l][s];for(l=c;l<d;l++)m[l][s]+=k*m[l][u]}}for(s=c;s<d;s++)m[u][s]=0,m[s][u]=0;m[u][u]=1,b=p[u],c=u}for(u=d-1;-1!==u;u+=-1){for(c=u+1,b=v[u],s=c;s<d;s++)f[u][s]=0;if(0!==b){for(x=f[u][u]*b,s=c;s<d;s++){for(k=0,l=c;l<h;l++)k+=f[l][u]*f[l][s];for(y=k/x,l=u;l<h;l++)f[l][s]+=y*f[l][u]}for(s=u;s<h;s++)f[s][u]=f[s][u]/b}else for(s=u;s<h;s++)f[s][u]=0;f[u][u]+=1}for(n*=_,l=d-1;-1!==l;l+=-1)for(var M=0;M<a;M++){var E=!1;for(c=l;-1!==c;c+=-1){if(Math.abs(p[c])<=n){E=!0;break}if(Math.abs(v[c-1])<=n)break}if(!E){o=0,k=1;var T=c-1;for(u=c;u<l+1&&(y=k*p[u],p[u]=o*p[u],!(Math.abs(y)<=n));u++)for(x=g(y,b=v[u]),v[u]=x,o=b/x,k=-y/x,s=0;s<h;s++)w=f[s][T],S=f[s][u],f[s][T]=w*o+S*k,f[s][u]=-w*k+S*o}if(S=v[l],c===l){if(S<0)for(v[l]=-S,s=0;s<d;s++)m[s][l]=-m[s][l];break}for(console.assert(M<a-1,"Error: no convergence."),_=v[c],b=g(y=(((w=v[l-1])-S)*(w+S)+((b=p[l-1])-(x=p[l]))*(b+x))/(2*x*w),1),y=y<0?((_-S)*(_+S)+x*(w/(y-b)-x))/_:((_-S)*(_+S)+x*(w/(y+b)-x))/_,o=1,k=1,u=c+1;u<l+1;u++){for(b=p[u],w=v[u],x=k*b,b*=o,S=g(y,x),p[u-1]=S,y=_*(o=y/S)+b*(k=x/S),b=-_*k+b*o,x=w*k,w*=o,s=0;s<d;s++)_=m[s][u-1],S=m[s][u],m[s][u-1]=_*o+S*k,m[s][u]=-_*k+S*o;for(S=g(y,x),v[u-1]=S,y=(o=y/S)*b+(k=x/S)*w,_=-k*b+o*w,s=0;s<h;s++)w=f[s][u-1],S=f[s][u],f[s][u-1]=w*o+S*k,f[s][u]=-w*k+S*o}p[c]=0,p[l]=y,v[l]=_}for(u=0;u<v.length;u++)v[u]<n&&(v[u]=0);for(u=0;u<d;u++)for(s=u-1;s>=0;s--)if(v[s]<v[u]){for(o=v[s],v[s]=v[u],v[u]=o,l=0;l<f.length;l++)t=f[l][u],f[l][u]=f[l][s],f[l][s]=t;for(l=0;l<m.length;l++)t=m[l][u],m[l][u]=m[l][s],m[l][s]=t;u=s}return{U:f,S:v,V:m}}(e),o=a.U,u=function(e){return Uw(e.length).map((function(t){return Uw(e.length).map((function(n){return t===n?e[t]:0}))}))}(a.S),s=a.V,l=n(e,s),c=n(o,u),f=function(e,t){return e.map((function(e){return e.map((function(e){return e<t?0:e}))}))}(i(l,c),1e-12),h=r(f.length,f[0].length);console.assert(function(e,t){return Jw(e,t).map((function(e){return Jw(e[0],e[1]).map((function(e){return e[0]===e[1]}))})).map((function(e){return e.reduce((function(e,t){return e*t}))})).reduce((function(e,t){return e*t}))}(f,h),"svd and eig ways must be the same.");for(var d=[],p=0;p<t;p++)d.push(p);for(var v in a.S)for(p=0;p<t;p++)if(a.S[v]>=a.S[d[p]]){d[p]=parseInt(v);break}return[c,s,d]}},m9=["start","end","width","height","disable","axis","selectedSer"],g9=r.forwardRef((function(e,t){var n=e.start,i=e.end,a=e.width,o=e.height,u=e.disable,s=e.axis,f=e.selectedSer,d=(h(e,m9),(0,r.useState)({value:void 0})),p=(0,c.Z)(d,2),v=p[0],m=p[1],g=(0,r.useRef)(),y=(0,r.useRef)();(0,r.useEffect)((function(){var e=$k(g.current).select("rect.area"),t=lR().on("start",x).on("drag",_).on("end",w);e.call(t)}),[n,i]);var b,x=function(e){v.value=[iE(e,y.current)],v.condition=!1,v.end=!1,m(l({},v)),n&&n(v.value)},_=function(e){var t=iE(e,y.current);v.value.push(t),b9(v.value[0],v.value[v.value.length-1])<75?v.condition=t:v.condition=!1,m(l({},v))},w=function(){v.end=!0,b9(v.value[0],v.value[v.value.length-1])<75&&v.value.length>2?v.condition=!0:v.value=void 0,i&&i(v.value),m(l({},v))};return(0,r.useImperativeHandle)(t,(function(){return{reset:function(){v.value=void 0,m(v)},zoom:function(e){y.current&&$k(y.current).attr("transform","translate(".concat(e.x,",").concat(e.y,") scale(").concat(e.k,")"))}}})),(0,Zx.jsxs)("svg",{ref:g,width:a,height:o,viewBox:[0,0,a,o],style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:u?"none":null},children:[(0,Zx.jsxs)("defs",{children:[(0,Zx.jsx)("marker",{id:"arrowred",refX:6,refY:6,markerWidth:30,markerHeight:30,orient:"auto",children:(0,Zx.jsx)("path",{d:"M 0 0 12 6 0 12 3 6",fill:"red"})}),(0,Zx.jsx)("marker",{id:"arrowgray",refX:6,refY:6,markerWidth:30,markerHeight:30,orient:"auto",children:(0,Zx.jsx)("path",{d:"M 0 0 12 6 0 12 3 6",fill:"gray"})}),(0,Zx.jsxs)("filter",{id:"shadow",colorInterpolationFilters:"sRGB",children:[(0,Zx.jsxs)("feComponentTransfer",{in:"SourceGraphic",children:[(0,Zx.jsx)("feFuncR",{type:"discrete",tableValues:".5"}),(0,Zx.jsx)("feFuncG",{type:"discrete",tableValues:".5"}),(0,Zx.jsx)("feFuncB",{type:"discrete",tableValues:".5"})]}),(0,Zx.jsx)("feGaussianBlur",{stdDeviation:".85"}),(0,Zx.jsx)("feOffset",{dx:"1",dy:"1",result:"shadow"}),(0,Zx.jsx)("feComposite",{in:"SourceGraphic",in2:"shadow",operator:"over"})]})]}),(0,Zx.jsx)("rect",{className:"area",width:"100%",height:"100%",opacity:0}),(0,Zx.jsxs)("g",{className:"lasso-group",ref:y,children:[(0,Zx.jsx)("g",{className:"axis",children:s&&s.feature.map((function(e,t){return(0,Zx.jsxs)("g",{opacity:t===f?1:.2,children:[(0,Zx.jsx)("line",{x1:e[0][0],y1:e[0][1],x2:e[1][0],y2:e[1][1],stroke:t===f?"red":"gray",strokeWidth:2,markerEnd:"url(#arrow".concat(t===f?"red":"gray",")")}),t===f&&(0,Zx.jsx)("text",{x:e[1][0],y:e[1][1],textAnchor:"middle",dy:e[1][1]>e[0][1]?15:-15,filter:"url(#shadow)",fill:t===f?"red":"gray",children:e.name})]},e.name)}))}),v.value&&(0,Zx.jsxs)(Zx.Fragment,{children:[(0,Zx.jsx)("path",{fill:"#0bb",fillOpacity:.1,stroke:"#0bb",strokeDasharray:"3 3",d:(b=v.value,"M"+b.map((function(e){return e.join(",")})).join("L")+(v.condition&&v.end?"Z":""))}),!v.end&&(0,Zx.jsx)("line",{x1:v.condition[0],y1:v.condition[1],x2:v.value[0][0],y2:v.value[0][1],stroke:"#0bb",strokeDasharray:"3 3",opacity:v.condition?1:0})]})]})]})})),y9=g9;function b9(e,t){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2))}function x9(e){return(0,$8.Z)("MuiToggleButton",e)}var _9=(0,Y8.Z)("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge"]),w9=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],S9=(0,V8.ZP)(K7,{name:"MuiToggleButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["size".concat((0,J7.Z)(n.size))]]}})((function(e){var t,n=e.theme,r=e.ownerState,i="standard"===r.color?n.palette.text.primary:n.palette[r.color].main;return(0,Jm.Z)({},n.typography.button,{borderRadius:n.shape.borderRadius,padding:11,border:"1px solid ".concat(n.palette.divider),color:n.palette.action.active},r.fullWidth&&{width:"100%"},(t={},(0,u.Z)(t,"&.".concat(_9.disabled),{color:n.palette.action.disabled,border:"1px solid ".concat(n.palette.action.disabledBackground)}),(0,u.Z)(t,"&:hover",{textDecoration:"none",backgroundColor:(0,s7.Fq)(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}),(0,u.Z)(t,"&.".concat(_9.selected),{color:i,backgroundColor:(0,s7.Fq)(i,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:(0,s7.Fq)(i,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,s7.Fq)(i,n.palette.action.selectedOpacity)}}}),t),"small"===r.size&&{padding:7,fontSize:n.typography.pxToRem(13)},"large"===r.size&&{padding:15,fontSize:n.typography.pxToRem(15)})})),k9=r.forwardRef((function(e,t){var n=(0,q8.Z)({props:e,name:"MuiToggleButton"}),r=n.children,i=n.className,a=n.color,o=void 0===a?"standard":a,u=n.disabled,s=void 0!==u&&u,l=n.disableFocusRipple,c=void 0!==l&&l,h=n.fullWidth,d=void 0!==h&&h,p=n.onChange,v=n.onClick,m=n.selected,g=n.size,y=void 0===g?"medium":g,b=n.value,x=(0,f.Z)(n,w9),_=(0,Jm.Z)({},n,{color:o,disabled:s,disableFocusRipple:c,fullWidth:d,size:y}),w=function(e){var t=e.classes,n=e.fullWidth,r=e.selected,i=e.disabled,a=e.size,o=e.color,u={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth","size".concat((0,J7.Z)(a)),o]};return(0,W8.Z)(u,x9,t)}(_);return(0,Zx.jsx)(S9,(0,Jm.Z)({className:(0,U8.Z)(w.root,i),disabled:s,focusRipple:!c,ref:t,onClick:function(e){v&&(v(e,b),e.defaultPrevented)||p&&p(e,b)},onChange:p,value:b,ownerState:_,"aria-pressed":m},x,{children:r}))})),M9=k9;n(8457);function E9(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}function T9(e){return(0,$8.Z)("MuiToggleButtonGroup",e)}var A9=(0,Y8.Z)("MuiToggleButtonGroup",["root","selected","vertical","disabled","grouped","groupedHorizontal","groupedVertical"]),C9=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],R9=(0,V8.ZP)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,u.Z)({},"& .".concat(A9.grouped),t.grouped),(0,u.Z)({},"& .".concat(A9.grouped),t["grouped".concat((0,J7.Z)(n.orientation))]),t.root,"vertical"===n.orientation&&t.vertical,n.fullWidth&&t.fullWidth]}})((function(e){var t=e.ownerState,n=e.theme;return(0,Jm.Z)({display:"inline-flex",borderRadius:n.shape.borderRadius},"vertical"===t.orientation&&{flexDirection:"column"},t.fullWidth&&{width:"100%"},(0,u.Z)({},"& .".concat(A9.grouped),(0,Jm.Z)({},"horizontal"===t.orientation?(0,u.Z)({"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0}},"&.".concat(A9.selected," + .").concat(A9.grouped,".").concat(A9.selected),{borderLeft:0,marginLeft:0}):(0,u.Z)({"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}},"&.".concat(A9.selected," + .").concat(A9.grouped,".").concat(A9.selected),{borderTop:0,marginTop:0}))))})),P9=r.forwardRef((function(e,t){var n=(0,q8.Z)({props:e,name:"MuiToggleButtonGroup"}),i=n.children,a=n.className,o=n.color,u=void 0===o?"standard":o,s=n.disabled,l=void 0!==s&&s,c=n.exclusive,h=void 0!==c&&c,d=n.fullWidth,p=void 0!==d&&d,v=n.onChange,m=n.orientation,g=void 0===m?"horizontal":m,y=n.size,b=void 0===y?"medium":y,x=n.value,_=(0,f.Z)(n,C9),w=(0,Jm.Z)({},n,{disabled:l,fullWidth:p,orientation:g,size:b}),S=function(e){var t=e.classes,n=e.orientation,r=e.fullWidth,i=e.disabled,a={root:["root","vertical"===n&&"vertical",r&&"fullWidth"],grouped:["grouped","grouped".concat((0,J7.Z)(n)),i&&"disabled"]};return(0,W8.Z)(a,T9,t)}(w),k=function(e,t){if(v){var n,r=x&&x.indexOf(t);x&&r>=0?(n=x.slice()).splice(r,1):n=x?x.concat(t):[t],v(e,n)}},M=function(e,t){v&&v(e,x===t?null:t)};return(0,Zx.jsx)(R9,(0,Jm.Z)({role:"group",className:(0,U8.Z)(S.root,a),ref:t,ownerState:w},_,{children:r.Children.map(i,(function(e){return r.isValidElement(e)?r.cloneElement(e,{className:(0,U8.Z)(S.grouped,e.props.className),onChange:h?M:k,selected:void 0===e.props.selected?E9(e.props.value,x):e.props.selected,size:e.props.size||b,fullWidth:p,color:e.props.color||u,disabled:e.props.disabled||l}):null}))}))})),L9=P9,O9=n(9953),I9=n(4956);var D9=function(e){return"string"===typeof e};function N9(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return D9(e)?t:(0,Jm.Z)({},t,{ownerState:(0,Jm.Z)({},t.ownerState,n)})}var z9=n(418),F9=n(6482);function B9(){return(0,z9.Z)(F9.Z)}var U9=!1,j9="unmounted",H9="exited",Z9="entering",G9="entered",W9="exiting",V9=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=H9,r.appearStatus=Z9):i=G9:i=t.unmountOnExit||t.mountOnEnter?j9:H9,r.state={status:i},r.nextCallback=null,r}Kg(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===j9?{status:H9}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Z9&&n!==G9&&(t=Z9):n!==Z9&&n!==G9||(t=W9)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===Z9?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===H9&&this.setState({status:j9})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[bX.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||U9?this.safeSetState({status:G9},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:Z9},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:G9},(function(){t.props.onEntered(a,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:bX.findDOMNode(this);t&&!U9?(this.props.onExit(r),this.safeSetState({status:W9},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:H9},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:H9},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:bX.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===j9)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,f.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(h7.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},t}(r.Component);function q9(){}V9.contextType=h7,V9.propTypes={},V9.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:q9,onEntering:q9,onEntered:q9,onExit:q9,onExiting:q9,onExited:q9},V9.UNMOUNTED=j9,V9.EXITED=H9,V9.ENTERING=Z9,V9.ENTERED=G9,V9.EXITING=W9;var X9=V9,$9=function(e){return e.scrollTop};function Y9(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,u=void 0===o?{}:o;return{duration:null!=(n=u.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=u.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:u.transitionDelay}}var K9=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function J9(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var Q9={entering:{opacity:1,transform:J9(1)},entered:{opacity:1,transform:"none"}},eee=r.forwardRef((function(e,t){var n=e.addEndListener,i=e.appear,a=void 0===i||i,o=e.children,u=e.easing,s=e.in,l=e.onEnter,c=e.onEntered,h=e.onEntering,d=e.onExit,p=e.onExited,v=e.onExiting,m=e.style,g=e.timeout,y=void 0===g?"auto":g,b=e.TransitionComponent,x=void 0===b?X9:b,_=(0,f.Z)(e,K9),w=r.useRef(),S=r.useRef(),k=B9(),M=r.useRef(null),E=(0,l7.Z)(o.ref,t),T=(0,l7.Z)(M,E),A=function(e){return function(t){if(e){var n=M.current;void 0===t?e(n):e(n,t)}}},C=A(h),R=A((function(e,t){$9(e);var n,r=Y9({style:m,timeout:y,easing:u},{mode:"enter"}),i=r.duration,a=r.delay,o=r.easing;"auto"===y?(n=k.transitions.getAutoHeightDuration(e.clientHeight),S.current=n):n=i,e.style.transition=[k.transitions.create("opacity",{duration:n,delay:a}),k.transitions.create("transform",{duration:.666*n,delay:a,easing:o})].join(","),l&&l(e,t)})),P=A(c),L=A(v),O=A((function(e){var t,n=Y9({style:m,timeout:y,easing:u},{mode:"exit"}),r=n.duration,i=n.delay,a=n.easing;"auto"===y?(t=k.transitions.getAutoHeightDuration(e.clientHeight),S.current=t):t=r,e.style.transition=[k.transitions.create("opacity",{duration:t,delay:i}),k.transitions.create("transform",{duration:.666*t,delay:i||.333*t,easing:a})].join(","),e.style.opacity="0",e.style.transform=J9(.75),d&&d(e)})),I=A(p);return r.useEffect((function(){return function(){clearTimeout(w.current)}}),[]),(0,Zx.jsx)(x,(0,Jm.Z)({appear:a,in:s,nodeRef:M,onEnter:R,onEntered:P,onEntering:C,onExit:O,onExited:I,onExiting:L,addEndListener:function(e){"auto"===y&&(w.current=setTimeout(e,S.current||0)),n&&n(M.current,e)},timeout:"auto"===y?null:y},_,{children:function(e,t){return r.cloneElement(o,(0,Jm.Z)({style:(0,Jm.Z)({opacity:0,transform:J9(.75),visibility:"exited"!==e||s?void 0:"hidden"},Q9[e],m,o.props.style),ref:T},t))}}))}));eee.muiSupportAuto=!0;var tee=eee,nee=n(7563),ree=n(5721),iee=n(9723);function aee(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function oee(e){return e instanceof aee(e).Element||e instanceof Element}function uee(e){return e instanceof aee(e).HTMLElement||e instanceof HTMLElement}function see(e){return"undefined"!==typeof ShadowRoot&&(e instanceof aee(e).ShadowRoot||e instanceof ShadowRoot)}var lee=Math.max,cee=Math.min,fee=Math.round;function hee(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),r=1,i=1;if(uee(e)&&t){var a=e.offsetHeight,o=e.offsetWidth;o>0&&(r=fee(n.width)/o||1),a>0&&(i=fee(n.height)/a||1)}return{width:n.width/r,height:n.height/i,top:n.top/i,right:n.right/r,bottom:n.bottom/i,left:n.left/r,x:n.left/r,y:n.top/i}}function dee(e){var t=aee(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function pee(e){return e?(e.nodeName||"").toLowerCase():null}function vee(e){return((oee(e)?e.ownerDocument:e.document)||window.document).documentElement}function mee(e){return hee(vee(e)).left+dee(e).scrollLeft}function gee(e){return aee(e).getComputedStyle(e)}function yee(e){var t=gee(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function bee(e,t,n){void 0===n&&(n=!1);var r=uee(t),i=uee(t)&&function(e){var t=e.getBoundingClientRect(),n=fee(t.width)/e.offsetWidth||1,r=fee(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),a=vee(t),o=hee(e,i),u={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!n)&&(("body"!==pee(t)||yee(a))&&(u=function(e){return e!==aee(e)&&uee(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:dee(e);var t}(t)),uee(t)?((s=hee(t,!0)).x+=t.clientLeft,s.y+=t.clientTop):a&&(s.x=mee(a))),{x:o.left+u.scrollLeft-s.x,y:o.top+u.scrollTop-s.y,width:o.width,height:o.height}}function xee(e){var t=hee(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function _ee(e){return"html"===pee(e)?e:e.assignedSlot||e.parentNode||(see(e)?e.host:null)||vee(e)}function wee(e){return["html","body","#document"].indexOf(pee(e))>=0?e.ownerDocument.body:uee(e)&&yee(e)?e:wee(_ee(e))}function See(e,t){var n;void 0===t&&(t=[]);var r=wee(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),a=aee(r),o=i?[a].concat(a.visualViewport||[],yee(r)?r:[]):r,u=t.concat(o);return i?u:u.concat(See(_ee(o)))}function kee(e){return["table","td","th"].indexOf(pee(e))>=0}function Mee(e){return uee(e)&&"fixed"!==gee(e).position?e.offsetParent:null}function Eee(e){for(var t=aee(e),n=Mee(e);n&&kee(n)&&"static"===gee(n).position;)n=Mee(n);return n&&("html"===pee(n)||"body"===pee(n)&&"static"===gee(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&uee(e)&&"fixed"===gee(e).position)return null;for(var n=_ee(e);uee(n)&&["html","body"].indexOf(pee(n))<0;){var r=gee(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}var Tee="top",Aee="bottom",Cee="right",Ree="left",Pee="auto",Lee=[Tee,Aee,Cee,Ree],Oee="start",Iee="end",Dee="viewport",Nee="popper",zee=Lee.reduce((function(e,t){return e.concat([t+"-"+Oee,t+"-"+Iee])}),[]),Fee=[].concat(Lee,[Pee]).reduce((function(e,t){return e.concat([t,t+"-"+Oee,t+"-"+Iee])}),[]),Bee=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function Uee(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function jee(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Hee={placement:"bottom",modifiers:[],strategy:"absolute"};function Zee(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Gee(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,a=void 0===i?Hee:i;return function(e,t,n){void 0===n&&(n=a);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Hee,a),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},o=[],u=!1,s={state:i,setOptions:function(n){var u="function"===typeof n?n(i.options):n;l(),i.options=Object.assign({},a,i.options,u),i.scrollParents={reference:oee(e)?See(e):e.contextElement?See(e.contextElement):[],popper:See(t)};var c=function(e){var t=Uee(e);return Bee.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=c.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,a=e.effect;if("function"===typeof a){var u=a({state:i,name:t,instance:s,options:r}),l=function(){};o.push(u||l)}})),s.update()},forceUpdate:function(){if(!u){var e=i.elements,t=e.reference,n=e.popper;if(Zee(t,n)){i.rects={reference:bee(t,Eee(n),"fixed"===i.options.strategy),popper:xee(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var a=i.orderedModifiers[r],o=a.fn,l=a.options,c=void 0===l?{}:l,f=a.name;"function"===typeof o&&(i=o({state:i,options:c,name:f,instance:s})||i)}else i.reset=!1,r=-1}}},update:jee((function(){return new Promise((function(e){s.forceUpdate(),e(i)}))})),destroy:function(){l(),u=!0}};if(!Zee(e,t))return s;function l(){o.forEach((function(e){return e()})),o=[]}return s.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),s}}var Wee={passive:!0};function Vee(e){return e.split("-")[0]}function qee(e){return e.split("-")[1]}function Xee(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function $ee(e){var t,n=e.reference,r=e.element,i=e.placement,a=i?Vee(i):null,o=i?qee(i):null,u=n.x+n.width/2-r.width/2,s=n.y+n.height/2-r.height/2;switch(a){case Tee:t={x:u,y:n.y-r.height};break;case Aee:t={x:u,y:n.y+n.height};break;case Cee:t={x:n.x+n.width,y:s};break;case Ree:t={x:n.x-r.width,y:s};break;default:t={x:n.x,y:n.y}}var l=a?Xee(a):null;if(null!=l){var c="y"===l?"height":"width";switch(o){case Oee:t[l]=t[l]-(n[c]/2-r[c]/2);break;case Iee:t[l]=t[l]+(n[c]/2-r[c]/2)}}return t}var Yee={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Kee(e){var t,n=e.popper,r=e.popperRect,i=e.placement,a=e.variation,o=e.offsets,u=e.position,s=e.gpuAcceleration,l=e.adaptive,c=e.roundOffsets,f=e.isFixed,h=o.x,d=void 0===h?0:h,p=o.y,v=void 0===p?0:p,m="function"===typeof c?c({x:d,y:v}):{x:d,y:v};d=m.x,v=m.y;var g=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),b=Ree,x=Tee,_=window;if(l){var w=Eee(n),S="clientHeight",k="clientWidth";if(w===aee(n)&&"static"!==gee(w=vee(n)).position&&"absolute"===u&&(S="scrollHeight",k="scrollWidth"),w=w,i===Tee||(i===Ree||i===Cee)&&a===Iee)x=Aee,v-=(f&&_.visualViewport?_.visualViewport.height:w[S])-r.height,v*=s?1:-1;if(i===Ree||(i===Tee||i===Aee)&&a===Iee)b=Cee,d-=(f&&_.visualViewport?_.visualViewport.width:w[k])-r.width,d*=s?1:-1}var M,E=Object.assign({position:u},l&&Yee),T=!0===c?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:fee(t*r)/r||0,y:fee(n*r)/r||0}}({x:d,y:v}):{x:d,y:v};return d=T.x,v=T.y,s?Object.assign({},E,((M={})[x]=y?"0":"",M[b]=g?"0":"",M.transform=(_.devicePixelRatio||1)<=1?"translate("+d+"px, "+v+"px)":"translate3d("+d+"px, "+v+"px, 0)",M)):Object.assign({},E,((t={})[x]=y?v+"px":"",t[b]=g?d+"px":"",t.transform="",t))}var Jee={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];uee(i)&&pee(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},a=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});uee(r)&&pee(r)&&(Object.assign(r.style,a),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]};var Qee={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,o=Fee.reduce((function(e,n){return e[n]=function(e,t,n){var r=Vee(e),i=[Ree,Tee].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,o=a[0],u=a[1];return o=o||0,u=(u||0)*i,[Ree,Cee].indexOf(r)>=0?{x:u,y:o}:{x:o,y:u}}(n,t.rects,a),e}),{}),u=o[t.placement],s=u.x,l=u.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=s,t.modifiersData.popperOffsets.y+=l),t.modifiersData[r]=o}},ete={left:"right",right:"left",bottom:"top",top:"bottom"};function tte(e){return e.replace(/left|right|bottom|top/g,(function(e){return ete[e]}))}var nte={start:"end",end:"start"};function rte(e){return e.replace(/start|end/g,(function(e){return nte[e]}))}function ite(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&see(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function ate(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function ote(e,t){return t===Dee?ate(function(e){var t=aee(e),n=vee(e),r=t.visualViewport,i=n.clientWidth,a=n.clientHeight,o=0,u=0;return r&&(i=r.width,a=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(o=r.offsetLeft,u=r.offsetTop)),{width:i,height:a,x:o+mee(e),y:u}}(e)):oee(t)?function(e){var t=hee(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):ate(function(e){var t,n=vee(e),r=dee(e),i=null==(t=e.ownerDocument)?void 0:t.body,a=lee(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=lee(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),u=-r.scrollLeft+mee(e),s=-r.scrollTop;return"rtl"===gee(i||n).direction&&(u+=lee(n.clientWidth,i?i.clientWidth:0)-a),{width:a,height:o,x:u,y:s}}(vee(e)))}function ute(e,t,n){var r="clippingParents"===t?function(e){var t=See(_ee(e)),n=["absolute","fixed"].indexOf(gee(e).position)>=0&&uee(e)?Eee(e):e;return oee(n)?t.filter((function(e){return oee(e)&&ite(e,n)&&"body"!==pee(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),a=i[0],o=i.reduce((function(t,n){var r=ote(e,n);return t.top=lee(r.top,t.top),t.right=cee(r.right,t.right),t.bottom=cee(r.bottom,t.bottom),t.left=lee(r.left,t.left),t}),ote(e,a));return o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}function ste(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function lte(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function cte(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,a=n.boundary,o=void 0===a?"clippingParents":a,u=n.rootBoundary,s=void 0===u?Dee:u,l=n.elementContext,c=void 0===l?Nee:l,f=n.altBoundary,h=void 0!==f&&f,d=n.padding,p=void 0===d?0:d,v=ste("number"!==typeof p?p:lte(p,Lee)),m=c===Nee?"reference":Nee,g=e.rects.popper,y=e.elements[h?m:c],b=ute(oee(y)?y:y.contextElement||vee(e.elements.popper),o,s),x=hee(e.elements.reference),_=$ee({reference:x,element:g,strategy:"absolute",placement:i}),w=ate(Object.assign({},g,_)),S=c===Nee?w:x,k={top:b.top-S.top+v.top,bottom:S.bottom-b.bottom+v.bottom,left:b.left-S.left+v.left,right:S.right-b.right+v.right},M=e.modifiersData.offset;if(c===Nee&&M){var E=M[i];Object.keys(k).forEach((function(e){var t=[Cee,Aee].indexOf(e)>=0?1:-1,n=[Tee,Aee].indexOf(e)>=0?"y":"x";k[e]+=E[n]*t}))}return k}var fte={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0===o||o,s=n.fallbackPlacements,l=n.padding,c=n.boundary,f=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=void 0===d||d,v=n.allowedAutoPlacements,m=t.options.placement,g=Vee(m),y=s||(g===m||!p?[tte(m)]:function(e){if(Vee(e)===Pee)return[];var t=tte(e);return[rte(e),t,rte(t)]}(m)),b=[m].concat(y).reduce((function(e,n){return e.concat(Vee(n)===Pee?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,a=n.rootBoundary,o=n.padding,u=n.flipVariations,s=n.allowedAutoPlacements,l=void 0===s?Fee:s,c=qee(r),f=c?u?zee:zee.filter((function(e){return qee(e)===c})):Lee,h=f.filter((function(e){return l.indexOf(e)>=0}));0===h.length&&(h=f);var d=h.reduce((function(t,n){return t[n]=cte(e,{placement:n,boundary:i,rootBoundary:a,padding:o})[Vee(n)],t}),{});return Object.keys(d).sort((function(e,t){return d[e]-d[t]}))}(t,{placement:n,boundary:c,rootBoundary:f,padding:l,flipVariations:p,allowedAutoPlacements:v}):n)}),[]),x=t.rects.reference,_=t.rects.popper,w=new Map,S=!0,k=b[0],M=0;M<b.length;M++){var E=b[M],T=Vee(E),A=qee(E)===Oee,C=[Tee,Aee].indexOf(T)>=0,R=C?"width":"height",P=cte(t,{placement:E,boundary:c,rootBoundary:f,altBoundary:h,padding:l}),L=C?A?Cee:Ree:A?Aee:Tee;x[R]>_[R]&&(L=tte(L));var O=tte(L),I=[];if(a&&I.push(P[T]<=0),u&&I.push(P[L]<=0,P[O]<=0),I.every((function(e){return e}))){k=E,S=!1;break}w.set(E,I)}if(S)for(var D=function(e){var t=b.find((function(t){var n=w.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return k=t,"break"},N=p?3:1;N>0;N--){if("break"===D(N))break}t.placement!==k&&(t.modifiersData[r]._skip=!0,t.placement=k,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function hte(e,t,n){return lee(e,cee(t,n))}var dte={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,a=void 0===i||i,o=n.altAxis,u=void 0!==o&&o,s=n.boundary,l=n.rootBoundary,c=n.altBoundary,f=n.padding,h=n.tether,d=void 0===h||h,p=n.tetherOffset,v=void 0===p?0:p,m=cte(t,{boundary:s,rootBoundary:l,padding:f,altBoundary:c}),g=Vee(t.placement),y=qee(t.placement),b=!y,x=Xee(g),_=function(e){return"x"===e?"y":"x"}(x),w=t.modifiersData.popperOffsets,S=t.rects.reference,k=t.rects.popper,M="function"===typeof v?v(Object.assign({},t.rects,{placement:t.placement})):v,E="number"===typeof M?{mainAxis:M,altAxis:M}:Object.assign({mainAxis:0,altAxis:0},M),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(w){if(a){var C,R="y"===x?Tee:Ree,P="y"===x?Aee:Cee,L="y"===x?"height":"width",O=w[x],I=O+m[R],D=O-m[P],N=d?-k[L]/2:0,z=y===Oee?S[L]:k[L],F=y===Oee?-k[L]:-S[L],B=t.elements.arrow,U=d&&B?xee(B):{width:0,height:0},j=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=j[R],Z=j[P],G=hte(0,S[L],U[L]),W=b?S[L]/2-N-G-H-E.mainAxis:z-G-H-E.mainAxis,V=b?-S[L]/2+N+G+Z+E.mainAxis:F+G+Z+E.mainAxis,q=t.elements.arrow&&Eee(t.elements.arrow),X=q?"y"===x?q.clientTop||0:q.clientLeft||0:0,$=null!=(C=null==T?void 0:T[x])?C:0,Y=O+V-$,K=hte(d?cee(I,O+W-$-X):I,O,d?lee(D,Y):D);w[x]=K,A[x]=K-O}if(u){var J,Q="x"===x?Tee:Ree,ee="x"===x?Aee:Cee,te=w[_],ne="y"===_?"height":"width",re=te+m[Q],ie=te-m[ee],ae=-1!==[Tee,Ree].indexOf(g),oe=null!=(J=null==T?void 0:T[_])?J:0,ue=ae?re:te-S[ne]-k[ne]-oe+E.altAxis,se=ae?te+S[ne]+k[ne]-oe-E.altAxis:ie,le=d&&ae?function(e,t,n){var r=hte(e,t,n);return r>n?n:r}(ue,te,se):hte(d?ue:re,te,d?se:ie);w[_]=le,A[_]=le-te}t.modifiersData[r]=A}},requiresIfExists:["offset"]};var pte={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,a=n.elements.arrow,o=n.modifiersData.popperOffsets,u=Vee(n.placement),s=Xee(u),l=[Ree,Cee].indexOf(u)>=0?"height":"width";if(a&&o){var c=function(e,t){return ste("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:lte(e,Lee))}(i.padding,n),f=xee(a),h="y"===s?Tee:Ree,d="y"===s?Aee:Cee,p=n.rects.reference[l]+n.rects.reference[s]-o[s]-n.rects.popper[l],v=o[s]-n.rects.reference[s],m=Eee(a),g=m?"y"===s?m.clientHeight||0:m.clientWidth||0:0,y=p/2-v/2,b=c[h],x=g-f[l]-c[d],_=g/2-f[l]/2+y,w=hte(b,_,x),S=s;n.modifiersData[r]=((t={})[S]=w,t.centerOffset=w-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&ite(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function vte(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function mte(e){return[Tee,Cee,Aee,Ree].some((function(t){return e[t]>=0}))}var gte=Gee({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,a=void 0===i||i,o=r.resize,u=void 0===o||o,s=aee(t.elements.popper),l=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&l.forEach((function(e){e.addEventListener("scroll",n.update,Wee)})),u&&s.addEventListener("resize",n.update,Wee),function(){a&&l.forEach((function(e){e.removeEventListener("scroll",n.update,Wee)})),u&&s.removeEventListener("resize",n.update,Wee)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=$ee({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,a=n.adaptive,o=void 0===a||a,u=n.roundOffsets,s=void 0===u||u,l={placement:Vee(t.placement),variation:qee(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Kee(Object.assign({},l,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:s})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Kee(Object.assign({},l,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Jee,Qee,fte,dte,pte,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,a=t.modifiersData.preventOverflow,o=cte(t,{elementContext:"reference"}),u=cte(t,{altBoundary:!0}),s=vte(o,r),l=vte(u,i,a),c=mte(s),f=mte(l);t.modifiersData[n]={referenceClippingOffsets:s,popperEscapeOffsets:l,isReferenceHidden:c,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}}]}),yte=n(2971);var bte=r.forwardRef((function(e,t){var n=e.children,i=e.container,a=e.disablePortal,o=void 0!==a&&a,u=r.useState(null),s=(0,c.Z)(u,2),l=s[0],f=s[1],h=(0,nee.Z)(r.isValidElement(n)?n.ref:null,t);return(0,ree.Z)((function(){o||f(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),(0,ree.Z)((function(){if(l&&!o)return(0,yte.Z)(t,l),function(){(0,yte.Z)(t,null)}}),[t,l,o]),o?r.isValidElement(n)?r.cloneElement(n,{ref:h}):n:l?bX.createPortal(n,l):l}));var xte=bte,_te=["anchorEl","children","direction","disablePortal","modifiers","open","ownerState","placement","popperOptions","popperRef","TransitionProps"],wte=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition"];function Ste(e){return"function"===typeof e?e():e}var kte={},Mte=r.forwardRef((function(e,t){var n=e.anchorEl,i=e.children,a=e.direction,o=e.disablePortal,u=e.modifiers,s=e.open,l=e.placement,h=e.popperOptions,d=e.popperRef,p=e.TransitionProps,v=(0,f.Z)(e,_te),m=r.useRef(null),g=(0,nee.Z)(m,t),y=r.useRef(null),b=(0,nee.Z)(y,d),x=r.useRef(b);(0,ree.Z)((function(){x.current=b}),[b]),r.useImperativeHandle(d,(function(){return y.current}),[]);var _=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(l,a),w=r.useState(_),S=(0,c.Z)(w,2),k=S[0],M=S[1];r.useEffect((function(){y.current&&y.current.forceUpdate()})),(0,ree.Z)((function(){if(n&&s){Ste(n);var e=[{name:"preventOverflow",options:{altBoundary:o}},{name:"flip",options:{altBoundary:o}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:function(e){!function(e){M(e.placement)}(e.state)}}];null!=u&&(e=e.concat(u)),h&&null!=h.modifiers&&(e=e.concat(h.modifiers));var t=gte(Ste(n),m.current,(0,Jm.Z)({placement:_},h,{modifiers:e}));return x.current(t),function(){t.destroy(),x.current(null)}}}),[n,o,u,s,h,_]);var E={placement:k};return null!==p&&(E.TransitionProps=p),(0,Zx.jsx)("div",(0,Jm.Z)({ref:g,role:"tooltip"},v,{children:"function"===typeof i?i(E):i}))})),Ete=r.forwardRef((function(e,t){var n=e.anchorEl,i=e.children,a=e.container,o=e.direction,u=void 0===o?"ltr":o,s=e.disablePortal,l=void 0!==s&&s,h=e.keepMounted,d=void 0!==h&&h,p=e.modifiers,v=e.open,m=e.placement,g=void 0===m?"bottom":m,y=e.popperOptions,b=void 0===y?kte:y,x=e.popperRef,_=e.style,w=e.transition,S=void 0!==w&&w,k=(0,f.Z)(e,wte),M=r.useState(!0),E=(0,c.Z)(M,2),T=E[0],A=E[1];if(!d&&!v&&(!S||T))return null;var C=a||(n?(0,iee.Z)(Ste(n)).body:void 0);return(0,Zx.jsx)(xte,{disablePortal:l,container:C,children:(0,Zx.jsx)(Mte,(0,Jm.Z)({anchorEl:n,direction:u,disablePortal:l,modifiers:p,ref:t,open:S?!T:v,placement:g,popperOptions:b,popperRef:x},k,{style:(0,Jm.Z)({position:"fixed",top:0,left:0,display:v||!d||S&&!T?null:"none"},_),TransitionProps:S?{in:v,onEnter:function(){A(!1)},onExited:function(){A(!0)}}:null,children:i}))})})),Tte=Ete,Ate=n(9120),Cte=r.forwardRef((function(e,t){var n=(0,Ate.Z)();return(0,Zx.jsx)(Tte,(0,Jm.Z)({direction:null==n?void 0:n.direction},e,{ref:t}))})),Rte=Cte,Pte=n(5836),Lte=n(8278);function Ote(e){return(0,$8.Z)("MuiTooltip",e)}var Ite=(0,Y8.Z)("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Dte=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","title","TransitionComponent","TransitionProps"];function Nte(e){return Math.round(1e5*e)/1e5}var zte=(0,V8.ZP)(Rte,{name:"MuiTooltip",slot:"Popper",overridesResolver:function(e,t){var n=e.ownerState;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((function(e){var t,n=e.theme,r=e.ownerState,i=e.open;return(0,Jm.Z)({zIndex:n.zIndex.tooltip,pointerEvents:"none"},!r.disableInteractive&&{pointerEvents:"auto"},!i&&{pointerEvents:"none"},r.arrow&&(t={},(0,u.Z)(t,'&[data-popper-placement*="bottom"] .'.concat(Ite.arrow),{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}}),(0,u.Z)(t,'&[data-popper-placement*="top"] .'.concat(Ite.arrow),{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}}),(0,u.Z)(t,'&[data-popper-placement*="right"] .'.concat(Ite.arrow),(0,Jm.Z)({},r.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}})),(0,u.Z)(t,'&[data-popper-placement*="left"] .'.concat(Ite.arrow),(0,Jm.Z)({},r.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})),t))})),Fte=(0,V8.ZP)("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:function(e,t){var n=e.ownerState;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t["tooltipPlacement".concat((0,J7.Z)(n.placement.split("-")[0]))]]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,Jm.Z)({backgroundColor:(0,s7.Fq)(n.palette.grey[700],.92),borderRadius:n.shape.borderRadius,color:n.palette.common.white,fontFamily:n.typography.fontFamily,padding:"4px 8px",fontSize:n.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:n.typography.fontWeightMedium},r.arrow&&{position:"relative",margin:0},r.touch&&{padding:"8px 16px",fontSize:n.typography.pxToRem(14),lineHeight:"".concat(Nte(16/14),"em"),fontWeight:n.typography.fontWeightRegular},(t={},(0,u.Z)(t,".".concat(Ite.popper,'[data-popper-placement*="left"] &'),(0,Jm.Z)({transformOrigin:"right center"},r.isRtl?(0,Jm.Z)({marginLeft:"14px"},r.touch&&{marginLeft:"24px"}):(0,Jm.Z)({marginRight:"14px"},r.touch&&{marginRight:"24px"}))),(0,u.Z)(t,".".concat(Ite.popper,'[data-popper-placement*="right"] &'),(0,Jm.Z)({transformOrigin:"left center"},r.isRtl?(0,Jm.Z)({marginRight:"14px"},r.touch&&{marginRight:"24px"}):(0,Jm.Z)({marginLeft:"14px"},r.touch&&{marginLeft:"24px"}))),(0,u.Z)(t,".".concat(Ite.popper,'[data-popper-placement*="top"] &'),(0,Jm.Z)({transformOrigin:"center bottom",marginBottom:"14px"},r.touch&&{marginBottom:"24px"})),(0,u.Z)(t,".".concat(Ite.popper,'[data-popper-placement*="bottom"] &'),(0,Jm.Z)({transformOrigin:"center top",marginTop:"14px"},r.touch&&{marginTop:"24px"})),t))})),Bte=(0,V8.ZP)("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:function(e,t){return t.arrow}})((function(e){var t=e.theme;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:(0,s7.Fq)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}})),Ute=!1,jte=null;function Hte(e,t){return function(n){t&&t(n),e(n)}}var Zte=r.forwardRef((function(e,t){var n,i,a,o,u,s,l=(0,q8.Z)({props:e,name:"MuiTooltip"}),h=l.arrow,d=void 0!==h&&h,p=l.children,v=l.components,m=void 0===v?{}:v,g=l.componentsProps,y=void 0===g?{}:g,b=l.describeChild,x=void 0!==b&&b,_=l.disableFocusListener,w=void 0!==_&&_,S=l.disableHoverListener,k=void 0!==S&&S,M=l.disableInteractive,E=void 0!==M&&M,T=l.disableTouchListener,A=void 0!==T&&T,C=l.enterDelay,R=void 0===C?100:C,P=l.enterNextDelay,L=void 0===P?0:P,O=l.enterTouchDelay,I=void 0===O?700:O,D=l.followCursor,N=void 0!==D&&D,z=l.id,F=l.leaveDelay,B=void 0===F?0:F,U=l.leaveTouchDelay,j=void 0===U?1500:U,H=l.onClose,Z=l.onOpen,G=l.open,W=l.placement,V=void 0===W?"bottom":W,q=l.PopperComponent,X=l.PopperProps,$=void 0===X?{}:X,Y=l.title,K=l.TransitionComponent,J=void 0===K?tee:K,Q=l.TransitionProps,ee=(0,f.Z)(l,Dte),te=B9(),ne="rtl"===te.direction,re=r.useState(),ie=(0,c.Z)(re,2),ae=ie[0],oe=ie[1],ue=r.useState(null),se=(0,c.Z)(ue,2),le=se[0],ce=se[1],fe=r.useRef(!1),he=E||N,de=r.useRef(),pe=r.useRef(),ve=r.useRef(),me=r.useRef(),ge=(0,Lte.Z)({controlled:G,default:!1,name:"Tooltip",state:"open"}),ye=(0,c.Z)(ge,2),be=ye[0],xe=ye[1],_e=be,we=(0,Pte.Z)(z),Se=r.useRef(),ke=r.useCallback((function(){void 0!==Se.current&&(document.body.style.WebkitUserSelect=Se.current,Se.current=void 0),clearTimeout(me.current)}),[]);r.useEffect((function(){return function(){clearTimeout(de.current),clearTimeout(pe.current),clearTimeout(ve.current),ke()}}),[ke]);var Me=function(e){clearTimeout(jte),Ute=!0,xe(!0),Z&&!_e&&Z(e)},Ee=(0,c7.Z)((function(e){clearTimeout(jte),jte=setTimeout((function(){Ute=!1}),800+B),xe(!1),H&&_e&&H(e),clearTimeout(de.current),de.current=setTimeout((function(){fe.current=!1}),te.transitions.duration.shortest)})),Te=function(e){fe.current&&"touchstart"!==e.type||(ae&&ae.removeAttribute("title"),clearTimeout(pe.current),clearTimeout(ve.current),R||Ute&&L?pe.current=setTimeout((function(){Me(e)}),Ute?L:R):Me(e))},Ae=function(e){clearTimeout(pe.current),clearTimeout(ve.current),ve.current=setTimeout((function(){Ee(e)}),B)},Ce=(0,f7.Z)(),Re=Ce.isFocusVisibleRef,Pe=Ce.onBlur,Le=Ce.onFocus,Oe=Ce.ref,Ie=r.useState(!1),De=(0,c.Z)(Ie,2)[1],Ne=function(e){Pe(e),!1===Re.current&&(De(!1),Ae(e))},ze=function(e){ae||oe(e.currentTarget),Le(e),!0===Re.current&&(De(!0),Te(e))},Fe=function(e){fe.current=!0;var t=p.props;t.onTouchStart&&t.onTouchStart(e)},Be=Te,Ue=Ae;r.useEffect((function(){if(_e)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||Ee(e)}}),[Ee,_e]);var je=(0,l7.Z)(oe,t),He=(0,l7.Z)(Oe,je),Ze=(0,l7.Z)(p.ref,He);""===Y&&(_e=!1);var Ge=r.useRef({x:0,y:0}),We=r.useRef(),Ve={},qe="string"===typeof Y;x?(Ve.title=_e||!qe||k?null:Y,Ve["aria-describedby"]=_e?we:null):(Ve["aria-label"]=qe?Y:null,Ve["aria-labelledby"]=_e&&!qe?we:null);var Xe=(0,Jm.Z)({},Ve,ee,p.props,{className:(0,U8.Z)(ee.className,p.props.className),onTouchStart:Fe,ref:Ze},N?{onMouseMove:function(e){var t=p.props;t.onMouseMove&&t.onMouseMove(e),Ge.current={x:e.clientX,y:e.clientY},We.current&&We.current.update()}}:{});var $e={};A||(Xe.onTouchStart=function(e){Fe(e),clearTimeout(ve.current),clearTimeout(de.current),ke(),Se.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",me.current=setTimeout((function(){document.body.style.WebkitUserSelect=Se.current,Te(e)}),I)},Xe.onTouchEnd=function(e){p.props.onTouchEnd&&p.props.onTouchEnd(e),ke(),clearTimeout(ve.current),ve.current=setTimeout((function(){Ee(e)}),j)}),k||(Xe.onMouseOver=Hte(Be,Xe.onMouseOver),Xe.onMouseLeave=Hte(Ue,Xe.onMouseLeave),he||($e.onMouseOver=Be,$e.onMouseLeave=Ue)),w||(Xe.onFocus=Hte(ze,Xe.onFocus),Xe.onBlur=Hte(Ne,Xe.onBlur),he||($e.onFocus=ze,$e.onBlur=Ne));var Ye=r.useMemo((function(){var e,t=[{name:"arrow",enabled:Boolean(le),options:{element:le,padding:4}}];return null!=(e=$.popperOptions)&&e.modifiers&&(t=t.concat($.popperOptions.modifiers)),(0,Jm.Z)({},$.popperOptions,{modifiers:t})}),[le,$]),Ke=(0,Jm.Z)({},l,{isRtl:ne,arrow:d,disableInteractive:he,placement:V,PopperComponentProp:q,touch:fe.current}),Je=function(e){var t=e.classes,n=e.disableInteractive,r=e.arrow,i=e.touch,a=e.placement,o={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch","tooltipPlacement".concat((0,J7.Z)(a.split("-")[0]))],arrow:["arrow"]};return(0,W8.Z)(o,Ote,t)}(Ke),Qe=null!=(n=m.Popper)?n:zte,et=null!=(i=null!=(a=m.Transition)?a:J)?i:tee,tt=null!=(o=m.Tooltip)?o:Fte,nt=null!=(u=m.Arrow)?u:Bte,rt=N9(Qe,(0,Jm.Z)({},$,y.popper),Ke),it=N9(et,(0,Jm.Z)({},Q,y.transition),Ke),at=N9(tt,(0,Jm.Z)({},y.tooltip),Ke),ot=N9(nt,(0,Jm.Z)({},y.arrow),Ke);return(0,Zx.jsxs)(r.Fragment,{children:[r.cloneElement(p,Xe),(0,Zx.jsx)(Qe,(0,Jm.Z)({as:null!=q?q:Rte,placement:V,anchorEl:N?{getBoundingClientRect:function(){return{top:Ge.current.y,left:Ge.current.x,right:Ge.current.x,bottom:Ge.current.y,width:0,height:0}}}:ae,popperRef:We,open:!!ae&&_e,id:we,transition:!0},$e,rt,{className:(0,U8.Z)(Je.popper,null==$?void 0:$.className,null==(s=y.popper)?void 0:s.className),popperOptions:Ye,children:function(e){var t,n,r=e.TransitionProps;return(0,Zx.jsx)(et,(0,Jm.Z)({timeout:te.transitions.duration.shorter},r,it,{children:(0,Zx.jsxs)(tt,(0,Jm.Z)({},at,{className:(0,U8.Z)(Je.tooltip,null==(t=y.tooltip)?void 0:t.className),children:[Y,d?(0,Zx.jsx)(nt,(0,Jm.Z)({},ot,{className:(0,U8.Z)(Je.arrow,null==(n=y.arrow)?void 0:n.className),ref:ce})):null]}))}))}}))]})})),Gte=Zte,Wte=["DIM","dimensions","selectedSer","setSelectedComputeMap"],Vte=DB(),qte=DB(),Xte=r.forwardRef((function(e,t){var n=e.DIM,i=void 0===n?2:n,a=e.dimensions,o=e.selectedSer,u=e.setSelectedComputeMap,s=(h(e,Wte),(0,r.useRef)()),l=(0,r.useRef)({x:0,y:0,k:1}),f=(0,r.useRef)(),d=500,v=500,m=(0,r.useState)([]),g=(0,c.Z)(m,2),y=g[0],b=g[1],x=(0,r.useState)("select"),_=(0,c.Z)(x,2),w=_[0],S=_[1],k=(0,r.useState)(""),M=(0,c.Z)(k,2),E=M[0],T=M[1];(0,r.useEffect)((function(){$k(s.current).call(aX().scaleExtent([1,8]).on("zoom",(function(e){var t=e.transform;l.current=t,R(y)}))),l.current=$q,R(y)}),[y]);var A=(0,r.useCallback)((function(e){if(e){var t={};y.forEach((function(n){var r=(0,c.Z)(n,2),i=r[0],a=r[1];l.current;qF(e,[Vte(i),qte(a)])?(delete n._color,t[n.data.key]||(t[n.data.key]={}),t[n.data.key][n.data.timestep]=!0):n._color="black"})),u(t)}else y.forEach((function(e){delete e._color})),u(void 0);R(y),b(y)}),[y]),C=(0,r.useCallback)((function(e){y.forEach((function(e){delete e._color})),R(y),b(y)}),[y]);function R(e){var t=l.current;f.current&&f.current.zoom(t);var n=s.current.getContext("2d");if(n.save(),n.clearRect(0,0,d,v),n.translate(t.x,t.y),n.scale(t.k,t.k),e.highlight){var r,i,a=p(e);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=(0,c.Z)(o,2),h=u[0],m=u[1];n.fillStyle="black",n.beginPath(),n.moveTo(Vte(h)+2,qte(m)),n.arc(Vte(h),qte(m),2,0,2*Math.PI),n.fill()}}catch(A){a.e(A)}finally{a.f()}var g=e.highlight,y=(0,c.Z)(g,2),b=y[0],x=y[1];n.fillStyle=null!==(r=g._color)&&void 0!==r?r:g.data.color,n.strokeStyle="yellow",n.beginPath(),n.moveTo(Vte(b)+10,qte(x)),n.arc(Vte(b),qte(x),10,0,2*Math.PI),n.stroke(),n.fill()}else{var _,w=p(e);try{for(w.s();!(_=w.n()).done;){var S,k=_.value,M=(0,c.Z)(k,2),E=M[0],T=M[1];n.fillStyle=null!==(S=k._color)&&void 0!==S?S:k.data.color,n.beginPath(),n.moveTo(Vte(E)+2,qte(T)),n.arc(Vte(E),qte(T),2,0,2*Math.PI),n.fill()}}catch(A){w.e(A)}finally{w.f()}}n.restore()}return(0,r.useImperativeHandle)(t,(function(){return{setIntanceHihghlight:function(e){if(e){var t=y.find((function(t){return t.data.key===e.data.key&&t.data.timestep===e.data.timestep}));t?(console.log(t),y.highlight=t,""!==E&&T("")):(delete y.highlight,T("Not included in current plot!")),R(y),b(y)}else delete y.highlight,T(""),R(y),b(y)},calculatePCA:function(e){var t=[];e.forEach((function(e){void 0===e.data.values.find((function(e){return null===e}))&&(e.data.values.color=e.color,t.push(e.data.values))}));var n=new v9,r=n.scale(t,!0,!1),o=n.pca(r,i),u=o[0],s=o[1],l=o[2],c=t.map((function(e,t){var n=Uw(0,i).map((function(e){return u[t][l[e]]}));return n.data=e,n})),f=N_(c,(function(e){return e[0]})),h=N_(c,(function(e){return e[1]}));Vte.range([0,d]),qte.range([0,v]);if((h[1]-h[0])/(f[1]-f[0])>1){qte.domain(h);var p=((h[1]-h[0])/1-(f[1]-f[0]))/2;Vte.domain([f[0]-p,f[1]+p])}else{Vte.domain(f);var m=(1*(f[1]-f[0])-(h[1]-h[0]))/2;qte.domain([h[0]-m,h[1]+m])}var g=a.map((function(e,t){var n=[[Vte(0),qte(0)],Uw(0,i).map((function(e){return s[t][l[e]]}))];return n.name=e.text,n})),y=Math.sqrt(ww([$te([Vte(0),qte(0),Vte.range()[0],qte.range()[0]]),$te([Vte(0),qte(0),Vte.range()[0],qte.range()[1]]),$te([Vte(0),qte(0),Vte.range()[1],qte.range()[0]]),$te([Vte(0),qte(0),Vte.range()[1],qte.range()[1]])])/ww(g,(function(e){return $te([Vte(0),qte(0),Vte(e[1][0]),qte(e[1][1])])})));g.forEach((function(e){e[1][0]=Vte(e[1][0]*y),e[1][1]=qte(e[1][1]*y)})),c.axis={feature:g},b(c)}}}),[a,y,E]),(0,Zx.jsxs)("div",{style:{position:"relative",width:"100%"},children:[(0,Zx.jsx)("canvas",{ref:s,width:d,height:v,style:{width:"100%"}}),(0,Zx.jsx)(y9,{ref:f,start:function(e){return C(e)},width:d,height:v,selectedSer:o,axis:y.axis,message:E,end:function(e){return A(e)},disable:"pan"===w}),(0,Zx.jsxs)("div",{className:"floatMenu",style:{position:"absolute",bottom:0,left:0,display:"flex",alignItems:"center"},children:[(0,Zx.jsxs)(L9,{value:w,exclusive:!0,onChange:function(e,t){return S(t)},"aria-label":"text alignment",color:"primary",children:[(0,Zx.jsx)(M9,{value:"pan","aria-label":"left aligned",children:(0,Zx.jsx)(Gte,{title:"Pan",placement:"top",children:(0,Zx.jsx)(O9.Z,{})})}),(0,Zx.jsx)(M9,{value:"select","aria-label":"centered",children:(0,Zx.jsx)(Gte,{title:"Select",placement:"top",children:(0,Zx.jsx)(I9.Z,{})})})]}),(0,Zx.jsx)("div",{children:(0,Zx.jsx)("span",{children:E})})]})]})}));function $te(e){return Math.sqrt((e[2]-e[0])*(e[2]-e[0])+(e[3]-e[1])*(e[3]-e[1]))}var Yte=l0,Kte=i0,Jte=Kte,Qte=Yte;var ene=["value"],tne={},nne=DJ({normalize:function(e){var t=e.value,n=h(e,ene);return{value:t,settings:l(l({},tne),n)}},sanitize:function(e,t,n){return Y0(e,t,n)},component:function(){var e=xQ(),t=e.label,n=(e.value,e.displayValue,e.settings),r=(e.onUpdate,e.onChange,e.setSettings,n.com);return(0,Zx.jsxs)(Zx.Fragment,{children:[(0,Zx.jsx)(Qte,{children:(0,Zx.jsx)(Jte,{children:t})}),(0,Zx.jsx)(Qte,{children:r})]})}}),rne=[{x:-90,y:-50,z:200,zoom:30}],ine=1200,ane=function(e){var t=e.time_stamp,n=e.sankeyData,i=e.maxPerUnit,a=void 0===i?1:i,o=e.color,u=e.config,s=e.selectedTime,f=e.selectedComputeMap,h=e.setSelectedComputeMap,d=e.selectedUser,p=e.dimensions,v=e.selectedSer,m=e.selectedSer2,g=e.scheme,y=e.colorByName,b=e.colorCluster,x=(e.colorBy,e.getMetric),_=e.metrics,w=e.theme,S=(e.line3D,e.layout,e.users,e.selectService,e.getKey),k=(0,r.useState)(0),M=(0,c.Z)(k,2),E=M[0],T=M[1],A=(0,r.useRef)(),C=V4("3D",{timeGap:{value:5,min:1,max:10,step:.1,label:"Bar height"},light:{value:.5,min:0,max:1,step:.01},doubleView:{value:!1,label:"Double View"},resetView:p4((function(e){R.current.pointOfView({x:-90,y:50,z:200,rx:0,ry:0,rz:0,zoom:30},4e3)})),viewcontrol:nne({value:0,label:"",com:(0,Zx.jsxs)(o7,{container:!0,xs:12,spacing:1,alignItems:"center",className:"noCap",children:[(0,Zx.jsx)(o7,{item:!0,xs:4,children:(0,Zx.jsx)(s9,{variant:"contained",size:"small",fullWidth:!0,onClick:function(){return R.current.pointOfView({x:-200,y:1e-14,z:1e-14,rx:0,ry:-Math.PI/2,rz:0},2e3)},children:"Left"})}),(0,Zx.jsx)(o7,{item:!0,xs:4,children:(0,Zx.jsxs)(p9,{spacing:1,children:[(0,Zx.jsx)(s9,{variant:"contained",size:"small",fullWidth:!0,onClick:function(){return R.current.pointOfView({x:1e-14,y:200,z:1e-14,rx:-Math.PI/2,ry:0,rz:0},2e3)},children:"Top"}),(0,Zx.jsx)(s9,{variant:"contained",size:"small",fullWidth:!0,onClick:function(){return R.current.pointOfView({x:1e-14,y:0,z:200},2e3)},children:"Front"}),(0,Zx.jsx)(s9,{variant:"contained",size:"small",fullWidth:!0,onClick:function(){return R.current.pointOfView({x:1e-14,y:-200,z:1e-14,rx:Math.PI/2,ry:0,rz:0},2e3)},children:"Bottom"})]})}),(0,Zx.jsx)(o7,{item:!0,xs:4,children:(0,Zx.jsx)(s9,{variant:"contained",size:"small",fullWidth:!0,onClick:function(){return R.current.pointOfView({x:200,y:0,z:0,rx:0,ry:Math.PI/2,rz:0},2e3)},children:"Right"})})]})})}),R=(0,r.useRef)(null),P=(0,r.useRef)(null),L=(0,r.useRef)(),O=((0,r.useRef)(null),(0,r.useRef)(null)),I=(0,r.useRef)(null),D=(0,r.useState)([]),N=(0,c.Z)(D,2),z=N[0],F=N[1],B=(0,r.useState)([]),U=(0,c.Z)(B,2),j=U[0],H=U[1],Z=(0,r.useState)(void 0),G=(0,c.Z)(Z,2),W=G[0],V=G[1],q=(0,r.useState)(void 0),X=(0,c.Z)(q,2),$=X[0],Y=X[1];L.current&&(L.current.parentElement.style.pointerEvents="none");V4("PCA",{PCAchart:nne({value:0,label:"",com:(0,Zx.jsx)("div",{children:(0,Zx.jsx)(Xte,{ref:A,dimensions:p,selectedSer:v,setSelectedComputeMap:h})})}),Apply:p4((function(e){console.log("clicked apply"),A.current.calculatePCA(z)}))},[z,p,v]);(0,r.useEffect)((function(){C.cameraAnimate&&R.current&&(T(0),R.current.pointOfView(rne[0],4e3))}),[C.cameraAnimate]),(0,r.useEffect)((function(){if(R.current&&E<rne.length){var e=setTimeout((function(){R.current.pointOfView(rne[E],4e3),T(E+1)}),4e3);return function(){clearInterval(e)}}}),[E]),(0,r.useEffect)((function(){!function(e){var t=e.selectedUser,n=e.selectedComputeMap,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:z,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g,a=!0;var o=n?s(n):void 0;function s(e){var t=[];return Object.keys(e).forEach((function(n){return Object.keys(e[n]).forEach((function(e){return t.push({key:"".concat(n,"|").concat(e),comp:n,timestep:e})}))})),console.log(t),t}if(i.computers&&p[v]){var l={};Object.keys(i.computers).forEach((function(e){var t=i.computers[e][p[v].text],n=!l[e];n&&(l[e]={}),t.forEach((function(t,n){t>=u.metricFilter&&(l[e][n]=!0)})),n&&!Object.keys(l[e]).length&&delete l[e]}));var c=s(l);if(o=o?oX.intersectionBy(o,c,"key"):c,u.suddenThreshold){var f={};Object.keys(i.computers).forEach((function(e){var t=i.computers[e][p[v].text],n=!f[e];n&&(f[e]={}),t.sudden.forEach((function(t,n){Math.abs(t)>=u.suddenThreshold&&(f[e][n]=!0,f[e][n-1]=!0)})),n&&!Object.keys(f[e]).length&&delete f[e]}));var h=s(f);o=o?oX.intersectionBy(o,h,"key"):h}if(t){var d={};i.users[t].node.forEach((function(e){i.computers[e]&&(d[e]={},i.computers[e].users.forEach((function(n,r){n.find((function(e){return e===t}))&&(d[e][r]=!0)})))}));var m=s(d);o=o?oX.intersectionBy(o,m,"key"):m}else{if(!a)return H(r),void(void 0!==$&&(V(),Y()));if(!o||0===o.length)return H([]),void($&&!Object.keys($).length||(V({}),Y({})))}n={},o.forEach((function(e){var t=e.comp,r=e.timestep;n[t]||(n[t]={}),n[t][r]=!0}));var y=b();H(y.draw3DData),V(y.users),Y(y.users)}function b(){var e={},t=r.filter((function(t){return!(!n[t.data.key]||!n[t.data.key][t.data.timestep])&&(e[t.data.user]=!0,!0)}));return{draw3DData:t,users:e}}}({selectedUser:d,selectedComputeMap:f},z,g)}),[z,f,d,g,u.suddenThreshold,u.metricFilter]);(0,r.useCallback)((function(){return function(e){return e}}),[u.metricFilter,p,v]);return(0,Zx.jsxs)("div",{className:"containerThree",children:[(0,Zx.jsx)("div",{ref:O,style:{position:"relative",width:C.doubleView?"50%":"100%",pointerEvents:"all"},children:(0,Zx.jsx)("div",{className:"canvas",children:(0,Zx.jsxs)(Km,{children:[(0,Zx.jsx)("directionalLight",{position:[-10,-10,-5],intensity:.5}),(0,Zx.jsx)("directionalLight",{castShadow:!0,intensity:C.light,position:[50,50,25],"shadow-mapSize":[256,256],"shadow-camera-left":-10,"shadow-camera-right":10,"shadow-camera-top":10,"shadow-camera-bottom":-10}),(0,Zx.jsx)(eg,{makeDefault:!0,zoom:30,position:[-10,10,100]}),(0,Zx.jsxs)("group",{position:[-12.4,8.4,0],children:[(0,Zx.jsx)(v_,{data:j,timeGap:C.timeGap,getKey:S,selectService:v,adjustscale:function(e){return e},onUserhighlight:function(e,t){Y(e),A.current.setIntanceHihghlight(t)},onReleaseUserhighlight:function(){Y(W),A.current.setIntanceHihghlight()}}),(0,Zx.jsx)(B8,{range:p[v]?p[v].range:[],timeGap:C.timeGap})]}),(0,Zx.jsx)(fg,{transform:!0,distanceFactor:10,ref:L,zIndexRange:[1,0],portal:O,style:{pointerEvents:"none"},children:(0,Zx.jsx)(s6,{width:ine,height:700,data:n,lineaScale:0,timespan:s,mode:"compute_num",maxPerUnit:a,color:o,colorByName:y,colorCluster:b,colorBy:"name",getMetric:x,metrics:_,theme:w,sankeyResult:function(e,n){var r=[],i=a;e.forEach((function(e){e.values.forEach((function(a){var o=h6(a),u=d6(a),s=a.width,c=(u[0]-o[0])/2,f=Object.keys(a.byComp).length,h=DB().domain([0,f]).range([0,s+0]),d=-s/2,v={},m={};Object.keys(a.byComp_t).forEach((function(e){[e].forEach((function(e){var t;a.source.comp[e]&&(m[e]=Math.min(i,a.byComp_t[e]),v[e]=(null!==(t=v[e])&&void 0!==t?t:0)+m[e])}))})),Object.keys(a.byComp).forEach((function(i){var s,f,v=null!==(s=h(1))&&void 0!==s?s:0;d+=v;var m=u[1]+d-v/2,y={};y[i]=!0;l(l({},a.source),{},{comp:y});var b=n(null!==(f=e.draw[0])&&void 0!==f?f:{}),x=[(o[0]+c/2)/40,-(m+v/2)/40,0];x.offset=[0,0,0],x.color=b,x.size=[2*c/40,v/40,1],x.data={key:i,timestep:a.source.layer,toolTip:(0,Zx.jsx)("table",{children:(0,Zx.jsxs)("tbody",{children:[(0,Zx.jsx)("tr",{children:(0,Zx.jsx)("td",{colSpan:2,children:t[a.source.layer].toLocaleString()})}),(0,Zx.jsxs)("tr",{children:[(0,Zx.jsx)("td",{children:"Name"}),(0,Zx.jsx)("td",{children:i})]}),p.map((function(e){return(0,Zx.jsxs)("tr",{children:[(0,Zx.jsx)("td",{children:e.text}),(0,Zx.jsx)("td",{children:g.computers[i][e.text][a.source.layer]})]},e.text)})),g.computers[i].job_id[a.source.layer]?(0,Zx.jsxs)(Zx.Fragment,{children:[(0,Zx.jsxs)("tr",{children:[(0,Zx.jsx)("td",{children:"#Jobs"}),(0,Zx.jsx)("td",{children:g.computers[i].job_id[a.source.layer].length})]}),(0,Zx.jsxs)("tr",{children:[(0,Zx.jsx)("td",{children:"Job Id"}),(0,Zx.jsx)("td",{children:g.computers[i].job_id[a.source.layer].join(", ")})]}),(0,Zx.jsxs)("tr",{children:[(0,Zx.jsx)("td",{children:"Users"}),(0,Zx.jsx)("td",{children:g.computers[i].users[a.source.layer].join(", ")})]})]}):(0,Zx.jsx)("tr",{children:(0,Zx.jsx)("td",{colSpan:2,children:"No job"})})]})}),values:_[i][a.source.layer],user:e.key},r.push(x)}))}))})),F(r)},userHighlight:$})}),(0,Zx.jsx)(_g,{alignment:"bottom-left",margin:[80,80],renderPriority:0,children:(0,Zx.jsx)(Dg,{})}),(0,Zx.jsx)(Xg,{preset:"dawn"}),(0,Zx.jsx)(v5,{ref:R})]})})}),C.doubleView&&(0,Zx.jsx)("div",{ref:I,style:{position:"relative",width:C.doubleView?"50%":"100%",pointerEvents:"all"},children:(0,Zx.jsx)("div",{className:"canvas",children:(0,Zx.jsxs)(Km,{children:[(0,Zx.jsx)("directionalLight",{position:[-10,-10,-5],intensity:.5}),(0,Zx.jsx)("directionalLight",{castShadow:!0,intensity:C.light,position:[50,50,25],"shadow-mapSize":[256,256],"shadow-camera-left":-10,"shadow-camera-right":10,"shadow-camera-top":10,"shadow-camera-bottom":-10}),(0,Zx.jsx)(eg,{makeDefault:!0,zoom:30,position:[-10,10,100]}),(0,Zx.jsxs)("group",{position:[-12.4,8.4,0],children:[(0,Zx.jsx)(v_,{data:j,timeGap:C.timeGap,getKey:S,selectService:m,adjustscale:function(e){return e},onUserhighlight:function(e){return Y(e)},onReleaseUserhighlight:function(){return Y(W)}}),(0,Zx.jsx)(B8,{range:p[m]?p[m].range:[],timeGap:C.timeGap})]}),(0,Zx.jsx)(Xg,{preset:"dawn"}),(0,Zx.jsx)(v5,{makeDefault:!0,ref:P})]})})})]})},one=n(7107);function une(e){return(0,$8.Z)("MuiTypography",e)}(0,Y8.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var sne=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],lne=(0,V8.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,J7.Z)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return(0,Jm.Z)({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),cne={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},fne={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},hne=r.forwardRef((function(e,t){var n=(0,q8.Z)({props:e,name:"MuiTypography"}),r=function(e){return fne[e]||e}(n.color),i=G8((0,Jm.Z)({},n,{color:r})),a=i.align,o=void 0===a?"inherit":a,u=i.className,s=i.component,l=i.gutterBottom,c=void 0!==l&&l,h=i.noWrap,d=void 0!==h&&h,p=i.paragraph,v=void 0!==p&&p,m=i.variant,g=void 0===m?"body1":m,y=i.variantMapping,b=void 0===y?cne:y,x=(0,f.Z)(i,sne),_=(0,Jm.Z)({},i,{align:o,color:r,className:u,component:s,gutterBottom:c,noWrap:d,paragraph:v,variant:g,variantMapping:b}),w=s||(v?"p":b[g]||cne[g])||"span",S=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes,u={root:["root",a,"inherit"!==e.align&&"align".concat((0,J7.Z)(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,W8.Z)(u,une,o)}(_);return(0,Zx.jsx)(lne,(0,Jm.Z)({as:w,ref:t,ownerState:_,className:(0,U8.Z)(S.root,u)},x))})),dne=hne;function pne(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}var vne=n(9103);var mne=r.createContext();function gne(e){return(0,$8.Z)("MuiFormControl",e)}(0,Y8.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var yne=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],bne=(0,V8.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,Jm.Z)({},t.root,t["margin".concat((0,J7.Z)(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return(0,Jm.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),xne=r.forwardRef((function(e,t){var n=(0,q8.Z)({props:e,name:"MuiFormControl"}),i=n.children,a=n.className,o=n.color,u=void 0===o?"primary":o,s=n.component,l=void 0===s?"div":s,h=n.disabled,d=void 0!==h&&h,p=n.error,v=void 0!==p&&p,m=n.focused,g=n.fullWidth,y=void 0!==g&&g,b=n.hiddenLabel,x=void 0!==b&&b,_=n.margin,w=void 0===_?"none":_,S=n.required,k=void 0!==S&&S,M=n.size,E=void 0===M?"medium":M,T=n.variant,A=void 0===T?"outlined":T,C=(0,f.Z)(n,yne),R=(0,Jm.Z)({},n,{color:u,component:l,disabled:d,error:v,fullWidth:y,hiddenLabel:x,margin:w,required:k,size:E,variant:A}),P=function(e){var t=e.classes,n=e.margin,r=e.fullWidth,i={root:["root","none"!==n&&"margin".concat((0,J7.Z)(n)),r&&"fullWidth"]};return(0,W8.Z)(i,gne,t)}(R),L=r.useState((function(){var e=!1;return i&&r.Children.forEach(i,(function(t){if((0,vne.Z)(t,["Input","Select"])){var n=(0,vne.Z)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),O=(0,c.Z)(L,2),I=O[0],D=O[1],N=r.useState((function(){var e=!1;return i&&r.Children.forEach(i,(function(t){(0,vne.Z)(t,["Input","Select"])&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(pne(e.value)&&""!==e.value||t&&pne(e.defaultValue)&&""!==e.defaultValue)}(t.props,!0)&&(e=!0)})),e})),z=(0,c.Z)(N,2),F=z[0],B=z[1],U=r.useState(!1),j=(0,c.Z)(U,2),H=j[0],Z=j[1];d&&H&&Z(!1);var G=void 0===m||d?H:m,W=r.useCallback((function(){B(!0)}),[]),V={adornedStart:I,setAdornedStart:D,color:u,disabled:d,error:v,filled:F,focused:G,fullWidth:y,hiddenLabel:x,size:E,onBlur:function(){Z(!1)},onEmpty:r.useCallback((function(){B(!1)}),[]),onFilled:W,onFocus:function(){Z(!0)},registerEffect:undefined,required:k,variant:A};return(0,Zx.jsx)(mne.Provider,{value:V,children:(0,Zx.jsx)(bne,(0,Jm.Z)({as:l,ownerState:R,className:(0,U8.Z)(P.root,a),ref:t},C,{children:i}))})})),_ne=xne;function wne(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}function Sne(){return r.useContext(mne)}function kne(e){return(0,$8.Z)("MuiFormLabel",e)}var Mne=(0,Y8.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Ene=["children","className","color","component","disabled","error","filled","focused","required"],Tne=(0,V8.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,Jm.Z)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,Jm.Z)({color:n.palette.text.secondary},n.typography.body1,(t={lineHeight:"1.4375em",padding:0,position:"relative"},(0,u.Z)(t,"&.".concat(Mne.focused),{color:n.palette[r.color].main}),(0,u.Z)(t,"&.".concat(Mne.disabled),{color:n.palette.text.disabled}),(0,u.Z)(t,"&.".concat(Mne.error),{color:n.palette.error.main}),t))})),Ane=(0,V8.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return(0,u.Z)({},"&.".concat(Mne.error),{color:t.palette.error.main})})),Cne=r.forwardRef((function(e,t){var n=(0,q8.Z)({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"label":a,u=(0,f.Z)(n,Ene),s=wne({props:n,muiFormControl:Sne(),states:["color","required","focused","disabled","error","filled"]}),l=(0,Jm.Z)({},n,{color:s.color||"primary",component:o,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),c=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,a=e.error,o=e.filled,u=e.required,s={root:["root","color".concat((0,J7.Z)(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",u&&"required"],asterisk:["asterisk",a&&"error"]};return(0,W8.Z)(s,kne,t)}(l);return(0,Zx.jsxs)(Tne,(0,Jm.Z)({as:o,ownerState:l,className:(0,U8.Z)(c.root,i),ref:t},u,{children:[r,s.required&&(0,Zx.jsxs)(Ane,{ownerState:l,"aria-hidden":!0,className:c.asterisk,children:["\u2009","*"]})]}))})),Rne=Cne;function Pne(e){return(0,$8.Z)("MuiInputLabel",e)}(0,Y8.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var Lne=["disableAnimation","margin","shrink","variant"],One=(0,V8.ZP)(Rne,{shouldForwardProp:function(e){return(0,V8.FO)(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,u.Z)({},"& .".concat(Mne.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,Jm.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,Jm.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,Jm.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,Jm.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),Ine=r.forwardRef((function(e,t){var n=(0,q8.Z)({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,a=n.shrink,o=(0,f.Z)(n,Lne),u=Sne(),s=a;"undefined"===typeof s&&u&&(s=u.filled||u.focused||u.adornedStart);var l=wne({props:n,muiFormControl:u,states:["size","variant","required"]}),c=(0,Jm.Z)({},n,{disableAnimation:i,formControl:u,shrink:s,size:l.size,variant:l.variant,required:l.required}),h=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink,a={root:["root",n&&"formControl",!e.disableAnimation&&"animated",i&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},o=(0,W8.Z)(a,Pne,t);return(0,Jm.Z)({},t,o)}(c);return(0,Zx.jsx)(One,(0,Jm.Z)({"data-shrink":s,ownerState:c,ref:t},o,{classes:h}))})),Dne=Ine;function Nne(e){return(0,$8.Z)("MuiBackdrop",e)}(0,Y8.Z)("MuiBackdrop",["root","invisible"]);var zne=["classes","className","invisible","component","components","componentsProps","theme"],Fne=r.forwardRef((function(e,t){var n=e.classes,r=e.className,i=e.invisible,a=void 0!==i&&i,o=e.component,u=void 0===o?"div":o,s=e.components,l=void 0===s?{}:s,c=e.componentsProps,h=void 0===c?{}:c,d=e.theme,p=(0,f.Z)(e,zne),v=(0,Jm.Z)({},e,{classes:n,invisible:a}),m=function(e){var t=e.classes,n={root:["root",e.invisible&&"invisible"]};return(0,W8.Z)(n,Nne,t)}(v),g=l.Root||u,y=h.root||{};return(0,Zx.jsx)(g,(0,Jm.Z)({"aria-hidden":!0},y,!D9(g)&&{as:u,ownerState:(0,Jm.Z)({},v,y.ownerState),theme:d},{ref:t},p,{className:(0,U8.Z)(m.root,y.className,r)}))})),Bne=Fne,Une=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],jne={entering:{opacity:1},entered:{opacity:1}},Hne=r.forwardRef((function(e,t){var n=B9(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},a=e.addEndListener,o=e.appear,u=void 0===o||o,s=e.children,l=e.easing,c=e.in,h=e.onEnter,d=e.onEntered,p=e.onEntering,v=e.onExit,m=e.onExited,g=e.onExiting,y=e.style,b=e.timeout,x=void 0===b?i:b,_=e.TransitionComponent,w=void 0===_?X9:_,S=(0,f.Z)(e,Une),k=r.useRef(null),M=(0,l7.Z)(s.ref,t),E=(0,l7.Z)(k,M),T=function(e){return function(t){if(e){var n=k.current;void 0===t?e(n):e(n,t)}}},A=T(p),C=T((function(e,t){$9(e);var r=Y9({style:y,timeout:x,easing:l},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),h&&h(e,t)})),R=T(d),P=T(g),L=T((function(e){var t=Y9({style:y,timeout:x,easing:l},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),v&&v(e)})),O=T(m);return(0,Zx.jsx)(w,(0,Jm.Z)({appear:u,in:c,nodeRef:k,onEnter:C,onEntered:R,onEntering:A,onExit:L,onExited:O,onExiting:P,addEndListener:function(e){a&&a(k.current,e)},timeout:x},S,{children:function(e,t){return r.cloneElement(s,(0,Jm.Z)({style:(0,Jm.Z)({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},jne[e],y,s.props.style),ref:E},t))}}))})),Zne=Hne,Gne=["children","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],Wne=(0,V8.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){var t=e.ownerState;return(0,Jm.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),Vne=r.forwardRef((function(e,t){var n,r=(0,q8.Z)({props:e,name:"MuiBackdrop"}),i=r.children,a=r.components,o=void 0===a?{}:a,u=r.componentsProps,s=void 0===u?{}:u,l=r.className,c=r.invisible,h=void 0!==c&&c,d=r.open,p=r.transitionDuration,v=r.TransitionComponent,m=void 0===v?Zne:v,g=(0,f.Z)(r,Gne),y=function(e){return e.classes}((0,Jm.Z)({},r,{invisible:h}));return(0,Zx.jsx)(m,(0,Jm.Z)({in:d,timeout:p},g,{children:(0,Zx.jsx)(Bne,{className:l,invisible:h,components:(0,Jm.Z)({Root:Wne},o),componentsProps:{root:(0,Jm.Z)({},s.root,(!o.Root||!D9(o.Root))&&{ownerState:(0,Jm.Z)({},null==(n=s.root)?void 0:n.ownerState)})},classes:y,ref:t,children:i})}))})),qne=Vne;function Xne(e){return(0,$8.Z)("MuiCircularProgress",e)}(0,Y8.Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var $ne,Yne,Kne,Jne,Qne,ere,tre,nre,rre=["className","color","disableShrink","size","style","thickness","value","variant"],ire=44,are=E7(Qne||(Qne=$ne||($ne=m5(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),ore=E7(ere||(ere=Yne||(Yne=m5(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),ure=(0,V8.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["color".concat((0,J7.Z)(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme;return(0,Jm.Z)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:n.palette[t.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&M7(tre||(tre=Kne||(Kne=m5(["\n      animation: "," 1.4s linear infinite;\n    "]))),are)})),sre=(0,V8.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,t){return t.svg}})({display:"block"}),lre=(0,V8.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,t){var n=e.ownerState;return[t.circle,t["circle".concat((0,J7.Z)(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((function(e){var t=e.ownerState,n=e.theme;return(0,Jm.Z)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var t=e.ownerState;return"indeterminate"===t.variant&&!t.disableShrink&&M7(nre||(nre=Jne||(Jne=m5(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),ore)})),cre=r.forwardRef((function(e,t){var n=(0,q8.Z)({props:e,name:"MuiCircularProgress"}),r=n.className,i=n.color,a=void 0===i?"primary":i,o=n.disableShrink,u=void 0!==o&&o,s=n.size,l=void 0===s?40:s,c=n.style,h=n.thickness,d=void 0===h?3.6:h,p=n.value,v=void 0===p?0:p,m=n.variant,g=void 0===m?"indeterminate":m,y=(0,f.Z)(n,rre),b=(0,Jm.Z)({},n,{color:a,disableShrink:u,size:l,thickness:d,value:v,variant:g}),x=function(e){var t=e.classes,n=e.variant,r=e.color,i=e.disableShrink,a={root:["root",n,"color".concat((0,J7.Z)(r))],svg:["svg"],circle:["circle","circle".concat((0,J7.Z)(n)),i&&"circleDisableShrink"]};return(0,W8.Z)(a,Xne,t)}(b),_={},w={},S={};if("determinate"===g){var k=2*Math.PI*((ire-d)/2);_.strokeDasharray=k.toFixed(3),S["aria-valuenow"]=Math.round(v),_.strokeDashoffset="".concat(((100-v)/100*k).toFixed(3),"px"),w.transform="rotate(-90deg)"}return(0,Zx.jsx)(ure,(0,Jm.Z)({className:(0,U8.Z)(x.root,r),style:(0,Jm.Z)({width:l,height:l},w,c),ownerState:b,ref:t,role:"progressbar"},S,y,{children:(0,Zx.jsx)(sre,{className:x.svg,ownerState:b,viewBox:"".concat(22," ").concat(22," ").concat(ire," ").concat(ire),children:(0,Zx.jsx)(lre,{className:x.circle,style:_,ownerState:b,cx:ire,cy:ire,r:(ire-d)/2,fill:"none",strokeWidth:d})})}))})),fre=cre;function hre(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,Zx.jsx)(k7,{styles:i})}var dre=function(e){return(0,Zx.jsx)(hre,(0,Jm.Z)({},e,{defaultTheme:F9.Z}))},pre=function(e,t){return(0,Jm.Z)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&{colorScheme:e.palette.mode})},vre=function(e){return(0,Jm.Z)({color:e.palette.text.primary},e.typography.body1,{backgroundColor:e.palette.background.default,"@media print":{backgroundColor:e.palette.common.white}})};var mre=function(e){var t=(0,q8.Z)({props:e,name:"MuiCssBaseline"}),n=t.children,i=t.enableColorScheme,a=void 0!==i&&i;return(0,Zx.jsxs)(r.Fragment,{children:[(0,Zx.jsx)(dre,{styles:function(e){return function(e){var t,n,r={html:pre(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,Jm.Z)({margin:0},vre(e),{"&::backdrop":{backgroundColor:e.palette.background.default}})},i=null==(t=e.components)||null==(n=t.MuiCssBaseline)?void 0:n.styleOverrides;return i&&(r=[r,i]),r}(e,a)}}),n]})},gre=n(8023);var yre=function(e){var t=e.children,n=e.theme,i=(0,hb.Z)(),a=r.useMemo((function(){var e=null===i?n:function(e,t){return"function"===typeof t?t(e):(0,Jm.Z)({},e,t)}(i,n);return null!=e&&(e[db]=null!==i),e}),[n,i]);return(0,Zx.jsx)(gre.Z.Provider,{value:a,children:t})};function bre(e){var t=(0,z9.Z)();return(0,Zx.jsx)(x7.T.Provider,{value:"object"===typeof t?t:{},children:e.children})}var xre=function(e){var t=e.children,n=e.theme;return(0,Zx.jsx)(yre,{theme:n,children:(0,Zx.jsx)(bre,{children:t})})},_re=JSON.parse('{"Rack 1":[["cpu-1-1","cpu-1-2"],["cpu-1-3","cpu-1-4"],["cpu-1-5","cpu-1-6"],["cpu-1-7","cpu-1-8"],["cpu-1-9","cpu-1-10"],["cpu-1-11","cpu-1-12"],["cpu-1-13","cpu-1-14"],["cpu-1-15","cpu-1-16"],["cpu-1-17","cpu-1-18"],["cpu-1-19","cpu-1-20"],["cpu-1-21","cpu-1-22"],["cpu-1-23","cpu-1-24"],["cpu-1-25","cpu-1-26"],["cpu-1-27","cpu-1-28"],["cpu-1-29","cpu-1-30"],["cpu-1-31","cpu-1-32"],["cpu-1-33","cpu-1-34"],["cpu-1-35","cpu-1-36"],["cpu-1-37","cpu-1-38"],["cpu-1-39","cpu-1-40"],["cpu-1-41","cpu-1-42"],["cpu-1-43","cpu-1-44"],["cpu-1-45","cpu-1-46"],["cpu-1-47","cpu-1-48"],["cpu-1-49","cpu-1-50"],["cpu-1-51","cpu-1-52"],["cpu-1-53","cpu-1-54"],["cpu-1-55","cpu-1-56"],["cpu-1-57","cpu-1-58"],["cpu-1-59","cpu-1-60"]],"Rack 2":[["cpu-2-1","cpu-2-2"],["cpu-2-3","cpu-2-4"],["cpu-2-5","cpu-2-6"],["cpu-2-7","cpu-2-8"],["cpu-2-9","cpu-2-10"],["cpu-2-11","cpu-2-12"],["cpu-2-13","cpu-2-14"],["cpu-2-15","cpu-2-16"],["cpu-2-17","cpu-2-18"],["cpu-2-19","cpu-2-20"],["cpu-2-21","cpu-2-22"],["cpu-2-23","cpu-2-24"],["cpu-2-25","cpu-2-26"],["cpu-2-27","cpu-2-28"],["cpu-2-29","cpu-2-30"],["cpu-2-31","cpu-2-32"],["cpu-2-33","cpu-2-34"],["cpu-2-35","cpu-2-36"],["cpu-2-37","cpu-2-38"],["cpu-2-39","cpu-2-40"],["cpu-2-41","cpu-2-42"],["cpu-2-43","cpu-2-44"],["cpu-2-45","cpu-2-46"],["cpu-2-47","cpu-2-48"],["cpu-2-49","cpu-2-50"],["cpu-2-51","cpu-2-52"],["cpu-2-53","cpu-2-54"],["cpu-2-55","cpu-2-56"],["cpu-2-57","cpu-2-58"],["cpu-2-59","cpu-2-60"]],"Rack 3":[["cpu-3-1","cpu-3-2"],["cpu-3-3","cpu-3-4"],["cpu-3-5","cpu-3-6"],["cpu-3-7","cpu-3-8"],["cpu-3-9","cpu-3-10"],["cpu-3-11","cpu-3-12"],["cpu-3-13","cpu-3-14"],["cpu-3-15","cpu-3-16"],["cpu-3-17","cpu-3-18"],["cpu-3-19","cpu-3-20"],["cpu-3-21","cpu-3-22"],["cpu-3-23","cpu-3-24"],["cpu-3-25","cpu-3-26"],["cpu-3-27","cpu-3-28"],["cpu-3-29","cpu-3-30"],["cpu-3-31","cpu-3-32"],["cpu-3-33","cpu-3-34"],["cpu-3-35","cpu-3-36"],["cpu-3-37","cpu-3-38"],["cpu-3-39","cpu-3-40"],["cpu-3-41","cpu-3-42"],["cpu-3-43","cpu-3-44"],["cpu-3-45","cpu-3-46"],["cpu-3-47","cpu-3-48"],["cpu-3-49","cpu-3-50"],["cpu-3-51","cpu-3-52"],["cpu-3-53","cpu-3-54"],["cpu-3-55","cpu-3-56"],[null,null],[null,null]],"Rack 4":[["cpu-4-1","cpu-4-2"],["cpu-4-3","cpu-4-4"],["cpu-4-5","cpu-4-6"],["cpu-4-7","cpu-4-8"],["cpu-4-9","cpu-4-10"],["cpu-4-11","cpu-4-12"],["cpu-4-13","cpu-4-14"],["cpu-4-15","cpu-4-16"],["cpu-4-17","cpu-4-18"],["cpu-4-19","cpu-4-20"],["cpu-4-21","cpu-4-22"],["cpu-4-23","cpu-4-24"],["cpu-4-25","cpu-4-26"],["cpu-4-27","cpu-4-28"],["cpu-4-29","cpu-4-30"],["cpu-4-31","cpu-4-32"],["cpu-4-33","cpu-4-34"],["cpu-4-35","cpu-4-36"],["cpu-4-37","cpu-4-38"],["cpu-4-39","cpu-4-40"],["cpu-4-41","cpu-4-42"],["cpu-4-43","cpu-4-44"],["cpu-4-45","cpu-4-46"],["cpu-4-47","cpu-4-48"],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null]],"Rack 5":[["cpu-5-1","cpu-5-2"],["cpu-5-3","cpu-5-4"],["cpu-5-5","cpu-5-6"],["cpu-5-7","cpu-5-8"],["cpu-5-9","cpu-5-10"],["cpu-5-11","cpu-5-12"],["cpu-5-13","cpu-5-14"],["cpu-5-15","cpu-5-16"],["cpu-5-17","cpu-5-18"],["cpu-5-19","cpu-5-20"],["cpu-5-21","cpu-5-22"],["cpu-5-23","cpu-5-24"],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null]],"Rack 6":[["cpu-6-1","cpu-6-2"],["cpu-6-3","cpu-6-4"],["cpu-6-5","cpu-6-6"],["cpu-6-7","cpu-6-8"],["cpu-6-9","cpu-6-10"],["cpu-6-11","cpu-6-12"],["cpu-6-13","cpu-6-14"],["cpu-6-15","cpu-6-16"],["cpu-6-17","cpu-6-18"],["cpu-6-19","cpu-6-20"],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null]],"Rack 7":[["cpu-7-1","cpu-7-2"],["cpu-7-3",null],["cpu-7-5","cpu-7-6"],["cpu-7-7","cpu-7-8"],["cpu-7-9","cpu-7-10"],["cpu-7-11","cpu-7-12"],["cpu-7-13","cpu-7-14"],["cpu-7-15","cpu-7-16"],["cpu-7-17","cpu-7-18"],["cpu-7-19","cpu-7-20"],["cpu-7-21","cpu-7-22"],["cpu-7-23","cpu-7-24"],["cpu-7-25","cpu-7-26"],["cpu-7-27","cpu-7-28"],["cpu-7-29","cpu-7-30"],["cpu-7-31","cpu-7-32"],["cpu-7-33","cpu-7-34"],["cpu-7-35","cpu-7-36"],["cpu-7-37","cpu-7-38"],["cpu-7-39","cpu-7-40"],["cpu-7-41","cpu-7-42"],["cpu-7-43","cpu-7-44"],["cpu-7-45","cpu-7-46"],["cpu-7-47","cpu-7-48"],["cpu-7-49","cpu-7-50"],["cpu-7-51","cpu-7-52"],["cpu-7-53","cpu-7-54"],["cpu-7-55","cpu-7-56"],["cpu-7-57","cpu-7-58"],["cpu-7-59","cpu-7-60"]],"Rack 8":[["cpu-8-1","cpu-8-2"],["cpu-8-3","cpu-8-4"],["cpu-8-5","cpu-8-6"],["cpu-8-7","cpu-8-8"],["cpu-8-9","cpu-8-10"],["cpu-8-11","cpu-8-12"],["cpu-8-13","cpu-8-14"],["cpu-8-15","cpu-8-16"],["cpu-8-17","cpu-8-18"],["cpu-8-19","cpu-8-20"],["cpu-8-21","cpu-8-22"],["cpu-8-23","cpu-8-24"],["cpu-8-25","cpu-8-26"],["cpu-8-27","cpu-8-28"],["cpu-8-29","cpu-8-30"],["cpu-8-31","cpu-8-32"],["cpu-8-33","cpu-8-34"],["cpu-8-35","cpu-8-36"],["cpu-8-37","cpu-8-38"],["cpu-8-39","cpu-8-40"],["cpu-8-41","cpu-8-42"],["cpu-8-43","cpu-8-44"],["cpu-8-45","cpu-8-46"],["cpu-8-47","cpu-8-48"],["cpu-8-49","cpu-8-50"],["cpu-8-51","cpu-8-52"],["cpu-8-53","cpu-8-54"],["cpu-8-55","cpu-8-56"],["cpu-8-57","cpu-8-58"],["cpu-8-59","cpu-8-60"]],"Rack 9":[["cpu-9-1","cpu-9-2"],["cpu-9-3","cpu-9-4"],["cpu-9-5","cpu-9-6"],["cpu-9-7","cpu-9-8"],["cpu-9-9","cpu-9-10"],["cpu-9-11","cpu-9-12"],["cpu-9-13","cpu-9-14"],["cpu-9-15","cpu-9-16"],["cpu-9-17","cpu-9-18"],["cpu-9-19","cpu-9-20"],["cpu-9-21","cpu-9-22"],["cpu-9-23","cpu-9-24"],["cpu-9-25","cpu-9-26"],["cpu-9-27","cpu-9-28"],["cpu-9-29","cpu-9-30"],["cpu-9-31","cpu-9-32"],["cpu-9-33","cpu-9-34"],["cpu-9-35","cpu-9-36"],["cpu-9-37","cpu-9-38"],["cpu-9-39","cpu-9-40"],["cpu-9-41","cpu-9-42"],["cpu-9-43","cpu-9-44"],["cpu-9-45","cpu-9-46"],["cpu-9-47","cpu-9-48"],["cpu-9-49","cpu-9-50"],["cpu-9-51","cpu-9-52"],["cpu-9-53","cpu-9-54"],["cpu-9-55","cpu-9-56"],["cpu-9-57","cpu-9-58"],["cpu-9-59","cpu-9-60"]],"Rack 10":[[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],["cpu-10-25","cpu-10-26"],["cpu-10-27","cpu-10-28"],["cpu-10-29","cpu-10-30"],["cpu-10-31","cpu-10-32"],["cpu-10-33","cpu-10-34"],["cpu-10-35","cpu-10-36"],["cpu-10-37","cpu-10-38"],["cpu-10-39","cpu-10-40"],["cpu-10-41","cpu-10-42"],["cpu-10-43","cpu-10-44"],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null],[null,null]]}');function wre(e){return(0,$8.Z)("MuiSlider",e)}var Sre=(0,Y8.Z)("MuiSlider",["root","active","focusVisible","disabled","dragging","marked","vertical","trackInverted","trackFalse","rail","track","mark","markActive","markLabel","markLabelActive","thumb","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel"]);var kre=function(e){var t=e.children,n=e.className,i=e.value,a=e.theme,o=function(e){var t=e.open;return{offset:(0,U8.Z)(t&&Sre.valueLabelOpen),circle:Sre.valueLabelCircle,label:Sre.valueLabelLabel}}(e);return r.cloneElement(t,{className:(0,U8.Z)(t.props.className)},(0,Zx.jsxs)(r.Fragment,{children:[t.props.children,(0,Zx.jsx)("span",{className:(0,U8.Z)(o.offset,n),theme:a,"aria-hidden":!0,children:(0,Zx.jsx)("span",{className:o.circle,children:(0,Zx.jsx)("span",{className:o.label,children:i})})})]}))},Mre=n(8959),Ere=n(5372),Tre=n(8956),Are={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Cre(e,t){return e-t}function Rre(e,t,n){return null==e?t:Math.min(Math.max(t,e),n)}function Pre(e,t){var n,r=null!=(n=e.reduce((function(e,n,r){var i=Math.abs(t-n);return null===e||i<e.distance||i===e.distance?{distance:i,index:r}:e}),null))?n:{};return r.index}function Lre(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=e,r=0;r<n.changedTouches.length;r+=1){var i=n.changedTouches[r];if(i.identifier===t.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function Ore(e,t,n){return 100*(e-t)/(n-t)}function Ire(e,t,n){var r=Math.round((e-n)/t)*t+n;return Number(r.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var r=e.toString().split(".")[1];return r?r.length:0}(t)))}function Dre(e){var t=e.values,n=e.newValue,r=e.index,i=t.slice();return i[r]=n,i.sort(Cre)}function Nre(e){var t,n,r,i=e.sliderRef,a=e.activeIndex,o=e.setActive,u=(0,iee.Z)(i.current);null!=(t=i.current)&&t.contains(u.activeElement)&&Number(null==u||null==(n=u.activeElement)?void 0:n.getAttribute("data-index"))===a||(null==(r=i.current)||r.querySelector('[type="range"][data-index="'.concat(a,'"]')).focus());o&&o(a)}var zre,Fre={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},Bre=function(e){return e};function Ure(){return void 0===zre&&(zre="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),zre}function jre(e){var t=e.ref,n=e["aria-labelledby"],i=e.defaultValue,a=e.disableSwap,u=void 0!==a&&a,s=e.disabled,l=void 0!==s&&s,f=e.marks,h=void 0!==f&&f,d=e.max,p=void 0===d?100:d,v=e.min,m=void 0===v?0:v,g=e.name,y=e.onChange,b=e.onChangeCommitted,x=e.orientation,_=void 0===x?"horizontal":x,w=e.scale,S=void 0===w?Bre:w,k=e.step,M=void 0===k?1:k,E=e.tabIndex,T=e.value,A=e.isRtl,C=void 0!==A&&A,R=r.useRef(),P=r.useState(-1),L=(0,c.Z)(P,2),O=L[0],I=L[1],D=r.useState(-1),N=(0,c.Z)(D,2),z=N[0],F=N[1],B=r.useState(!1),U=(0,c.Z)(B,2),j=U[0],H=U[1],Z=r.useRef(0),G=(0,Mre.Z)({controlled:T,default:null!=i?i:m,name:"Slider"}),W=(0,c.Z)(G,2),V=W[0],q=W[1],X=y&&function(e,t,n){var r=e.nativeEvent||e,i=new r.constructor(r.type,r);Object.defineProperty(i,"target",{writable:!0,value:{value:t,name:g}}),y(i,t,n)},$=Array.isArray(V),Y=$?V.slice().sort(Cre):[V];Y=Y.map((function(e){return Rre(e,m,p)}));var K=!0===h&&null!==M?(0,o.Z)(Array(Math.floor((p-m)/M)+1)).map((function(e,t){return{value:m+M*t}})):h||[],J=K.map((function(e){return e.value})),Q=(0,Ere.Z)(),ee=Q.isFocusVisibleRef,te=Q.onBlur,ne=Q.onFocus,re=Q.ref,ie=r.useState(-1),ae=(0,c.Z)(ie,2),oe=ae[0],ue=ae[1],se=r.useRef(),le=(0,nee.Z)(re,se),ce=(0,nee.Z)(t,le),fe=function(e){return function(t){var n,r=Number(t.currentTarget.getAttribute("data-index"));ne(t),!0===ee.current&&ue(r),F(r),null==e||null==(n=e.onFocus)||n.call(e,t)}},he=function(e){return function(t){var n;te(t),!1===ee.current&&ue(-1),F(-1),null==e||null==(n=e.onBlur)||n.call(e,t)}};(0,ree.Z)((function(){var e;l&&se.current.contains(document.activeElement)&&(null==(e=document.activeElement)||e.blur())}),[l]),l&&-1!==O&&I(-1),l&&-1!==oe&&ue(-1);var de=function(e){return function(t){var n;null==(n=e.onChange)||n.call(e,t);var r=Number(t.currentTarget.getAttribute("data-index")),i=Y[r],a=J.indexOf(i),o=t.target.valueAsNumber;if(K&&null==M&&(o=o<i?J[a-1]:J[a+1]),o=Rre(o,m,p),K&&null==M){var s=J.indexOf(Y[r]);o=o<Y[r]?J[s-1]:J[s+1]}if($){u&&(o=Rre(o,Y[r-1]||-1/0,Y[r+1]||1/0));var l=o;o=Dre({values:Y,newValue:o,index:r});var c=r;u||(c=o.indexOf(l)),Nre({sliderRef:se,activeIndex:c})}q(o),ue(r),X&&X(t,o,r),b&&b(t,o)}},pe=r.useRef(),ve=_;C&&"horizontal"===_&&(ve+="-reverse");var me=function(e){var t,n,r=e.finger,i=e.move,a=void 0!==i&&i,o=e.values,s=se.current.getBoundingClientRect(),l=s.width,c=s.height,f=s.bottom,h=s.left;if(t=0===ve.indexOf("vertical")?(f-r.y)/c:(r.x-h)/l,-1!==ve.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,m,p),M)n=Ire(n,M,m);else{var d=Pre(J,n);n=J[d]}n=Rre(n,m,p);var v=0;if($){v=a?pe.current:Pre(o,n),u&&(n=Rre(n,o[v-1]||-1/0,o[v+1]||1/0));var g=n;n=Dre({values:o,newValue:n,index:v}),u&&a||(v=n.indexOf(g),pe.current=v)}return{newValue:n,activeIndex:v}},ge=(0,Tre.Z)((function(e){var t=Lre(e,R);if(t)if(Z.current+=1,"mousemove"!==e.type||0!==e.buttons){var n=me({finger:t,move:!0,values:Y}),r=n.newValue,i=n.activeIndex;Nre({sliderRef:se,activeIndex:i,setActive:I}),q(r),!j&&Z.current>2&&H(!0),X&&X(e,r,i)}else ye(e)})),ye=(0,Tre.Z)((function(e){var t=Lre(e,R);if(H(!1),t){var n=me({finger:t,values:Y}).newValue;I(-1),"touchend"===e.type&&F(-1),b&&b(e,n),R.current=void 0,xe()}})),be=(0,Tre.Z)((function(e){Ure()||e.preventDefault();var t=e.changedTouches[0];null!=t&&(R.current=t.identifier);var n=Lre(e,R);if(!1!==n){var r=me({finger:n,values:Y}),i=r.newValue,a=r.activeIndex;Nre({sliderRef:se,activeIndex:a,setActive:I}),q(i),X&&X(e,i,a)}Z.current=0;var o=(0,iee.Z)(se.current);o.addEventListener("touchmove",ge),o.addEventListener("touchend",ye)})),xe=r.useCallback((function(){var e=(0,iee.Z)(se.current);e.removeEventListener("mousemove",ge),e.removeEventListener("mouseup",ye),e.removeEventListener("touchmove",ge),e.removeEventListener("touchend",ye)}),[ye,ge]);r.useEffect((function(){var e=se.current;return e.addEventListener("touchstart",be,{passive:Ure()}),function(){e.removeEventListener("touchstart",be,{passive:Ure()}),xe()}}),[xe,be]),r.useEffect((function(){l&&xe()}),[l,xe]);var _e=function(e){return function(t){var n;if(null==(n=e.onMouseDown)||n.call(e,t),!t.defaultPrevented&&0===t.button){t.preventDefault();var r=Lre(t,R);if(!1!==r){var i=me({finger:r,values:Y}),a=i.newValue,o=i.activeIndex;Nre({sliderRef:se,activeIndex:o,setActive:I}),q(a),X&&X(t,a,o)}Z.current=0;var u=(0,iee.Z)(se.current);u.addEventListener("mousemove",ge),u.addEventListener("mouseup",ye)}}},we=Ore($?Y[0]:m,m,p),Se=Ore(Y[Y.length-1],m,p)-we,ke=function(e){return function(t){var n;null==(n=e.onMouseOver)||n.call(e,t);var r=Number(t.currentTarget.getAttribute("data-index"));F(r)}},Me=function(e){return function(t){var n;null==(n=e.onMouseLeave)||n.call(e,t),F(-1)}};return{axis:ve,axisProps:Fre,getRootProps:function(e){var t={onMouseDown:_e(e||{})},n=(0,Jm.Z)({},e,t);return(0,Jm.Z)({ref:ce},n)},getHiddenInputProps:function(t){var r={onChange:de(t||{}),onFocus:fe(t||{}),onBlur:he(t||{})},i=(0,Jm.Z)({},t,r);return(0,Jm.Z)({tabIndex:E,"aria-labelledby":n,"aria-orientation":_,"aria-valuemax":S(p),"aria-valuemin":S(m),name:g,type:"range",min:e.min,max:e.max,step:e.step,disabled:l},i,{style:(0,Jm.Z)({},Are,{direction:C?"rtl":"ltr",width:"100%",height:"100%"})})},getThumbProps:function(e){var t={onMouseOver:ke(e||{}),onMouseLeave:Me(e||{})},n=(0,Jm.Z)({},e,t);return(0,Jm.Z)({},n)},dragging:j,marks:K,values:Y,active:O,focusVisible:oe,open:z,range:$,trackOffset:we,trackLeap:Se}}var Hre=["aria-label","aria-valuetext","className","component","classes","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","onMouseDown","orientation","scale","step","tabIndex","track","value","valueLabelDisplay","valueLabelFormat","isRtl","components","componentsProps"],Zre=function(e){return e},Gre=function(e){return e.children},Wre=r.forwardRef((function(e,t){var n,i,a,o,u,s,l,c=e["aria-label"],h=e["aria-valuetext"],d=e.className,p=e.component,v=e.classes,m=e.disableSwap,g=void 0!==m&&m,y=e.disabled,b=void 0!==y&&y,x=e.getAriaLabel,_=e.getAriaValueText,w=e.marks,S=void 0!==w&&w,k=e.max,M=void 0===k?100:k,E=e.min,T=void 0===E?0:E,A=e.onMouseDown,C=e.orientation,R=void 0===C?"horizontal":C,P=e.scale,L=void 0===P?Zre:P,O=e.step,I=void 0===O?1:O,D=e.track,N=void 0===D?"normal":D,z=e.valueLabelDisplay,F=void 0===z?"off":z,B=e.valueLabelFormat,U=void 0===B?Zre:B,j=e.isRtl,H=void 0!==j&&j,Z=e.components,G=void 0===Z?{}:Z,W=e.componentsProps,V=void 0===W?{}:W,q=(0,f.Z)(e,Hre),X=(0,Jm.Z)({},e,{mark:S,classes:v,disabled:b,isRtl:H,max:M,min:T,orientation:R,scale:L,step:I,track:N,valueLabelDisplay:F,valueLabelFormat:U}),$=jre((0,Jm.Z)({},X,{ref:t})),Y=$.axisProps,K=$.getRootProps,J=$.getHiddenInputProps,Q=$.getThumbProps,ee=$.open,te=$.active,ne=$.axis,re=$.range,ie=$.focusVisible,ae=$.dragging,oe=$.marks,ue=$.values,se=$.trackOffset,le=$.trackLeap;X.marked=oe.length>0&&oe.some((function(e){return e.label})),X.dragging=ae;var ce=null!=(n=null!=p?p:G.Root)?n:"span",fe=N9(ce,(0,Jm.Z)({},q,V.root),X),he=null!=(i=G.Rail)?i:"span",de=N9(he,V.rail,X),pe=null!=(a=G.Track)?a:"span",ve=N9(pe,V.track,X),me=(0,Jm.Z)({},Y[ne].offset(se),Y[ne].leap(le)),ge=null!=(o=G.Thumb)?o:"span",ye=N9(ge,V.thumb,X),be=null!=(u=G.ValueLabel)?u:kre,xe=N9(be,V.valueLabel,X),_e=null!=(s=G.Mark)?s:"span",we=N9(_e,V.mark,X),Se=null!=(l=G.MarkLabel)?l:"span",ke=N9(Se,V.markLabel,X),Me=G.Input||"input",Ee=N9(Me,V.input,X),Te=J(),Ae=function(e){var t=e.disabled,n=e.dragging,r=e.marked,i=e.orientation,a=e.track,o=e.classes,u={root:["root",t&&"disabled",n&&"dragging",r&&"marked","vertical"===i&&"vertical","inverted"===a&&"trackInverted",!1===a&&"trackFalse"],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled"],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return(0,W8.Z)(u,wre,o)}(X);return(0,Zx.jsxs)(ce,(0,Jm.Z)({},fe,K({onMouseDown:A}),{className:(0,U8.Z)(Ae.root,fe.className,d),children:[(0,Zx.jsx)(he,(0,Jm.Z)({},de,{className:(0,U8.Z)(Ae.rail,de.className)})),(0,Zx.jsx)(pe,(0,Jm.Z)({},ve,{className:(0,U8.Z)(Ae.track,ve.className),style:(0,Jm.Z)({},me,ve.style)})),oe.map((function(e,t){var n,i=Ore(e.value,T,M),a=Y[ne].offset(i);return n=!1===N?-1!==ue.indexOf(e.value):"normal"===N&&(re?e.value>=ue[0]&&e.value<=ue[ue.length-1]:e.value<=ue[0])||"inverted"===N&&(re?e.value<=ue[0]||e.value>=ue[ue.length-1]:e.value>=ue[0]),(0,Zx.jsxs)(r.Fragment,{children:[(0,Zx.jsx)(_e,(0,Jm.Z)({"data-index":t},we,!D9(_e)&&{markActive:n},{style:(0,Jm.Z)({},a,we.style),className:(0,U8.Z)(Ae.mark,we.className,n&&Ae.markActive)})),null!=e.label?(0,Zx.jsx)(Se,(0,Jm.Z)({"aria-hidden":!0,"data-index":t},ke,!D9(Se)&&{markLabelActive:n},{style:(0,Jm.Z)({},a,ke.style),className:(0,U8.Z)(Ae.markLabel,ke.className,n&&Ae.markLabelActive),children:e.label})):null]},e.value)})),ue.map((function(e,t){var n=Ore(e,T,M),i=Y[ne].offset(n),a="off"===F?Gre:be;return(0,Zx.jsx)(r.Fragment,{children:(0,Zx.jsx)(a,(0,Jm.Z)({},!D9(a)&&{valueLabelFormat:U,valueLabelDisplay:F,value:"function"===typeof U?U(L(e),t):U,index:t,open:ee===t||te===t||"on"===F,disabled:b},xe,{className:(0,U8.Z)(Ae.valueLabel,xe.className),children:(0,Zx.jsx)(ge,(0,Jm.Z)({"data-index":t},ye,Q(),{className:(0,U8.Z)(Ae.thumb,ye.className,te===t&&Ae.active,ie===t&&Ae.focusVisible)},!D9(ge)&&{ownerState:(0,Jm.Z)({},X,ye.ownerState)},{style:(0,Jm.Z)({},i,{pointerEvents:g&&te!==t?"none":void 0},ye.style),children:(0,Zx.jsx)(Me,(0,Jm.Z)({},Te,{"data-index":t,"aria-label":x?x(t):c,"aria-valuenow":L(e),"aria-valuetext":_?_(L(e),t):h,value:ue[t]},!D9(Me)&&{ownerState:(0,Jm.Z)({},X,Ee.ownerState)},Ee,{style:(0,Jm.Z)({},Te.style,Ee.style)}))}))}))},t)}))]}))})),Vre=Wre,qre=function(e){return!e||!D9(e)},Xre=["component","components","componentsProps","color","size"],$re=(0,Jm.Z)({},Sre,(0,Y8.Z)("MuiSlider",["colorPrimary","colorSecondary","thumbColorPrimary","thumbColorSecondary","sizeSmall","thumbSizeSmall"])),Yre=(0,V8.ZP)("span",{name:"MuiSlider",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=!0===n.marksProp&&null!==n.step?(0,o.Z)(Array(Math.floor((n.max-n.min)/n.step)+1)).map((function(e,t){return{value:n.min+n.step*t}})):n.marksProp||[],i=r.length>0&&r.some((function(e){return e.label}));return[t.root,t["color".concat((0,J7.Z)(n.color))],"medium"!==n.size&&t["size".concat((0,J7.Z)(n.size))],i&&t.marked,"vertical"===n.orientation&&t.vertical,"inverted"===n.track&&t.trackInverted,!1===n.track&&t.trackFalse]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,Jm.Z)({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:n.palette[r.color].main,WebkitTapHighlightColor:"transparent"},"horizontal"===r.orientation&&(0,Jm.Z)({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},"small"===r.size&&{height:2},r.marked&&{marginBottom:20}),"vertical"===r.orientation&&(0,Jm.Z)({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},"small"===r.size&&{width:2},r.marked&&{marginRight:44}),(t={"@media print":{colorAdjust:"exact"}},(0,u.Z)(t,"&.".concat($re.disabled),{pointerEvents:"none",cursor:"default",color:n.palette.grey[400]}),(0,u.Z)(t,"&.".concat($re.dragging),(0,u.Z)({},"& .".concat($re.thumb,", & .").concat($re.track),{transition:"none"})),t))})),Kre=(0,V8.ZP)("span",{name:"MuiSlider",slot:"Rail",overridesResolver:function(e,t){return t.rail}})((function(e){var t=e.ownerState;return(0,Jm.Z)({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},"horizontal"===t.orientation&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===t.orientation&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},"inverted"===t.track&&{opacity:1})})),Jre=(0,V8.ZP)("span",{name:"MuiSlider",slot:"Track",overridesResolver:function(e,t){return t.track}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?(0,s7.$n)(t.palette[n.color].main,.62):(0,s7._j)(t.palette[n.color].main,.5);return(0,Jm.Z)({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest})},"small"===n.size&&{border:"none"},"horizontal"===n.orientation&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===n.orientation&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},!1===n.track&&{display:"none"},"inverted"===n.track&&{backgroundColor:r,borderColor:r})})),Qre=(0,V8.ZP)("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:function(e,t){var n=e.ownerState;return[t.thumb,t["thumbColor".concat((0,J7.Z)(n.color))],"medium"!==n.size&&t["thumbSize".concat((0,J7.Z)(n.size))]]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,Jm.Z)({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:n.transitions.create(["box-shadow","left","bottom"],{duration:n.transitions.duration.shortest})},"small"===r.size&&{width:12,height:12},"horizontal"===r.orientation&&{top:"50%",transform:"translate(-50%, -50%)"},"vertical"===r.orientation&&{left:"50%",transform:"translate(-50%, 50%)"},(t={"&:before":(0,Jm.Z)({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:n.shadows[2]},"small"===r.size&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},(0,u.Z)(t,"&:hover, &.".concat($re.focusVisible),{boxShadow:"0px 0px 0px 8px ".concat((0,s7.Fq)(n.palette[r.color].main,.16)),"@media (hover: none)":{boxShadow:"none"}}),(0,u.Z)(t,"&.".concat($re.active),{boxShadow:"0px 0px 0px 14px ".concat((0,s7.Fq)(n.palette[r.color].main,.16))}),(0,u.Z)(t,"&.".concat($re.disabled),{"&:hover":{boxShadow:"none"}}),t))})),eie=(0,V8.ZP)(kre,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:function(e,t){return t.valueLabel}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,Jm.Z)((t={},(0,u.Z)(t,"&.".concat($re.valueLabelOpen),{transform:"translateY(-100%) scale(1)"}),(0,u.Z)(t,"zIndex",1),(0,u.Z)(t,"whiteSpace","nowrap"),t),n.typography.body2,{fontWeight:500,transition:n.transitions.create(["transform"],{duration:n.transitions.duration.shortest}),top:-10,transformOrigin:"bottom center",transform:"translateY(-100%) scale(0)",position:"absolute",backgroundColor:n.palette.grey[600],borderRadius:2,color:n.palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},"small"===r.size&&{fontSize:n.typography.pxToRem(12),padding:"0.25rem 0.5rem"},{"&:before":{position:"absolute",content:'""',width:8,height:8,bottom:0,left:"50%",transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit"}})})),tie=(0,V8.ZP)("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:function(e){return(0,V8.Dz)(e)&&"markActive"!==e},overridesResolver:function(e,t){return t.mark}})((function(e){var t=e.theme,n=e.ownerState,r=e.markActive;return(0,Jm.Z)({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},"horizontal"===n.orientation&&{top:"50%",transform:"translate(-1px, -50%)"},"vertical"===n.orientation&&{left:"50%",transform:"translate(-50%, 1px)"},r&&{backgroundColor:t.palette.background.paper,opacity:.8})})),nie=(0,V8.ZP)("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:function(e){return(0,V8.Dz)(e)&&"markLabelActive"!==e},overridesResolver:function(e,t){return t.markLabel}})((function(e){var t=e.theme,n=e.ownerState,r=e.markLabelActive;return(0,Jm.Z)({},t.typography.body2,{color:t.palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},"horizontal"===n.orientation&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},"vertical"===n.orientation&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},r&&{color:t.palette.text.primary})})),rie=r.forwardRef((function(e,t){var n,r,i,a,o=(0,q8.Z)({props:e,name:"MuiSlider"}),u="rtl"===B9().direction,s=o.component,l=void 0===s?"span":s,c=o.components,h=void 0===c?{}:c,d=o.componentsProps,p=void 0===d?{}:d,v=o.color,m=void 0===v?"primary":v,g=o.size,y=void 0===g?"medium":g,b=(0,f.Z)(o,Xre),x=function(e){var t=e.color,n=e.size,r=e.classes,i=void 0===r?{}:r;return(0,Jm.Z)({},i,{root:(0,U8.Z)(i.root,wre("color".concat((0,J7.Z)(t))),i["color".concat((0,J7.Z)(t))],n&&[wre("size".concat((0,J7.Z)(n))),i["size".concat((0,J7.Z)(n))]]),thumb:(0,U8.Z)(i.thumb,wre("thumbColor".concat((0,J7.Z)(t))),i["thumbColor".concat((0,J7.Z)(t))],n&&[wre("thumbSize".concat((0,J7.Z)(n))),i["thumbSize".concat((0,J7.Z)(n))]])})}((0,Jm.Z)({},o,{color:m,size:y}));return(0,Zx.jsx)(Vre,(0,Jm.Z)({},b,{isRtl:u,components:(0,Jm.Z)({Root:Yre,Rail:Kre,Track:Jre,Thumb:Qre,ValueLabel:eie,Mark:tie,MarkLabel:nie},h),componentsProps:(0,Jm.Z)({},p,{root:(0,Jm.Z)({},p.root,qre(h.Root)&&{as:l,ownerState:(0,Jm.Z)({},null==(n=p.root)?void 0:n.ownerState,{color:m,size:y})}),thumb:(0,Jm.Z)({},p.thumb,qre(h.Thumb)&&{ownerState:(0,Jm.Z)({},null==(r=p.thumb)?void 0:r.ownerState,{color:m,size:y})}),track:(0,Jm.Z)({},p.track,qre(h.Track)&&{ownerState:(0,Jm.Z)({},null==(i=p.track)?void 0:i.ownerState,{color:m,size:y})}),valueLabel:(0,Jm.Z)({},p.valueLabel,qre(h.ValueLabel)&&{ownerState:(0,Jm.Z)({},null==(a=p.valueLabel)?void 0:a.ownerState,{color:m,size:y})})}),classes:x,ref:t}))})),iie=rie;function aie(e){return(0,$8.Z)("MuiContainer",e)}(0,Y8.Z)("MuiContainer",["root","disableGutters","fixed","maxWidthXs","maxWidthSm","maxWidthMd","maxWidthLg","maxWidthXl"]);var oie=["className","component","disableGutters","fixed","maxWidth"],uie=(0,V8.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["maxWidth".concat((0,J7.Z)(String(n.maxWidth)))],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}})((function(e){var t=e.theme,n=e.ownerState;return(0,Jm.Z)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&(0,u.Z)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}))}),(function(e){var t=e.theme;return e.ownerState.fixed&&Object.keys(t.breakpoints.values).reduce((function(e,n){var r=t.breakpoints.values[n];return 0!==r&&(e[t.breakpoints.up(n)]={maxWidth:"".concat(r).concat(t.breakpoints.unit)}),e}),{})}),(function(e){var t=e.theme,n=e.ownerState;return(0,Jm.Z)({},"xs"===n.maxWidth&&(0,u.Z)({},t.breakpoints.up("xs"),{maxWidth:Math.max(t.breakpoints.values.xs,444)}),n.maxWidth&&"xs"!==n.maxWidth&&(0,u.Z)({},t.breakpoints.up(n.maxWidth),{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)}))})),sie=r.forwardRef((function(e,t){var n=(0,q8.Z)({props:e,name:"MuiContainer"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.disableGutters,u=void 0!==o&&o,s=n.fixed,l=void 0!==s&&s,c=n.maxWidth,h=void 0===c?"lg":c,d=(0,f.Z)(n,oie),p=(0,Jm.Z)({},n,{component:a,disableGutters:u,fixed:l,maxWidth:h}),v=function(e){var t=e.classes,n=e.fixed,r=e.disableGutters,i=e.maxWidth,a={root:["root",i&&"maxWidth".concat((0,J7.Z)(String(i))),n&&"fixed",r&&"disableGutters"]};return(0,W8.Z)(a,aie,t)}(p);return(0,Zx.jsx)(uie,(0,Jm.Z)({as:a,ownerState:p,className:(0,U8.Z)(v.root,r),ref:t},d))})),lie=sie;function cie(e){var t=e.data,n=void 0===t?[]:t,r=e.dimensions,i=void 0===r?[]:r,a=e.outlyingCoefficient,o=void 0===a?1.5:a,u=[],s={},l=Uw(0,i.length-1);n.forEach((function(e){var t=l.filter((function(t){return!oX.isNumber(e[t])}));t.length?(e.outlier=2,e.cluster="missing",e.indexMissing=t,s[e.key+"_"+e.timestep]=e):(delete e.outlier,delete e.cluster,delete e.indexMissing,u.push(e))}));var c={isNormalized:!0,outlyingCoefficient:o},f=[];f.pointObject={},f.missingData=s;var h=window.scagnosticsnd(u.map((function(e,t){var n=e.filter((function(e,t){return i[t].enable}));return n.data=e,n})),c);return console.timeEnd("outline:"),console.log("Outlying bin="+h.outlyingBins.length),h.outlyingBins.map((function(e,t){var n={labels:-t-1,compObject:{}},r=e.map((function(e){var r=e.data;r.outlier=1,r.cluster="outlier",r.clusterIndex=-t-1;var a=i.map((function(e,t){return{axis:e.text,value:r[t],angle:e.angle}}));return a.key=r.key+"_"+r.timestep,a.nodeName=r.key,a.timestep=r.timestep,a.cluster="outlier",a.clusterIndex=-t-1,f.pointObject[a.key]=a,n.compObject[r.key]||(n.compObject[r.key]=[]),n.compObject[r.key].push(r),f.pointObject[a.key]}));e.site.forEach((function(e,t){return n[i[t].text]=i[t].scale.invert(e)})),n.index=-t-1,n.__metrics=i.map((function(t,n){return{axis:t.text,value:e.site[n],angle:t.angle}})),n.__metrics.normalize=e.site.slice(),n.arr=r,f.push(n)})),console.log("#Outlier: ",Object.values(f.pointObject).length),console.log(f),f}function fie(e,t){var n=0;return e.forEach((function(e,r){n+=(e-t[r])*(e-t[r])})),Math.round(Math.sqrt(n)*Math.pow(10,10))/Math.pow(10,10)}function hie(e,t){var n=0;return e.forEach((function(e,r){n+=Math.abs(e-t[r])})),Math.round(n*Math.pow(10,10))/Math.pow(10,10)}function die(e){var t,n=e.data,r=void 0===n?[]:n,i=e.dimensions,a=void 0===i?[]:i,o=e.binopt,u=void 0===o?{}:o,s=e.calbackMiddle,l=void 0===s?function(){}:s,c=(e.calbackEnd,performance.now()),f="l1"===u.normMethod?hie:fie,h=r.filter((function(e){return!e.outlier})),d=h,p=d.map((function(e,t){var n=e.map((function(e,t){return a[t].enable?e:0}));return n.data={name:e.name,id:t,timestep:e.timestep},n.name=e.name,n.timestep=e.timestep,n})),v=[];if(console.log(u),d.length){if("leaderbin"===u.clusterMethod){var m=Math.max(2,Math.pow(u.range[1],1/d[0].length));t=window.binnerN().startBinGridSize(m).isNormalized(!0).minNumOfBins(u.range[0]).maxNumOfBins(u.range[1]).distanceMethod(u.normMethod).coefficient({reduce_coefficient:.3,reduce_offset:0,increase_coefficient:2,increase_offset:0}).data([])}else t=window.kmeanCluster.k(u.k).distanceMethod(u.normMethod).iterations(u.iterations);var g=50,y=25;t.callback((function(e){g+=y,y/=2,l({iteration:e,process:g})})),t.data(p).calculate();var b=t.binRadius,x=a.map((function(e){return e.text}));v=t.bins.map((function(e,n){var r;r=t.normalizedFun?t.normalizedFun.scaleBackPoint(e.val).map((function(e,t){var n;return{axis:x[t],value:e<0?void 0:e,enable:a[t].enable,angle:null!==(n=a[t].angle)&&void 0!==n?n:0,minval:0,maxval:0,mean:0}})):e.val.map((function(e,t){var n;return{axis:x[t],value:e,minval:0,maxval:0,mean:0,enable:a[t].enable,angle:null!==(n=a[t].angle)&&void 0!==n?n:0}})),r.bin={name:e.map((function(e){return e.data.name})),id:e.map((function(e){return e.data.id})),nameob:e.map((function(e){return{name:e.data.name,timestep:e.data.indexSamp}})),scaledval:e,distancefunc:function(e){return ww(e.map((function(t){return f(e[0],t)})))},distance:0},t.normalizedFun?r.bin.val=t.normalizedFun.scaleBackPoints(e):r.bin.val=e.slice();var i={labels:n,radius:b||r.bin.distance,mse:r.bin.mse,index:n,__metrics:r,arr:[],total:r.bin.id.length};return r.forEach((function(e,t){return i[a[t].text]=e.value<0?void 0:a[t].scale.invert(e.value)})),i.index=n,i.__metrics=r.slice(),i.__metrics.normalize=i.__metrics.map((function(e,t){return e.value})),i}))}var _=function(e,t){var n={};return e.forEach((function(e,r){e.index=r,e.axis=[],e.labels=""+r,e.name="group_".concat(r+1);var i=e.__metrics.filter((function(e){return!e.value})),a="";if(i.length&&i.length<e.__metrics.normalize.length)e.axis=i.map((function(e){return{id:e.axis,description:"undefined"}})),a+="".concat(i.length," metric(s) undefined ");else if(i.length===e.__metrics.normalize.length)return e.text="undefined",n[e.name]||(n[e.name]={}),n[e.name].id=e.name,void(n[e.name].text=e.text);a+=e.__metrics.filter((function(e){return e.value>.75})).map((function(t){return e.axis.push({id:t.axis,description:"high"}),"High "+t.axis})).join(", "),a=a.trim(),e.text=""===a?"":"".concat(a),t&&n[e.name]||(n[e.name]||(n[e.name]={}),n[e.name].id=e.name,n[e.name].text=e.text)})),n}(v),w=function(e){var t=K4.customschemeCategory.slice();(e.length>9&&e.length<21||e.length>20)&&(t=K4.schemeCategory20);var n=xB().range(t),r=[],i=[];return e.filter((function(e){return"undefined"!==e.text})).forEach((function(e){r.push(n(e.name)),i.push(e.name)})),e.filter((function(e){return"undefined"===e.text})).forEach((function(e){r.push("gray"),i.push(e.name)})),r.push("gray"),i.push("outlier"),r.push("black"),i.push("missing"),xB().range(r).domain(i)}(v);p.forEach((function(e,t){pie(h[t],e,v,f)}));var S=0;v.forEach((function(e){var t;e.__metrics.forEach((function(t,n){var r;t.minval=Sw(e.arr,(function(e){return e[n]})),t.maxval=ww(e.arr,(function(e){return e[n]})),t.mean=null!==(r=Pw(e.arr,(function(e){return e[n]})))&&void 0!==r?r:0})),e.mse=null!==(t=$w(e.__metrics.map((function(e){return(e.maxval-e.minval)*(e.maxval-e.minval)})).filter((function(e){return void 0!==e}))))&&void 0!==t?t:0,S+=e.mse})),S/=v.length;var k=performance.now();return{cluster:v,clusterDescription:_,colorCluster:w,clusterInfo:{clusterCalTime:k-c,totalMSE:S,input:h.length,total:r.length}}}!function(){var e="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};var t,r,i=(t=function(t,n){!function(){var r="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},i=r._,a=Array.prototype,o=Object.prototype,u="undefined"!==typeof Symbol?Symbol.prototype:null,s=a.push,l=a.slice,c=o.toString,f=o.hasOwnProperty,h=Array.isArray,d=Object.keys,p=Object.create,v=function(){},m=function e(t){return t instanceof e?t:this instanceof e?void(this._wrapped=t):new e(t)};n.nodeType?r._=m:(!t.nodeType&&t.exports&&(n=t.exports=m),n._=m),m.VERSION="1.9.1";var g,y=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)}}return function(){return e.apply(t,arguments)}},b=function(e,t,n){return m.iteratee!==g?m.iteratee(e,t):null==e?m.identity:m.isFunction(e)?y(e,t,n):m.isObject(e)&&!m.isArray(e)?m.matcher(e):m.property(e)};m.iteratee=g=function(e,t){return b(e,t,1/0)};var x=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var a=Array(t+1);for(i=0;i<t;i++)a[i]=arguments[i];return a[t]=r,e.apply(this,a)}},_=function(e){if(!m.isObject(e))return{};if(p)return p(e);v.prototype=e;var t=new v;return v.prototype=null,t},w=function(e){return function(t){return null==t?void 0:t[e]}},S=function(e,t){return null!=e&&f.call(e,t)},k=function(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0},M=Math.pow(2,53)-1,E=w("length"),T=function(e){var t=E(e);return"number"==typeof t&&t>=0&&t<=M};m.each=m.forEach=function(e,t,n){var r,i;if(t=y(t,n),T(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var a=m.keys(e);for(r=0,i=a.length;r<i;r++)t(e[a[r]],a[r],e)}return e},m.map=m.collect=function(e,t,n){t=b(t,n);for(var r=!T(e)&&m.keys(e),i=(r||e).length,a=Array(i),o=0;o<i;o++){var u=r?r[o]:o;a[o]=t(e[u],u,e)}return a};var A=function(e){var t=function(t,n,r,i){var a=!T(t)&&m.keys(t),o=(a||t).length,u=e>0?0:o-1;for(i||(r=t[a?a[u]:u],u+=e);u>=0&&u<o;u+=e){var s=a?a[u]:u;r=n(r,t[s],s,t)}return r};return function(e,n,r,i){var a=arguments.length>=3;return t(e,y(n,i,4),r,a)}};m.reduce=m.foldl=m.inject=A(1),m.reduceRight=m.foldr=A(-1),m.find=m.detect=function(e,t,n){var r=(T(e)?m.findIndex:m.findKey)(e,t,n);if(void 0!==r&&-1!==r)return e[r]},m.filter=m.select=function(e,t,n){var r=[];return t=b(t,n),m.each(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r},m.reject=function(e,t,n){return m.filter(e,m.negate(b(t)),n)},m.every=m.all=function(e,t,n){t=b(t,n);for(var r=!T(e)&&m.keys(e),i=(r||e).length,a=0;a<i;a++){var o=r?r[a]:a;if(!t(e[o],o,e))return!1}return!0},m.some=m.any=function(e,t,n){t=b(t,n);for(var r=!T(e)&&m.keys(e),i=(r||e).length,a=0;a<i;a++){var o=r?r[a]:a;if(t(e[o],o,e))return!0}return!1},m.contains=m.includes=m.include=function(e,t,n,r){return T(e)||(e=m.values(e)),("number"!=typeof n||r)&&(n=0),m.indexOf(e,t,n)>=0},m.invoke=x((function(e,t,n){var r,i;return m.isFunction(t)?i=t:m.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),m.map(e,(function(e){var a=i;if(!a){if(r&&r.length&&(e=k(e,r)),null==e)return;a=e[t]}return null==a?a:a.apply(e,n)}))})),m.pluck=function(e,t){return m.map(e,m.property(t))},m.where=function(e,t){return m.filter(e,m.matcher(t))},m.findWhere=function(e,t){return m.find(e,m.matcher(t))},m.max=function(e,t,n){var r,i,a=-1/0,o=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var u=0,s=(e=T(e)?e:m.values(e)).length;u<s;u++)null!=(r=e[u])&&r>a&&(a=r);else t=b(t,n),m.each(e,(function(e,n,r){((i=t(e,n,r))>o||i===-1/0&&a===-1/0)&&(a=e,o=i)}));return a},m.min=function(e,t,n){var r,i,a=1/0,o=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var u=0,s=(e=T(e)?e:m.values(e)).length;u<s;u++)null!=(r=e[u])&&r<a&&(a=r);else t=b(t,n),m.each(e,(function(e,n,r){((i=t(e,n,r))<o||i===1/0&&a===1/0)&&(a=e,o=i)}));return a},m.shuffle=function(e){return m.sample(e,1/0)},m.sample=function(e,t,n){if(null==t||n)return T(e)||(e=m.values(e)),e[m.random(e.length-1)];var r=T(e)?m.clone(e):m.values(e),i=E(r);t=Math.max(Math.min(t,i),0);for(var a=i-1,o=0;o<t;o++){var u=m.random(o,a),s=r[o];r[o]=r[u],r[u]=s}return r.slice(0,t)},m.sortBy=function(e,t,n){var r=0;return t=b(t,n),m.pluck(m.map(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")};var C=function(e,t){return function(n,r,i){var a=t?[[],[]]:{};return r=b(r,i),m.each(n,(function(t,i){var o=r(t,i,n);e(a,t,o)})),a}};m.groupBy=C((function(e,t,n){S(e,n)?e[n].push(t):e[n]=[t]})),m.indexBy=C((function(e,t,n){e[n]=t})),m.countBy=C((function(e,t,n){S(e,n)?e[n]++:e[n]=1}));var R=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(e){return e?m.isArray(e)?l.call(e):m.isString(e)?e.match(R):T(e)?m.map(e,m.identity):m.values(e):[]},m.size=function(e){return null==e?0:T(e)?e.length:m.keys(e).length},m.partition=C((function(e,t,n){e[n?0:1].push(t)}),!0),m.first=m.head=m.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:m.initial(e,e.length-t)},m.initial=function(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},m.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:m.rest(e,Math.max(0,e.length-t))},m.rest=m.tail=m.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},m.compact=function(e){return m.filter(e,Boolean)};var P=function e(t,n,r,i){for(var a=(i=i||[]).length,o=0,u=E(t);o<u;o++){var s=t[o];if(T(s)&&(m.isArray(s)||m.isArguments(s)))if(n)for(var l=0,c=s.length;l<c;)i[a++]=s[l++];else e(s,n,r,i),a=i.length;else r||(i[a++]=s)}return i};m.flatten=function(e,t){return P(e,t,!1)},m.without=x((function(e,t){return m.difference(e,t)})),m.uniq=m.unique=function(e,t,n,r){m.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=b(n,r));for(var i=[],a=[],o=0,u=E(e);o<u;o++){var s=e[o],l=n?n(s,o,e):s;t&&!n?(o&&a===l||i.push(s),a=l):n?m.contains(a,l)||(a.push(l),i.push(s)):m.contains(i,s)||i.push(s)}return i},m.union=x((function(e){return m.uniq(P(e,!0,!0))})),m.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=E(e);r<i;r++){var a=e[r];if(!m.contains(t,a)){var o;for(o=1;o<n&&m.contains(arguments[o],a);o++);o===n&&t.push(a)}}return t},m.difference=x((function(e,t){return t=P(t,!0,!0),m.filter(e,(function(e){return!m.contains(t,e)}))})),m.unzip=function(e){for(var t=e&&m.max(e,E).length||0,n=Array(t),r=0;r<t;r++)n[r]=m.pluck(e,r);return n},m.zip=x(m.unzip),m.object=function(e,t){for(var n={},r=0,i=E(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};var L=function(e){return function(t,n,r){n=b(n,r);for(var i=E(t),a=e>0?0:i-1;a>=0&&a<i;a+=e)if(n(t[a],a,t))return a;return-1}};m.findIndex=L(1),m.findLastIndex=L(-1),m.sortedIndex=function(e,t,n,r){for(var i=(n=b(n,r,1))(t),a=0,o=E(e);a<o;){var u=Math.floor((a+o)/2);n(e[u])<i?a=u+1:o=u}return a};var O=function(e,t,n){return function(r,i,a){var o=0,u=E(r);if("number"==typeof a)e>0?o=a>=0?a:Math.max(a+u,o):u=a>=0?Math.min(a+1,u):a+u+1;else if(n&&a&&u)return r[a=n(r,i)]===i?a:-1;if(i!==i)return(a=t(l.call(r,o,u),m.isNaN))>=0?a+o:-1;for(a=e>0?o:u-1;a>=0&&a<u;a+=e)if(r[a]===i)return a;return-1}};m.indexOf=O(1,m.findIndex,m.sortedIndex),m.lastIndexOf=O(-1,m.findLastIndex),m.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),a=0;a<r;a++,e+=n)i[a]=e;return i},m.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(l.call(e,r,r+=t));return n};var I=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var a=_(e.prototype),o=e.apply(a,i);return m.isObject(o)?o:a};m.bind=x((function(e,t,n){if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");var r=x((function(i){return I(e,r,t,this,n.concat(i))}));return r})),m.partial=x((function(e,t){var n=m.partial.placeholder;return function r(){for(var i=0,a=t.length,o=Array(a),u=0;u<a;u++)o[u]=t[u]===n?arguments[i++]:t[u];for(;i<arguments.length;)o.push(arguments[i++]);return I(e,r,this,this,o)}})),m.partial.placeholder=m,m.bindAll=x((function(e,t){var n=(t=P(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=m.bind(e[r],e)}})),m.memoize=function(e,t){var n=function n(r){var i=n.cache,a=""+(t?t.apply(this,arguments):r);return S(i,a)||(i[a]=e.apply(this,arguments)),i[a]};return n.cache={},n},m.delay=x((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),m.defer=m.partial(m.delay,m,1),m.throttle=function(e,t,n){var r,i,a,o,u=0;n||(n={});var s=function(){u=!1===n.leading?0:m.now(),r=null,o=e.apply(i,a),r||(i=a=null)},l=function(){var l=m.now();u||!1!==n.leading||(u=l);var c=t-(l-u);return i=this,a=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),u=l,o=e.apply(i,a),r||(i=a=null)):r||!1===n.trailing||(r=setTimeout(s,c)),o};return l.cancel=function(){clearTimeout(r),u=0,r=i=a=null},l},m.debounce=function(e,t,n){var r,i,a=function(t,n){r=null,n&&(i=e.apply(t,n))},o=x((function(o){if(r&&clearTimeout(r),n){var u=!r;r=setTimeout(a,t),u&&(i=e.apply(this,o))}else r=m.delay(a,t,this,o);return i}));return o.cancel=function(){clearTimeout(r),r=null},o},m.wrap=function(e,t){return m.partial(t,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},m.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},m.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},m.once=m.partial(m.before,2),m.restArguments=x;var D=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],z=function(e,t){var n=N.length,r=e.constructor,i=m.isFunction(r)&&r.prototype||o,a="constructor";for(S(e,a)&&!m.contains(t,a)&&t.push(a);n--;)(a=N[n])in e&&e[a]!==i[a]&&!m.contains(t,a)&&t.push(a)};m.keys=function(e){if(!m.isObject(e))return[];if(d)return d(e);var t=[];for(var n in e)S(e,n)&&t.push(n);return D&&z(e,t),t},m.allKeys=function(e){if(!m.isObject(e))return[];var t=[];for(var n in e)t.push(n);return D&&z(e,t),t},m.values=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},m.mapObject=function(e,t,n){t=b(t,n);for(var r=m.keys(e),i=r.length,a={},o=0;o<i;o++){var u=r[o];a[u]=t(e[u],u,e)}return a},m.pairs=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},m.invert=function(e){for(var t={},n=m.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},m.functions=m.methods=function(e){var t=[];for(var n in e)m.isFunction(e[n])&&t.push(n);return t.sort()};var F=function(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var a=arguments[i],o=e(a),u=o.length,s=0;s<u;s++){var l=o[s];t&&void 0!==n[l]||(n[l]=a[l])}return n}};m.extend=F(m.allKeys),m.extendOwn=m.assign=F(m.keys),m.findKey=function(e,t,n){t=b(t,n);for(var r,i=m.keys(e),a=0,o=i.length;a<o;a++)if(t(e[r=i[a]],r,e))return r};var B,U,j=function(e,t,n){return t in n};m.pick=x((function(e,t){var n={},r=t[0];if(null==e)return n;m.isFunction(r)?(t.length>1&&(r=y(r,t[1])),t=m.allKeys(e)):(r=j,t=P(t,!1,!1),e=Object(e));for(var i=0,a=t.length;i<a;i++){var o=t[i],u=e[o];r(u,o,e)&&(n[o]=u)}return n})),m.omit=x((function(e,t){var n,r=t[0];return m.isFunction(r)?(r=m.negate(r),t.length>1&&(n=t[1])):(t=m.map(P(t,!1,!1),String),r=function(e,n){return!m.contains(t,n)}),m.pick(e,r,n)})),m.defaults=F(m.allKeys,!0),m.create=function(e,t){var n=_(e);return t&&m.extendOwn(n,t),n},m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,t){return t(e),e},m.isMatch=function(e,t){var n=m.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),a=0;a<r;a++){var o=n[a];if(t[o]!==i[o]||!(o in i))return!1}return!0},B=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&U(e,t,n,r)},U=function(e,t,n,r){e instanceof m&&(e=e._wrapped),t instanceof m&&(t=t._wrapped);var i=c.call(e);if(i!==c.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return u.valueOf.call(e)===u.valueOf.call(t)}var a="[object Array]"===i;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,s=t.constructor;if(o!==s&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var l=(n=n||[]).length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),a){if((l=e.length)!==t.length)return!1;for(;l--;)if(!B(e[l],t[l],n,r))return!1}else{var f,h=m.keys(e);if(l=h.length,m.keys(t).length!==l)return!1;for(;l--;)if(f=h[l],!S(t,f)||!B(e[f],t[f],n,r))return!1}return n.pop(),r.pop(),!0},m.isEqual=function(e,t){return B(e,t)},m.isEmpty=function(e){return null==e||(T(e)&&(m.isArray(e)||m.isString(e)||m.isArguments(e))?0===e.length:0===m.keys(e).length)},m.isElement=function(e){return!(!e||1!==e.nodeType)},m.isArray=h||function(e){return"[object Array]"===c.call(e)},m.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(e){m["is"+e]=function(t){return c.call(t)==="[object "+e+"]"}})),m.isArguments(arguments)||(m.isArguments=function(e){return S(e,"callee")});var H=r.document&&r.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof H&&(m.isFunction=function(e){return"function"==typeof e||!1}),m.isFinite=function(e){return!m.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&isNaN(e)},m.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===c.call(e)},m.isNull=function(e){return null===e},m.isUndefined=function(e){return void 0===e},m.has=function(e,t){if(!m.isArray(t))return S(e,t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(null==e||!f.call(e,i))return!1;e=e[i]}return!!n},m.noConflict=function(){return r._=i,this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=function(e){return m.isArray(e)?function(t){return k(t,e)}:w(e)},m.propertyOf=function(e){return null==e?function(){}:function(t){return m.isArray(t)?k(e,t):e[t]}},m.matcher=m.matches=function(e){return e=m.extendOwn({},e),function(t){return m.isMatch(t,e)}},m.times=function(e,t,n){var r=Array(Math.max(0,e));t=y(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},m.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var Z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},G=m.invert(Z),W=function(e){var t=function(t){return e[t]},n="(?:"+m.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};m.escape=W(Z),m.unescape=W(G),m.result=function(e,t,n){m.isArray(t)||(t=[t]);var r=t.length;if(!r)return m.isFunction(n)?n.call(e):n;for(var i=0;i<r;i++){var a=null==e?void 0:e[t[i]];void 0===a&&(a=n,i=r),e=m.isFunction(a)?a.call(e):a}return e};var V=0;m.uniqueId=function(e){var t=++V+"";return e?e+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,X={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(e){return"\\"+X[e]};m.template=function(e,t,n){!t&&n&&(t=n),t=m.defaults({},t,m.templateSettings);var r,i=RegExp([(t.escape||q).source,(t.interpolate||q).source,(t.evaluate||q).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(i,(function(t,n,r,i,u){return o+=e.slice(a,u).replace($,Y),a=u+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(o+="';\n"+i+"\n__p+='"),t})),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(t.variable||"obj","_",o)}catch(l){throw l.source=o,l}var u=function(e){return r.call(this,e,m)},s=t.variable||"obj";return u.source="function("+s+"){\n"+o+"}",u},m.chain=function(e){var t=m(e);return t._chain=!0,t};var K=function(e,t){return e._chain?m(t).chain():t};m.mixin=function(e){return m.each(m.functions(e),(function(t){var n=m[t]=e[t];m.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),K(this,n.apply(m,e))}})),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=a[e];m.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],K(this,n)}})),m.each(["concat","join","slice"],(function(e){var t=a[e];m.prototype[e]=function(){return K(this,t.apply(this._wrapped,arguments))}})),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)}}()},t(r={exports:{}},r.exports),r.exports),a=(i._,function(){function e(t){S(this,e),this.points=t.map((function(e){return e.slice()})),this.points.forEach((function(e,n){e.data=t[n].data}));var n=this.nds=i.unzip(this.points),r=this.maxD=[],a=this.minD=[],o=this.rangeD=[],u=this.normalizedD=[];n.forEach((function(e,t){r[t]=i.max(e),a[t]=i.min(e),o[t]=r[t]!=a[t]?r[t]-a[t]:1,u[t]=e.map((function(e){return(e-a[t])/o[t]}))}));var s=this.points.length;this.normalizedPoints=[];for(var l=0;l<s;l++){this.normalizedPoints[l]=[];for(var c=0;c<this.nds.length;c++)this.normalizedPoints[l][c]=u[c][l]}for(var f=0;f<s;f++)this.normalizedPoints[f].data=this.points[f].data}return M(e,[{key:"scaleBackPoints",value:function(e){var t=this;return e.map((function(e){return t.scaleBackPoint(e)}))}},{key:"scaleBackPoint",value:function(e){var t=this,n=e.map((function(e,n){return t.rangeD[n]*e+t.minD[n]}));return n}}]),e}()),u=function(){function e(t,n){S(this,e),this.points=t,this.radius=n}return M(e,[{key:"leaders",get:function(){var e=this,t=[];return this.points.forEach((function(e){if(!n(t,e)){var r=[];r.site=e.slice(),t.push(r)}})),this.points.forEach((function(e){n(t,e).push(e)})),t;function n(t,n){for(var r=t.length,i=Number.MAX_SAFE_INTEGER,a=null,o=0;o<r;++o){var u=t[o],l=s(u.site,n);l<e.radius&&l<i&&(i=l,a=u)}return a}}}]),e}();function s(e,t){for(var n=0,r=0;r<e.length;r++){var i=e[r]-t[r];Number.isNaN(i)||(n+=i*i)}return Math.round(Math.sqrt(n)*Math.pow(10,10))/Math.pow(10,10)}function l(e){var t={};return e.forEach((function(n){n.source.join||(console.log(n),console.log(e));var r=n.source.join(",");t[r]||(t[r]=[]),t[r].push(n);var i=n.target.join(",");t[i]||(t[i]=[]),t[i].push(n)})),i.pairs(t)}function c(e){var t=l(e.links).filter((function(e){return e[1].length>=2}));return t.map((function(e){return e[0].split(",").map(Number)}))}function f(e,t){var n={nodes:[],links:[]};return e.forEach((function(e){e.forEach((function(e){n.nodes.push(function(e){return{id:e}}(e))}))})),e.forEach((function(e){for(var r=0;r<e.length-1;r++)for(var i=e[r],a=r+1;a<e.length;a++){var o=e[a],u=i,s=o,l=h(i,o,t),c={source:u,target:s,weight:l};n.links.push(c)}})),n}function h(e,t,n){var r=0;if(n)for(var i=0;i<e.length;i++){var a=(e[i]-t[i])*(e[i]-t[i]);Number.isNaN(a)||(r+=a*n[i])}else for(var o=0;o<e.length;o++){var u=(e[o]-t[o])*(e[o]-t[o]);Number.isNaN(u)||(r+=u)}return Math.round(Math.sqrt(r)*Math.pow(10,10))/Math.pow(10,10)}function d(e,t){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function p(e,t){for(var n=0;n<e.length;n++){if(d(e[n],t))return!0}return!1}function v(e){var t=e.nodes,n=e.links.slice(0),r=[],i=new m;for(t.forEach((function(e){i.makeSet(e.id)})),n.sort((function(e,t){return-(e.weight-t.weight)}));n.length&&i.size()>1;){var a=n.pop();i.find(a.source)!==i.find(a.target)&&(i.union(a.source,a.target),r.push(a))}return{nodes:t,links:r}}function m(){this.index_={}}function g(e){this.id_=e,this.parent_=this,this.rank_=0}function y(e,t){var n=e.length*t;if(0===e.length)throw new Error("quantile requires at least one data point.");if(t<0||t>1)throw new Error("quantiles must be between 0 and 1");return 1===t?e[e.length-1]:0===t?e[0]:n%1!=0?e[Math.ceil(n)-1]:e.length%2==0?(e[n-1]+e[n])/2:e[n]}function b(e,t,n,r){for(n=n||0,r=r||e.length-1;r>n;){if(r-n>600){var i=r-n+1,a=t-n+1,o=Math.log(i),u=.5*Math.exp(2*o/3),s=.5*Math.sqrt(o*u*(i-u)/i);a-i/2<0&&(s*=-1),b(e,t,Math.max(n,Math.floor(t-a*u/i+s)),Math.min(r,Math.floor(t+(i-a)*u/i+s)))}var l=e[t],c=n,f=r;for(x(e,n,t),e[r]>l&&x(e,n,r);c<f;){for(x(e,c,f),c++,f--;e[c]<l;)c++;for(;e[f]>l;)f--}e[n]===l?x(e,n,f):x(e,++f,r),f<=t&&(n=f+1),t<=f&&(r=f-1)}}function x(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,t){var n=e.slice();if(Array.isArray(t)){!function(e,t){for(var n=[0],r=0;r<t.length;r++)n.push(E(e.length,t[r]));n.push(e.length-1),n.sort(k);for(var i=[0,n.length-1];i.length;){var a=Math.ceil(i.pop()),o=Math.floor(i.pop());if(!(a-o<=1)){var u=Math.floor((o+a)/2);w(e,n[u],Math.floor(n[o]),Math.ceil(n[a])),i.push(o,u,u,a)}}}(n,t);for(var r=[],i=0;i<t.length;i++)r[i]=y(n,t[i]);return r}return w(n,E(n.length,t),0,n.length-1),y(n,t)}function w(e,t,n,r){t%1==0?b(e,t,n,r):(b(e,t=Math.floor(t),n,r),b(e,t+1,t+1,r))}function k(e,t){return e-t}function E(e,t){var n=e*t;return 1===t?e-1:0===t?0:n%1!=0?Math.ceil(n)-1:e%2==0?n-.5:n}m.prototype.makeSet=function(e){if(!this.index_[e]){var t=new g(e);this.index_[e]=t}},m.prototype.find=function(e){if(void 0!==this.index_[e]){for(var t=this.index_[e].parent_;t!==t.parent_;)t=t.parent_;return t.id_}},m.prototype.union=function(e,t){var n=this.index_[this.find(e)],r=this.index_[this.find(t)];void 0!==n&&void 0!==r&&n!==r&&(n.rank<r.rank?n.parent_=r:r.rank_<n.rank_?r.parent_=n:(r.parent_=n,n.rank_++))},m.prototype.size=function(){var e={};return Object.keys(this.index_).forEach((function(t){e[t]=!0})),Object.keys(e).length};var T=Math.sqrt(2*Math.PI);function A(e){for(var t=e,n=e,r=1;r<15;r++)t+=n*=e*e/(2*r+1);return Math.round(1e4*(.5+t/T*Math.exp(-e*e/2)))/1e4}for(var C=[],R=0;R<=3.09;R+=.01)C.push(A(R));var P=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S(this,e);var r=n.upperBound,a=n.outlyingCoefficient,o=n.weights;this.tree=JSON.parse(JSON.stringify(t)),this.upperBound=r,this.outlyingCoefficient=a||1.5,r||(r=m(this.tree,a),this.upperBound=r),d(this.tree,r);var u=h(this.tree);function s(e,t){var n=t,r=e.nodes,i=[];return r.forEach((function(e){p(n.map((function(e){return e.id})),e.id)||i.push(e.id)})),i}function l(e,t){var n={};n.nodes=u,n.links=e.links.filter((function(e){return!0!==e.isOutlying}));var r=t.map((function(e){return e.join(",")})),a=c(e).map((function(e){return e.join(",")}));if(i.difference(r,a).length<r.length){var s=f([n.nodes.map((function(e){return e.id}))],o);n=v(s)}return n}function h(e){var t=e.links.filter((function(e){return!e.isLong})),n=[];return t.forEach((function(e){n.push(e.source),n.push(e.target)})),n=i.uniq(n,!1,(function(e){return e.join(",")})),n.map((function(e){return{id:e}}))}function d(e,t){e.links.forEach((function(e){e.weight>t&&(e.isLong=!0)}))}function m(e,t){var n=e.links.map((function(e){return e.weight})),r=_(n,.25),i=_(n,.75);return i+t*(i-r)}function g(e,t){t.length>0&&e.links.filter((function(e){return e.isLong})).forEach((function(e){(p(t,e.source)||p(t,e.target))&&(e.isOutlying=!0)}))}this.outlyingPoints=s(this.tree,u),g(this.tree,this.outlyingPoints),this.noOutlyingTree=l(this.tree,this.outlyingPoints)}return M(e,[{key:"score",value:function(){var e=0,t=0;return this.tree.links.forEach((function(n){e+=n.weight,n.isOutlying&&(t+=n.weight)})),t/e}},{key:"links",value:function(){return this.outlyingLinks||(this.outlyingLinks=this.tree.links.filter((function(e){return e.isOutlying}))),this.outlyingLinks}},{key:"removeOutlying",value:function(){return this.noOutlyingTree}},{key:"points",value:function(){return this.outlyingPoints}}]),e}();!function(e){e.scagnosticsnd=function(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t[0].length,i=t.map((function(e){return e.slice()})),s=0;s<i.length;s++)i[s].data=t[s].data;var l=i;if(void 0===n.isNormalized){var c=new a(i);H("normalizedPoints",l=c.normalizedPoints),H("normalizer",c)}var h=n.binType,p=n.outlyingUpperBound,m=n.outlyingCoefficient,g=null,y=null,b=null,x=null,_=0,w=n.startBinGridSize;if(void 0===n.isBinned){var S=n.incrementA?n.incrementA:2,k=n.incrementB?n.incrementB:0,M=n.decrementA?n.decrementA:.5,E=n.decrementB?n.decrementB:0;void 0===w&&(w=20),y=[];var T=30,A=200,C=n.minBins,R=n.maxBins;C&&(T=C),R&&(A=R);do{null===x?x=w:y.length>A?x=x*M+E:y.length<T&&(x=x*S+k),"hexagon"===h||h&&"leader"!==h||(_=Math.sqrt(r*Math.pow(1/(2*x),2)),b=new u(l,_),y=b.leaders)}while(y.length>A||y.length<T);g=y.map((function(e){return e.site})),H("binner",b),H("bins",y),H("binSize",x),H("binRadius",_)}else y=(g=l).map((function(e){var t=(0,o.Z)(e);return t.data=e.data,[t]})),y.forEach((function(e,t){var n=(0,o.Z)(l[t]);n.data=l[t].data,e.site=[n]}));H("binnedSites",g);var L=[g],O=n.distanceWeights,I=f(L,O),D=v(I);H("graph",I),H("mst",D);var N=new P(D,{outlyingUpperBound:p,outlyingCoefficient:m}),z=N.score();p=N.upperBound;var F=N.links(),B=N.points().map((function(e){return e.join(",")})),U=y.filter((function(e){return B.indexOf(e.site.join(","))>=0})),j=[];return N.points().forEach((function(e){y.forEach((function(t){d(e,t.site)&&(j=j.concat(t))}))})),H("outlyingBins",U),H("outlyingScore",z),H("outlyingUpperBound",p),H("outlyingLinks",F),H("outlyingPoints",j),e.scagnosticsnd;function H(t,n){e.scagnosticsnd[t]=n}}}(window)}(),function(){var e="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};var t,r,i=(t=function(t,n){!function(){var r="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},i=r._,a=Array.prototype,o=Object.prototype,u="undefined"!==typeof Symbol?Symbol.prototype:null,s=a.push,l=a.slice,c=o.toString,f=o.hasOwnProperty,h=Array.isArray,d=Object.keys,p=Object.create,v=function(){},m=function e(t){return t instanceof e?t:this instanceof e?void(this._wrapped=t):new e(t)};n.nodeType?r._=m:(!t.nodeType&&t.exports&&(n=t.exports=m),n._=m),m.VERSION="1.9.1";var g,y=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)}}return function(){return e.apply(t,arguments)}},b=function(e,t,n){return m.iteratee!==g?m.iteratee(e,t):null==e?m.identity:m.isFunction(e)?y(e,t,n):m.isObject(e)&&!m.isArray(e)?m.matcher(e):m.property(e)};m.iteratee=g=function(e,t){return b(e,t,1/0)};var x=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var a=Array(t+1);for(i=0;i<t;i++)a[i]=arguments[i];return a[t]=r,e.apply(this,a)}},_=function(e){if(!m.isObject(e))return{};if(p)return p(e);v.prototype=e;var t=new v;return v.prototype=null,t},w=function(e){return function(t){return null==t?void 0:t[e]}},S=function(e,t){return null!=e&&f.call(e,t)},k=function(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0},M=Math.pow(2,53)-1,E=w("length"),T=function(e){var t=E(e);return"number"==typeof t&&t>=0&&t<=M};m.each=m.forEach=function(e,t,n){var r,i;if(t=y(t,n),T(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var a=m.keys(e);for(r=0,i=a.length;r<i;r++)t(e[a[r]],a[r],e)}return e},m.map=m.collect=function(e,t,n){t=b(t,n);for(var r=!T(e)&&m.keys(e),i=(r||e).length,a=Array(i),o=0;o<i;o++){var u=r?r[o]:o;a[o]=t(e[u],u,e)}return a};var A=function(e){var t=function(t,n,r,i){var a=!T(t)&&m.keys(t),o=(a||t).length,u=e>0?0:o-1;for(i||(r=t[a?a[u]:u],u+=e);u>=0&&u<o;u+=e){var s=a?a[u]:u;r=n(r,t[s],s,t)}return r};return function(e,n,r,i){var a=arguments.length>=3;return t(e,y(n,i,4),r,a)}};m.reduce=m.foldl=m.inject=A(1),m.reduceRight=m.foldr=A(-1),m.find=m.detect=function(e,t,n){var r=(T(e)?m.findIndex:m.findKey)(e,t,n);if(void 0!==r&&-1!==r)return e[r]},m.filter=m.select=function(e,t,n){var r=[];return t=b(t,n),m.each(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r},m.reject=function(e,t,n){return m.filter(e,m.negate(b(t)),n)},m.every=m.all=function(e,t,n){t=b(t,n);for(var r=!T(e)&&m.keys(e),i=(r||e).length,a=0;a<i;a++){var o=r?r[a]:a;if(!t(e[o],o,e))return!1}return!0},m.some=m.any=function(e,t,n){t=b(t,n);for(var r=!T(e)&&m.keys(e),i=(r||e).length,a=0;a<i;a++){var o=r?r[a]:a;if(t(e[o],o,e))return!0}return!1},m.contains=m.includes=m.include=function(e,t,n,r){return T(e)||(e=m.values(e)),("number"!=typeof n||r)&&(n=0),m.indexOf(e,t,n)>=0},m.invoke=x((function(e,t,n){var r,i;return m.isFunction(t)?i=t:m.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),m.map(e,(function(e){var a=i;if(!a){if(r&&r.length&&(e=k(e,r)),null==e)return;a=e[t]}return null==a?a:a.apply(e,n)}))})),m.pluck=function(e,t){return m.map(e,m.property(t))},m.where=function(e,t){return m.filter(e,m.matcher(t))},m.findWhere=function(e,t){return m.find(e,m.matcher(t))},m.max=function(e,t,n){var r,i,a=-1/0,o=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var u=0,s=(e=T(e)?e:m.values(e)).length;u<s;u++)null!=(r=e[u])&&r>a&&(a=r);else t=b(t,n),m.each(e,(function(e,n,r){((i=t(e,n,r))>o||i===-1/0&&a===-1/0)&&(a=e,o=i)}));return a},m.min=function(e,t,n){var r,i,a=1/0,o=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var u=0,s=(e=T(e)?e:m.values(e)).length;u<s;u++)null!=(r=e[u])&&r<a&&(a=r);else t=b(t,n),m.each(e,(function(e,n,r){((i=t(e,n,r))<o||i===1/0&&a===1/0)&&(a=e,o=i)}));return a},m.shuffle=function(e){return m.sample(e,1/0)},m.sample=function(e,t,n){if(null==t||n)return T(e)||(e=m.values(e)),e[m.random(e.length-1)];var r=T(e)?m.clone(e):m.values(e),i=E(r);t=Math.max(Math.min(t,i),0);for(var a=i-1,o=0;o<t;o++){var u=m.random(o,a),s=r[o];r[o]=r[u],r[u]=s}return r.slice(0,t)},m.sortBy=function(e,t,n){var r=0;return t=b(t,n),m.pluck(m.map(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")};var C=function(e,t){return function(n,r,i){var a=t?[[],[]]:{};return r=b(r,i),m.each(n,(function(t,i){var o=r(t,i,n);e(a,t,o)})),a}};m.groupBy=C((function(e,t,n){S(e,n)?e[n].push(t):e[n]=[t]})),m.indexBy=C((function(e,t,n){e[n]=t})),m.countBy=C((function(e,t,n){S(e,n)?e[n]++:e[n]=1}));var R=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(e){return e?m.isArray(e)?l.call(e):m.isString(e)?e.match(R):T(e)?m.map(e,m.identity):m.values(e):[]},m.size=function(e){return null==e?0:T(e)?e.length:m.keys(e).length},m.partition=C((function(e,t,n){e[n?0:1].push(t)}),!0),m.first=m.head=m.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:m.initial(e,e.length-t)},m.initial=function(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},m.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:m.rest(e,Math.max(0,e.length-t))},m.rest=m.tail=m.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},m.compact=function(e){return m.filter(e,Boolean)};var P=function e(t,n,r,i){for(var a=(i=i||[]).length,o=0,u=E(t);o<u;o++){var s=t[o];if(T(s)&&(m.isArray(s)||m.isArguments(s)))if(n)for(var l=0,c=s.length;l<c;)i[a++]=s[l++];else e(s,n,r,i),a=i.length;else r||(i[a++]=s)}return i};m.flatten=function(e,t){return P(e,t,!1)},m.without=x((function(e,t){return m.difference(e,t)})),m.uniq=m.unique=function(e,t,n,r){m.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=b(n,r));for(var i=[],a=[],o=0,u=E(e);o<u;o++){var s=e[o],l=n?n(s,o,e):s;t&&!n?(o&&a===l||i.push(s),a=l):n?m.contains(a,l)||(a.push(l),i.push(s)):m.contains(i,s)||i.push(s)}return i},m.union=x((function(e){return m.uniq(P(e,!0,!0))})),m.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=E(e);r<i;r++){var a=e[r];if(!m.contains(t,a)){var o;for(o=1;o<n&&m.contains(arguments[o],a);o++);o===n&&t.push(a)}}return t},m.difference=x((function(e,t){return t=P(t,!0,!0),m.filter(e,(function(e){return!m.contains(t,e)}))})),m.unzip=function(e){for(var t=e&&m.max(e,E).length||0,n=Array(t),r=0;r<t;r++)n[r]=m.pluck(e,r);return n},m.zip=x(m.unzip),m.object=function(e,t){for(var n={},r=0,i=E(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};var L=function(e){return function(t,n,r){n=b(n,r);for(var i=E(t),a=e>0?0:i-1;a>=0&&a<i;a+=e)if(n(t[a],a,t))return a;return-1}};m.findIndex=L(1),m.findLastIndex=L(-1),m.sortedIndex=function(e,t,n,r){for(var i=(n=b(n,r,1))(t),a=0,o=E(e);a<o;){var u=Math.floor((a+o)/2);n(e[u])<i?a=u+1:o=u}return a};var O=function(e,t,n){return function(r,i,a){var o=0,u=E(r);if("number"==typeof a)e>0?o=a>=0?a:Math.max(a+u,o):u=a>=0?Math.min(a+1,u):a+u+1;else if(n&&a&&u)return r[a=n(r,i)]===i?a:-1;if(i!==i)return(a=t(l.call(r,o,u),m.isNaN))>=0?a+o:-1;for(a=e>0?o:u-1;a>=0&&a<u;a+=e)if(r[a]===i)return a;return-1}};m.indexOf=O(1,m.findIndex,m.sortedIndex),m.lastIndexOf=O(-1,m.findLastIndex),m.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),a=0;a<r;a++,e+=n)i[a]=e;return i},m.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(l.call(e,r,r+=t));return n};var I=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var a=_(e.prototype),o=e.apply(a,i);return m.isObject(o)?o:a};m.bind=x((function(e,t,n){if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");var r=x((function(i){return I(e,r,t,this,n.concat(i))}));return r})),m.partial=x((function(e,t){var n=m.partial.placeholder;return function r(){for(var i=0,a=t.length,o=Array(a),u=0;u<a;u++)o[u]=t[u]===n?arguments[i++]:t[u];for(;i<arguments.length;)o.push(arguments[i++]);return I(e,r,this,this,o)}})),m.partial.placeholder=m,m.bindAll=x((function(e,t){var n=(t=P(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=m.bind(e[r],e)}})),m.memoize=function(e,t){var n=function n(r){var i=n.cache,a=""+(t?t.apply(this,arguments):r);return S(i,a)||(i[a]=e.apply(this,arguments)),i[a]};return n.cache={},n},m.delay=x((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),m.defer=m.partial(m.delay,m,1),m.throttle=function(e,t,n){var r,i,a,o,u=0;n||(n={});var s=function(){u=!1===n.leading?0:m.now(),r=null,o=e.apply(i,a),r||(i=a=null)},l=function(){var l=m.now();u||!1!==n.leading||(u=l);var c=t-(l-u);return i=this,a=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),u=l,o=e.apply(i,a),r||(i=a=null)):r||!1===n.trailing||(r=setTimeout(s,c)),o};return l.cancel=function(){clearTimeout(r),u=0,r=i=a=null},l},m.debounce=function(e,t,n){var r,i,a=function(t,n){r=null,n&&(i=e.apply(t,n))},o=x((function(o){if(r&&clearTimeout(r),n){var u=!r;r=setTimeout(a,t),u&&(i=e.apply(this,o))}else r=m.delay(a,t,this,o);return i}));return o.cancel=function(){clearTimeout(r),r=null},o},m.wrap=function(e,t){return m.partial(t,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},m.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},m.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},m.once=m.partial(m.before,2),m.restArguments=x;var D=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],z=function(e,t){var n=N.length,r=e.constructor,i=m.isFunction(r)&&r.prototype||o,a="constructor";for(S(e,a)&&!m.contains(t,a)&&t.push(a);n--;)(a=N[n])in e&&e[a]!==i[a]&&!m.contains(t,a)&&t.push(a)};m.keys=function(e){if(!m.isObject(e))return[];if(d)return d(e);var t=[];for(var n in e)S(e,n)&&t.push(n);return D&&z(e,t),t},m.allKeys=function(e){if(!m.isObject(e))return[];var t=[];for(var n in e)t.push(n);return D&&z(e,t),t},m.values=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},m.mapObject=function(e,t,n){t=b(t,n);for(var r=m.keys(e),i=r.length,a={},o=0;o<i;o++){var u=r[o];a[u]=t(e[u],u,e)}return a},m.pairs=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},m.invert=function(e){for(var t={},n=m.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},m.functions=m.methods=function(e){var t=[];for(var n in e)m.isFunction(e[n])&&t.push(n);return t.sort()};var F=function(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var a=arguments[i],o=e(a),u=o.length,s=0;s<u;s++){var l=o[s];t&&void 0!==n[l]||(n[l]=a[l])}return n}};m.extend=F(m.allKeys),m.extendOwn=m.assign=F(m.keys),m.findKey=function(e,t,n){t=b(t,n);for(var r,i=m.keys(e),a=0,o=i.length;a<o;a++)if(t(e[r=i[a]],r,e))return r};var B,U,j=function(e,t,n){return t in n};m.pick=x((function(e,t){var n={},r=t[0];if(null==e)return n;m.isFunction(r)?(t.length>1&&(r=y(r,t[1])),t=m.allKeys(e)):(r=j,t=P(t,!1,!1),e=Object(e));for(var i=0,a=t.length;i<a;i++){var o=t[i],u=e[o];r(u,o,e)&&(n[o]=u)}return n})),m.omit=x((function(e,t){var n,r=t[0];return m.isFunction(r)?(r=m.negate(r),t.length>1&&(n=t[1])):(t=m.map(P(t,!1,!1),String),r=function(e,n){return!m.contains(t,n)}),m.pick(e,r,n)})),m.defaults=F(m.allKeys,!0),m.create=function(e,t){var n=_(e);return t&&m.extendOwn(n,t),n},m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,t){return t(e),e},m.isMatch=function(e,t){var n=m.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),a=0;a<r;a++){var o=n[a];if(t[o]!==i[o]||!(o in i))return!1}return!0},B=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&U(e,t,n,r)},U=function(e,t,n,r){e instanceof m&&(e=e._wrapped),t instanceof m&&(t=t._wrapped);var i=c.call(e);if(i!==c.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return u.valueOf.call(e)===u.valueOf.call(t)}var a="[object Array]"===i;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,s=t.constructor;if(o!==s&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var l=(n=n||[]).length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),a){if((l=e.length)!==t.length)return!1;for(;l--;)if(!B(e[l],t[l],n,r))return!1}else{var f,h=m.keys(e);if(l=h.length,m.keys(t).length!==l)return!1;for(;l--;)if(f=h[l],!S(t,f)||!B(e[f],t[f],n,r))return!1}return n.pop(),r.pop(),!0},m.isEqual=function(e,t){return B(e,t)},m.isEmpty=function(e){return null==e||(T(e)&&(m.isArray(e)||m.isString(e)||m.isArguments(e))?0===e.length:0===m.keys(e).length)},m.isElement=function(e){return!(!e||1!==e.nodeType)},m.isArray=h||function(e){return"[object Array]"===c.call(e)},m.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(e){m["is"+e]=function(t){return c.call(t)==="[object "+e+"]"}})),m.isArguments(arguments)||(m.isArguments=function(e){return S(e,"callee")});var H=r.document&&r.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof H&&(m.isFunction=function(e){return"function"==typeof e||!1}),m.isFinite=function(e){return!m.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&isNaN(e)},m.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===c.call(e)},m.isNull=function(e){return null===e},m.isUndefined=function(e){return void 0===e},m.has=function(e,t){if(!m.isArray(t))return S(e,t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(null==e||!f.call(e,i))return!1;e=e[i]}return!!n},m.noConflict=function(){return r._=i,this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=function(e){return m.isArray(e)?function(t){return k(t,e)}:w(e)},m.propertyOf=function(e){return null==e?function(){}:function(t){return m.isArray(t)?k(e,t):e[t]}},m.matcher=m.matches=function(e){return e=m.extendOwn({},e),function(t){return m.isMatch(t,e)}},m.times=function(e,t,n){var r=Array(Math.max(0,e));t=y(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},m.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var Z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},G=m.invert(Z),W=function(e){var t=function(t){return e[t]},n="(?:"+m.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};m.escape=W(Z),m.unescape=W(G),m.result=function(e,t,n){m.isArray(t)||(t=[t]);var r=t.length;if(!r)return m.isFunction(n)?n.call(e):n;for(var i=0;i<r;i++){var a=null==e?void 0:e[t[i]];void 0===a&&(a=n,i=r),e=m.isFunction(a)?a.call(e):a}return e};var V=0;m.uniqueId=function(e){var t=++V+"";return e?e+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,X={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(e){return"\\"+X[e]};m.template=function(e,t,n){!t&&n&&(t=n),t=m.defaults({},t,m.templateSettings);var r,i=RegExp([(t.escape||q).source,(t.interpolate||q).source,(t.evaluate||q).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(i,(function(t,n,r,i,u){return o+=e.slice(a,u).replace($,Y),a=u+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(o+="';\n"+i+"\n__p+='"),t})),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(t.variable||"obj","_",o)}catch(l){throw l.source=o,l}var u=function(e){return r.call(this,e,m)},s=t.variable||"obj";return u.source="function("+s+"){\n"+o+"}",u},m.chain=function(e){var t=m(e);return t._chain=!0,t};var K=function(e,t){return e._chain?m(t).chain():t};m.mixin=function(e){return m.each(m.functions(e),(function(t){var n=m[t]=e[t];m.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),K(this,n.apply(m,e))}})),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=a[e];m.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],K(this,n)}})),m.each(["concat","join","slice"],(function(e){var t=a[e];m.prototype[e]=function(){return K(this,t.apply(this._wrapped,arguments))}})),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)}}()},t(r={exports:{}},r.exports),r.exports);i._;function a(e,t){var n=0;return e.forEach((function(e,r){n+=(e-t[r])*(e-t[r])})),Math.round(Math.sqrt(n)*Math.pow(10,10))/Math.pow(10,10)}function o(e,t){var n=0;return e.forEach((function(e,r){n+=Math.abs(e-t[r])})),Math.round(n*Math.pow(10,10))/Math.pow(10,10)}Math.log(Math.sqrt(2*Math.PI)),Math.sqrt(2*Math.PI),Math.sqrt(2*Math.PI);var u=function(){function e(t){S(this,e),this.points=t.slice(0);var n=this.Arr=i.unzip(this.points),r=this.maxAI=n.map((function(e){return i.max(e)})),a=this.minAI=n.map((function(e){return i.min(e)})),o=this.rangeAI=n.map((function(e,t){return r[t]!=a[t]?r[t]-a[t]:1})),u=this.normalizedArr=n.map((function(e,t){return e.map((function(e){return(e-a[t])/o[t]}))}));this.normalizedPoints=i.zip.apply(i,u);for(var s=this.points.length,l=0;l<s;l++)this.normalizedPoints[l].data=this.points[l].data}return M(e,[{key:"scaleBackPoints",value:function(e){var t=this;return e.map((function(e){return t.scaleBackPoint(e)}))}},{key:"scaleBackPoint",value:function(e){var t=this,n=e,r=this.rangeAI.map((function(e,r){return e*n[r]+t.minAI[r]}));return r}}]),e}(),s=function(){function e(t,n,r,i){S(this,e),r=r||"l2",this.distance="l2"===r?a:o,this.points=t,this.radius=n,this.minDistance=Math.sqrt(t[0].length),this.maxNumberOfBins=i||1/0}return M(e,[{key:"leaders",get:function(){var e=this,t=this,n=[],r=this.points.find((function(t){if(!i(n,t,e.distance)){var r=[];if(r.val=t,n.push(r),n.length>e.maxNumberOfBins)return!0}}));return r||this.points.forEach((function(t){i(n,t,e.distance).push(t)})),n;function i(e,n,r){for(var i=e.length,a=t.minDistance,o=null,u=0;u<i;++u){var s=e[u],l=r(s.val,n);l<t.radius&&l<a&&(a=l,o=s)}return o}}}]),e}();function l(){var e,t,n=0,r=1,i=function(e){return e};return this.evenbin=function(t){var n,r={},a=[],o=t.length;for(n=0;n<o;++n)if(!(s=i.call(null,u=t[n],n,t)).some((function(e){return isNaN(e)}))){var u,s,l=s.map((function(t,n){return Math.round(s[n]=t/e)})),c=l.reduce((function(e,t){return e+"-"+t})),f=r[c];f?f.push(u):(a.push(f=r[c]=[u]),f.val=l.map((function(t){return t*e-(t>0)*e/2})))}return a},this.val=function(e){return arguments.length?(i=e,this):i},this.radius=function(n){return arguments.length?(e=t=+n,this):t},this.size=function(e){return arguments.length?(n=0,r=+e,this):r-n},this.radius(1)}!function(e){e.binnerN=function(){var t,n=40,r=!1,a=50,o=250,c=[],f=[],h=[],d=null,p=[],v=null,m=0,g=!0,y={reduce_coefficient:.9,reduce_offset:0,increase_coefficient:1,increase_offset:5},b=0,x=!1,_="l2",w=function(e){};return S("calculate",(function(){if(f=c.slice(0),h=f,!r){var i=new u(f);h=i.normalizedPoints,S("normalizedFun",i)}S("normalizedPoints",h),d=g?null:d;var x=-1;do{if(null===d?(d=n,g=!1):p.length>o?d=d*y.reduce_coefficient+y.reduce_offset:p.length<a&&(d=d*y.increase_coefficient+y.increase_offset),"evenbin"===t){var k=1/d;v=(new l).radius(k),p=v.evenbin(h),m=k}else t&&"leader"!==t||(v=new s(h,m=1/(2*d),_,o),p=v.leaders);if(b++,w(b,p.length),(p.length===x||x>1)&&b>1e3)break;x=p.length}while(p.length>o||p.length<a);var M=p.map((function(e){return e.val}));return S("binner",v),S("bins",p),S("binSize",d),S("binRadius",m),S("binnedSites",M),S("loopcount",b),e.binnerN})),S("callback",(function(t){return arguments.length?(w=t,e.binnerN):w})),S("binType",(function(n){return arguments.length?(t=n,e.binnerN):t})),S("distanceMethod",(function(t){return arguments.length?(_=t,e.binnerN):_})),S("calculatePoint",(function(t){if(f=c.slice(0).concat(t),c=f,h=f,!r){var l=new u(f);h=l.normalizedPoints,S("normalizedFun",l)}if(S("normalizedPoints",h),!x){var y=i.uniq(h.map((function(e){return e.join(",")}))),b=i.groupBy(h,(function(e){return e.join(",")}));y.length<a?(y.forEach((function(e){var t=b[e];t.val=t[0],t.binRadius=g?0:m,p.push(t)})),x=!1):x=!0}if(x)do{null===d?d=n:p.length>2*o?d*=.9:p.length<a&&(d+=5),v=new s(h,m=1/(2*d)),p=v.leaders}while(p.length>2*o||p.length<a);var _=p.map((function(e){return e.val}));return S("binner",v),S("bins",p),S("binSize",d),S("binRadius",m),S("binnedSites",_),e.binnerN})),S("coefficient",(function(t){if(arguments.length){for(var n in t)"undefined"!==typeof t[n]&&(y[n]=t[n]);return e.binnerN}return y})),S("startBinGridSize",(function(t){return arguments.length?(n=t,e.binnerN):n})),S("isNormalized",(function(t){return arguments.length?(r=t,e.binnerN):r})),S("minNumOfBins",(function(t){return arguments.length?(a=t,e.binnerN):a})),S("maxNumOfBins",(function(t){return arguments.length?(o=t,e.binnerN):o})),S("data",(function(t){return arguments.length?(c=t,x=!1,e.binnerN):c})),S("updateRadius",(function(t){return arguments.length&&t&&(d=null),arguments.length?(g=t,e.binnerN):g})),e.binnerN;function S(t,n){e.binnerN[t]=n}}}(window)}(),function(){var e="undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{};var t,r,i=(t=function(t,n){!function(){var r="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},i=r._,a=Array.prototype,o=Object.prototype,u="undefined"!==typeof Symbol?Symbol.prototype:null,s=a.push,l=a.slice,c=o.toString,f=o.hasOwnProperty,h=Array.isArray,d=Object.keys,p=Object.create,v=function(){},m=function e(t){return t instanceof e?t:this instanceof e?void(this._wrapped=t):new e(t)};n.nodeType?r._=m:(!t.nodeType&&t.exports&&(n=t.exports=m),n._=m),m.VERSION="1.9.1";var g,y=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)}}return function(){return e.apply(t,arguments)}},b=function(e,t,n){return m.iteratee!==g?m.iteratee(e,t):null==e?m.identity:m.isFunction(e)?y(e,t,n):m.isObject(e)&&!m.isArray(e)?m.matcher(e):m.property(e)};m.iteratee=g=function(e,t){return b(e,t,1/0)};var x=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var a=Array(t+1);for(i=0;i<t;i++)a[i]=arguments[i];return a[t]=r,e.apply(this,a)}},_=function(e){if(!m.isObject(e))return{};if(p)return p(e);v.prototype=e;var t=new v;return v.prototype=null,t},w=function(e){return function(t){return null==t?void 0:t[e]}},S=function(e,t){return null!=e&&f.call(e,t)},k=function(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0},M=Math.pow(2,53)-1,E=w("length"),T=function(e){var t=E(e);return"number"==typeof t&&t>=0&&t<=M};m.each=m.forEach=function(e,t,n){var r,i;if(t=y(t,n),T(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var a=m.keys(e);for(r=0,i=a.length;r<i;r++)t(e[a[r]],a[r],e)}return e},m.map=m.collect=function(e,t,n){t=b(t,n);for(var r=!T(e)&&m.keys(e),i=(r||e).length,a=Array(i),o=0;o<i;o++){var u=r?r[o]:o;a[o]=t(e[u],u,e)}return a};var A=function(e){var t=function(t,n,r,i){var a=!T(t)&&m.keys(t),o=(a||t).length,u=e>0?0:o-1;for(i||(r=t[a?a[u]:u],u+=e);u>=0&&u<o;u+=e){var s=a?a[u]:u;r=n(r,t[s],s,t)}return r};return function(e,n,r,i){var a=arguments.length>=3;return t(e,y(n,i,4),r,a)}};m.reduce=m.foldl=m.inject=A(1),m.reduceRight=m.foldr=A(-1),m.find=m.detect=function(e,t,n){var r=(T(e)?m.findIndex:m.findKey)(e,t,n);if(void 0!==r&&-1!==r)return e[r]},m.filter=m.select=function(e,t,n){var r=[];return t=b(t,n),m.each(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r},m.reject=function(e,t,n){return m.filter(e,m.negate(b(t)),n)},m.every=m.all=function(e,t,n){t=b(t,n);for(var r=!T(e)&&m.keys(e),i=(r||e).length,a=0;a<i;a++){var o=r?r[a]:a;if(!t(e[o],o,e))return!1}return!0},m.some=m.any=function(e,t,n){t=b(t,n);for(var r=!T(e)&&m.keys(e),i=(r||e).length,a=0;a<i;a++){var o=r?r[a]:a;if(t(e[o],o,e))return!0}return!1},m.contains=m.includes=m.include=function(e,t,n,r){return T(e)||(e=m.values(e)),("number"!=typeof n||r)&&(n=0),m.indexOf(e,t,n)>=0},m.invoke=x((function(e,t,n){var r,i;return m.isFunction(t)?i=t:m.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),m.map(e,(function(e){var a=i;if(!a){if(r&&r.length&&(e=k(e,r)),null==e)return;a=e[t]}return null==a?a:a.apply(e,n)}))})),m.pluck=function(e,t){return m.map(e,m.property(t))},m.where=function(e,t){return m.filter(e,m.matcher(t))},m.findWhere=function(e,t){return m.find(e,m.matcher(t))},m.max=function(e,t,n){var r,i,a=-1/0,o=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var u=0,s=(e=T(e)?e:m.values(e)).length;u<s;u++)null!=(r=e[u])&&r>a&&(a=r);else t=b(t,n),m.each(e,(function(e,n,r){((i=t(e,n,r))>o||i===-1/0&&a===-1/0)&&(a=e,o=i)}));return a},m.min=function(e,t,n){var r,i,a=1/0,o=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var u=0,s=(e=T(e)?e:m.values(e)).length;u<s;u++)null!=(r=e[u])&&r<a&&(a=r);else t=b(t,n),m.each(e,(function(e,n,r){((i=t(e,n,r))<o||i===1/0&&a===1/0)&&(a=e,o=i)}));return a},m.shuffle=function(e){return m.sample(e,1/0)},m.sample=function(e,t,n){if(null==t||n)return T(e)||(e=m.values(e)),e[m.random(e.length-1)];var r=T(e)?m.clone(e):m.values(e),i=E(r);t=Math.max(Math.min(t,i),0);for(var a=i-1,o=0;o<t;o++){var u=m.random(o,a),s=r[o];r[o]=r[u],r[u]=s}return r.slice(0,t)},m.sortBy=function(e,t,n){var r=0;return t=b(t,n),m.pluck(m.map(e,(function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}})).sort((function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index})),"value")};var C=function(e,t){return function(n,r,i){var a=t?[[],[]]:{};return r=b(r,i),m.each(n,(function(t,i){var o=r(t,i,n);e(a,t,o)})),a}};m.groupBy=C((function(e,t,n){S(e,n)?e[n].push(t):e[n]=[t]})),m.indexBy=C((function(e,t,n){e[n]=t})),m.countBy=C((function(e,t,n){S(e,n)?e[n]++:e[n]=1}));var R=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;m.toArray=function(e){return e?m.isArray(e)?l.call(e):m.isString(e)?e.match(R):T(e)?m.map(e,m.identity):m.values(e):[]},m.size=function(e){return null==e?0:T(e)?e.length:m.keys(e).length},m.partition=C((function(e,t,n){e[n?0:1].push(t)}),!0),m.first=m.head=m.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:m.initial(e,e.length-t)},m.initial=function(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},m.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:m.rest(e,Math.max(0,e.length-t))},m.rest=m.tail=m.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},m.compact=function(e){return m.filter(e,Boolean)};var P=function e(t,n,r,i){for(var a=(i=i||[]).length,o=0,u=E(t);o<u;o++){var s=t[o];if(T(s)&&(m.isArray(s)||m.isArguments(s)))if(n)for(var l=0,c=s.length;l<c;)i[a++]=s[l++];else e(s,n,r,i),a=i.length;else r||(i[a++]=s)}return i};m.flatten=function(e,t){return P(e,t,!1)},m.without=x((function(e,t){return m.difference(e,t)})),m.uniq=m.unique=function(e,t,n,r){m.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=b(n,r));for(var i=[],a=[],o=0,u=E(e);o<u;o++){var s=e[o],l=n?n(s,o,e):s;t&&!n?(o&&a===l||i.push(s),a=l):n?m.contains(a,l)||(a.push(l),i.push(s)):m.contains(i,s)||i.push(s)}return i},m.union=x((function(e){return m.uniq(P(e,!0,!0))})),m.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=E(e);r<i;r++){var a=e[r];if(!m.contains(t,a)){var o;for(o=1;o<n&&m.contains(arguments[o],a);o++);o===n&&t.push(a)}}return t},m.difference=x((function(e,t){return t=P(t,!0,!0),m.filter(e,(function(e){return!m.contains(t,e)}))})),m.unzip=function(e){for(var t=e&&m.max(e,E).length||0,n=Array(t),r=0;r<t;r++)n[r]=m.pluck(e,r);return n},m.zip=x(m.unzip),m.object=function(e,t){for(var n={},r=0,i=E(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};var L=function(e){return function(t,n,r){n=b(n,r);for(var i=E(t),a=e>0?0:i-1;a>=0&&a<i;a+=e)if(n(t[a],a,t))return a;return-1}};m.findIndex=L(1),m.findLastIndex=L(-1),m.sortedIndex=function(e,t,n,r){for(var i=(n=b(n,r,1))(t),a=0,o=E(e);a<o;){var u=Math.floor((a+o)/2);n(e[u])<i?a=u+1:o=u}return a};var O=function(e,t,n){return function(r,i,a){var o=0,u=E(r);if("number"==typeof a)e>0?o=a>=0?a:Math.max(a+u,o):u=a>=0?Math.min(a+1,u):a+u+1;else if(n&&a&&u)return r[a=n(r,i)]===i?a:-1;if(i!==i)return(a=t(l.call(r,o,u),m.isNaN))>=0?a+o:-1;for(a=e>0?o:u-1;a>=0&&a<u;a+=e)if(r[a]===i)return a;return-1}};m.indexOf=O(1,m.findIndex,m.sortedIndex),m.lastIndexOf=O(-1,m.findLastIndex),m.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),a=0;a<r;a++,e+=n)i[a]=e;return i},m.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(l.call(e,r,r+=t));return n};var I=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var a=_(e.prototype),o=e.apply(a,i);return m.isObject(o)?o:a};m.bind=x((function(e,t,n){if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");var r=x((function(i){return I(e,r,t,this,n.concat(i))}));return r})),m.partial=x((function(e,t){var n=m.partial.placeholder;return function r(){for(var i=0,a=t.length,o=Array(a),u=0;u<a;u++)o[u]=t[u]===n?arguments[i++]:t[u];for(;i<arguments.length;)o.push(arguments[i++]);return I(e,r,this,this,o)}})),m.partial.placeholder=m,m.bindAll=x((function(e,t){var n=(t=P(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=m.bind(e[r],e)}})),m.memoize=function(e,t){var n=function n(r){var i=n.cache,a=""+(t?t.apply(this,arguments):r);return S(i,a)||(i[a]=e.apply(this,arguments)),i[a]};return n.cache={},n},m.delay=x((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),m.defer=m.partial(m.delay,m,1),m.throttle=function(e,t,n){var r,i,a,o,u=0;n||(n={});var s=function(){u=!1===n.leading?0:m.now(),r=null,o=e.apply(i,a),r||(i=a=null)},l=function(){var l=m.now();u||!1!==n.leading||(u=l);var c=t-(l-u);return i=this,a=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),u=l,o=e.apply(i,a),r||(i=a=null)):r||!1===n.trailing||(r=setTimeout(s,c)),o};return l.cancel=function(){clearTimeout(r),u=0,r=i=a=null},l},m.debounce=function(e,t,n){var r,i,a=function(t,n){r=null,n&&(i=e.apply(t,n))},o=x((function(o){if(r&&clearTimeout(r),n){var u=!r;r=setTimeout(a,t),u&&(i=e.apply(this,o))}else r=m.delay(a,t,this,o);return i}));return o.cancel=function(){clearTimeout(r),r=null},o},m.wrap=function(e,t){return m.partial(t,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},m.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},m.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},m.once=m.partial(m.before,2),m.restArguments=x;var D=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],z=function(e,t){var n=N.length,r=e.constructor,i=m.isFunction(r)&&r.prototype||o,a="constructor";for(S(e,a)&&!m.contains(t,a)&&t.push(a);n--;)(a=N[n])in e&&e[a]!==i[a]&&!m.contains(t,a)&&t.push(a)};m.keys=function(e){if(!m.isObject(e))return[];if(d)return d(e);var t=[];for(var n in e)S(e,n)&&t.push(n);return D&&z(e,t),t},m.allKeys=function(e){if(!m.isObject(e))return[];var t=[];for(var n in e)t.push(n);return D&&z(e,t),t},m.values=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},m.mapObject=function(e,t,n){t=b(t,n);for(var r=m.keys(e),i=r.length,a={},o=0;o<i;o++){var u=r[o];a[u]=t(e[u],u,e)}return a},m.pairs=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},m.invert=function(e){for(var t={},n=m.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},m.functions=m.methods=function(e){var t=[];for(var n in e)m.isFunction(e[n])&&t.push(n);return t.sort()};var F=function(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var a=arguments[i],o=e(a),u=o.length,s=0;s<u;s++){var l=o[s];t&&void 0!==n[l]||(n[l]=a[l])}return n}};m.extend=F(m.allKeys),m.extendOwn=m.assign=F(m.keys),m.findKey=function(e,t,n){t=b(t,n);for(var r,i=m.keys(e),a=0,o=i.length;a<o;a++)if(t(e[r=i[a]],r,e))return r};var B,U,j=function(e,t,n){return t in n};m.pick=x((function(e,t){var n={},r=t[0];if(null==e)return n;m.isFunction(r)?(t.length>1&&(r=y(r,t[1])),t=m.allKeys(e)):(r=j,t=P(t,!1,!1),e=Object(e));for(var i=0,a=t.length;i<a;i++){var o=t[i],u=e[o];r(u,o,e)&&(n[o]=u)}return n})),m.omit=x((function(e,t){var n,r=t[0];return m.isFunction(r)?(r=m.negate(r),t.length>1&&(n=t[1])):(t=m.map(P(t,!1,!1),String),r=function(e,n){return!m.contains(t,n)}),m.pick(e,r,n)})),m.defaults=F(m.allKeys,!0),m.create=function(e,t){var n=_(e);return t&&m.extendOwn(n,t),n},m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,t){return t(e),e},m.isMatch=function(e,t){var n=m.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),a=0;a<r;a++){var o=n[a];if(t[o]!==i[o]||!(o in i))return!1}return!0},B=function(e,t,n,r){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&U(e,t,n,r)},U=function(e,t,n,r){e instanceof m&&(e=e._wrapped),t instanceof m&&(t=t._wrapped);var i=c.call(e);if(i!==c.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e===""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return u.valueOf.call(e)===u.valueOf.call(t)}var a="[object Array]"===i;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,s=t.constructor;if(o!==s&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var l=(n=n||[]).length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),a){if((l=e.length)!==t.length)return!1;for(;l--;)if(!B(e[l],t[l],n,r))return!1}else{var f,h=m.keys(e);if(l=h.length,m.keys(t).length!==l)return!1;for(;l--;)if(f=h[l],!S(t,f)||!B(e[f],t[f],n,r))return!1}return n.pop(),r.pop(),!0},m.isEqual=function(e,t){return B(e,t)},m.isEmpty=function(e){return null==e||(T(e)&&(m.isArray(e)||m.isString(e)||m.isArguments(e))?0===e.length:0===m.keys(e).length)},m.isElement=function(e){return!(!e||1!==e.nodeType)},m.isArray=h||function(e){return"[object Array]"===c.call(e)},m.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],(function(e){m["is"+e]=function(t){return c.call(t)==="[object "+e+"]"}})),m.isArguments(arguments)||(m.isArguments=function(e){return S(e,"callee")});var H=r.document&&r.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof H&&(m.isFunction=function(e){return"function"==typeof e||!1}),m.isFinite=function(e){return!m.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&isNaN(e)},m.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===c.call(e)},m.isNull=function(e){return null===e},m.isUndefined=function(e){return void 0===e},m.has=function(e,t){if(!m.isArray(t))return S(e,t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(null==e||!f.call(e,i))return!1;e=e[i]}return!!n},m.noConflict=function(){return r._=i,this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=function(e){return m.isArray(e)?function(t){return k(t,e)}:w(e)},m.propertyOf=function(e){return null==e?function(){}:function(t){return m.isArray(t)?k(e,t):e[t]}},m.matcher=m.matches=function(e){return e=m.extendOwn({},e),function(t){return m.isMatch(t,e)}},m.times=function(e,t,n){var r=Array(Math.max(0,e));t=y(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},m.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var Z={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},G=m.invert(Z),W=function(e){var t=function(t){return e[t]},n="(?:"+m.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};m.escape=W(Z),m.unescape=W(G),m.result=function(e,t,n){m.isArray(t)||(t=[t]);var r=t.length;if(!r)return m.isFunction(n)?n.call(e):n;for(var i=0;i<r;i++){var a=null==e?void 0:e[t[i]];void 0===a&&(a=n,i=r),e=m.isFunction(a)?a.call(e):a}return e};var V=0;m.uniqueId=function(e){var t=++V+"";return e?e+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,X={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},$=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(e){return"\\"+X[e]};m.template=function(e,t,n){!t&&n&&(t=n),t=m.defaults({},t,m.templateSettings);var r,i=RegExp([(t.escape||q).source,(t.interpolate||q).source,(t.evaluate||q).source].join("|")+"|$","g"),a=0,o="__p+='";e.replace(i,(function(t,n,r,i,u){return o+=e.slice(a,u).replace($,Y),a=u+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?o+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(o+="';\n"+i+"\n__p+='"),t})),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(t.variable||"obj","_",o)}catch(l){throw l.source=o,l}var u=function(e){return r.call(this,e,m)},s=t.variable||"obj";return u.source="function("+s+"){\n"+o+"}",u},m.chain=function(e){var t=m(e);return t._chain=!0,t};var K=function(e,t){return e._chain?m(t).chain():t};m.mixin=function(e){return m.each(m.functions(e),(function(t){var n=m[t]=e[t];m.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),K(this,n.apply(m,e))}})),m},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=a[e];m.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],K(this,n)}})),m.each(["concat","join","slice"],(function(e){var t=a[e];m.prototype[e]=function(){return K(this,t.apply(this._wrapped,arguments))}})),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return String(this._wrapped)}}()},t(r={exports:{}},r.exports),r.exports);i._;function a(t,n){e.kmeanCluster[t]=n}e.kmeanCluster={normalizedPoints:[],opt:s({isNormalized:!0},(function(e){return e})),inputdata:[],loopcount:0,callback:s((function(){}),(function(e){return e})),data:s([],(function(t){if(t[0]){var n=t[0].length;return t.map((function(e){return e.length==n})).reduce((function(e,t){return e&t}),!0)}return e.kmeanCluster.inputdata=[],e.kmeanCluster.normalizedPoints=[],!1}),(function(t){if(e.kmeanCluster.inputdata=t,e.kmeanCluster.normalizedPoints=t.slice(),!e.kmeanCluster.opt().isNormalized){var n=new o(t);e.kmeanCluster.normalizedPoints=n.normalizedPoints,a("normalizedFun",n)}return e.kmeanCluster.normalizedPoints})),calculate:function(){var t=u(this.normalizedPoints,{k:this.k(),iterations:this.iterations()},void 0,this.distanceMethod()),n=t.points,r=t.centroids;e.kmeanCluster.oldCentroid=[];var i=r.map((function(t){var r=n.filter((function(e){return e.label()==t.label()})).map((function(e){return e.location()}));return r.val=t.location(),e.kmeanCluster.oldCentroid.push(r.val.slice()),r}));a("bins",i),a("loopcount",e.kmeanCluster.loopcount)},calculatePoint:function(t){this.inputdata=this.inputdata.slice().concat(t),this.data(this.inputdata);var n=u(this.normalizedPoints,{k:this.k(),iterations:this.iterations()},void 0,this.distanceMethod()),r=n.points,i=n.centroids;e.kmeanCluster.oldCentroid=[];var o=i.map((function(t){var n=r.filter((function(e){return e.label()==t.label()})).map((function(e){return e.location()}));return n.val=t.location(),e.kmeanCluster.oldCentroid.push(n.val.slice()),n}));a("bins",o)},updateRadius:s(!0,void 0,(function(t){t&&(e.kmeanCluster.oldCentroid=void 0)})),k:s(void 0,(function(e){return e%1==0&e>0})),iterations:s(Math.pow(10,3),(function(e){return e%1==0&e>0})),distanceMethod:s("l2",(function(e){return e||"l2"}))};var o=function(){function e(t){S(this,e),this.points=t.slice(0);var n=this.Arr=i.unzip(this.points),r=this.maxAI=n.map((function(e){return i.max(e)})),a=this.minAI=n.map((function(e){return i.min(e)})),o=this.rangeAI=n.map((function(e,t){return r[t]!=a[t]?r[t]-a[t]:1})),u=this.normalizedArr=n.map((function(e,t){return e.map((function(e){return(e-a[t])/o[t]}))}));this.normalizedPoints=i.zip.apply(i,u);for(var s=this.points.length,l=0;l<s;l++)this.normalizedPoints[l].data=this.points[l].data}return M(e,[{key:"scaleBackPoints",value:function(e){var t=this;return e.map((function(e){return t.scaleBackPoint(e)}))}},{key:"scaleBackPoint",value:function(e){var t=this,n=e,r=this.rangeAI.map((function(e,r){return e*n[r]+t.minAI[r]}));return r}}]),e}();function u(t,n,r,i){var a="l2"===(i=i||"l2")?function(e,t){var n=e.map((function(e,n){return Math.pow(e-t[n],2)}));return n.reduce((function(e,t){return e+t}),0)}:function(e,t){var n=e.map((function(e,n){return Math.abs(e-t[n])}));return n.reduce((function(e,t){return e+t}),0)};console.log(i);var o,u=n.k||Math.round(Math.sqrt(t.length/2)),l=n.iterations,c=t.map((function(e){return new v(e)}));if(r)o=r.map((function(e,t){return new m(new v(e),t)}));else{o=[];for(var f=0;f<u;f++)o.push(new m(c[f%c.length].location(),f))}for(var h=0;h<l;h++){var d=c.map((function(e){return e.updateLabel(o)})),p=o.map((function(e){return e.updateLocation(c)}));if(e.kmeanCluster.loopcount=h+1,e.kmeanCluster.callback()(h+1),d.indexOf(!1)+p.indexOf(!1)===-2)break}return{points:c,centroids:o};function v(e){var t=this;this.location=s(e),this.label=s(),this.updateLabel=function(e){var n=e.map((function(e){return a(t.location(),e.location())})),r=function(e){var t=e.reduce((function(e,t){return Math.min(e,t)}));return e.indexOf(t)}(n),i=t.label()===r;return t.label(r),i}}function m(e,t){var n=this;this.location=s(e),this.label=s(t),this.updateLocation=function(e){var t=e.filter((function(e){return e.label()==n.label()})),r=!1;if(t.length>0){var i=function(e){var t=e[0].location().map((function(){return 0})),n=e.map((function(e){return e.location()})),r=n.reduce((function(e,t){return function(e,t){return e.map((function(e,n){return e+t[n]}))}(e,t)}),t);return r.map((function(t){return t/e.length}))}(t);r=_.isEqual(n.location(),i),n.location(i)}return r}}}function s(t,n,r){var i=t,a=n||function(e){return!0};return function(t){return"undefined"===typeof t?i:(a(t)&&(i=t,r&&r(t)),e.kmeanCluster)}}e.kmeanCluster}();var pie=function(e,t,n,r){if(e.outlier)return void(e.cluster="missing");t=t||e;var i=0,a=1/0;return n.find((function(e,n){var o=r(e.__metrics.normalize,t);return 0===o&&void 0===e.leadername&&(e.leadername={name:t.name,timestep:t.timestep}),a>o&&(i=n,a=o),!o})),n[i].arr.push(e),e.cluster=n[i].name,e.clusterIndex=i,n[i]};var vie=Kte,mie=Yte,gie=AQ("text",{fill:"$toolTipBackground"});var yie=["colorFunc","value"],bie={height:30,barHeight:10,style:{},range:[0,1],colorFunc:bZ().interpolator(QG).domain([0,1])};DJ({normalize:function(e){var t=e.colorFunc,n=(void 0===t&&bZ().interpolator(QG).domain([0,1]),e.value),r=h(e,yie);return{value:n.slice(),settings:l(l({},bie),r)}},sanitize:function(e,t,n){return Y0(e,t,n)},format:function(e,t){return e},component:function(){var e=xQ(),t=e.label,n=(e.value,e.displayValue,e.settings),i=(e.onUpdate,e.onChange,e.setSettings,n.height),a=void 0===i?30:i,o=n.barHeight,u=void 0===o?10:o,s=n.style,c=void 0===s?{}:s,f=n.scale,h=n.range,d=r.useMemo((function(){return(0,oX.uniqueId)()}),[]),p=r.useMemo((function(){var e=f.domain(),t=e[0]>e[1]?h.slice().reverse():h.slice(),n=f.copy().domain(t),r=DB().domain(t).range([0,100]);return{ticks:n.ticks(5).sort((function(e,t){return e-t})).map((function(e){return[e,r(e)]})),fills:n.ticks(20).sort((function(e,t){return e-t})).map((function(e){return[e,r(e)]})),cloneColor:n}}),[f,h]),v=p.ticks,m=p.fills,g=p.cloneColor;return(0,Zx.jsxs)(Zx.Fragment,{children:[(0,Zx.jsx)(mie,{children:(0,Zx.jsx)(vie,{children:t})}),(0,Zx.jsx)(mie,{children:(0,Zx.jsxs)("svg",{style:l({width:"100%",height:a},c),children:[(0,Zx.jsx)("defs",{children:(0,Zx.jsx)("linearGradient",{id:"linear-gradient"+d,children:m.map((function(e,t,n){return(0,Zx.jsx)("stop",{offset:"".concat(e[1],"%"),stopColor:g(e[0])},e[0])}))})}),(0,Zx.jsx)("rect",{width:"100%",height:u,style:{fill:"url(#".concat("linear-gradient"+d,")")}}),v.map((function(e,t,n){return(0,Zx.jsx)(gie,{x:"".concat(e[1],"%"),dy:"1rem",y:u,children:Math.abs(e)>999?hL(".2s")(e[0]):e[0]},e[0])}))]})})]})}});function xie(e){return e.substring(2).toLowerCase()}var _ie=function(e){var t=e.children,n=e.disableReactTree,i=void 0!==n&&n,a=e.mouseEvent,o=void 0===a?"onClick":a,u=e.onClickAway,s=e.touchEvent,l=void 0===s?"onTouchEnd":s,c=r.useRef(!1),f=r.useRef(null),h=r.useRef(!1),d=r.useRef(!1);r.useEffect((function(){return setTimeout((function(){h.current=!0}),0),function(){h.current=!1}}),[]);var p=(0,nee.Z)(t.ref,f),v=(0,Tre.Z)((function(e){var t=d.current;d.current=!1;var n=(0,iee.Z)(f.current);!h.current||!f.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,n)||(c.current?c.current=!1:(e.composedPath?e.composedPath().indexOf(f.current)>-1:!n.documentElement.contains(e.target)||f.current.contains(e.target))||!i&&t||u(e))})),m=function(e){return function(n){d.current=!0;var r=t.props[e];r&&r(n)}},g={ref:p};return!1!==l&&(g[l]=m(l)),r.useEffect((function(){if(!1!==l){var e=xie(l),t=(0,iee.Z)(f.current),n=function(){c.current=!0};return t.addEventListener(e,v),t.addEventListener("touchmove",n),function(){t.removeEventListener(e,v),t.removeEventListener("touchmove",n)}}}),[v,l]),!1!==o&&(g[o]=m(o)),r.useEffect((function(){if(!1!==o){var e=xie(o),t=(0,iee.Z)(f.current);return t.addEventListener(e,v),function(){t.removeEventListener(e,v)}}}),[v,o]),(0,Zx.jsx)(r.Fragment,{children:r.cloneElement(t,g)})};function wie(e){return(0,$8.Z)("MuiPaper",e)}(0,Y8.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var Sie=["className","component","elevation","square","variant"],kie=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},Mie=(0,V8.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,Jm.Z)({backgroundColor:t.palette.background.paper,color:t.palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:"1px solid ".concat(t.palette.divider)},"elevation"===n.variant&&(0,Jm.Z)({boxShadow:t.shadows[n.elevation]},"dark"===t.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,s7.Fq)("#fff",kie(n.elevation)),", ").concat((0,s7.Fq)("#fff",kie(n.elevation)),")")}))})),Eie=r.forwardRef((function(e,t){var n=(0,q8.Z)({props:e,name:"MuiPaper"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.elevation,u=void 0===o?1:o,s=n.square,l=void 0!==s&&s,c=n.variant,h=void 0===c?"elevation":c,d=(0,f.Z)(n,Sie),p=(0,Jm.Z)({},n,{component:a,elevation:u,square:l,variant:h}),v=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes,a={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return(0,W8.Z)(a,wie,i)}(p);return(0,Zx.jsx)(Mie,(0,Jm.Z)({as:a,ownerState:p,className:(0,U8.Z)(v.root,r),ref:t},d))})),Tie=Eie;function Aie(e){return(0,$8.Z)("MuiSnackbarContent",e)}(0,Y8.Z)("MuiSnackbarContent",["root","message","action"]);var Cie=["action","className","message","role"],Rie=(0,V8.ZP)(Tie,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:function(e,t){return t.root}})((function(e){var t=e.theme,n="light"===t.palette.mode?.8:.98,r=(0,s7._4)(t.palette.background.default,n);return(0,Jm.Z)({},t.typography.body2,(0,u.Z)({color:t.palette.getContrastText(r),backgroundColor:r,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:t.shape.borderRadius,flexGrow:1},t.breakpoints.up("sm"),{flexGrow:"initial",minWidth:288}))})),Pie=(0,V8.ZP)("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0"}),Lie=(0,V8.ZP)("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Oie=r.forwardRef((function(e,t){var n=(0,q8.Z)({props:e,name:"MuiSnackbarContent"}),r=n.action,i=n.className,a=n.message,o=n.role,u=void 0===o?"alert":o,s=(0,f.Z)(n,Cie),l=n,c=function(e){var t=e.classes;return(0,W8.Z)({root:["root"],action:["action"],message:["message"]},Aie,t)}(l);return(0,Zx.jsxs)(Rie,(0,Jm.Z)({role:u,square:!0,elevation:6,className:(0,U8.Z)(c.root,i),ownerState:l,ref:t},s,{children:[(0,Zx.jsx)(Pie,{className:c.message,ownerState:l,children:a}),r?(0,Zx.jsx)(Lie,{className:c.action,ownerState:l,children:r}):null]}))})),Iie=Oie;function Die(e){return(0,$8.Z)("MuiSnackbar",e)}(0,Y8.Z)("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);var Nie=["onEnter","onExited"],zie=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],Fie=(0,V8.ZP)("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["anchorOrigin".concat((0,J7.Z)(n.anchorOrigin.vertical)).concat((0,J7.Z)(n.anchorOrigin.horizontal))]]}})((function(e){var t=e.theme,n=e.ownerState,r=(0,Jm.Z)({},!n.isRtl&&{left:"50%",right:"auto",transform:"translateX(-50%)"},n.isRtl&&{right:"50%",left:"auto",transform:"translateX(50%)"});return(0,Jm.Z)({zIndex:t.zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},"top"===n.anchorOrigin.vertical?{top:8}:{bottom:8},"left"===n.anchorOrigin.horizontal&&{justifyContent:"flex-start"},"right"===n.anchorOrigin.horizontal&&{justifyContent:"flex-end"},(0,u.Z)({},t.breakpoints.up("sm"),(0,Jm.Z)({},"top"===n.anchorOrigin.vertical?{top:24}:{bottom:24},"center"===n.anchorOrigin.horizontal&&r,"left"===n.anchorOrigin.horizontal&&(0,Jm.Z)({},!n.isRtl&&{left:24,right:"auto"},n.isRtl&&{right:24,left:"auto"}),"right"===n.anchorOrigin.horizontal&&(0,Jm.Z)({},!n.isRtl&&{right:24,left:"auto"},n.isRtl&&{left:24,right:"auto"}))))})),Bie=r.forwardRef((function(e,t){var n=(0,q8.Z)({props:e,name:"MuiSnackbar"}),i=B9(),a={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},o=n.action,u=n.anchorOrigin,s=(u=void 0===u?{vertical:"bottom",horizontal:"left"}:u).vertical,l=u.horizontal,h=n.autoHideDuration,d=void 0===h?null:h,p=n.children,v=n.className,m=n.ClickAwayListenerProps,g=n.ContentProps,y=n.disableWindowBlurListener,b=void 0!==y&&y,x=n.message,_=n.onBlur,w=n.onClose,S=n.onFocus,k=n.onMouseEnter,M=n.onMouseLeave,E=n.open,T=n.resumeHideDuration,A=n.TransitionComponent,C=void 0===A?tee:A,R=n.transitionDuration,P=void 0===R?a:R,L=n.TransitionProps,O=(L=void 0===L?{}:L).onEnter,I=L.onExited,D=(0,f.Z)(n.TransitionProps,Nie),N=(0,f.Z)(n,zie),z="rtl"===i.direction,F=(0,Jm.Z)({},n,{anchorOrigin:{vertical:s,horizontal:l},isRtl:z}),B=function(e){var t=e.classes,n=e.anchorOrigin,r={root:["root","anchorOrigin".concat((0,J7.Z)(n.vertical)).concat((0,J7.Z)(n.horizontal))]};return(0,W8.Z)(r,Die,t)}(F),U=r.useRef(),j=r.useState(!0),H=(0,c.Z)(j,2),Z=H[0],G=H[1],W=(0,c7.Z)((function(){w&&w.apply(void 0,arguments)})),V=(0,c7.Z)((function(e){w&&null!=e&&(clearTimeout(U.current),U.current=setTimeout((function(){W(null,"timeout")}),e))}));r.useEffect((function(){return E&&V(d),function(){clearTimeout(U.current)}}),[E,d,V]);var q=function(){clearTimeout(U.current)},X=r.useCallback((function(){null!=d&&V(null!=T?T:.5*d)}),[d,T,V]);return r.useEffect((function(){if(!b&&E)return window.addEventListener("focus",X),window.addEventListener("blur",q),function(){window.removeEventListener("focus",X),window.removeEventListener("blur",q)}}),[b,X,E]),r.useEffect((function(){if(E)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||w&&w(e,"escapeKeyDown")}}),[Z,E,w]),!E&&Z?null:(0,Zx.jsx)(_ie,(0,Jm.Z)({onClickAway:function(e){w&&w(e,"clickaway")}},m,{children:(0,Zx.jsx)(Fie,(0,Jm.Z)({className:(0,U8.Z)(B.root,v),onBlur:function(e){_&&_(e),X()},onFocus:function(e){S&&S(e),q()},onMouseEnter:function(e){k&&k(e),q()},onMouseLeave:function(e){M&&M(e),X()},ownerState:F,ref:t,role:"presentation"},N,{children:(0,Zx.jsx)(C,(0,Jm.Z)({appear:!0,in:E,timeout:P,direction:"top"===s?"down":"up",onEnter:function(e,t){G(!1),O&&O(e,t)},onExited:function(e){G(!0),I&&I(e)}},D,{children:p||(0,Zx.jsx)(Iie,(0,Jm.Z)({message:x,action:o},g))}))}))}))})),Uie=Bie;function jie(e){return(0,$8.Z)("MuiAlert",e)}var Hie=(0,Y8.Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);function Zie(e){return(0,$8.Z)("MuiIconButton",e)}var Gie,Wie=(0,Y8.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Vie=["edge","children","className","color","disabled","disableFocusRipple","size"],qie=(0,V8.ZP)(K7,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat((0,J7.Z)(n.color))],n.edge&&t["edge".concat((0,J7.Z)(n.edge))],t["size".concat((0,J7.Z)(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,Jm.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:t.palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:(0,s7.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t=e.theme,n=e.ownerState;return(0,Jm.Z)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,Jm.Z)({color:t.palette[n.color].main},!n.disableRipple&&{"&:hover":{backgroundColor:(0,s7.Fq)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},(0,u.Z)({},"&.".concat(Wie.disabled),{backgroundColor:"transparent",color:t.palette.action.disabled}))})),Xie=r.forwardRef((function(e,t){var n=(0,q8.Z)({props:e,name:"MuiIconButton"}),r=n.edge,i=void 0!==r&&r,a=n.children,o=n.className,u=n.color,s=void 0===u?"default":u,l=n.disabled,c=void 0!==l&&l,h=n.disableFocusRipple,d=void 0!==h&&h,p=n.size,v=void 0===p?"medium":p,m=(0,f.Z)(n,Vie),g=(0,Jm.Z)({},n,{edge:i,color:s,disabled:c,disableFocusRipple:d,size:v}),y=function(e){var t=e.classes,n=e.disabled,r=e.color,i=e.edge,a=e.size,o={root:["root",n&&"disabled","default"!==r&&"color".concat((0,J7.Z)(r)),i&&"edge".concat((0,J7.Z)(i)),"size".concat((0,J7.Z)(a))]};return(0,W8.Z)(o,Zie,t)}(g);return(0,Zx.jsx)(qie,(0,Jm.Z)({className:(0,U8.Z)(y.root,o),centerRipple:!0,focusRipple:!d,disabled:c,ref:t,ownerState:g},m,{children:a}))})),$ie=Xie,Yie=n(9201),Kie=(0,Yie.Z)((0,Zx.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),Jie=(0,Yie.Z)((0,Zx.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),Qie=(0,Yie.Z)((0,Zx.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),eae=(0,Yie.Z)((0,Zx.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),tae=(0,Yie.Z)((0,Zx.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),nae=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],rae=(0,V8.ZP)(Tie,{name:"MuiAlert",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,J7.Z)(n.color||n.severity))]]}})((function(e){var t=e.theme,n=e.ownerState,r="light"===t.palette.mode?s7._j:s7.$n,i="light"===t.palette.mode?s7.$n:s7._j,a=n.color||n.severity;return(0,Jm.Z)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},a&&"standard"===n.variant&&(0,u.Z)({color:r(t.palette[a].light,.6),backgroundColor:i(t.palette[a].light,.9)},"& .".concat(Hie.icon),{color:"dark"===t.palette.mode?t.palette[a].main:t.palette[a].light}),a&&"outlined"===n.variant&&(0,u.Z)({color:r(t.palette[a].light,.6),border:"1px solid ".concat(t.palette[a].light)},"& .".concat(Hie.icon),{color:"dark"===t.palette.mode?t.palette[a].main:t.palette[a].light}),a&&"filled"===n.variant&&{color:"#fff",fontWeight:t.typography.fontWeightMedium,backgroundColor:"dark"===t.palette.mode?t.palette[a].dark:t.palette[a].main})})),iae=(0,V8.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:function(e,t){return t.icon}})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),aae=(0,V8.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:function(e,t){return t.message}})({padding:"8px 0"}),oae=(0,V8.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:function(e,t){return t.action}})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),uae={success:(0,Zx.jsx)(Kie,{fontSize:"inherit"}),warning:(0,Zx.jsx)(Jie,{fontSize:"inherit"}),error:(0,Zx.jsx)(Qie,{fontSize:"inherit"}),info:(0,Zx.jsx)(eae,{fontSize:"inherit"})},sae=r.forwardRef((function(e,t){var n=(0,q8.Z)({props:e,name:"MuiAlert"}),r=n.action,i=n.children,a=n.className,o=n.closeText,u=void 0===o?"Close":o,s=n.color,l=n.icon,c=n.iconMapping,h=void 0===c?uae:c,d=n.onClose,p=n.role,v=void 0===p?"alert":p,m=n.severity,g=void 0===m?"success":m,y=n.variant,b=void 0===y?"standard":y,x=(0,f.Z)(n,nae),_=(0,Jm.Z)({},n,{color:s,severity:g,variant:b}),w=function(e){var t=e.variant,n=e.color,r=e.severity,i=e.classes,a={root:["root","".concat(t).concat((0,J7.Z)(n||r)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return(0,W8.Z)(a,jie,i)}(_);return(0,Zx.jsxs)(rae,(0,Jm.Z)({role:v,elevation:0,ownerState:_,className:(0,U8.Z)(w.root,a),ref:t},x,{children:[!1!==l?(0,Zx.jsx)(iae,{ownerState:_,className:w.icon,children:l||h[g]||uae[g]}):null,(0,Zx.jsx)(aae,{ownerState:_,className:w.message,children:i}),null!=r?(0,Zx.jsx)(oae,{className:w.action,children:r}):null,null==r&&d?(0,Zx.jsx)(oae,{ownerState:_,className:w.action,children:(0,Zx.jsx)($ie,{size:"small","aria-label":u,title:u,color:"inherit",onClick:d,children:Gie||(Gie=(0,Zx.jsx)(tae,{fontSize:"small"}))})}):null]}))})),lae=sae,cae=function(e){E(n,e);var t=P(n);function n(){var e;S(this,n);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(e=t.call.apply(t,[this].concat(i))).rScale=DB().range([0,50]),e.innerKey="minval",e.outterKey="maxval",e.radarLine=XW().curve(YV.tension(.7)).radius((function(t){return t.value<0||void 0===t.value?0:e.rScale(t.value)})).angle((function(e){return e.angle})),e.radarMeanLine=XW().curve(YV.tension(.7)).radius((function(t){return t.mean<0||void 0===t.mean?0:e.rScale(t.mean)})).angle((function(e){return e.angle})),e.radialAreaGenerator=$W().curve(YV.tension(.8)).angle((function(e,t){return e.angle})).innerRadius((function(t,n){return t[e.innerKey]<0||void 0===t[e.innerKey]?0:e.rScale(t[e.innerKey])})).outerRadius((function(t,n){return t[e.outterKey]<0||void 0===t[e.outterKey]?0:e.rScale(t[e.outterKey])})),e}return M(n,[{key:"getColor",value:function(e,t){return uX().isArray(this.props[e])?this.props[e][t]:this.props[e]}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.margin,i=void 0===r?{l:0,b:0,t:0,r:0}:r,a=n.width,o=void 0===a?100:a,u=n.height,s=void 0===u?100:u,l=n.data,c=void 0===l?[]:l,f=(n.fill,n.stroke),h=void 0===f?"black":f,d=n.fillOpacity,p=void 0===d?.8:d,v=n.strokeWidth,m=void 0===v?.5:v,g=n.rings,y=void 0===g?5:g,b=n.area,x=void 0!==b&&b,_=n.mean,w=void 0!==_&&_,S=n.compact,k=void 0!==S&&S,M=n.meanColor,E=void 0===M?"black":M,T=n.showAxis,A=void 0!==T&&T,C=n.onMouseOver,R=void 0===C?function(){}:C,P=i.l,L=void 0===P?0:P,O=i.r,I=void 0===O?0:O,D=i.b,N=void 0===D?0:D,z=i.t,F=void 0===z?0:z,B=Math.min(o-L-I,s-F-N)/2;this.rScale.range([0,B]);var U=Uw(0,y).map((function(e){return t.rScale(e/y)})),j=null!==(e=c[0])&&void 0!==e?e:[],H=x?this.radialAreaGenerator:this.radarLine;return(0,Zx.jsxs)("svg",{width:o,height:s,viewBox:"".concat(-o/2," ").concat(-s/2," ").concat(o," ").concat(s),onMouseOver:function(){R(c)},onMouseLeave:function(){R()},children:[(0,Zx.jsx)("defs",{children:(0,Zx.jsxs)("filter",{id:"glow",children:[(0,Zx.jsx)("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),(0,Zx.jsxs)("feMerge",{children:[(0,Zx.jsx)("feMergeNode",{in:"coloredBlur"}),(0,Zx.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})}),k?"":(0,Zx.jsx)("circle",{r:B,fill:"#ddd"}),!k&&U.map((function(e){return(0,Zx.jsx)("circle",{r:e,fill:"rgba(205, 205, 205,0.1)",filter:"#glow",strokeWidth:.15,stroke:"black"},e)})),!k&&j.map((function(e){return(0,Zx.jsx)("line",{y1:-B,stroke:"white",strokeWidth:1,transform:"rotate(".concat(180*e.angle/Math.PI,")")},e.axis)})),c.map((function(e,n){var r,i,a;return(0,Zx.jsxs)("g",{children:[(0,Zx.jsx)("path",{d:null!==(i=H(e))&&void 0!==i?i:"",fill:t.getColor("fill",n),fillOpacity:p,stroke:"match"!==h?t.getColor("stroke",n):t.getColor("fill",n),strokeWidth:m},"".concat(null!==(r=e.id)&&void 0!==r?r:e.name,"_").concat(n)),w?(0,Zx.jsx)("path",{d:null!==(a=t.radarMeanLine(e))&&void 0!==a?a:"",fill:"none",strokeDasharray:"2 1",stroke:E}):""]})})),A&&c[0]&&(0,Zx.jsx)("g",{className:"axis",children:c[0].map((function(e,n){var r;return(0,Zx.jsx)("text",{textAnchor:e.angle>-1e-4&&e.angle<1e-4||e.angle>Math.PI-1e-4&&e.angle<Math.PI+1e-4?"middle":e.angle<Math.PI?"start":"end",transform:fae(e.angle,(null!==(r=t.rScale(1))&&void 0!==r?r:0)+10).toString(),children:e.axis},"".concat(e.axis,"_").concat(n))}))})]})}}]),n}(r.Component);function fae(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i={x:0,y:0,toString:function(){return""}};return i.x=Math.round(Math.cos(e-Math.PI/2)*t+n),i.y=Math.round(Math.sin(e-Math.PI/2)*t+r),i.toString=function(){return"translate(".concat(i.x,",").concat(i.y,")")},i}function hae(e){var t=e.onChange,n=e.onLoad,i=e.onError,a=(0,r.useState)({"April 17-18 2022":"./data/nocona_24h.json","Jieoyao use case":"./data/nocona-jieoyao.json","Real-time":"realtime"}),o=(0,c.Z)(a,2),u=o[0],s=(o[1],(0,r.useState)("")),l=(0,c.Z)(s,2),f=l[0],h=l[1],d=V4("Dataset",(function(){return{currentDataset:{value:"./data/nocona_24h.json",options:u,onChange:function(e){if("realtime"===e){n("Query realtime data");var r=new Date,a=function(e){var t=e._start,n=e._end,r=e.interval,i=e.value,a=e.compress,o=Gj("%Y-%m-%dT%H:%M:%S-05:00");return o(t),o(n),r=r||"5m",i=i||"max",a=a||!1,"http://hugo.hpcc.ttu.edu:5002/metrics_builder"}({_start:new Date(r-96e5),_end:r,interval:"1m",value:"max",compress:!1});yP(a).then((function(r){i({level:"success",message:"Successfully load"}),n("Process data");var a=JSON.parse(r.replaceAll("NaN","null"));t(a),h(e)})).catch((function(e){i({level:"error",message:"Couldn't load realtime data"}),n(!1),v({currentDataset:f})}))}else f!==e&&(n("Load history data"),MP(e).then((function(n){t(n),h(e)})).catch((function(e){i({level:"error",message:"Couldn't load data"}),n(!1),v({currentDataset:f})})))},label:"Current"}}}),[u,f]),p=(0,c.Z)(d,2),v=(p[0].currentDataset,p[1]);return""}var dae=r.createContext({toggleColorMode:function(){}}),pae=bZ().interpolator(QG).domain([0,1]),vae=xB(["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#bcbd22","#17becf","#aec7e8","#ffbb78","#98df8a","#ff9896","#c5b0d5","#c49c94","#f7b6d2","#dbdb8d","#9edae5"]),mae=(bZ(NG).domain([1,-.25]),vae);var gae=function(){var e,t,n=(0,r.useState)({data:{},users:{},time_stamp:[],timerange:[new Date,new Date]}),i=(0,c.Z)(n,2),a=i[0],s=i[1],f=(0,r.useState)({min:0,max:0,value:[0,0]}),h=(0,c.Z)(f,2),d=h[0],p=h[1],v=(0,r.useState)([]),m=(0,c.Z)(v,2),g=m[0],y=m[1],b=(0,r.useState)(_re),x=(0,c.Z)(b,2),_=x[0],w=x[1],S=(0,r.useState)([]),k=(0,c.Z)(S,2),M=k[0],E=k[1],T=(0,r.useState)([]),A=(0,c.Z)(T,2),C=A[0],R=A[1],P=(0,r.useState)([]),L=(0,c.Z)(P,2),O=L[0],I=L[1],D=(0,r.useState)([]),N=(0,c.Z)(D,2),z=N[0],F=N[1],B=(0,r.useState)([]),U=(0,c.Z)(B,2),j=U[0],H=(U[1],(0,r.useState)()),Z=(0,c.Z)(H,2),G=Z[0],W=Z[1],V=(0,r.useState)("Load data"),q=(0,c.Z)(V,2),X=q[0],$=q[1],Y=r.useState("dark"),K=(0,c.Z)(Y,2),J=K[0],Q=K[1],ee=r.useState(void 0),te=(0,c.Z)(ee,2),ne=te[0],re=te[1],ie=r.useState({cluster:[],outlyingBins:[],clusterDescription:[],colorCluster:xB(),clusterInfo:{}}),ae=(0,c.Z)(ie,2),oe=ae[0],ue=ae[1],se=(0,r.useCallback)((function(e){var t=Ie(e),n=t.scheme,r=t.draw3DData,i=t.drawUserData,a=t.dimensions,o=t.layout,u=t.sankeyData;y(a),s(n),E(u),ze(r,n),R(r),F(i),w(o),$(!1);var l=[+n.time_stamp[0],+n.time_stamp[n.time_stamp.length-1]];p({min:l[0],max:l[1],value:l,arr:n.time_stamp.slice()})}),[]),le=(0,r.useMemo)((function(){var e=g.reduce((function(e,t){return l(l({},e),{},(0,u.Z)({},t.text,t.index))}),{});return e}),[g]),ce=(0,r.useMemo)((function(){var e={"":void 0};return Object.keys(a.users).forEach((function(t){return e[t]=t})),e}),[a.users]),fe=V4("Setting",(function(){return{selectedUser:{label:"User",value:void 0,options:ce}}}),[ce]),he=(0,c.Z)(fe,2),de=he[0].selectedUser,pe=(he[1],V4("Setting",(function(){return{selectedSer:{options:le,label:"View 1",value:0,onChange:function(e){ze(C,a,e),R((0,o.Z)(C)),O.forEach((function(e){return e.possArr=(0,o.Z)(e.possArr)})),I((0,o.Z)(O))},transient:!1},selectedSer2:{options:g.reduce((function(e,t){return l(l({},e),{},(0,u.Z)({},t.text,t.index))}),{}),label:"View 2",value:0}}}),[g,C,O,a])),ve=(0,c.Z)(pe,2),me=ve[0],ge=me.selectedSer,ye=me.selectedSer2,be=(ve[1],V4("Setting",(function(){return{metricRangeMinMax:{value:!1,label:"Min-Max scale",onChange:function(e){e?g.forEach((function(e){e.range=[e.min,e.max],e.scale.domain(e.range)})):g.forEach((function(e){e.range=e.possibleUnit.range.slice(),e.scale.domain(e.range)})),a.computers&&(Object.keys(a.computers).forEach((function(e){a.time_stamp.forEach((function(t,n){g.forEach((function(t,r){var i,o;a.tsnedata[e][n][r]=null!==(i=g[r].scale(null!==(o=a.computers[e][t.text][n])&&void 0!==o?o:void 0))&&void 0!==i?i:null}))}))})),"cluster"===ge?(console.log("selectedSer changed"),Pe(a,g,(function(e){var t=e.clusterInfo,n=e.scheme;"cluster"===ge&&(s(n),ze(C,n,void 0,t),R((0,o.Z)(C)),O.forEach((function(e){return e.possArr=(0,o.Z)(e.possArr)})),I((0,o.Z)(O)))}))):(ze(C,a),R((0,o.Z)(C)),O.forEach((function(e){return e.possArr=(0,o.Z)(e.possArr)})),I((0,o.Z)(O)))),y(g)},transient:!1}}}),[g,a.computers])),xe=(0,c.Z)(be,2),_e=xe[0].metricRangeMinMax,we=(xe[1],(0,r.useMemo)((function(){var e,t,n,r;return g[ge]?{metricFilter:{value:(null!==(e=g[ge])&&void 0!==e?e:{range:[0,1]}).range[0],label:"Filter",min:(null!==(t=g[ge])&&void 0!==t?t:{range:[0,1]}).range[0],max:(null!==(n=g[ge])&&void 0!==n?n:{range:[0,1]}).range[1],step:.1},suddenThreshold:{value:0,min:0,max:(null!==(r=g[ge])&&void 0!==r?r:{max:1}).max,step:.1,label:"Sudden Change"}}:{}}),[g,ge,_e])),Se=V4("Setting",(function(){return we}),[g,ge,_e]),ke=(0,c.Z)(Se,2),Me=ke[0],Ee=ke[1];(0,r.useEffect)((function(){g[ge]&&Ee({metricFilter:g[ge].range[0]})}),[ge,_e]);var Te=V4("DatasetCluster",{clusterMethod:{label:"Method",value:"leaderbin",options:["leaderbin","kmean"]},normMethod:{value:"l2",options:["l1","l2"]},bin:h4({startBinGridSize:{value:10,render:function(){return!1}},range:{value:[8,9],min:1,step:1,max:20}},{label:"parameter",render:function(e){return"leaderbin"===e("DatasetCluster.clusterMethod")}}),kmean:h4({k:{value:8,step:1,min:2},iterations:{value:10,min:1,step:1}},{label:"parameter",render:function(e){return"kmean"===e("DatasetCluster.clusterMethod")}}),iqr:{min:1.5,max:4,step:.1,value:1.5}},{label:"Dataset Cluster",collapsed:!0}),Ae=V4("DatasetCluster",(function(){return{Apply:p4((function(e){console.log("clicked apply"),Pe(a,g,(function(e){var t=e.clusterInfo,n=e.scheme;"cluster"===ge&&(s(n),ze(C,n,void 0,t),R((0,o.Z)(C)),O.forEach((function(e){return e.possArr=(0,o.Z)(e.possArr)})),I((0,o.Z)(O)))}))}))}}),[a.tsnedata,g,Te,ge,C]),Ce=((0,c.Z)(Ae,1)[0],V4("DatasetCluster",{Clusters:nne({value:0,label:oe.clusterInfo&&(0,Zx.jsxs)(Zx.Fragment,{children:[" DatasetCluster inputdata: ",oe.clusterInfo.input," (",hL(",.1%")(oe.clusterInfo.input/oe.clusterInfo.total),")",(0,Zx.jsx)("br",{}),"Cluster calculation time: ",Math.round(null!==(e=oe.clusterInfo.clusterCalTime)&&void 0!==e?e:0)," ms ",(0,Zx.jsx)("br",{}),"Total MSE: ",hL(".2f")(null!==(t=oe.clusterInfo.totalMSE)&&void 0!==t?t:0)]}),com:(0,Zx.jsxs)("div",{style:{width:"100%",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:[oe&&oe.cluster.map((function(e,t){return(0,Zx.jsxs)("div",{style:{display:"inline-block"},children:[(0,Zx.jsxs)("div",{style:{position:"relative"},onMouseLeave:function(){return re(void 0)},onMouseEnter:function(){var t={};e.arr.forEach((function(e){t[e.key]||(t[e.key]={}),t[e.key][e.timestep]=!0})),re(t)},children:[(0,Zx.jsx)(cae,{width:100,height:100,data:[e.__metrics],area:!0,mean:!0,meanColor:"rgba(0,0,0,0.52)",fill:oe.colorCluster?oe.colorCluster(e.name):"#fff",stroke:"match"}),(0,Zx.jsx)("div",{style:{position:"absolute",top:0,left:0},children:(0,Zx.jsx)(cae,{width:100,height:100,data:[e.__metrics],compact:!0,fill:"none",stroke:"black",strokeWidth:2})}),(0,Zx.jsxs)("p",{style:{position:"absolute",top:10,left:0,width:"100%",textAlign:"center",color:"black",fontSize:12},children:[e.arr.length,(0,Zx.jsx)("br",{}),t?"":" temporal instances"]})]})," "]},e.labels)})),oe&&oe.cluster?(0,Zx.jsxs)("div",{style:{backgroundColor:"rgba(255,255,255,0.12)",padding:5,borderRadius:10,border:"1px dashed gray",width:"100%"},children:[(0,Zx.jsx)("span",{children:"Other color for cluster:"}),(0,Zx.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:3},children:[(0,Zx.jsx)("div",{style:{marginRight:5,width:20,height:20,borderRadius:10,backgroundColor:oe.colorCluster?oe.colorCluster("outlier"):"#fff"}})," Outlier"]}),(0,Zx.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:3},children:[(0,Zx.jsx)("div",{style:{marginRight:5,width:20,height:20,borderRadius:10,backgroundColor:oe.colorCluster?oe.colorCluster("missing"):"#fff"}})," Missing dimension data"]}),(0,Zx.jsxs)("div",{style:{display:"flex",alignItems:"center",padding:3},children:[(0,Zx.jsx)("div",{style:{marginRight:5,width:20,height:20,borderRadius:10,backgroundColor:"white"}})," Multiple Clusters"]})]}):""]})}),Outliers:nne({label:oe.outlyingBins&&(0,Zx.jsxs)(Zx.Fragment,{children:["Outliers: ",oe.outlyingBins.pointObject?Object.keys(oe.outlyingBins.pointObject).length:0," temporal instances"]}),value:0,com:(0,Zx.jsx)("div",{style:{width:"100%",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},children:oe.outlyingBins&&oe.outlyingBins.map((function(e,t){return(0,Zx.jsxs)("div",{style:{display:"inline-block"},children:[(0,Zx.jsxs)("div",{style:{position:"relative"},children:[(0,Zx.jsx)(cae,{width:100,height:100,data:e.arr.map((function(e){return oe.outlyingBins.pointObject[e.key]})),fill:"none",stroke:oe.colorCluster?oe.colorCluster("outlier"):"#fff"}),(0,Zx.jsxs)("p",{style:{position:"absolute",top:10,left:0,width:"100%",textAlign:"center",color:"black",fontSize:12},children:[e.arr.length,(0,Zx.jsx)("br",{}),yae(Object.keys(e.compObject))]})]})," "]},e.labels)}))})}),"Missing Dimension":nne({label:oe.outlyingBins&&(0,Zx.jsxs)(Zx.Fragment,{children:["Missing Dimension: ",oe.outlyingBins.missingData?Object.keys(oe.outlyingBins.missingData).length:0," temporal instances"]}),value:0,com:(0,Zx.jsx)("div",{style:{width:"100%",display:"flex",flexWrap:"wrap",justifyContent:"space-between"}})})},[oe,a,C])),Re=r.useMemo((function(){return{toggleColorMode:function(){Q((function(e){return"light"===e?"dark":"light"}))}}}),[]),Pe=(0,r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};$("Calculate cluster"),setTimeout((function(){var r=oX.flatten(Object.values(e.tsnedata),1);console.log("iqr",Te.iqr);var i=cie({data:r,dimensions:t,outlyingCoefficient:Te.iqr});console.log(r.filter((function(e){return!e.outlier})).length);var a=die({data:r,dimensions:t,binopt:Te}),o=a.cluster,u=a.clusterDescription,s=a.colorCluster,l=a.clusterInfo,c={cluster:o,outlyingBins:i,clusterDescription:u,colorCluster:s,clusterInfo:l};console.log(l),ue(c),n({clusterInfo:c,scheme:e}),$(!1)}),1)}),[a.tsnedata,g,Te,Ce.iqr]),Le=r.useMemo((function(){return(0,one.Z)({palette:{mode:J}})}),[J]),Oe=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null!==(t=n.scheme)&&void 0!==t?t:a,i=r.computers,o=r.jobs,u=r.time_stamp;return"core"===e?Ne({computers:i,jobs:o,timespan:u}):De({computers:i,jobs:o,timespan:u})},Ie=(0,r.useCallback)((function(e){e.time_stamp[0]>1e18?e.time_stamp=e.time_stamp.map((function(e){return new Date(e/1e6)})):e.time_stamp[0]<9999999999&&(e.time_stamp=e.time_stamp.map((function(e){return new Date(1e3*e)})));var t=N_(e.time_stamp),n=Object.entries(e.nodes_info),r={};n.forEach((function(e){Object.keys(e[1]).forEach((function(t){r[t]||(r[t]=void 0!==e[1][t].find((function(e){return oX.isNumber(e)}))?"number":"other")}))}));var i=Object.keys(r).filter((function(e){return"number"===r[e]})),a=i.map((function(e,t){return{text:e,index:t,range:[1/0,-1/0],scale:DB(),order:t,angle:t/i.length*2*Math.PI,enable:!0}})),o={},u=void 0;n.forEach((function(t){var n;e.nodes_info[t[0]].job_id&&(u=null!==(n=u)&&void 0!==n?n:{},e.nodes_info[t[0]].job_id.forEach((function(e){e.forEach((function(e){return u[e]=!0}))})));o[t[0]]={job_id:[],key:t[0],user:[],drawData:[]},i.forEach((function(n,r){var i,u,s=t[0];t[1][n]=null!==(i=t[1][n])&&void 0!==i?i:e.time_stamp.map((function(){return null})),o[s][n]=null!==(u=t[1][n])&&void 0!==u?u:[],o[s][n].sudden=[];var l=+o[s][n][0];o[s][n].forEach((function(e,t){""===e&&(o[s][n][t]=null,e=null),null!==e&&(e<a[r].range[0]&&(a[r].range[0]=e),e>a[r].range[1]&&(a[r].range[1]=e)),o[s][n].sudden[t]=+e-l,l=+e}))}))})),a.forEach((function(e){var t=function(e,t){return e.match(/temp/i)?{type:"temp",unit:"C",range:q4(t)}:e.match(/power|consump/i)?{type:"power",unit:"W",range:$4(t)}:e.match(/usage|\%|percen/i)?{type:"percent",unit:"%",range:Y4(t)}:e.match(/fan/i)?{type:"fan",unit:"rpm",range:X4(t)}:{type:null,unit:null,range:t}}(e.text,e.range);e.min=e.range[0],e.max=e.range[1],e.possibleUnit=t,e.range=_e?[e.min,e.max]:t.range.slice(),e.scale.domain(e.range)}));var s={};Object.keys(e.jobs_info).forEach((function(t){var n,r,i,a;if(!u||u[t]){e.jobs_info[t].finish_time=null!==(n=e.jobs_info[t].finish_time)&&void 0!==n?n:e.jobs_info[t].end_time;var o=e.jobs_info[t].user_name,c=null!==(r=e.jobs_info[t].job_name)&&void 0!==r?r:e.jobs_info[t].name,f=bae(e.jobs_info[t].start_time),h=bae(e.jobs_info[t].finish_time),d=null!==(i=e.jobs_info[t].node_list)&&void 0!==i?i:e.jobs_info[t].nodes,p=null!==(a=e.jobs_info[t].cpus)&&void 0!==a?a:e.jobs_info[t].cpu_cores,v=p/d.length,m={};d.forEach((function(e){return m[e]=v})),d.length&&(s[t]={job_id:t,user_name:o,job_name:c,node_list:d,node_list_obj:m,_node_list:d.slice(),_node_list_obj:l({},m),cpus:p,cpu_cores:v,summary:[],start_time:f,finish_time:h})}else delete e.jobs_info[t]}));var c=function(e,t){var n=e.computers,r=e.jobs,i={},a={};Object.keys(n).forEach((function(e){a[e]=t.map((function(){return{}}));var r=n[e];r.user=[],r.jobName=t.map((function(){return[]})),r.job_id=t.map((function(){return[]})),r.users=t.map((function(){return[]})),r.cpus=t.map((function(){return{}})),i[e]=t.map((function(){return{}}))})),Object.entries(r).forEach((function(e){var r={key:e[0],value:e[1]};r.value.start_Index=t.findIndex((function(e){return e>r.value.start_time})),r.value.start_Index>0?r.value.start_Index--:-1===r.value.start_Index&&(r.value.start_Index=t.length-1),r.value.finish_Index=r.value.finish_time?t.findIndex((function(e){return e>r.value.finish_time})):-1,r.value.finish_Index>0?r.value.finish_Index--:-1===r.value.finish_Index&&(r.value.finish_Index=t.length-1),r.value.node_list.forEach((function(e){if(n[e])for(var t=r.value.start_Index;t<=r.value.finish_Index;t++)a[e][t][r.key]||(n[e].job_id[t].push(r.key),a[e][t][r.key]=!1),n[e].cpus[t][r.key]=r.value.node_list_obj[e],i[e][t][r.value.user_name]||(i[e][t][r.value.user_name]=!0,n[e].users[t].push(r.value.user_name))}))}));var o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=$_(Object.entries(e),(function(e){return e[1].user_name}),(function(e){return e[0].split(".")[0].trim()})),i={};return r.forEach((function(e,r){var a=e[0],o=[],u=0,s=0,l=0,c=oX.uniq(oX.flattenDeep(e[1].map((function(e){return e[1].map((function(e){o.push(e[0]);var n=e[1].cpus*(e[1].finish_Index-e[1].start_Index+1);return u+=n,e[1].finish_Index===e[1].start_Index&&e[1].node_list.forEach((function(n){1===t[n].users[e[1].start_Index].length?l+=e[1].node_list_obj[n]:s+=e[1].node_list_obj[n]})),e[1].node_list}))}))));u/=n,l/=n,s/=n,i[a]={node:c,job:o,totalCore:u,totalCore_notShare:l,totalCore_share:s}})),i}(r,n,t.length);return Object.keys(o).forEach((function(e,t){o[e].node.forEach((function(t){return n[t]?n[t].user.push(e):""}))})),{users:o}}({computers:o,jobs:s},e.time_stamp),f=c.users;!function(e,t,n,r){var i="compute utilization";n.push(i);var a=t.length,o={text:i,index:a,range:[1/0,-1/0],scale:DB(),order:a,possibleUnit:{type:null,unit:null,range:[0,100]},enable:!0};function u(e){return $w(Object.values(e))/128*100}t.push(o),t.forEach((function(e,n){e.angle=n/t.length*2*Math.PI})),Object.keys(e).forEach((function(t){e[t][i]=[],e[t][i].sudden=[],e[t][i][0]=u(e[t].cpus[0]);var n=e[t][i][0];e[t].cpus.forEach((function(r,a){var s=u(null!==r&&void 0!==r?r:{});e[t][i][a]=s,null!==r&&(s<o.range[0]&&(o.range[0]=s),s>o.range[1]&&(o.range[1]=s)),e[t][i].sudden[a]=+s-n,n=+s}))})),o.min=o.range[0],o.max=o.range[1],o.range=r?[o.min,o.max]:[0,100],o.scale.domain(o.range)}(o,a,i,_e);var h={};Object.keys(o).forEach((function(t){h[t]=e.time_stamp.map((function(e,n){var r=i.map((function(e,r){var i,u;return null!==(i=a[r].scale(null!==(u=o[t][e][n])&&void 0!==u?u:void 0))&&void 0!==i?i:null}));return r.key=t,r.timestep=n,r.name=t,r}))}));var d=function(e,t,n){var r=[],i={},a={};for(var o in t)i[o]={key:o,values:n.map((function(e){return null})),range:[1/0,-1/0],data:t[o],arr:[]},r.push(i[o]);var u=function(r){var o={};a[r]=[],e[r].job_id.forEach((function(e,u){e.length?e.forEach((function(e){if(!o[e]){var a=i[e];a.values[u]||(a.values[u]=[],a.values[u].total=0);var s,l={key:r,type:"compute",value:1},c={key:t[e].user_name,type:"user",value:1},f=a.values[u];if(null!==f&&f.length)f.push(l),f.total=(null!==(s=f.total)&&void 0!==s?s:0)+t[e].node_list_obj[r],a.arr.push({time:n[u],value:[{key:e,type:"job",value:1},c]}),a.arr.push({time:n[u],value:[l,{key:e,type:"job",value:1}]}),t[e].job_array_id&&(a.arr.push({time:n[u],value:[l,{key:t[e].job_array_id,type:"job",value:1}]}),a.arr.push({time:n[u],value:[{key:t[e].job_array_id,type:"job",value:1},c]}));o[e]=!0}})):a[r][u]=1}))};for(var s in e)u(s);return{data:r,noJobMap:a}}(o,s,e.time_stamp),p=(d.data,d.noJobMap),v=function(e){var t,n,r,i,a,o=null!==(t=e.tsnedata)&&void 0!==t?t:{},u=null!==(n=e.computers)&&void 0!==n?n:{},s=null!==(r=e.jobs)&&void 0!==r?r:{},l=null!==(i=e.users)&&void 0!==i?i:{},c={},f={},h={},d={},p={},v={},m={},g={},y=null!==(a=e.timespan)&&void 0!==a?a:[];Object.keys(s).forEach((function(e){c[e]=s[e],d[e]=[],h[e]=[],m[e]=[],c[e].isJobarray?c[e].comp={}:(f[s[e].user_name]=l[s[e].user_name],p[s[e].user_name]=[],v[s[e].user_name]=[],g[s[e].user_name]=[])}));var b=[],x=function(e){var t={key:e,values:[],range:[1/0,-1/0],data:u[e]},n={};u[e].job_id.forEach((function(r,i){var a=r.map((function(e){return c[e]})).filter((function(t){if(t){if(!d[t.job_id][i]){var n=[];n.name="",n.timestep=0,d[t.job_id][i]=n}var r=o[e];if(r&&d[t.job_id][i].push(r[i]),!v[t.user_name][i]){var a=[];a.name="",a.timestep=0,a.cpus=0,v[t.user_name][i]=a}if(r&&v[t.user_name][i].push(r[i]),t.job_array_id){if(!d[t.job_array_id][i]){var u=[];u.name="",u.timestep=0,d[t.job_array_id][i]=u}c[t.job_array_id].comp[i]||(c[t.job_array_id].comp[i]={}),c[t.job_array_id].comp[i][e]||(c[t.job_array_id].comp[i][e]=1,d[t.job_array_id][i].push(o[e][i]))}return!0}return!1})),u=a.map((function(e){return e.job_id})).toString();if(n[u]?a=[]:n[u]=!0,a.length){var s=$_(a,(function(e){return e.job_id})).map((function(t){return{key:t[0],value:$w(t[1],(function(t){return t.node_list_obj[e]}))}}));s.sort((function(e,t){return m_(e.key,t.key)})),t.values.push(s)}else t.values.push(null);t[""+y[i]]=t.values[i]})),b.push(t)};for(var _ in u)x(_);return Object.keys(d).forEach((function(e){d[e].forEach((function(t,n){var r=d[e][n][0].timestep,i=[],a=[],o=d[e][n][0].map((function(t,r){var o=d[e][n].map((function(e){return e[r]}));i.push(Sw(o)),a.push(ww(o));var s=0,l=0;return d[e][n].forEach((function(t){if(void 0!==t[r]){var i=u[t.name].cpus[n][e];s+=t[r]*i,l+=i}})),l?s/l:void 0}));o.name=e,i.name=e,a.name=e,o.timestep=r,i.timestep=r,a.timestep=r,m[e][n]=[i,a],h[e][n]=o}))})),Object.keys(v).forEach((function(e){v[e].forEach((function(t,n){var r=v[e][n][0].timestep,i=[],a=[],o=v[e][n][0].map((function(t,r){var o=v[e][n].map((function(e){return e[r]}));return i.push(Sw(o)),a.push(ww(o)),Pw(o)}));o.name=e,i.name=e,a.name=e,o.timestep=r,i.timestep=r,a.timestep=r,g[e][n]=[i,a],p[e][n]=o}))})),b.sort((function(e,t){return+e.range[0]-t.range[0]})),{jobTimeline:b,jobarrdata:h,userarrdata:p,_userarrdata:v,minMaxDataCompJob:m,minMaxDataUser:g}}({tsnedata:h,computers:o,jobs:s,users:f,timespan:e.time_stamp}),m=(v.jobTimeline,v.jobarrdata),g=v.userarrdata,y=v._userarrdata,b=(v.minMaxDataCompJob,v.minMaxDataUser,{}),x=[.6,.15,.1],w=.25,S=.5,k=x[0]+w,M=x[1]+w,E=0;Object.keys(_).forEach((function(e,t){var n=w+k*_[e][0].length,r=w+(x[1]+w)*_[e].length;_[e].position=[E,r,0],E+=n+S,_[e].size=[n,r],_[e].positions=[],_[e].forEach((function(t,n){t.forEach((function(t,r){if(t){var i={text:t,position:[w+r*k+_[e].position[0]+x[0]/2,-(w+n*M+x[1]/2)+_[e].position[1],0+_[e].position[2]]};_[e].positions.push(i),b[t]=i}}))}))}));var T=[];T.links=[],console.log("#links ",T.links.length);var A=tU().domain(N_(T,(function(e){return e.links.length}))).range([.5,1]);T.forEach((function(e){return e.scale=A(e.links.length)}));var C={data:e,users:f,computers:o,jobs:s,tsnedata:h,time_stamp:e.time_stamp,timerange:t};C.emptyMap=p,C.jobArr=m,C.userArr=g,C._userarrdata=y;var R=Oe("compute_num",{scheme:C});return console.log(a),{scheme:C,draw3DData:[{key:"all",possArr:[],position:[0,0,0]}],drawUserData:T,dimensions:a,layout:_,sankeyData:R}}),[_]);function De(e){var t=e.computers,n=e.jobs,r=e.timespan,i=[],a=function(e){var a={key:e,data:t[e]};t[e].job_id.forEach((function(e,t){if(e.length){var i=e.map((function(e){return n[e]})),o=$_(i,(function(e){return e.user_name})).map((function(e){return{key:e[0],value:1}}));o.total=$w(o,(function(e){return e.value})),o.jobs=[e,i],a[""+r[t]]=o.sort((function(e,t){return m_(e.key,t.key)}))}else a[""+r[t]]=null})),i.push(a)};for(var o in t)a(o);return i}function Ne(e){var t=e.computers,n=e.jobs,r=e.timespan,i=[],a=function(e){var a={key:e,data:t[e]};t[e].job_id.forEach((function(t,i){if(t.length){var o=t.map((function(e){return n[e]})),u=$_(o,(function(e){return e.user_name})).map((function(t){return{key:t[0],value:$w(t[1],(function(t){var n;return null!==(n=t.node_list_obj[e])&&void 0!==n?n:0}))}}));u.total=$w(u,(function(e){return e.value})),u.jobs=[t,o],a[""+r[i]]=u.sort((function(e,t){return m_(e.key,t.key)}))}else a[""+r[i]]=null})),i.push(a)};for(var o in t)a(o);return i}var ze=(0,r.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ge,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:oe;"cluster"!==n?e.forEach((function(e){e.possArr.forEach((function(e,r){e.color=null!==t.tsnedata[e.data.key][e.data.timestep][n]?pae(t.tsnedata[e.data.key][e.data.timestep][n]):void 0}))})):e.forEach((function(e){e.possArr.forEach((function(e,n){var i=t.tsnedata[e.data.key][e.data.timestep].cluster;e.color=r.colorCluster(i)}))}));try{Ee({minMax:g[ge]?"Min: ".concat(g[ge].min," Max: ").concat(g[ge].max):"Min:_ Max:_"})}catch(i){}}),[g,a,C,ge,oe]),Fe=(0,r.useCallback)((function(e){return""}),[g,ge,oe]);return(0,Zx.jsx)(dae.Provider,{value:Re,children:(0,Zx.jsxs)(xre,{theme:Le,children:[(0,Zx.jsx)(mre,{}),(0,Zx.jsx)(hae,{onChange:se.bind(this),onLoad:function(e){return $(e)},onError:function(e){return W(e)}}),(0,Zx.jsx)("div",{style:{height:"100vh",width:"100wh",overflow:"hidden"},children:(0,Zx.jsx)(ane,{layout:_,time_stamp:a.time_stamp,data:O,users:z,line3D:j,selectedSer:ge,selectedSer2:ye,getKey:function(e){return e.data.key+" "+e.data.timestep},sankeyData:M,color:mae,colorByName:vae,colorCluster:oe.colorCluster,colorBy:"name",getMetric:Fe,metrics:a.tsnedata,theme:Le,dimensions:g,selectedTime:d.arr,config:Me,selectedComputeMap:ne,setSelectedComputeMap:function(e){return re(e)},selectedUser:de,scheme:a})}),(0,Zx.jsx)(o7,{container:!0,style:{position:"absolute",top:0,left:0},children:(0,Zx.jsx)(lie,{maxWidth:"lg",children:(0,Zx.jsxs)(o7,{container:!0,children:[(0,Zx.jsx)(o7,{item:!0,xs:12,children:(0,Zx.jsxs)("h3",{children:["Nocona ",(0,Zx.jsxs)(dne,{variant:"subtitle1",style:{display:"inline-block"},children:["from ",a.timerange[0].toLocaleString()," to ",a.timerange[1].toLocaleString()]})]})}),(0,Zx.jsx)(o7,{item:!0,xs:6,container:!0,spacing:1,children:(0,Zx.jsx)(o7,{item:!0,xs:12,children:(0,Zx.jsxs)(_ne,{fullWidth:!0,children:[(0,Zx.jsx)(Dne,{children:"Filter Time"}),(0,Zx.jsx)(iie,{min:d.min,max:d.max,value:d.value,size:"small",onChange:function(e,t){return p(l(l({},d),{},{value:t,arr:a.time_stamp.filter((function(e){return+e>=t[0]&&+e<=t[1]}))}))}})]})})}),(0,Zx.jsx)(o7,{item:!0,xs:2,children:de&&(0,Zx.jsxs)(Zx.Fragment,{children:["#Jobs: ",a.users[de].job.length," #Nodes: ",a.users[de].node.length]})})]})})}),(0,Zx.jsxs)(qne,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:!!X,children:[(0,Zx.jsx)("h1",{children:X}),(0,Zx.jsx)(fre,{color:"inherit"})]}),(0,Zx.jsx)(Uie,{anchorOrigin:{vertical:"top",horizontal:"right"},open:!!G,autoHideDuration:4e3,onClose:function(){return W(void 0)},children:(0,Zx.jsx)(lae,{severity:G&&G.level,sx:{width:"100%"},children:G&&G.message})})]})})};function yae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e.length>t?e.slice(0,t).join(",")+", +".concat(e.length-t," more"):e.join(",")}function bae(e){return e>1e18?e/1e6:e<9999999999?1e3*e:e}var xae=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))},_ae=document.getElementById("root");a.createRoot(_ae).render((0,Zx.jsx)(gae,{})),xae()}()}();
//# sourceMappingURL=main.668c2075.js.map